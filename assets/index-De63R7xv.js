var em=Object.defineProperty;var op=ar=>{throw TypeError(ar)};var tm=(ar,or,lr)=>or in ar?em(ar,or,{enumerable:!0,configurable:!0,writable:!0,value:lr}):ar[or]=lr;var Mo=(ar,or,lr)=>tm(ar,typeof or!="symbol"?or+"":or,lr),Uf=(ar,or,lr)=>or.has(ar)||op("Cannot "+lr);var qr=(ar,or,lr)=>(Uf(ar,or,"read from private field"),lr?lr.call(ar):or.get(ar)),ci=(ar,or,lr)=>or.has(ar)?op("Cannot add the same private member more than once"):or instanceof WeakSet?or.add(ar):or.set(ar,lr),di=(ar,or,lr,Ar)=>(Uf(ar,or,"write to private field"),Ar?Ar.call(ar,lr):or.set(ar,lr),lr),ei=(ar,or,lr)=>(Uf(ar,or,"access private method"),lr);var Ku=(ar,or,lr,Ar)=>({set _(cr){di(ar,or,cr,lr)},get _(){return qr(ar,or,Ar)}});(function(){const or=document.createElement("link").relList;if(or&&or.supports&&or.supports("modulepreload"))return;for(const cr of document.querySelectorAll('link[rel="modulepreload"]'))Ar(cr);new MutationObserver(cr=>{for(const ur of cr)if(ur.type==="childList")for(const dr of ur.addedNodes)dr.tagName==="LINK"&&dr.rel==="modulepreload"&&Ar(dr)}).observe(document,{childList:!0,subtree:!0});function lr(cr){const ur={};return cr.integrity&&(ur.integrity=cr.integrity),cr.referrerPolicy&&(ur.referrerPolicy=cr.referrerPolicy),cr.crossOrigin==="use-credentials"?ur.credentials="include":cr.crossOrigin==="anonymous"?ur.credentials="omit":ur.credentials="same-origin",ur}function Ar(cr){if(cr.ep)return;cr.ep=!0;const ur=lr(cr);fetch(cr.href,ur)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(ar){const or=Object.create(null);for(const lr of ar.split(","))or[lr]=1;return lr=>lr in or}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=ar=>ar.charCodeAt(0)===111&&ar.charCodeAt(1)===110&&(ar.charCodeAt(2)>122||ar.charCodeAt(2)<97),isModelListener=ar=>ar.startsWith("onUpdate:"),extend$1=Object.assign,remove=(ar,or)=>{const lr=ar.indexOf(or);lr>-1&&ar.splice(lr,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(ar,or)=>hasOwnProperty$1.call(ar,or),isArray$1=Array.isArray,isMap=ar=>toTypeString(ar)==="[object Map]",isSet=ar=>toTypeString(ar)==="[object Set]",isDate$1=ar=>toTypeString(ar)==="[object Date]",isRegExp$1=ar=>toTypeString(ar)==="[object RegExp]",isFunction$1=ar=>typeof ar=="function",isString=ar=>typeof ar=="string",isSymbol=ar=>typeof ar=="symbol",isObject=ar=>ar!==null&&typeof ar=="object",isPromise=ar=>(isObject(ar)||isFunction$1(ar))&&isFunction$1(ar.then)&&isFunction$1(ar.catch),objectToString=Object.prototype.toString,toTypeString=ar=>objectToString.call(ar),toRawType=ar=>toTypeString(ar).slice(8,-1),isPlainObject$2=ar=>toTypeString(ar)==="[object Object]",isIntegerKey=ar=>isString(ar)&&ar!=="NaN"&&ar[0]!=="-"&&""+parseInt(ar,10)===ar,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=ar=>{const or=Object.create(null);return lr=>or[lr]||(or[lr]=ar(lr))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(ar=>ar.replace(camelizeRE,(or,lr)=>lr?lr.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(ar=>ar.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(ar=>ar.charAt(0).toUpperCase()+ar.slice(1)),toHandlerKey=cacheStringFunction(ar=>ar?`on${capitalize(ar)}`:""),hasChanged=(ar,or)=>!Object.is(ar,or),invokeArrayFns=(ar,...or)=>{for(let lr=0;lr<ar.length;lr++)ar[lr](...or)},def=(ar,or,lr,Ar=!1)=>{Object.defineProperty(ar,or,{configurable:!0,enumerable:!1,writable:Ar,value:lr})},looseToNumber=ar=>{const or=parseFloat(ar);return isNaN(or)?ar:or},toNumber=ar=>{const or=isString(ar)?Number(ar):NaN;return isNaN(or)?ar:or};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),GLOBALS_ALLOWED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",isGloballyAllowed=makeMap(GLOBALS_ALLOWED);function normalizeStyle(ar){if(isArray$1(ar)){const or={};for(let lr=0;lr<ar.length;lr++){const Ar=ar[lr],cr=isString(Ar)?parseStringStyle(Ar):normalizeStyle(Ar);if(cr)for(const ur in cr)or[ur]=cr[ur]}return or}else if(isString(ar)||isObject(ar))return ar}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(ar){const or={};return ar.replace(styleCommentRE,"").split(listDelimiterRE).forEach(lr=>{if(lr){const Ar=lr.split(propertyDelimiterRE);Ar.length>1&&(or[Ar[0].trim()]=Ar[1].trim())}}),or}function normalizeClass(ar){let or="";if(isString(ar))or=ar;else if(isArray$1(ar))for(let lr=0;lr<ar.length;lr++){const Ar=normalizeClass(ar[lr]);Ar&&(or+=Ar+" ")}else if(isObject(ar))for(const lr in ar)ar[lr]&&(or+=lr+" ");return or.trim()}function normalizeProps(ar){if(!ar)return null;let{class:or,style:lr}=ar;return or&&!isString(or)&&(ar.class=normalizeClass(or)),lr&&(ar.style=normalizeStyle(lr)),ar}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(ar){return!!ar||ar===""}function looseCompareArrays(ar,or){if(ar.length!==or.length)return!1;let lr=!0;for(let Ar=0;lr&&Ar<ar.length;Ar++)lr=looseEqual(ar[Ar],or[Ar]);return lr}function looseEqual(ar,or){if(ar===or)return!0;let lr=isDate$1(ar),Ar=isDate$1(or);if(lr||Ar)return lr&&Ar?ar.getTime()===or.getTime():!1;if(lr=isSymbol(ar),Ar=isSymbol(or),lr||Ar)return ar===or;if(lr=isArray$1(ar),Ar=isArray$1(or),lr||Ar)return lr&&Ar?looseCompareArrays(ar,or):!1;if(lr=isObject(ar),Ar=isObject(or),lr||Ar){if(!lr||!Ar)return!1;const cr=Object.keys(ar).length,ur=Object.keys(or).length;if(cr!==ur)return!1;for(const dr in ar){const hr=ar.hasOwnProperty(dr),fr=or.hasOwnProperty(dr);if(hr&&!fr||!hr&&fr||!looseEqual(ar[dr],or[dr]))return!1}}return String(ar)===String(or)}function looseIndexOf(ar,or){return ar.findIndex(lr=>looseEqual(lr,or))}const isRef$1=ar=>!!(ar&&ar.__v_isRef===!0),toDisplayString=ar=>isString(ar)?ar:ar==null?"":isArray$1(ar)||isObject(ar)&&(ar.toString===objectToString||!isFunction$1(ar.toString))?isRef$1(ar)?toDisplayString(ar.value):JSON.stringify(ar,replacer,2):String(ar),replacer=(ar,or)=>isRef$1(or)?replacer(ar,or.value):isMap(or)?{[`Map(${or.size})`]:[...or.entries()].reduce((lr,[Ar,cr],ur)=>(lr[stringifySymbol(Ar,ur)+" =>"]=cr,lr),{})}:isSet(or)?{[`Set(${or.size})`]:[...or.values()].map(lr=>stringifySymbol(lr))}:isSymbol(or)?stringifySymbol(or):isObject(or)&&!isArray$1(or)&&!isPlainObject$2(or)?String(or):or,stringifySymbol=(ar,or="")=>{var lr;return isSymbol(ar)?`Symbol(${(lr=ar.description)!=null?lr:or})`:ar};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(or=!1){this.detached=or,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!or&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let or,lr;if(this.scopes)for(or=0,lr=this.scopes.length;or<lr;or++)this.scopes[or].pause();for(or=0,lr=this.effects.length;or<lr;or++)this.effects[or].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let or,lr;if(this.scopes)for(or=0,lr=this.scopes.length;or<lr;or++)this.scopes[or].resume();for(or=0,lr=this.effects.length;or<lr;or++)this.effects[or].resume()}}run(or){if(this._active){const lr=activeEffectScope;try{return activeEffectScope=this,or()}finally{activeEffectScope=lr}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(or){if(this._active){this._active=!1;let lr,Ar;for(lr=0,Ar=this.effects.length;lr<Ar;lr++)this.effects[lr].stop();for(this.effects.length=0,lr=0,Ar=this.cleanups.length;lr<Ar;lr++)this.cleanups[lr]();if(this.cleanups.length=0,this.scopes){for(lr=0,Ar=this.scopes.length;lr<Ar;lr++)this.scopes[lr].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!or){const cr=this.parent.scopes.pop();cr&&cr!==this&&(this.parent.scopes[this.index]=cr,cr.index=this.index)}this.parent=void 0}}}function effectScope(ar){return new EffectScope(ar)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(ar,or=!1){activeEffectScope&&activeEffectScope.cleanups.push(ar)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(or){this.fn=or,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const or=activeSub,lr=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=or,shouldTrack=lr,this.flags&=-3}}stop(){if(this.flags&1){for(let or=this.deps;or;or=or.nextDep)removeSub(or);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(ar,or=!1){if(ar.flags|=8,or){ar.next=batchedComputed,batchedComputed=ar;return}ar.next=batchedSub,batchedSub=ar}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let or=batchedComputed;for(batchedComputed=void 0;or;){const lr=or.next;or.next=void 0,or.flags&=-9,or=lr}}let ar;for(;batchedSub;){let or=batchedSub;for(batchedSub=void 0;or;){const lr=or.next;if(or.next=void 0,or.flags&=-9,or.flags&1)try{or.trigger()}catch(Ar){ar||(ar=Ar)}or=lr}}if(ar)throw ar}function prepareDeps(ar){for(let or=ar.deps;or;or=or.nextDep)or.version=-1,or.prevActiveLink=or.dep.activeLink,or.dep.activeLink=or}function cleanupDeps(ar){let or,lr=ar.depsTail,Ar=lr;for(;Ar;){const cr=Ar.prevDep;Ar.version===-1?(Ar===lr&&(lr=cr),removeSub(Ar),removeDep(Ar)):or=Ar,Ar.dep.activeLink=Ar.prevActiveLink,Ar.prevActiveLink=void 0,Ar=cr}ar.deps=or,ar.depsTail=lr}function isDirty(ar){for(let or=ar.deps;or;or=or.nextDep)if(or.dep.version!==or.version||or.dep.computed&&(refreshComputed(or.dep.computed)||or.dep.version!==or.version))return!0;return!!ar._dirty}function refreshComputed(ar){if(ar.flags&4&&!(ar.flags&16)||(ar.flags&=-17,ar.globalVersion===globalVersion)||(ar.globalVersion=globalVersion,!ar.isSSR&&ar.flags&128&&(!ar.deps&&!ar._dirty||!isDirty(ar))))return;ar.flags|=2;const or=ar.dep,lr=activeSub,Ar=shouldTrack;activeSub=ar,shouldTrack=!0;try{prepareDeps(ar);const cr=ar.fn(ar._value);(or.version===0||hasChanged(cr,ar._value))&&(ar.flags|=128,ar._value=cr,or.version++)}catch(cr){throw or.version++,cr}finally{activeSub=lr,shouldTrack=Ar,cleanupDeps(ar),ar.flags&=-3}}function removeSub(ar,or=!1){const{dep:lr,prevSub:Ar,nextSub:cr}=ar;if(Ar&&(Ar.nextSub=cr,ar.prevSub=void 0),cr&&(cr.prevSub=Ar,ar.nextSub=void 0),lr.subs===ar&&(lr.subs=Ar,!Ar&&lr.computed)){lr.computed.flags&=-5;for(let ur=lr.computed.deps;ur;ur=ur.nextDep)removeSub(ur,!0)}!or&&!--lr.sc&&lr.map&&lr.map.delete(lr.key)}function removeDep(ar){const{prevDep:or,nextDep:lr}=ar;or&&(or.nextDep=lr,ar.prevDep=void 0),lr&&(lr.prevDep=or,ar.nextDep=void 0)}function effect(ar,or){ar.effect instanceof ReactiveEffect&&(ar=ar.effect.fn);const lr=new ReactiveEffect(ar);or&&extend$1(lr,or);try{lr.run()}catch(cr){throw lr.stop(),cr}const Ar=lr.run.bind(lr);return Ar.effect=lr,Ar}function stop(ar){ar.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const ar=trackStack.pop();shouldTrack=ar===void 0?!0:ar}function cleanupEffect(ar){const{cleanup:or}=ar;if(ar.cleanup=void 0,or){const lr=activeSub;activeSub=void 0;try{or()}finally{activeSub=lr}}}let globalVersion=0,Link$1=class{constructor(or,lr){this.sub=or,this.dep=lr,this.version=lr.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Dep{constructor(or){this.computed=or,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(or){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let lr=this.activeLink;if(lr===void 0||lr.sub!==activeSub)lr=this.activeLink=new Link$1(activeSub,this),activeSub.deps?(lr.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=lr,activeSub.depsTail=lr):activeSub.deps=activeSub.depsTail=lr,addSub(lr);else if(lr.version===-1&&(lr.version=this.version,lr.nextDep)){const Ar=lr.nextDep;Ar.prevDep=lr.prevDep,lr.prevDep&&(lr.prevDep.nextDep=Ar),lr.prevDep=activeSub.depsTail,lr.nextDep=void 0,activeSub.depsTail.nextDep=lr,activeSub.depsTail=lr,activeSub.deps===lr&&(activeSub.deps=Ar)}return lr}trigger(or){this.version++,globalVersion++,this.notify(or)}notify(or){startBatch();try{for(let lr=this.subs;lr;lr=lr.prevSub)lr.sub.notify()&&lr.sub.dep.notify()}finally{endBatch()}}}function addSub(ar){if(ar.dep.sc++,ar.sub.flags&4){const or=ar.dep.computed;if(or&&!ar.dep.subs){or.flags|=20;for(let Ar=or.deps;Ar;Ar=Ar.nextDep)addSub(Ar)}const lr=ar.dep.subs;lr!==ar&&(ar.prevSub=lr,lr&&(lr.nextSub=ar)),ar.dep.subs=ar}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(ar,or,lr){if(shouldTrack&&activeSub){let Ar=targetMap.get(ar);Ar||targetMap.set(ar,Ar=new Map);let cr=Ar.get(lr);cr||(Ar.set(lr,cr=new Dep),cr.map=Ar,cr.key=lr),cr.track()}}function trigger(ar,or,lr,Ar,cr,ur){const dr=targetMap.get(ar);if(!dr){globalVersion++;return}const hr=fr=>{fr&&fr.trigger()};if(startBatch(),or==="clear")dr.forEach(hr);else{const fr=isArray$1(ar),gr=fr&&isIntegerKey(lr);if(fr&&lr==="length"){const pr=Number(Ar);dr.forEach((mr,yr)=>{(yr==="length"||yr===ARRAY_ITERATE_KEY||!isSymbol(yr)&&yr>=pr)&&hr(mr)})}else switch((lr!==void 0||dr.has(void 0))&&hr(dr.get(lr)),gr&&hr(dr.get(ARRAY_ITERATE_KEY)),or){case"add":fr?gr&&hr(dr.get("length")):(hr(dr.get(ITERATE_KEY)),isMap(ar)&&hr(dr.get(MAP_KEY_ITERATE_KEY)));break;case"delete":fr||(hr(dr.get(ITERATE_KEY)),isMap(ar)&&hr(dr.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(ar)&&hr(dr.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(ar,or){const lr=targetMap.get(ar);return lr&&lr.get(or)}function reactiveReadArray(ar){const or=toRaw(ar);return or===ar?or:(track(or,"iterate",ARRAY_ITERATE_KEY),isShallow(ar)?or:or.map(toReactive))}function shallowReadArray(ar){return track(ar=toRaw(ar),"iterate",ARRAY_ITERATE_KEY),ar}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...ar){return reactiveReadArray(this).concat(...ar.map(or=>isArray$1(or)?reactiveReadArray(or):or))},entries(){return iterator(this,"entries",ar=>(ar[1]=toReactive(ar[1]),ar))},every(ar,or){return apply$1(this,"every",ar,or,void 0,arguments)},filter(ar,or){return apply$1(this,"filter",ar,or,lr=>lr.map(toReactive),arguments)},find(ar,or){return apply$1(this,"find",ar,or,toReactive,arguments)},findIndex(ar,or){return apply$1(this,"findIndex",ar,or,void 0,arguments)},findLast(ar,or){return apply$1(this,"findLast",ar,or,toReactive,arguments)},findLastIndex(ar,or){return apply$1(this,"findLastIndex",ar,or,void 0,arguments)},forEach(ar,or){return apply$1(this,"forEach",ar,or,void 0,arguments)},includes(...ar){return searchProxy(this,"includes",ar)},indexOf(...ar){return searchProxy(this,"indexOf",ar)},join(ar){return reactiveReadArray(this).join(ar)},lastIndexOf(...ar){return searchProxy(this,"lastIndexOf",ar)},map(ar,or){return apply$1(this,"map",ar,or,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...ar){return noTracking(this,"push",ar)},reduce(ar,...or){return reduce(this,"reduce",ar,or)},reduceRight(ar,...or){return reduce(this,"reduceRight",ar,or)},shift(){return noTracking(this,"shift")},some(ar,or){return apply$1(this,"some",ar,or,void 0,arguments)},splice(...ar){return noTracking(this,"splice",ar)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(ar){return reactiveReadArray(this).toSorted(ar)},toSpliced(...ar){return reactiveReadArray(this).toSpliced(...ar)},unshift(...ar){return noTracking(this,"unshift",ar)},values(){return iterator(this,"values",toReactive)}};function iterator(ar,or,lr){const Ar=shallowReadArray(ar),cr=Ar[or]();return Ar!==ar&&!isShallow(ar)&&(cr._next=cr.next,cr.next=()=>{const ur=cr._next();return ur.value&&(ur.value=lr(ur.value)),ur}),cr}const arrayProto=Array.prototype;function apply$1(ar,or,lr,Ar,cr,ur){const dr=shallowReadArray(ar),hr=dr!==ar&&!isShallow(ar),fr=dr[or];if(fr!==arrayProto[or]){const mr=fr.apply(ar,ur);return hr?toReactive(mr):mr}let gr=lr;dr!==ar&&(hr?gr=function(mr,yr){return lr.call(this,toReactive(mr),yr,ar)}:lr.length>2&&(gr=function(mr,yr){return lr.call(this,mr,yr,ar)}));const pr=fr.call(dr,gr,Ar);return hr&&cr?cr(pr):pr}function reduce(ar,or,lr,Ar){const cr=shallowReadArray(ar);let ur=lr;return cr!==ar&&(isShallow(ar)?lr.length>3&&(ur=function(dr,hr,fr){return lr.call(this,dr,hr,fr,ar)}):ur=function(dr,hr,fr){return lr.call(this,dr,toReactive(hr),fr,ar)}),cr[or](ur,...Ar)}function searchProxy(ar,or,lr){const Ar=toRaw(ar);track(Ar,"iterate",ARRAY_ITERATE_KEY);const cr=Ar[or](...lr);return(cr===-1||cr===!1)&&isProxy(lr[0])?(lr[0]=toRaw(lr[0]),Ar[or](...lr)):cr}function noTracking(ar,or,lr=[]){pauseTracking(),startBatch();const Ar=toRaw(ar)[or].apply(ar,lr);return endBatch(),resetTracking(),Ar}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(ar=>ar!=="arguments"&&ar!=="caller").map(ar=>Symbol[ar]).filter(isSymbol));function hasOwnProperty(ar){isSymbol(ar)||(ar=String(ar));const or=toRaw(this);return track(or,"has",ar),or.hasOwnProperty(ar)}class BaseReactiveHandler{constructor(or=!1,lr=!1){this._isReadonly=or,this._isShallow=lr}get(or,lr,Ar){if(lr==="__v_skip")return or.__v_skip;const cr=this._isReadonly,ur=this._isShallow;if(lr==="__v_isReactive")return!cr;if(lr==="__v_isReadonly")return cr;if(lr==="__v_isShallow")return ur;if(lr==="__v_raw")return Ar===(cr?ur?shallowReadonlyMap:readonlyMap:ur?shallowReactiveMap:reactiveMap).get(or)||Object.getPrototypeOf(or)===Object.getPrototypeOf(Ar)?or:void 0;const dr=isArray$1(or);if(!cr){let fr;if(dr&&(fr=arrayInstrumentations[lr]))return fr;if(lr==="hasOwnProperty")return hasOwnProperty}const hr=Reflect.get(or,lr,isRef(or)?or:Ar);return(isSymbol(lr)?builtInSymbols.has(lr):isNonTrackableKeys(lr))||(cr||track(or,"get",lr),ur)?hr:isRef(hr)?dr&&isIntegerKey(lr)?hr:hr.value:isObject(hr)?cr?readonly(hr):reactive(hr):hr}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(or=!1){super(!1,or)}set(or,lr,Ar,cr){let ur=or[lr];if(!this._isShallow){const fr=isReadonly(ur);if(!isShallow(Ar)&&!isReadonly(Ar)&&(ur=toRaw(ur),Ar=toRaw(Ar)),!isArray$1(or)&&isRef(ur)&&!isRef(Ar))return fr?!1:(ur.value=Ar,!0)}const dr=isArray$1(or)&&isIntegerKey(lr)?Number(lr)<or.length:hasOwn(or,lr),hr=Reflect.set(or,lr,Ar,isRef(or)?or:cr);return or===toRaw(cr)&&(dr?hasChanged(Ar,ur)&&trigger(or,"set",lr,Ar):trigger(or,"add",lr,Ar)),hr}deleteProperty(or,lr){const Ar=hasOwn(or,lr);or[lr];const cr=Reflect.deleteProperty(or,lr);return cr&&Ar&&trigger(or,"delete",lr,void 0),cr}has(or,lr){const Ar=Reflect.has(or,lr);return(!isSymbol(lr)||!builtInSymbols.has(lr))&&track(or,"has",lr),Ar}ownKeys(or){return track(or,"iterate",isArray$1(or)?"length":ITERATE_KEY),Reflect.ownKeys(or)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(or=!1){super(!0,or)}set(or,lr){return!0}deleteProperty(or,lr){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=ar=>ar,getProto=ar=>Reflect.getPrototypeOf(ar);function createIterableMethod(ar,or,lr){return function(...Ar){const cr=this.__v_raw,ur=toRaw(cr),dr=isMap(ur),hr=ar==="entries"||ar===Symbol.iterator&&dr,fr=ar==="keys"&&dr,gr=cr[ar](...Ar),pr=lr?toShallow:or?toReadonly:toReactive;return!or&&track(ur,"iterate",fr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:mr,done:yr}=gr.next();return yr?{value:mr,done:yr}:{value:hr?[pr(mr[0]),pr(mr[1])]:pr(mr),done:yr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(ar){return function(...or){return ar==="delete"?!1:ar==="clear"?void 0:this}}function createInstrumentations(ar,or){const lr={get(cr){const ur=this.__v_raw,dr=toRaw(ur),hr=toRaw(cr);ar||(hasChanged(cr,hr)&&track(dr,"get",cr),track(dr,"get",hr));const{has:fr}=getProto(dr),gr=or?toShallow:ar?toReadonly:toReactive;if(fr.call(dr,cr))return gr(ur.get(cr));if(fr.call(dr,hr))return gr(ur.get(hr));ur!==dr&&ur.get(cr)},get size(){const cr=this.__v_raw;return!ar&&track(toRaw(cr),"iterate",ITERATE_KEY),Reflect.get(cr,"size",cr)},has(cr){const ur=this.__v_raw,dr=toRaw(ur),hr=toRaw(cr);return ar||(hasChanged(cr,hr)&&track(dr,"has",cr),track(dr,"has",hr)),cr===hr?ur.has(cr):ur.has(cr)||ur.has(hr)},forEach(cr,ur){const dr=this,hr=dr.__v_raw,fr=toRaw(hr),gr=or?toShallow:ar?toReadonly:toReactive;return!ar&&track(fr,"iterate",ITERATE_KEY),hr.forEach((pr,mr)=>cr.call(ur,gr(pr),gr(mr),dr))}};return extend$1(lr,ar?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(cr){!or&&!isShallow(cr)&&!isReadonly(cr)&&(cr=toRaw(cr));const ur=toRaw(this);return getProto(ur).has.call(ur,cr)||(ur.add(cr),trigger(ur,"add",cr,cr)),this},set(cr,ur){!or&&!isShallow(ur)&&!isReadonly(ur)&&(ur=toRaw(ur));const dr=toRaw(this),{has:hr,get:fr}=getProto(dr);let gr=hr.call(dr,cr);gr||(cr=toRaw(cr),gr=hr.call(dr,cr));const pr=fr.call(dr,cr);return dr.set(cr,ur),gr?hasChanged(ur,pr)&&trigger(dr,"set",cr,ur):trigger(dr,"add",cr,ur),this},delete(cr){const ur=toRaw(this),{has:dr,get:hr}=getProto(ur);let fr=dr.call(ur,cr);fr||(cr=toRaw(cr),fr=dr.call(ur,cr)),hr&&hr.call(ur,cr);const gr=ur.delete(cr);return fr&&trigger(ur,"delete",cr,void 0),gr},clear(){const cr=toRaw(this),ur=cr.size!==0,dr=cr.clear();return ur&&trigger(cr,"clear",void 0,void 0),dr}}),["keys","values","entries",Symbol.iterator].forEach(cr=>{lr[cr]=createIterableMethod(cr,ar,or)}),lr}function createInstrumentationGetter(ar,or){const lr=createInstrumentations(ar,or);return(Ar,cr,ur)=>cr==="__v_isReactive"?!ar:cr==="__v_isReadonly"?ar:cr==="__v_raw"?Ar:Reflect.get(hasOwn(lr,cr)&&cr in Ar?lr:Ar,cr,ur)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(ar){switch(ar){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(ar){return ar.__v_skip||!Object.isExtensible(ar)?0:targetTypeMap(toRawType(ar))}function reactive(ar){return isReadonly(ar)?ar:createReactiveObject(ar,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(ar){return createReactiveObject(ar,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(ar){return createReactiveObject(ar,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(ar){return createReactiveObject(ar,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(ar,or,lr,Ar,cr){if(!isObject(ar)||ar.__v_raw&&!(or&&ar.__v_isReactive))return ar;const ur=getTargetType(ar);if(ur===0)return ar;const dr=cr.get(ar);if(dr)return dr;const hr=new Proxy(ar,ur===2?Ar:lr);return cr.set(ar,hr),hr}function isReactive(ar){return isReadonly(ar)?isReactive(ar.__v_raw):!!(ar&&ar.__v_isReactive)}function isReadonly(ar){return!!(ar&&ar.__v_isReadonly)}function isShallow(ar){return!!(ar&&ar.__v_isShallow)}function isProxy(ar){return ar?!!ar.__v_raw:!1}function toRaw(ar){const or=ar&&ar.__v_raw;return or?toRaw(or):ar}function markRaw(ar){return!hasOwn(ar,"__v_skip")&&Object.isExtensible(ar)&&def(ar,"__v_skip",!0),ar}const toReactive=ar=>isObject(ar)?reactive(ar):ar,toReadonly=ar=>isObject(ar)?readonly(ar):ar;function isRef(ar){return ar?ar.__v_isRef===!0:!1}function ref(ar){return createRef(ar,!1)}function shallowRef(ar){return createRef(ar,!0)}function createRef(ar,or){return isRef(ar)?ar:new RefImpl(ar,or)}class RefImpl{constructor(or,lr){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=lr?or:toRaw(or),this._value=lr?or:toReactive(or),this.__v_isShallow=lr}get value(){return this.dep.track(),this._value}set value(or){const lr=this._rawValue,Ar=this.__v_isShallow||isShallow(or)||isReadonly(or);or=Ar?or:toRaw(or),hasChanged(or,lr)&&(this._rawValue=or,this._value=Ar?or:toReactive(or),this.dep.trigger())}}function triggerRef(ar){ar.dep&&ar.dep.trigger()}function unref(ar){return isRef(ar)?ar.value:ar}function toValue(ar){return isFunction$1(ar)?ar():unref(ar)}const shallowUnwrapHandlers={get:(ar,or,lr)=>or==="__v_raw"?ar:unref(Reflect.get(ar,or,lr)),set:(ar,or,lr,Ar)=>{const cr=ar[or];return isRef(cr)&&!isRef(lr)?(cr.value=lr,!0):Reflect.set(ar,or,lr,Ar)}};function proxyRefs(ar){return isReactive(ar)?ar:new Proxy(ar,shallowUnwrapHandlers)}class CustomRefImpl{constructor(or){this.__v_isRef=!0,this._value=void 0;const lr=this.dep=new Dep,{get:Ar,set:cr}=or(lr.track.bind(lr),lr.trigger.bind(lr));this._get=Ar,this._set=cr}get value(){return this._value=this._get()}set value(or){this._set(or)}}function customRef(ar){return new CustomRefImpl(ar)}function toRefs(ar){const or=isArray$1(ar)?new Array(ar.length):{};for(const lr in ar)or[lr]=propertyToRef(ar,lr);return or}class ObjectRefImpl{constructor(or,lr,Ar){this._object=or,this._key=lr,this._defaultValue=Ar,this.__v_isRef=!0,this._value=void 0}get value(){const or=this._object[this._key];return this._value=or===void 0?this._defaultValue:or}set value(or){this._object[this._key]=or}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(or){this._getter=or,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(ar,or,lr){return isRef(ar)?ar:isFunction$1(ar)?new GetterRefImpl(ar):isObject(ar)&&arguments.length>1?propertyToRef(ar,or,lr):ref(ar)}function propertyToRef(ar,or,lr){const Ar=ar[or];return isRef(Ar)?Ar:new ObjectRefImpl(ar,or,lr)}class ComputedRefImpl{constructor(or,lr,Ar){this.fn=or,this.setter=lr,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!lr,this.isSSR=Ar}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const or=this.dep.track();return refreshComputed(this),or&&(or.version=this.dep.version),this._value}set value(or){this.setter&&this.setter(or)}}function computed$1(ar,or,lr=!1){let Ar,cr;return isFunction$1(ar)?Ar=ar:(Ar=ar.get,cr=ar.set),new ComputedRefImpl(Ar,cr,lr)}const TrackOpTypes={GET:"get",HAS:"has",ITERATE:"iterate"},TriggerOpTypes={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function getCurrentWatcher(){return activeWatcher}function onWatcherCleanup(ar,or=!1,lr=activeWatcher){if(lr){let Ar=cleanupMap.get(lr);Ar||cleanupMap.set(lr,Ar=[]),Ar.push(ar)}}function watch$1(ar,or,lr=EMPTY_OBJ){const{immediate:Ar,deep:cr,once:ur,scheduler:dr,augmentJob:hr,call:fr}=lr,gr=Tr=>cr?Tr:isShallow(Tr)||cr===!1||cr===0?traverse(Tr,1):traverse(Tr);let pr,mr,yr,vr,br=!1,wr=!1;if(isRef(ar)?(mr=()=>ar.value,br=isShallow(ar)):isReactive(ar)?(mr=()=>gr(ar),br=!0):isArray$1(ar)?(wr=!0,br=ar.some(Tr=>isReactive(Tr)||isShallow(Tr)),mr=()=>ar.map(Tr=>{if(isRef(Tr))return Tr.value;if(isReactive(Tr))return gr(Tr);if(isFunction$1(Tr))return fr?fr(Tr,2):Tr()})):isFunction$1(ar)?or?mr=fr?()=>fr(ar,2):ar:mr=()=>{if(yr){pauseTracking();try{yr()}finally{resetTracking()}}const Tr=activeWatcher;activeWatcher=pr;try{return fr?fr(ar,3,[vr]):ar(vr)}finally{activeWatcher=Tr}}:mr=NOOP,or&&cr){const Tr=mr,kr=cr===!0?1/0:cr;mr=()=>traverse(Tr(),kr)}const Cr=getCurrentScope(),Br=()=>{pr.stop(),Cr&&Cr.active&&remove(Cr.effects,pr)};if(ur&&or){const Tr=or;or=(...kr)=>{Tr(...kr),Br()}}let Sr=wr?new Array(ar.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Er=Tr=>{if(!(!(pr.flags&1)||!pr.dirty&&!Tr))if(or){const kr=pr.run();if(cr||br||(wr?kr.some((Or,Rr)=>hasChanged(Or,Sr[Rr])):hasChanged(kr,Sr))){yr&&yr();const Or=activeWatcher;activeWatcher=pr;try{const Rr=[kr,Sr===INITIAL_WATCHER_VALUE?void 0:wr&&Sr[0]===INITIAL_WATCHER_VALUE?[]:Sr,vr];fr?fr(or,3,Rr):or(...Rr),Sr=kr}finally{activeWatcher=Or}}}else pr.run()};return hr&&hr(Er),pr=new ReactiveEffect(mr),pr.scheduler=dr?()=>dr(Er,!1):Er,vr=Tr=>onWatcherCleanup(Tr,!1,pr),yr=pr.onStop=()=>{const Tr=cleanupMap.get(pr);if(Tr){if(fr)fr(Tr,4);else for(const kr of Tr)kr();cleanupMap.delete(pr)}},or?Ar?Er(!0):Sr=pr.run():dr?dr(Er.bind(null,!0),!0):pr.run(),Br.pause=pr.pause.bind(pr),Br.resume=pr.resume.bind(pr),Br.stop=Br,Br}function traverse(ar,or=1/0,lr){if(or<=0||!isObject(ar)||ar.__v_skip||(lr=lr||new Set,lr.has(ar)))return ar;if(lr.add(ar),or--,isRef(ar))traverse(ar.value,or,lr);else if(isArray$1(ar))for(let Ar=0;Ar<ar.length;Ar++)traverse(ar[Ar],or,lr);else if(isSet(ar)||isMap(ar))ar.forEach(Ar=>{traverse(Ar,or,lr)});else if(isPlainObject$2(ar)){for(const Ar in ar)traverse(ar[Ar],or,lr);for(const Ar of Object.getOwnPropertySymbols(ar))Object.prototype.propertyIsEnumerable.call(ar,Ar)&&traverse(ar[Ar],or,lr)}return ar}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];function pushWarningContext(ar){stack.push(ar)}function popWarningContext(){stack.pop()}let isWarning=!1;function warn$1(ar,...or){if(isWarning)return;isWarning=!0,pauseTracking();const lr=stack.length?stack[stack.length-1].component:null,Ar=lr&&lr.appContext.config.warnHandler,cr=getComponentTrace();if(Ar)callWithErrorHandling(Ar,lr,11,[ar+or.map(ur=>{var dr,hr;return(hr=(dr=ur.toString)==null?void 0:dr.call(ur))!=null?hr:JSON.stringify(ur)}).join(""),lr&&lr.proxy,cr.map(({vnode:ur})=>`at <${formatComponentName(lr,ur.type)}>`).join(`
`),cr]);else{const ur=[`[Vue warn]: ${ar}`,...or];cr.length&&ur.push(`
`,...formatTrace(cr)),console.warn(...ur)}resetTracking(),isWarning=!1}function getComponentTrace(){let ar=stack[stack.length-1];if(!ar)return[];const or=[];for(;ar;){const lr=or[0];lr&&lr.vnode===ar?lr.recurseCount++:or.push({vnode:ar,recurseCount:0});const Ar=ar.component&&ar.component.parent;ar=Ar&&Ar.vnode}return or}function formatTrace(ar){const or=[];return ar.forEach((lr,Ar)=>{or.push(...Ar===0?[]:[`
`],...formatTraceEntry(lr))}),or}function formatTraceEntry({vnode:ar,recurseCount:or}){const lr=or>0?`... (${or} recursive calls)`:"",Ar=ar.component?ar.component.parent==null:!1,cr=` at <${formatComponentName(ar.component,ar.type,Ar)}`,ur=">"+lr;return ar.props?[cr,...formatProps(ar.props),ur]:[cr+ur]}function formatProps(ar){const or=[],lr=Object.keys(ar);return lr.slice(0,3).forEach(Ar=>{or.push(...formatProp(Ar,ar[Ar]))}),lr.length>3&&or.push(" ..."),or}function formatProp(ar,or,lr){return isString(or)?(or=JSON.stringify(or),lr?or:[`${ar}=${or}`]):typeof or=="number"||typeof or=="boolean"||or==null?lr?or:[`${ar}=${or}`]:isRef(or)?(or=formatProp(ar,toRaw(or.value),!0),lr?or:[`${ar}=Ref<`,or,">"]):isFunction$1(or)?[`${ar}=fn${or.name?`<${or.name}>`:""}`]:(or=toRaw(or),lr?or:[`${ar}=`,or])}function assertNumber(ar,or){}const ErrorCodes={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},ErrorTypeStrings$1={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function callWithErrorHandling(ar,or,lr,Ar){try{return Ar?ar(...Ar):ar()}catch(cr){handleError(cr,or,lr)}}function callWithAsyncErrorHandling(ar,or,lr,Ar){if(isFunction$1(ar)){const cr=callWithErrorHandling(ar,or,lr,Ar);return cr&&isPromise(cr)&&cr.catch(ur=>{handleError(ur,or,lr)}),cr}if(isArray$1(ar)){const cr=[];for(let ur=0;ur<ar.length;ur++)cr.push(callWithAsyncErrorHandling(ar[ur],or,lr,Ar));return cr}}function handleError(ar,or,lr,Ar=!0){const cr=or?or.vnode:null,{errorHandler:ur,throwUnhandledErrorInProduction:dr}=or&&or.appContext.config||EMPTY_OBJ;if(or){let hr=or.parent;const fr=or.proxy,gr=`https://vuejs.org/error-reference/#runtime-${lr}`;for(;hr;){const pr=hr.ec;if(pr){for(let mr=0;mr<pr.length;mr++)if(pr[mr](ar,fr,gr)===!1)return}hr=hr.parent}if(ur){pauseTracking(),callWithErrorHandling(ur,null,10,[ar,fr,gr]),resetTracking();return}}logError(ar,lr,cr,Ar,dr)}function logError(ar,or,lr,Ar=!0,cr=!1){if(cr)throw ar;console.error(ar)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(ar){const or=currentFlushPromise||resolvedPromise;return ar?or.then(this?ar.bind(this):ar):or}function findInsertionIndex$1(ar){let or=flushIndex+1,lr=queue.length;for(;or<lr;){const Ar=or+lr>>>1,cr=queue[Ar],ur=getId(cr);ur<ar||ur===ar&&cr.flags&2?or=Ar+1:lr=Ar}return or}function queueJob(ar){if(!(ar.flags&1)){const or=getId(ar),lr=queue[queue.length-1];!lr||!(ar.flags&2)&&or>=getId(lr)?queue.push(ar):queue.splice(findInsertionIndex$1(or),0,ar),ar.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(ar){isArray$1(ar)?pendingPostFlushCbs.push(...ar):activePostFlushCbs&&ar.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,ar):ar.flags&1||(pendingPostFlushCbs.push(ar),ar.flags|=1),queueFlush()}function flushPreFlushCbs(ar,or,lr=flushIndex+1){for(;lr<queue.length;lr++){const Ar=queue[lr];if(Ar&&Ar.flags&2){if(ar&&Ar.id!==ar.uid)continue;queue.splice(lr,1),lr--,Ar.flags&4&&(Ar.flags&=-2),Ar(),Ar.flags&4||(Ar.flags&=-2)}}}function flushPostFlushCbs(ar){if(pendingPostFlushCbs.length){const or=[...new Set(pendingPostFlushCbs)].sort((lr,Ar)=>getId(lr)-getId(Ar));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...or);return}for(activePostFlushCbs=or,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const lr=activePostFlushCbs[postFlushIndex];lr.flags&4&&(lr.flags&=-2),lr.flags&8||lr(),lr.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=ar=>ar.id==null?ar.flags&2?-1:1/0:ar.id;function flushJobs(ar){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const or=queue[flushIndex];or&&!(or.flags&8)&&(or.flags&4&&(or.flags&=-2),callWithErrorHandling(or,or.i,or.i?15:14),or.flags&4||(or.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const or=queue[flushIndex];or&&(or.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools$1,buffer=[];function setDevtoolsHook$1(ar,or){var lr,Ar;devtools$1=ar,devtools$1?(devtools$1.enabled=!0,buffer.forEach(({event:cr,args:ur})=>devtools$1.emit(cr,...ur)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!((Ar=(lr=window.navigator)==null?void 0:lr.userAgent)!=null&&Ar.includes("jsdom"))?((or.__VUE_DEVTOOLS_HOOK_REPLAY__=or.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(ur=>{setDevtoolsHook$1(ur,or)}),setTimeout(()=>{devtools$1||(or.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(ar){const or=currentRenderingInstance;return currentRenderingInstance=ar,currentScopeId=ar&&ar.type.__scopeId||null,or}function pushScopeId(ar){currentScopeId=ar}function popScopeId(){currentScopeId=null}const withScopeId=ar=>withCtx;function withCtx(ar,or=currentRenderingInstance,lr){if(!or||ar._n)return ar;const Ar=(...cr)=>{Ar._d&&setBlockTracking(-1);const ur=setCurrentRenderingInstance(or);let dr;try{dr=ar(...cr)}finally{setCurrentRenderingInstance(ur),Ar._d&&setBlockTracking(1)}return dr};return Ar._n=!0,Ar._c=!0,Ar._d=!0,Ar}function withDirectives(ar,or){if(currentRenderingInstance===null)return ar;const lr=getComponentPublicInstance(currentRenderingInstance),Ar=ar.dirs||(ar.dirs=[]);for(let cr=0;cr<or.length;cr++){let[ur,dr,hr,fr=EMPTY_OBJ]=or[cr];ur&&(isFunction$1(ur)&&(ur={mounted:ur,updated:ur}),ur.deep&&traverse(dr),Ar.push({dir:ur,instance:lr,value:dr,oldValue:void 0,arg:hr,modifiers:fr}))}return ar}function invokeDirectiveHook(ar,or,lr,Ar){const cr=ar.dirs,ur=or&&or.dirs;for(let dr=0;dr<cr.length;dr++){const hr=cr[dr];ur&&(hr.oldValue=ur[dr].value);let fr=hr.dir[Ar];fr&&(pauseTracking(),callWithAsyncErrorHandling(fr,lr,8,[ar.el,hr,ar,or]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=ar=>ar.__isTeleport,isTeleportDisabled=ar=>ar&&(ar.disabled||ar.disabled===""),isTeleportDeferred=ar=>ar&&(ar.defer||ar.defer===""),isTargetSVG=ar=>typeof SVGElement<"u"&&ar instanceof SVGElement,isTargetMathML=ar=>typeof MathMLElement=="function"&&ar instanceof MathMLElement,resolveTarget=(ar,or)=>{const lr=ar&&ar.to;return isString(lr)?or?or(lr):null:lr},TeleportImpl={name:"Teleport",__isTeleport:!0,process(ar,or,lr,Ar,cr,ur,dr,hr,fr,gr){const{mc:pr,pc:mr,pbc:yr,o:{insert:vr,querySelector:br,createText:wr,createComment:Cr}}=gr,Br=isTeleportDisabled(or.props);let{shapeFlag:Sr,children:Er,dynamicChildren:Tr}=or;if(ar==null){const kr=or.el=wr(""),Or=or.anchor=wr("");vr(kr,lr,Ar),vr(Or,lr,Ar);const Rr=(_r,Hr)=>{Sr&16&&(cr&&cr.isCE&&(cr.ce._teleportTarget=_r),pr(Er,_r,Hr,cr,ur,dr,hr,fr))},Lr=()=>{const _r=or.target=resolveTarget(or.props,br),Hr=prepareAnchor(_r,or,wr,vr);_r&&(dr!=="svg"&&isTargetSVG(_r)?dr="svg":dr!=="mathml"&&isTargetMathML(_r)&&(dr="mathml"),Br||(Rr(_r,Hr),updateCssVars(or,!1)))};Br&&(Rr(lr,Or),updateCssVars(or,!0)),isTeleportDeferred(or.props)?queuePostRenderEffect(()=>{Lr(),or.el.__isMounted=!0},ur):Lr()}else{if(isTeleportDeferred(or.props)&&!ar.el.__isMounted){queuePostRenderEffect(()=>{TeleportImpl.process(ar,or,lr,Ar,cr,ur,dr,hr,fr,gr),delete ar.el.__isMounted},ur);return}or.el=ar.el,or.targetStart=ar.targetStart;const kr=or.anchor=ar.anchor,Or=or.target=ar.target,Rr=or.targetAnchor=ar.targetAnchor,Lr=isTeleportDisabled(ar.props),_r=Lr?lr:Or,Hr=Lr?kr:Rr;if(dr==="svg"||isTargetSVG(Or)?dr="svg":(dr==="mathml"||isTargetMathML(Or))&&(dr="mathml"),Tr?(yr(ar.dynamicChildren,Tr,_r,cr,ur,dr,hr),traverseStaticChildren(ar,or,!0)):fr||mr(ar,or,_r,Hr,cr,ur,dr,hr,!1),Br)Lr?or.props&&ar.props&&or.props.to!==ar.props.to&&(or.props.to=ar.props.to):moveTeleport(or,lr,kr,gr,1);else if((or.props&&or.props.to)!==(ar.props&&ar.props.to)){const Mr=or.target=resolveTarget(or.props,br);Mr&&moveTeleport(or,Mr,null,gr,0)}else Lr&&moveTeleport(or,Or,Rr,gr,1);updateCssVars(or,Br)}},remove(ar,or,lr,{um:Ar,o:{remove:cr}},ur){const{shapeFlag:dr,children:hr,anchor:fr,targetStart:gr,targetAnchor:pr,target:mr,props:yr}=ar;if(mr&&(cr(gr),cr(pr)),ur&&cr(fr),dr&16){const vr=ur||!isTeleportDisabled(yr);for(let br=0;br<hr.length;br++){const wr=hr[br];Ar(wr,or,lr,vr,!!wr.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(ar,or,lr,{o:{insert:Ar},m:cr},ur=2){ur===0&&Ar(ar.targetAnchor,or,lr);const{el:dr,anchor:hr,shapeFlag:fr,children:gr,props:pr}=ar,mr=ur===2;if(mr&&Ar(dr,or,lr),(!mr||isTeleportDisabled(pr))&&fr&16)for(let yr=0;yr<gr.length;yr++)cr(gr[yr],or,lr,2);mr&&Ar(hr,or,lr)}function hydrateTeleport(ar,or,lr,Ar,cr,ur,{o:{nextSibling:dr,parentNode:hr,querySelector:fr,insert:gr,createText:pr}},mr){const yr=or.target=resolveTarget(or.props,fr);if(yr){const vr=isTeleportDisabled(or.props),br=yr._lpa||yr.firstChild;if(or.shapeFlag&16)if(vr)or.anchor=mr(dr(ar),or,hr(ar),lr,Ar,cr,ur),or.targetStart=br,or.targetAnchor=br&&dr(br);else{or.anchor=dr(ar);let wr=br;for(;wr;){if(wr&&wr.nodeType===8){if(wr.data==="teleport start anchor")or.targetStart=wr;else if(wr.data==="teleport anchor"){or.targetAnchor=wr,yr._lpa=or.targetAnchor&&dr(or.targetAnchor);break}}wr=dr(wr)}or.targetAnchor||prepareAnchor(yr,or,pr,gr),mr(br&&dr(br),or,yr,lr,Ar,cr,ur)}updateCssVars(or,vr)}return or.anchor&&dr(or.anchor)}const Teleport=TeleportImpl;function updateCssVars(ar,or){const lr=ar.ctx;if(lr&&lr.ut){let Ar,cr;for(or?(Ar=ar.el,cr=ar.anchor):(Ar=ar.targetStart,cr=ar.targetAnchor);Ar&&Ar!==cr;)Ar.nodeType===1&&Ar.setAttribute("data-v-owner",lr.uid),Ar=Ar.nextSibling;lr.ut()}}function prepareAnchor(ar,or,lr,Ar){const cr=or.targetStart=lr(""),ur=or.targetAnchor=lr("");return cr[TeleportEndKey]=ur,ar&&(Ar(cr,ar),Ar(ur,ar)),ur}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const ar={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{ar.isMounted=!0}),onBeforeUnmount(()=>{ar.isUnmounting=!0}),ar}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=ar=>{const or=ar.subTree;return or.component?recursiveGetSubtree(or.component):or},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(ar,{slots:or}){const lr=getCurrentInstance(),Ar=useTransitionState();return()=>{const cr=or.default&&getTransitionRawChildren(or.default(),!0);if(!cr||!cr.length)return;const ur=findNonCommentChild(cr),dr=toRaw(ar),{mode:hr}=dr;if(Ar.isLeaving)return emptyPlaceholder(ur);const fr=getInnerChild$1(ur);if(!fr)return emptyPlaceholder(ur);let gr=resolveTransitionHooks(fr,dr,Ar,lr,mr=>gr=mr);fr.type!==Comment&&setTransitionHooks(fr,gr);let pr=lr.subTree&&getInnerChild$1(lr.subTree);if(pr&&pr.type!==Comment&&!isSameVNodeType(fr,pr)&&recursiveGetSubtree(lr).type!==Comment){let mr=resolveTransitionHooks(pr,dr,Ar,lr);if(setTransitionHooks(pr,mr),hr==="out-in"&&fr.type!==Comment)return Ar.isLeaving=!0,mr.afterLeave=()=>{Ar.isLeaving=!1,lr.job.flags&8||lr.update(),delete mr.afterLeave,pr=void 0},emptyPlaceholder(ur);hr==="in-out"&&fr.type!==Comment?mr.delayLeave=(yr,vr,br)=>{const wr=getLeavingNodesForType(Ar,pr);wr[String(pr.key)]=pr,yr[leaveCbKey]=()=>{vr(),yr[leaveCbKey]=void 0,delete gr.delayedLeave,pr=void 0},gr.delayedLeave=()=>{br(),delete gr.delayedLeave,pr=void 0}}:pr=void 0}else pr&&(pr=void 0);return ur}}};function findNonCommentChild(ar){let or=ar[0];if(ar.length>1){for(const lr of ar)if(lr.type!==Comment){or=lr;break}}return or}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(ar,or){const{leavingVNodes:lr}=ar;let Ar=lr.get(or.type);return Ar||(Ar=Object.create(null),lr.set(or.type,Ar)),Ar}function resolveTransitionHooks(ar,or,lr,Ar,cr){const{appear:ur,mode:dr,persisted:hr=!1,onBeforeEnter:fr,onEnter:gr,onAfterEnter:pr,onEnterCancelled:mr,onBeforeLeave:yr,onLeave:vr,onAfterLeave:br,onLeaveCancelled:wr,onBeforeAppear:Cr,onAppear:Br,onAfterAppear:Sr,onAppearCancelled:Er}=or,Tr=String(ar.key),kr=getLeavingNodesForType(lr,ar),Or=(_r,Hr)=>{_r&&callWithAsyncErrorHandling(_r,Ar,9,Hr)},Rr=(_r,Hr)=>{const Mr=Hr[1];Or(_r,Hr),isArray$1(_r)?_r.every(Ur=>Ur.length<=1)&&Mr():_r.length<=1&&Mr()},Lr={mode:dr,persisted:hr,beforeEnter(_r){let Hr=fr;if(!lr.isMounted)if(ur)Hr=Cr||fr;else return;_r[leaveCbKey]&&_r[leaveCbKey](!0);const Mr=kr[Tr];Mr&&isSameVNodeType(ar,Mr)&&Mr.el[leaveCbKey]&&Mr.el[leaveCbKey](),Or(Hr,[_r])},enter(_r){let Hr=gr,Mr=pr,Ur=mr;if(!lr.isMounted)if(ur)Hr=Br||gr,Mr=Sr||pr,Ur=Er||mr;else return;let Kr=!1;const Xr=_r[enterCbKey$1]=Yr=>{Kr||(Kr=!0,Yr?Or(Ur,[_r]):Or(Mr,[_r]),Lr.delayedLeave&&Lr.delayedLeave(),_r[enterCbKey$1]=void 0)};Hr?Rr(Hr,[_r,Xr]):Xr()},leave(_r,Hr){const Mr=String(ar.key);if(_r[enterCbKey$1]&&_r[enterCbKey$1](!0),lr.isUnmounting)return Hr();Or(yr,[_r]);let Ur=!1;const Kr=_r[leaveCbKey]=Xr=>{Ur||(Ur=!0,Hr(),Xr?Or(wr,[_r]):Or(br,[_r]),_r[leaveCbKey]=void 0,kr[Mr]===ar&&delete kr[Mr])};kr[Mr]=ar,vr?Rr(vr,[_r,Kr]):Kr()},clone(_r){const Hr=resolveTransitionHooks(_r,or,lr,Ar,cr);return cr&&cr(Hr),Hr}};return Lr}function emptyPlaceholder(ar){if(isKeepAlive(ar))return ar=cloneVNode(ar),ar.children=null,ar}function getInnerChild$1(ar){if(!isKeepAlive(ar))return isTeleport(ar.type)&&ar.children?findNonCommentChild(ar.children):ar;if(ar.component)return ar.component.subTree;const{shapeFlag:or,children:lr}=ar;if(lr){if(or&16)return lr[0];if(or&32&&isFunction$1(lr.default))return lr.default()}}function setTransitionHooks(ar,or){ar.shapeFlag&6&&ar.component?(ar.transition=or,setTransitionHooks(ar.component.subTree,or)):ar.shapeFlag&128?(ar.ssContent.transition=or.clone(ar.ssContent),ar.ssFallback.transition=or.clone(ar.ssFallback)):ar.transition=or}function getTransitionRawChildren(ar,or=!1,lr){let Ar=[],cr=0;for(let ur=0;ur<ar.length;ur++){let dr=ar[ur];const hr=lr==null?dr.key:String(lr)+String(dr.key!=null?dr.key:ur);dr.type===Fragment$1?(dr.patchFlag&128&&cr++,Ar=Ar.concat(getTransitionRawChildren(dr.children,or,hr))):(or||dr.type!==Comment)&&Ar.push(hr!=null?cloneVNode(dr,{key:hr}):dr)}if(cr>1)for(let ur=0;ur<Ar.length;ur++)Ar[ur].patchFlag=-2;return Ar}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(ar,or){return isFunction$1(ar)?extend$1({name:ar.name},or,{setup:ar}):ar}function useId(){const ar=getCurrentInstance();return ar?(ar.appContext.config.idPrefix||"v")+"-"+ar.ids[0]+ar.ids[1]++:""}function markAsyncBoundary(ar){ar.ids=[ar.ids[0]+ar.ids[2]+++"-",0,0]}function useTemplateRef(ar){const or=getCurrentInstance(),lr=shallowRef(null);if(or){const cr=or.refs===EMPTY_OBJ?or.refs={}:or.refs;Object.defineProperty(cr,ar,{enumerable:!0,get:()=>lr.value,set:ur=>lr.value=ur})}return lr}function setRef(ar,or,lr,Ar,cr=!1){if(isArray$1(ar)){ar.forEach((br,wr)=>setRef(br,or&&(isArray$1(or)?or[wr]:or),lr,Ar,cr));return}if(isAsyncWrapper(Ar)&&!cr){Ar.shapeFlag&512&&Ar.type.__asyncResolved&&Ar.component.subTree.component&&setRef(ar,or,lr,Ar.component.subTree);return}const ur=Ar.shapeFlag&4?getComponentPublicInstance(Ar.component):Ar.el,dr=cr?null:ur,{i:hr,r:fr}=ar,gr=or&&or.r,pr=hr.refs===EMPTY_OBJ?hr.refs={}:hr.refs,mr=hr.setupState,yr=toRaw(mr),vr=mr===EMPTY_OBJ?()=>!1:br=>hasOwn(yr,br);if(gr!=null&&gr!==fr&&(isString(gr)?(pr[gr]=null,vr(gr)&&(mr[gr]=null)):isRef(gr)&&(gr.value=null)),isFunction$1(fr))callWithErrorHandling(fr,hr,12,[dr,pr]);else{const br=isString(fr),wr=isRef(fr);if(br||wr){const Cr=()=>{if(ar.f){const Br=br?vr(fr)?mr[fr]:pr[fr]:fr.value;cr?isArray$1(Br)&&remove(Br,ur):isArray$1(Br)?Br.includes(ur)||Br.push(ur):br?(pr[fr]=[ur],vr(fr)&&(mr[fr]=pr[fr])):(fr.value=[ur],ar.k&&(pr[ar.k]=fr.value))}else br?(pr[fr]=dr,vr(fr)&&(mr[fr]=dr)):wr&&(fr.value=dr,ar.k&&(pr[ar.k]=dr))};dr?(Cr.id=-1,queuePostRenderEffect(Cr,lr)):Cr()}}}let hasLoggedMismatchError=!1;const logMismatchError=()=>{hasLoggedMismatchError||(console.error("Hydration completed but contains mismatches."),hasLoggedMismatchError=!0)},isSVGContainer=ar=>ar.namespaceURI.includes("svg")&&ar.tagName!=="foreignObject",isMathMLContainer=ar=>ar.namespaceURI.includes("MathML"),getContainerType=ar=>{if(ar.nodeType===1){if(isSVGContainer(ar))return"svg";if(isMathMLContainer(ar))return"mathml"}},isComment=ar=>ar.nodeType===8;function createHydrationFunctions(ar){const{mt:or,p:lr,o:{patchProp:Ar,createText:cr,nextSibling:ur,parentNode:dr,remove:hr,insert:fr,createComment:gr}}=ar,pr=(Er,Tr)=>{if(!Tr.hasChildNodes()){lr(null,Er,Tr),flushPostFlushCbs(),Tr._vnode=Er;return}mr(Tr.firstChild,Er,null,null,null),flushPostFlushCbs(),Tr._vnode=Er},mr=(Er,Tr,kr,Or,Rr,Lr=!1)=>{Lr=Lr||!!Tr.dynamicChildren;const _r=isComment(Er)&&Er.data==="[",Hr=()=>wr(Er,Tr,kr,Or,Rr,_r),{type:Mr,ref:Ur,shapeFlag:Kr,patchFlag:Xr}=Tr;let Yr=Er.nodeType;Tr.el=Er,Xr===-2&&(Lr=!1,Tr.dynamicChildren=null);let Zr=null;switch(Mr){case Text$2:Yr!==3?Tr.children===""?(fr(Tr.el=cr(""),dr(Er),Er),Zr=Er):Zr=Hr():(Er.data!==Tr.children&&(logMismatchError(),Er.data=Tr.children),Zr=ur(Er));break;case Comment:Sr(Er)?(Zr=ur(Er),Br(Tr.el=Er.content.firstChild,Er,kr)):Yr!==8||_r?Zr=Hr():Zr=ur(Er);break;case Static:if(_r&&(Er=ur(Er),Yr=Er.nodeType),Yr===1||Yr===3){Zr=Er;const ns=!Tr.children.length;for(let As=0;As<Tr.staticCount;As++)ns&&(Tr.children+=Zr.nodeType===1?Zr.outerHTML:Zr.data),As===Tr.staticCount-1&&(Tr.anchor=Zr),Zr=ur(Zr);return _r?ur(Zr):Zr}else Hr();break;case Fragment$1:_r?Zr=br(Er,Tr,kr,Or,Rr,Lr):Zr=Hr();break;default:if(Kr&1)(Yr!==1||Tr.type.toLowerCase()!==Er.tagName.toLowerCase())&&!Sr(Er)?Zr=Hr():Zr=yr(Er,Tr,kr,Or,Rr,Lr);else if(Kr&6){Tr.slotScopeIds=Rr;const ns=dr(Er);if(_r?Zr=Cr(Er):isComment(Er)&&Er.data==="teleport start"?Zr=Cr(Er,Er.data,"teleport end"):Zr=ur(Er),or(Tr,ns,null,kr,Or,getContainerType(ns),Lr),isAsyncWrapper(Tr)&&!Tr.type.__asyncResolved){let As;_r?(As=createVNode(Fragment$1),As.anchor=Zr?Zr.previousSibling:ns.lastChild):As=Er.nodeType===3?createTextVNode(""):createVNode("div"),As.el=Er,Tr.component.subTree=As}}else Kr&64?Yr!==8?Zr=Hr():Zr=Tr.type.hydrate(Er,Tr,kr,Or,Rr,Lr,ar,vr):Kr&128&&(Zr=Tr.type.hydrate(Er,Tr,kr,Or,getContainerType(dr(Er)),Rr,Lr,ar,mr))}return Ur!=null&&setRef(Ur,null,Or,Tr),Zr},yr=(Er,Tr,kr,Or,Rr,Lr)=>{Lr=Lr||!!Tr.dynamicChildren;const{type:_r,props:Hr,patchFlag:Mr,shapeFlag:Ur,dirs:Kr,transition:Xr}=Tr,Yr=_r==="input"||_r==="option";if(Yr||Mr!==-1){Kr&&invokeDirectiveHook(Tr,null,kr,"created");let Zr=!1;if(Sr(Er)){Zr=needTransition(null,Xr)&&kr&&kr.vnode.props&&kr.vnode.props.appear;const As=Er.content.firstChild;Zr&&Xr.beforeEnter(As),Br(As,Er,kr),Tr.el=Er=As}if(Ur&16&&!(Hr&&(Hr.innerHTML||Hr.textContent))){let As=vr(Er.firstChild,Tr,Er,kr,Or,Rr,Lr);for(;As;){isMismatchAllowed(Er,1)||logMismatchError();const is=As;As=As.nextSibling,hr(is)}}else if(Ur&8){let As=Tr.children;As[0]===`
`&&(Er.tagName==="PRE"||Er.tagName==="TEXTAREA")&&(As=As.slice(1)),Er.textContent!==As&&(isMismatchAllowed(Er,0)||logMismatchError(),Er.textContent=Tr.children)}if(Hr){if(Yr||!Lr||Mr&48){const As=Er.tagName.includes("-");for(const is in Hr)(Yr&&(is.endsWith("value")||is==="indeterminate")||isOn(is)&&!isReservedProp(is)||is[0]==="."||As)&&Ar(Er,is,null,Hr[is],void 0,kr)}else if(Hr.onClick)Ar(Er,"onClick",null,Hr.onClick,void 0,kr);else if(Mr&4&&isReactive(Hr.style))for(const As in Hr.style)Hr.style[As]}let ns;(ns=Hr&&Hr.onVnodeBeforeMount)&&invokeVNodeHook(ns,kr,Tr),Kr&&invokeDirectiveHook(Tr,null,kr,"beforeMount"),((ns=Hr&&Hr.onVnodeMounted)||Kr||Zr)&&queueEffectWithSuspense(()=>{ns&&invokeVNodeHook(ns,kr,Tr),Zr&&Xr.enter(Er),Kr&&invokeDirectiveHook(Tr,null,kr,"mounted")},Or)}return Er.nextSibling},vr=(Er,Tr,kr,Or,Rr,Lr,_r)=>{_r=_r||!!Tr.dynamicChildren;const Hr=Tr.children,Mr=Hr.length;for(let Ur=0;Ur<Mr;Ur++){const Kr=_r?Hr[Ur]:Hr[Ur]=normalizeVNode(Hr[Ur]),Xr=Kr.type===Text$2;Er?(Xr&&!_r&&Ur+1<Mr&&normalizeVNode(Hr[Ur+1]).type===Text$2&&(fr(cr(Er.data.slice(Kr.children.length)),kr,ur(Er)),Er.data=Kr.children),Er=mr(Er,Kr,Or,Rr,Lr,_r)):Xr&&!Kr.children?fr(Kr.el=cr(""),kr):(isMismatchAllowed(kr,1)||logMismatchError(),lr(null,Kr,kr,null,Or,Rr,getContainerType(kr),Lr))}return Er},br=(Er,Tr,kr,Or,Rr,Lr)=>{const{slotScopeIds:_r}=Tr;_r&&(Rr=Rr?Rr.concat(_r):_r);const Hr=dr(Er),Mr=vr(ur(Er),Tr,Hr,kr,Or,Rr,Lr);return Mr&&isComment(Mr)&&Mr.data==="]"?ur(Tr.anchor=Mr):(logMismatchError(),fr(Tr.anchor=gr("]"),Hr,Mr),Mr)},wr=(Er,Tr,kr,Or,Rr,Lr)=>{if(isMismatchAllowed(Er.parentElement,1)||logMismatchError(),Tr.el=null,Lr){const Mr=Cr(Er);for(;;){const Ur=ur(Er);if(Ur&&Ur!==Mr)hr(Ur);else break}}const _r=ur(Er),Hr=dr(Er);return hr(Er),lr(null,Tr,Hr,_r,kr,Or,getContainerType(Hr),Rr),kr&&(kr.vnode.el=Tr.el,updateHOCHostEl(kr,Tr.el)),_r},Cr=(Er,Tr="[",kr="]")=>{let Or=0;for(;Er;)if(Er=ur(Er),Er&&isComment(Er)&&(Er.data===Tr&&Or++,Er.data===kr)){if(Or===0)return ur(Er);Or--}return Er},Br=(Er,Tr,kr)=>{const Or=Tr.parentNode;Or&&Or.replaceChild(Er,Tr);let Rr=kr;for(;Rr;)Rr.vnode.el===Tr&&(Rr.vnode.el=Rr.subTree.el=Er),Rr=Rr.parent},Sr=Er=>Er.nodeType===1&&Er.tagName==="TEMPLATE";return[pr,mr]}const allowMismatchAttr="data-allow-mismatch",MismatchTypeString={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function isMismatchAllowed(ar,or){if(or===0||or===1)for(;ar&&!ar.hasAttribute(allowMismatchAttr);)ar=ar.parentElement;const lr=ar&&ar.getAttribute(allowMismatchAttr);if(lr==null)return!1;if(lr==="")return!0;{const Ar=lr.split(",");return or===0&&Ar.includes("children")?!0:lr.split(",").includes(MismatchTypeString[or])}}const requestIdleCallback=getGlobalThis().requestIdleCallback||(ar=>setTimeout(ar,1)),cancelIdleCallback=getGlobalThis().cancelIdleCallback||(ar=>clearTimeout(ar)),hydrateOnIdle=(ar=1e4)=>or=>{const lr=requestIdleCallback(or,{timeout:ar});return()=>cancelIdleCallback(lr)};function elementIsVisibleInViewport(ar){const{top:or,left:lr,bottom:Ar,right:cr}=ar.getBoundingClientRect(),{innerHeight:ur,innerWidth:dr}=window;return(or>0&&or<ur||Ar>0&&Ar<ur)&&(lr>0&&lr<dr||cr>0&&cr<dr)}const hydrateOnVisible=ar=>(or,lr)=>{const Ar=new IntersectionObserver(cr=>{for(const ur of cr)if(ur.isIntersecting){Ar.disconnect(),or();break}},ar);return lr(cr=>{if(cr instanceof Element){if(elementIsVisibleInViewport(cr))return or(),Ar.disconnect(),!1;Ar.observe(cr)}}),()=>Ar.disconnect()},hydrateOnMediaQuery=ar=>or=>{if(ar){const lr=matchMedia(ar);if(lr.matches)or();else return lr.addEventListener("change",or,{once:!0}),()=>lr.removeEventListener("change",or)}},hydrateOnInteraction=(ar=[])=>(or,lr)=>{isString(ar)&&(ar=[ar]);let Ar=!1;const cr=dr=>{Ar||(Ar=!0,ur(),or(),dr.target.dispatchEvent(new dr.constructor(dr.type,dr)))},ur=()=>{lr(dr=>{for(const hr of ar)dr.removeEventListener(hr,cr)})};return lr(dr=>{for(const hr of ar)dr.addEventListener(hr,cr,{once:!0})}),ur};function forEachElement(ar,or){if(isComment(ar)&&ar.data==="["){let lr=1,Ar=ar.nextSibling;for(;Ar;){if(Ar.nodeType===1){if(or(Ar)===!1)break}else if(isComment(Ar))if(Ar.data==="]"){if(--lr===0)break}else Ar.data==="["&&lr++;Ar=Ar.nextSibling}}else or(ar)}const isAsyncWrapper=ar=>!!ar.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function defineAsyncComponent(ar){isFunction$1(ar)&&(ar={loader:ar});const{loader:or,loadingComponent:lr,errorComponent:Ar,delay:cr=200,hydrate:ur,timeout:dr,suspensible:hr=!0,onError:fr}=ar;let gr=null,pr,mr=0;const yr=()=>(mr++,gr=null,vr()),vr=()=>{let br;return gr||(br=gr=or().catch(wr=>{if(wr=wr instanceof Error?wr:new Error(String(wr)),fr)return new Promise((Cr,Br)=>{fr(wr,()=>Cr(yr()),()=>Br(wr),mr+1)});throw wr}).then(wr=>br!==gr&&gr?gr:(wr&&(wr.__esModule||wr[Symbol.toStringTag]==="Module")&&(wr=wr.default),pr=wr,wr)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:vr,__asyncHydrate(br,wr,Cr){const Br=ur?()=>{const Sr=ur(Cr,Er=>forEachElement(br,Er));Sr&&(wr.bum||(wr.bum=[])).push(Sr)}:Cr;pr?Br():vr().then(()=>!wr.isUnmounted&&Br())},get __asyncResolved(){return pr},setup(){const br=currentInstance;if(markAsyncBoundary(br),pr)return()=>createInnerComp(pr,br);const wr=Er=>{gr=null,handleError(Er,br,13,!Ar)};if(hr&&br.suspense||isInSSRComponentSetup)return vr().then(Er=>()=>createInnerComp(Er,br)).catch(Er=>(wr(Er),()=>Ar?createVNode(Ar,{error:Er}):null));const Cr=ref(!1),Br=ref(),Sr=ref(!!cr);return cr&&setTimeout(()=>{Sr.value=!1},cr),dr!=null&&setTimeout(()=>{if(!Cr.value&&!Br.value){const Er=new Error(`Async component timed out after ${dr}ms.`);wr(Er),Br.value=Er}},dr),vr().then(()=>{Cr.value=!0,br.parent&&isKeepAlive(br.parent.vnode)&&br.parent.update()}).catch(Er=>{wr(Er),Br.value=Er}),()=>{if(Cr.value&&pr)return createInnerComp(pr,br);if(Br.value&&Ar)return createVNode(Ar,{error:Br.value});if(lr&&!Sr.value)return createVNode(lr)}}})}function createInnerComp(ar,or){const{ref:lr,props:Ar,children:cr,ce:ur}=or.vnode,dr=createVNode(ar,Ar,cr);return dr.ref=lr,dr.ce=ur,delete or.vnode.ce,dr}const isKeepAlive=ar=>ar.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(ar,{slots:or}){const lr=getCurrentInstance(),Ar=lr.ctx;if(!Ar.renderer)return()=>{const Sr=or.default&&or.default();return Sr&&Sr.length===1?Sr[0]:Sr};const cr=new Map,ur=new Set;let dr=null;const hr=lr.suspense,{renderer:{p:fr,m:gr,um:pr,o:{createElement:mr}}}=Ar,yr=mr("div");Ar.activate=(Sr,Er,Tr,kr,Or)=>{const Rr=Sr.component;gr(Sr,Er,Tr,0,hr),fr(Rr.vnode,Sr,Er,Tr,Rr,hr,kr,Sr.slotScopeIds,Or),queuePostRenderEffect(()=>{Rr.isDeactivated=!1,Rr.a&&invokeArrayFns(Rr.a);const Lr=Sr.props&&Sr.props.onVnodeMounted;Lr&&invokeVNodeHook(Lr,Rr.parent,Sr)},hr)},Ar.deactivate=Sr=>{const Er=Sr.component;invalidateMount(Er.m),invalidateMount(Er.a),gr(Sr,yr,null,1,hr),queuePostRenderEffect(()=>{Er.da&&invokeArrayFns(Er.da);const Tr=Sr.props&&Sr.props.onVnodeUnmounted;Tr&&invokeVNodeHook(Tr,Er.parent,Sr),Er.isDeactivated=!0},hr)};function vr(Sr){resetShapeFlag(Sr),pr(Sr,lr,hr,!0)}function br(Sr){cr.forEach((Er,Tr)=>{const kr=getComponentName(Er.type);kr&&!Sr(kr)&&wr(Tr)})}function wr(Sr){const Er=cr.get(Sr);Er&&(!dr||!isSameVNodeType(Er,dr))?vr(Er):dr&&resetShapeFlag(dr),cr.delete(Sr),ur.delete(Sr)}watch(()=>[ar.include,ar.exclude],([Sr,Er])=>{Sr&&br(Tr=>matches$2(Sr,Tr)),Er&&br(Tr=>!matches$2(Er,Tr))},{flush:"post",deep:!0});let Cr=null;const Br=()=>{Cr!=null&&(isSuspense(lr.subTree.type)?queuePostRenderEffect(()=>{cr.set(Cr,getInnerChild(lr.subTree))},lr.subTree.suspense):cr.set(Cr,getInnerChild(lr.subTree)))};return onMounted(Br),onUpdated(Br),onBeforeUnmount(()=>{cr.forEach(Sr=>{const{subTree:Er,suspense:Tr}=lr,kr=getInnerChild(Er);if(Sr.type===kr.type&&Sr.key===kr.key){resetShapeFlag(kr);const Or=kr.component.da;Or&&queuePostRenderEffect(Or,Tr);return}vr(Sr)})}),()=>{if(Cr=null,!or.default)return dr=null;const Sr=or.default(),Er=Sr[0];if(Sr.length>1)return dr=null,Sr;if(!isVNode(Er)||!(Er.shapeFlag&4)&&!(Er.shapeFlag&128))return dr=null,Er;let Tr=getInnerChild(Er);if(Tr.type===Comment)return dr=null,Tr;const kr=Tr.type,Or=getComponentName(isAsyncWrapper(Tr)?Tr.type.__asyncResolved||{}:kr),{include:Rr,exclude:Lr,max:_r}=ar;if(Rr&&(!Or||!matches$2(Rr,Or))||Lr&&Or&&matches$2(Lr,Or))return Tr.shapeFlag&=-257,dr=Tr,Er;const Hr=Tr.key==null?kr:Tr.key,Mr=cr.get(Hr);return Tr.el&&(Tr=cloneVNode(Tr),Er.shapeFlag&128&&(Er.ssContent=Tr)),Cr=Hr,Mr?(Tr.el=Mr.el,Tr.component=Mr.component,Tr.transition&&setTransitionHooks(Tr,Tr.transition),Tr.shapeFlag|=512,ur.delete(Hr),ur.add(Hr)):(ur.add(Hr),_r&&ur.size>parseInt(_r,10)&&wr(ur.values().next().value)),Tr.shapeFlag|=256,dr=Tr,isSuspense(Er.type)?Er:Tr}}},KeepAlive=KeepAliveImpl;function matches$2(ar,or){return isArray$1(ar)?ar.some(lr=>matches$2(lr,or)):isString(ar)?ar.split(",").includes(or):isRegExp$1(ar)?(ar.lastIndex=0,ar.test(or)):!1}function onActivated(ar,or){registerKeepAliveHook(ar,"a",or)}function onDeactivated(ar,or){registerKeepAliveHook(ar,"da",or)}function registerKeepAliveHook(ar,or,lr=currentInstance){const Ar=ar.__wdc||(ar.__wdc=()=>{let cr=lr;for(;cr;){if(cr.isDeactivated)return;cr=cr.parent}return ar()});if(injectHook(or,Ar,lr),lr){let cr=lr.parent;for(;cr&&cr.parent;)isKeepAlive(cr.parent.vnode)&&injectToKeepAliveRoot(Ar,or,lr,cr),cr=cr.parent}}function injectToKeepAliveRoot(ar,or,lr,Ar){const cr=injectHook(or,ar,Ar,!0);onUnmounted(()=>{remove(Ar[or],cr)},lr)}function resetShapeFlag(ar){ar.shapeFlag&=-257,ar.shapeFlag&=-513}function getInnerChild(ar){return ar.shapeFlag&128?ar.ssContent:ar}function injectHook(ar,or,lr=currentInstance,Ar=!1){if(lr){const cr=lr[ar]||(lr[ar]=[]),ur=or.__weh||(or.__weh=(...dr)=>{pauseTracking();const hr=setCurrentInstance(lr),fr=callWithAsyncErrorHandling(or,lr,ar,dr);return hr(),resetTracking(),fr});return Ar?cr.unshift(ur):cr.push(ur),ur}}const createHook=ar=>(or,lr=currentInstance)=>{(!isInSSRComponentSetup||ar==="sp")&&injectHook(ar,(...Ar)=>or(...Ar),lr)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(ar,or=currentInstance){injectHook("ec",ar,or)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(ar,or){return resolveAsset(COMPONENTS,ar,!0,or)||ar}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(ar){return isString(ar)?resolveAsset(COMPONENTS,ar,!1)||ar:ar||NULL_DYNAMIC_COMPONENT}function resolveDirective(ar){return resolveAsset(DIRECTIVES,ar)}function resolveAsset(ar,or,lr=!0,Ar=!1){const cr=currentRenderingInstance||currentInstance;if(cr){const ur=cr.type;if(ar===COMPONENTS){const hr=getComponentName(ur,!1);if(hr&&(hr===or||hr===camelize(or)||hr===capitalize(camelize(or))))return ur}const dr=resolve(cr[ar]||ur[ar],or)||resolve(cr.appContext[ar],or);return!dr&&Ar?ur:dr}}function resolve(ar,or){return ar&&(ar[or]||ar[camelize(or)]||ar[capitalize(camelize(or))])}function renderList(ar,or,lr,Ar){let cr;const ur=lr&&lr[Ar],dr=isArray$1(ar);if(dr||isString(ar)){const hr=dr&&isReactive(ar);let fr=!1,gr=!1;hr&&(fr=!isShallow(ar),gr=isReadonly(ar),ar=shallowReadArray(ar)),cr=new Array(ar.length);for(let pr=0,mr=ar.length;pr<mr;pr++)cr[pr]=or(fr?gr?toReadonly(toReactive(ar[pr])):toReactive(ar[pr]):ar[pr],pr,void 0,ur&&ur[pr])}else if(typeof ar=="number"){cr=new Array(ar);for(let hr=0;hr<ar;hr++)cr[hr]=or(hr+1,hr,void 0,ur&&ur[hr])}else if(isObject(ar))if(ar[Symbol.iterator])cr=Array.from(ar,(hr,fr)=>or(hr,fr,void 0,ur&&ur[fr]));else{const hr=Object.keys(ar);cr=new Array(hr.length);for(let fr=0,gr=hr.length;fr<gr;fr++){const pr=hr[fr];cr[fr]=or(ar[pr],pr,fr,ur&&ur[fr])}}else cr=[];return lr&&(lr[Ar]=cr),cr}function createSlots(ar,or){for(let lr=0;lr<or.length;lr++){const Ar=or[lr];if(isArray$1(Ar))for(let cr=0;cr<Ar.length;cr++)ar[Ar[cr].name]=Ar[cr].fn;else Ar&&(ar[Ar.name]=Ar.key?(...cr)=>{const ur=Ar.fn(...cr);return ur&&(ur.key=Ar.key),ur}:Ar.fn)}return ar}function renderSlot(ar,or,lr={},Ar,cr){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return or!=="default"&&(lr.name=or),openBlock(),createBlock(Fragment$1,null,[createVNode("slot",lr,Ar&&Ar())],64);let ur=ar[or];ur&&ur._c&&(ur._d=!1),openBlock();const dr=ur&&ensureValidVNode(ur(lr)),hr=lr.key||dr&&dr.key,fr=createBlock(Fragment$1,{key:(hr&&!isSymbol(hr)?hr:`_${or}`)+(!dr&&Ar?"_fb":"")},dr||(Ar?Ar():[]),dr&&ar._===1?64:-2);return!cr&&fr.scopeId&&(fr.slotScopeIds=[fr.scopeId+"-s"]),ur&&ur._c&&(ur._d=!0),fr}function ensureValidVNode(ar){return ar.some(or=>isVNode(or)?!(or.type===Comment||or.type===Fragment$1&&!ensureValidVNode(or.children)):!0)?ar:null}function toHandlers(ar,or){const lr={};for(const Ar in ar)lr[or&&/[A-Z]/.test(Ar)?`on:${Ar}`:toHandlerKey(Ar)]=ar[Ar];return lr}const getPublicInstance=ar=>ar?isStatefulComponent(ar)?getComponentPublicInstance(ar):getPublicInstance(ar.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:ar=>ar,$el:ar=>ar.vnode.el,$data:ar=>ar.data,$props:ar=>ar.props,$attrs:ar=>ar.attrs,$slots:ar=>ar.slots,$refs:ar=>ar.refs,$parent:ar=>getPublicInstance(ar.parent),$root:ar=>getPublicInstance(ar.root),$host:ar=>ar.ce,$emit:ar=>ar.emit,$options:ar=>resolveMergedOptions(ar),$forceUpdate:ar=>ar.f||(ar.f=()=>{queueJob(ar.update)}),$nextTick:ar=>ar.n||(ar.n=nextTick.bind(ar.proxy)),$watch:ar=>instanceWatch.bind(ar)}),hasSetupBinding=(ar,or)=>ar!==EMPTY_OBJ&&!ar.__isScriptSetup&&hasOwn(ar,or),PublicInstanceProxyHandlers={get({_:ar},or){if(or==="__v_skip")return!0;const{ctx:lr,setupState:Ar,data:cr,props:ur,accessCache:dr,type:hr,appContext:fr}=ar;let gr;if(or[0]!=="$"){const vr=dr[or];if(vr!==void 0)switch(vr){case 1:return Ar[or];case 2:return cr[or];case 4:return lr[or];case 3:return ur[or]}else{if(hasSetupBinding(Ar,or))return dr[or]=1,Ar[or];if(cr!==EMPTY_OBJ&&hasOwn(cr,or))return dr[or]=2,cr[or];if((gr=ar.propsOptions[0])&&hasOwn(gr,or))return dr[or]=3,ur[or];if(lr!==EMPTY_OBJ&&hasOwn(lr,or))return dr[or]=4,lr[or];shouldCacheAccess&&(dr[or]=0)}}const pr=publicPropertiesMap[or];let mr,yr;if(pr)return or==="$attrs"&&track(ar.attrs,"get",""),pr(ar);if((mr=hr.__cssModules)&&(mr=mr[or]))return mr;if(lr!==EMPTY_OBJ&&hasOwn(lr,or))return dr[or]=4,lr[or];if(yr=fr.config.globalProperties,hasOwn(yr,or))return yr[or]},set({_:ar},or,lr){const{data:Ar,setupState:cr,ctx:ur}=ar;return hasSetupBinding(cr,or)?(cr[or]=lr,!0):Ar!==EMPTY_OBJ&&hasOwn(Ar,or)?(Ar[or]=lr,!0):hasOwn(ar.props,or)||or[0]==="$"&&or.slice(1)in ar?!1:(ur[or]=lr,!0)},has({_:{data:ar,setupState:or,accessCache:lr,ctx:Ar,appContext:cr,propsOptions:ur}},dr){let hr;return!!lr[dr]||ar!==EMPTY_OBJ&&hasOwn(ar,dr)||hasSetupBinding(or,dr)||(hr=ur[0])&&hasOwn(hr,dr)||hasOwn(Ar,dr)||hasOwn(publicPropertiesMap,dr)||hasOwn(cr.config.globalProperties,dr)},defineProperty(ar,or,lr){return lr.get!=null?ar._.accessCache[or]=0:hasOwn(lr,"value")&&this.set(ar,or,lr.value,null),Reflect.defineProperty(ar,or,lr)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$1({},PublicInstanceProxyHandlers,{get(ar,or){if(or!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(ar,or,ar)},has(ar,or){return or[0]!=="_"&&!isGloballyAllowed(or)}});function defineProps(){return null}function defineEmits(){return null}function defineExpose(ar){}function defineOptions(ar){}function defineSlots(){return null}function defineModel(){}function withDefaults(ar,or){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const ar=getCurrentInstance();return ar.setupContext||(ar.setupContext=createSetupContext(ar))}function normalizePropsOrEmits(ar){return isArray$1(ar)?ar.reduce((or,lr)=>(or[lr]=null,or),{}):ar}function mergeDefaults(ar,or){const lr=normalizePropsOrEmits(ar);for(const Ar in or){if(Ar.startsWith("__skip"))continue;let cr=lr[Ar];cr?isArray$1(cr)||isFunction$1(cr)?cr=lr[Ar]={type:cr,default:or[Ar]}:cr.default=or[Ar]:cr===null&&(cr=lr[Ar]={default:or[Ar]}),cr&&or[`__skip_${Ar}`]&&(cr.skipFactory=!0)}return lr}function mergeModels(ar,or){return!ar||!or?ar||or:isArray$1(ar)&&isArray$1(or)?ar.concat(or):extend$1({},normalizePropsOrEmits(ar),normalizePropsOrEmits(or))}function createPropsRestProxy(ar,or){const lr={};for(const Ar in ar)or.includes(Ar)||Object.defineProperty(lr,Ar,{enumerable:!0,get:()=>ar[Ar]});return lr}function withAsyncContext(ar){const or=getCurrentInstance();let lr=ar();return unsetCurrentInstance(),isPromise(lr)&&(lr=lr.catch(Ar=>{throw setCurrentInstance(or),Ar})),[lr,()=>setCurrentInstance(or)]}let shouldCacheAccess=!0;function applyOptions(ar){const or=resolveMergedOptions(ar),lr=ar.proxy,Ar=ar.ctx;shouldCacheAccess=!1,or.beforeCreate&&callHook$1(or.beforeCreate,ar,"bc");const{data:cr,computed:ur,methods:dr,watch:hr,provide:fr,inject:gr,created:pr,beforeMount:mr,mounted:yr,beforeUpdate:vr,updated:br,activated:wr,deactivated:Cr,beforeDestroy:Br,beforeUnmount:Sr,destroyed:Er,unmounted:Tr,render:kr,renderTracked:Or,renderTriggered:Rr,errorCaptured:Lr,serverPrefetch:_r,expose:Hr,inheritAttrs:Mr,components:Ur,directives:Kr,filters:Xr}=or;if(gr&&resolveInjections(gr,Ar,null),dr)for(const ns in dr){const As=dr[ns];isFunction$1(As)&&(Ar[ns]=As.bind(lr))}if(cr){const ns=cr.call(lr,lr);isObject(ns)&&(ar.data=reactive(ns))}if(shouldCacheAccess=!0,ur)for(const ns in ur){const As=ur[ns],is=isFunction$1(As)?As.bind(lr,lr):isFunction$1(As.get)?As.get.bind(lr,lr):NOOP,gs=!isFunction$1(As)&&isFunction$1(As.set)?As.set.bind(lr):NOOP,Os=computed({get:is,set:gs});Object.defineProperty(Ar,ns,{enumerable:!0,configurable:!0,get:()=>Os.value,set:Vr=>Os.value=Vr})}if(hr)for(const ns in hr)createWatcher(hr[ns],Ar,lr,ns);if(fr){const ns=isFunction$1(fr)?fr.call(lr):fr;Reflect.ownKeys(ns).forEach(As=>{provide(As,ns[As])})}pr&&callHook$1(pr,ar,"c");function Zr(ns,As){isArray$1(As)?As.forEach(is=>ns(is.bind(lr))):As&&ns(As.bind(lr))}if(Zr(onBeforeMount,mr),Zr(onMounted,yr),Zr(onBeforeUpdate,vr),Zr(onUpdated,br),Zr(onActivated,wr),Zr(onDeactivated,Cr),Zr(onErrorCaptured,Lr),Zr(onRenderTracked,Or),Zr(onRenderTriggered,Rr),Zr(onBeforeUnmount,Sr),Zr(onUnmounted,Tr),Zr(onServerPrefetch,_r),isArray$1(Hr))if(Hr.length){const ns=ar.exposed||(ar.exposed={});Hr.forEach(As=>{Object.defineProperty(ns,As,{get:()=>lr[As],set:is=>lr[As]=is})})}else ar.exposed||(ar.exposed={});kr&&ar.render===NOOP&&(ar.render=kr),Mr!=null&&(ar.inheritAttrs=Mr),Ur&&(ar.components=Ur),Kr&&(ar.directives=Kr),_r&&markAsyncBoundary(ar)}function resolveInjections(ar,or,lr=NOOP){isArray$1(ar)&&(ar=normalizeInject(ar));for(const Ar in ar){const cr=ar[Ar];let ur;isObject(cr)?"default"in cr?ur=inject(cr.from||Ar,cr.default,!0):ur=inject(cr.from||Ar):ur=inject(cr),isRef(ur)?Object.defineProperty(or,Ar,{enumerable:!0,configurable:!0,get:()=>ur.value,set:dr=>ur.value=dr}):or[Ar]=ur}}function callHook$1(ar,or,lr){callWithAsyncErrorHandling(isArray$1(ar)?ar.map(Ar=>Ar.bind(or.proxy)):ar.bind(or.proxy),or,lr)}function createWatcher(ar,or,lr,Ar){let cr=Ar.includes(".")?createPathGetter(lr,Ar):()=>lr[Ar];if(isString(ar)){const ur=or[ar];isFunction$1(ur)&&watch(cr,ur)}else if(isFunction$1(ar))watch(cr,ar.bind(lr));else if(isObject(ar))if(isArray$1(ar))ar.forEach(ur=>createWatcher(ur,or,lr,Ar));else{const ur=isFunction$1(ar.handler)?ar.handler.bind(lr):or[ar.handler];isFunction$1(ur)&&watch(cr,ur,ar)}}function resolveMergedOptions(ar){const or=ar.type,{mixins:lr,extends:Ar}=or,{mixins:cr,optionsCache:ur,config:{optionMergeStrategies:dr}}=ar.appContext,hr=ur.get(or);let fr;return hr?fr=hr:!cr.length&&!lr&&!Ar?fr=or:(fr={},cr.length&&cr.forEach(gr=>mergeOptions$1(fr,gr,dr,!0)),mergeOptions$1(fr,or,dr)),isObject(or)&&ur.set(or,fr),fr}function mergeOptions$1(ar,or,lr,Ar=!1){const{mixins:cr,extends:ur}=or;ur&&mergeOptions$1(ar,ur,lr,!0),cr&&cr.forEach(dr=>mergeOptions$1(ar,dr,lr,!0));for(const dr in or)if(!(Ar&&dr==="expose")){const hr=internalOptionMergeStrats[dr]||lr&&lr[dr];ar[dr]=hr?hr(ar[dr],or[dr]):or[dr]}return ar}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(ar,or){return or?ar?function(){return extend$1(isFunction$1(ar)?ar.call(this,this):ar,isFunction$1(or)?or.call(this,this):or)}:or:ar}function mergeInject(ar,or){return mergeObjectOptions(normalizeInject(ar),normalizeInject(or))}function normalizeInject(ar){if(isArray$1(ar)){const or={};for(let lr=0;lr<ar.length;lr++)or[ar[lr]]=ar[lr];return or}return ar}function mergeAsArray(ar,or){return ar?[...new Set([].concat(ar,or))]:or}function mergeObjectOptions(ar,or){return ar?extend$1(Object.create(null),ar,or):or}function mergeEmitsOrPropsOptions(ar,or){return ar?isArray$1(ar)&&isArray$1(or)?[...new Set([...ar,...or])]:extend$1(Object.create(null),normalizePropsOrEmits(ar),normalizePropsOrEmits(or??{})):or}function mergeWatchOptions(ar,or){if(!ar)return or;if(!or)return ar;const lr=extend$1(Object.create(null),ar);for(const Ar in or)lr[Ar]=mergeAsArray(ar[Ar],or[Ar]);return lr}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(ar,or){return function(Ar,cr=null){isFunction$1(Ar)||(Ar=extend$1({},Ar)),cr!=null&&!isObject(cr)&&(cr=null);const ur=createAppContext(),dr=new WeakSet,hr=[];let fr=!1;const gr=ur.app={_uid:uid$1++,_component:Ar,_props:cr,_container:null,_context:ur,_instance:null,version:version$1,get config(){return ur.config},set config(pr){},use(pr,...mr){return dr.has(pr)||(pr&&isFunction$1(pr.install)?(dr.add(pr),pr.install(gr,...mr)):isFunction$1(pr)&&(dr.add(pr),pr(gr,...mr))),gr},mixin(pr){return ur.mixins.includes(pr)||ur.mixins.push(pr),gr},component(pr,mr){return mr?(ur.components[pr]=mr,gr):ur.components[pr]},directive(pr,mr){return mr?(ur.directives[pr]=mr,gr):ur.directives[pr]},mount(pr,mr,yr){if(!fr){const vr=gr._ceVNode||createVNode(Ar,cr);return vr.appContext=ur,yr===!0?yr="svg":yr===!1&&(yr=void 0),mr&&or?or(vr,pr):ar(vr,pr,yr),fr=!0,gr._container=pr,pr.__vue_app__=gr,getComponentPublicInstance(vr.component)}},onUnmount(pr){hr.push(pr)},unmount(){fr&&(callWithAsyncErrorHandling(hr,gr._instance,16),ar(null,gr._container),delete gr._container.__vue_app__)},provide(pr,mr){return ur.provides[pr]=mr,gr},runWithContext(pr){const mr=currentApp;currentApp=gr;try{return pr()}finally{currentApp=mr}}};return gr}}let currentApp=null;function provide(ar,or){if(currentInstance){let lr=currentInstance.provides;const Ar=currentInstance.parent&&currentInstance.parent.provides;Ar===lr&&(lr=currentInstance.provides=Object.create(Ar)),lr[ar]=or}}function inject(ar,or,lr=!1){const Ar=currentInstance||currentRenderingInstance;if(Ar||currentApp){const cr=currentApp?currentApp._context.provides:Ar?Ar.parent==null?Ar.vnode.appContext&&Ar.vnode.appContext.provides:Ar.parent.provides:void 0;if(cr&&ar in cr)return cr[ar];if(arguments.length>1)return lr&&isFunction$1(or)?or.call(Ar&&Ar.proxy):or}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=ar=>Object.getPrototypeOf(ar)===internalObjectProto;function initProps(ar,or,lr,Ar=!1){const cr={},ur=createInternalObject();ar.propsDefaults=Object.create(null),setFullProps(ar,or,cr,ur);for(const dr in ar.propsOptions[0])dr in cr||(cr[dr]=void 0);lr?ar.props=Ar?cr:shallowReactive(cr):ar.type.props?ar.props=cr:ar.props=ur,ar.attrs=ur}function updateProps(ar,or,lr,Ar){const{props:cr,attrs:ur,vnode:{patchFlag:dr}}=ar,hr=toRaw(cr),[fr]=ar.propsOptions;let gr=!1;if((Ar||dr>0)&&!(dr&16)){if(dr&8){const pr=ar.vnode.dynamicProps;for(let mr=0;mr<pr.length;mr++){let yr=pr[mr];if(isEmitListener(ar.emitsOptions,yr))continue;const vr=or[yr];if(fr)if(hasOwn(ur,yr))vr!==ur[yr]&&(ur[yr]=vr,gr=!0);else{const br=camelize(yr);cr[br]=resolvePropValue(fr,hr,br,vr,ar,!1)}else vr!==ur[yr]&&(ur[yr]=vr,gr=!0)}}}else{setFullProps(ar,or,cr,ur)&&(gr=!0);let pr;for(const mr in hr)(!or||!hasOwn(or,mr)&&((pr=hyphenate(mr))===mr||!hasOwn(or,pr)))&&(fr?lr&&(lr[mr]!==void 0||lr[pr]!==void 0)&&(cr[mr]=resolvePropValue(fr,hr,mr,void 0,ar,!0)):delete cr[mr]);if(ur!==hr)for(const mr in ur)(!or||!hasOwn(or,mr))&&(delete ur[mr],gr=!0)}gr&&trigger(ar.attrs,"set","")}function setFullProps(ar,or,lr,Ar){const[cr,ur]=ar.propsOptions;let dr=!1,hr;if(or)for(let fr in or){if(isReservedProp(fr))continue;const gr=or[fr];let pr;cr&&hasOwn(cr,pr=camelize(fr))?!ur||!ur.includes(pr)?lr[pr]=gr:(hr||(hr={}))[pr]=gr:isEmitListener(ar.emitsOptions,fr)||(!(fr in Ar)||gr!==Ar[fr])&&(Ar[fr]=gr,dr=!0)}if(ur){const fr=toRaw(lr),gr=hr||EMPTY_OBJ;for(let pr=0;pr<ur.length;pr++){const mr=ur[pr];lr[mr]=resolvePropValue(cr,fr,mr,gr[mr],ar,!hasOwn(gr,mr))}}return dr}function resolvePropValue(ar,or,lr,Ar,cr,ur){const dr=ar[lr];if(dr!=null){const hr=hasOwn(dr,"default");if(hr&&Ar===void 0){const fr=dr.default;if(dr.type!==Function&&!dr.skipFactory&&isFunction$1(fr)){const{propsDefaults:gr}=cr;if(lr in gr)Ar=gr[lr];else{const pr=setCurrentInstance(cr);Ar=gr[lr]=fr.call(null,or),pr()}}else Ar=fr;cr.ce&&cr.ce._setProp(lr,Ar)}dr[0]&&(ur&&!hr?Ar=!1:dr[1]&&(Ar===""||Ar===hyphenate(lr))&&(Ar=!0))}return Ar}const mixinPropsCache=new WeakMap;function normalizePropsOptions(ar,or,lr=!1){const Ar=lr?mixinPropsCache:or.propsCache,cr=Ar.get(ar);if(cr)return cr;const ur=ar.props,dr={},hr=[];let fr=!1;if(!isFunction$1(ar)){const pr=mr=>{fr=!0;const[yr,vr]=normalizePropsOptions(mr,or,!0);extend$1(dr,yr),vr&&hr.push(...vr)};!lr&&or.mixins.length&&or.mixins.forEach(pr),ar.extends&&pr(ar.extends),ar.mixins&&ar.mixins.forEach(pr)}if(!ur&&!fr)return isObject(ar)&&Ar.set(ar,EMPTY_ARR),EMPTY_ARR;if(isArray$1(ur))for(let pr=0;pr<ur.length;pr++){const mr=camelize(ur[pr]);validatePropName(mr)&&(dr[mr]=EMPTY_OBJ)}else if(ur)for(const pr in ur){const mr=camelize(pr);if(validatePropName(mr)){const yr=ur[pr],vr=dr[mr]=isArray$1(yr)||isFunction$1(yr)?{type:yr}:extend$1({},yr),br=vr.type;let wr=!1,Cr=!0;if(isArray$1(br))for(let Br=0;Br<br.length;++Br){const Sr=br[Br],Er=isFunction$1(Sr)&&Sr.name;if(Er==="Boolean"){wr=!0;break}else Er==="String"&&(Cr=!1)}else wr=isFunction$1(br)&&br.name==="Boolean";vr[0]=wr,vr[1]=Cr,(wr||hasOwn(vr,"default"))&&hr.push(mr)}}const gr=[dr,hr];return isObject(ar)&&Ar.set(ar,gr),gr}function validatePropName(ar){return ar[0]!=="$"&&!isReservedProp(ar)}const isInternalKey=ar=>ar[0]==="_"||ar==="$stable",normalizeSlotValue=ar=>isArray$1(ar)?ar.map(normalizeVNode):[normalizeVNode(ar)],normalizeSlot$1=(ar,or,lr)=>{if(or._n)return or;const Ar=withCtx((...cr)=>normalizeSlotValue(or(...cr)),lr);return Ar._c=!1,Ar},normalizeObjectSlots=(ar,or,lr)=>{const Ar=ar._ctx;for(const cr in ar){if(isInternalKey(cr))continue;const ur=ar[cr];if(isFunction$1(ur))or[cr]=normalizeSlot$1(cr,ur,Ar);else if(ur!=null){const dr=normalizeSlotValue(ur);or[cr]=()=>dr}}},normalizeVNodeSlots=(ar,or)=>{const lr=normalizeSlotValue(or);ar.slots.default=()=>lr},assignSlots=(ar,or,lr)=>{for(const Ar in or)(lr||!isInternalKey(Ar))&&(ar[Ar]=or[Ar])},initSlots=(ar,or,lr)=>{const Ar=ar.slots=createInternalObject();if(ar.vnode.shapeFlag&32){const cr=or._;cr?(assignSlots(Ar,or,lr),lr&&def(Ar,"_",cr,!0)):normalizeObjectSlots(or,Ar)}else or&&normalizeVNodeSlots(ar,or)},updateSlots=(ar,or,lr)=>{const{vnode:Ar,slots:cr}=ar;let ur=!0,dr=EMPTY_OBJ;if(Ar.shapeFlag&32){const hr=or._;hr?lr&&hr===1?ur=!1:assignSlots(cr,or,lr):(ur=!or.$stable,normalizeObjectSlots(or,cr)),dr=or}else or&&(normalizeVNodeSlots(ar,or),dr={default:1});if(ur)for(const hr in cr)!isInternalKey(hr)&&dr[hr]==null&&delete cr[hr]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(ar){return baseCreateRenderer(ar)}function createHydrationRenderer(ar){return baseCreateRenderer(ar,createHydrationFunctions)}function baseCreateRenderer(ar,or){const lr=getGlobalThis();lr.__VUE__=!0;const{insert:Ar,remove:cr,patchProp:ur,createElement:dr,createText:hr,createComment:fr,setText:gr,setElementText:pr,parentNode:mr,nextSibling:yr,setScopeId:vr=NOOP,insertStaticContent:br}=ar,wr=(us,ps,ms,ss=null,ks=null,as=null,fs=void 0,ws=null,Is=!!ps.dynamicChildren)=>{if(us===ps)return;us&&!isSameVNodeType(us,ps)&&(ss=Jr(us),Vr(us,ks,as,!0),us=null),ps.patchFlag===-2&&(Is=!1,ps.dynamicChildren=null);const{type:Ps,ref:Ws,shapeFlag:Ks}=ps;switch(Ps){case Text$2:Cr(us,ps,ms,ss);break;case Comment:Br(us,ps,ms,ss);break;case Static:us==null&&Sr(ps,ms,ss,fs);break;case Fragment$1:Ur(us,ps,ms,ss,ks,as,fs,ws,Is);break;default:Ks&1?kr(us,ps,ms,ss,ks,as,fs,ws,Is):Ks&6?Kr(us,ps,ms,ss,ks,as,fs,ws,Is):(Ks&64||Ks&128)&&Ps.process(us,ps,ms,ss,ks,as,fs,ws,Is,bs)}Ws!=null&&ks&&setRef(Ws,us&&us.ref,as,ps||us,!ps)},Cr=(us,ps,ms,ss)=>{if(us==null)Ar(ps.el=hr(ps.children),ms,ss);else{const ks=ps.el=us.el;ps.children!==us.children&&gr(ks,ps.children)}},Br=(us,ps,ms,ss)=>{us==null?Ar(ps.el=fr(ps.children||""),ms,ss):ps.el=us.el},Sr=(us,ps,ms,ss)=>{[us.el,us.anchor]=br(us.children,ps,ms,ss,us.el,us.anchor)},Er=({el:us,anchor:ps},ms,ss)=>{let ks;for(;us&&us!==ps;)ks=yr(us),Ar(us,ms,ss),us=ks;Ar(ps,ms,ss)},Tr=({el:us,anchor:ps})=>{let ms;for(;us&&us!==ps;)ms=yr(us),cr(us),us=ms;cr(ps)},kr=(us,ps,ms,ss,ks,as,fs,ws,Is)=>{ps.type==="svg"?fs="svg":ps.type==="math"&&(fs="mathml"),us==null?Or(ps,ms,ss,ks,as,fs,ws,Is):_r(us,ps,ks,as,fs,ws,Is)},Or=(us,ps,ms,ss,ks,as,fs,ws)=>{let Is,Ps;const{props:Ws,shapeFlag:Ks,transition:Fs,dirs:ni}=us;if(Is=us.el=dr(us.type,as,Ws&&Ws.is,Ws),Ks&8?pr(Is,us.children):Ks&16&&Lr(us.children,Is,null,ss,ks,resolveChildrenNamespace(us,as),fs,ws),ni&&invokeDirectiveHook(us,null,ss,"created"),Rr(Is,us,us.scopeId,fs,ss),Ws){for(const Si in Ws)Si!=="value"&&!isReservedProp(Si)&&ur(Is,Si,null,Ws[Si],as,ss);"value"in Ws&&ur(Is,"value",null,Ws.value,as),(Ps=Ws.onVnodeBeforeMount)&&invokeVNodeHook(Ps,ss,us)}ni&&invokeDirectiveHook(us,null,ss,"beforeMount");const li=needTransition(ks,Fs);li&&Fs.beforeEnter(Is),Ar(Is,ps,ms),((Ps=Ws&&Ws.onVnodeMounted)||li||ni)&&queuePostRenderEffect(()=>{Ps&&invokeVNodeHook(Ps,ss,us),li&&Fs.enter(Is),ni&&invokeDirectiveHook(us,null,ss,"mounted")},ks)},Rr=(us,ps,ms,ss,ks)=>{if(ms&&vr(us,ms),ss)for(let as=0;as<ss.length;as++)vr(us,ss[as]);if(ks){let as=ks.subTree;if(ps===as||isSuspense(as.type)&&(as.ssContent===ps||as.ssFallback===ps)){const fs=ks.vnode;Rr(us,fs,fs.scopeId,fs.slotScopeIds,ks.parent)}}},Lr=(us,ps,ms,ss,ks,as,fs,ws,Is=0)=>{for(let Ps=Is;Ps<us.length;Ps++){const Ws=us[Ps]=ws?cloneIfMounted(us[Ps]):normalizeVNode(us[Ps]);wr(null,Ws,ps,ms,ss,ks,as,fs,ws)}},_r=(us,ps,ms,ss,ks,as,fs)=>{const ws=ps.el=us.el;let{patchFlag:Is,dynamicChildren:Ps,dirs:Ws}=ps;Is|=us.patchFlag&16;const Ks=us.props||EMPTY_OBJ,Fs=ps.props||EMPTY_OBJ;let ni;if(ms&&toggleRecurse(ms,!1),(ni=Fs.onVnodeBeforeUpdate)&&invokeVNodeHook(ni,ms,ps,us),Ws&&invokeDirectiveHook(ps,us,ms,"beforeUpdate"),ms&&toggleRecurse(ms,!0),(Ks.innerHTML&&Fs.innerHTML==null||Ks.textContent&&Fs.textContent==null)&&pr(ws,""),Ps?Hr(us.dynamicChildren,Ps,ws,ms,ss,resolveChildrenNamespace(ps,ks),as):fs||As(us,ps,ws,null,ms,ss,resolveChildrenNamespace(ps,ks),as,!1),Is>0){if(Is&16)Mr(ws,Ks,Fs,ms,ks);else if(Is&2&&Ks.class!==Fs.class&&ur(ws,"class",null,Fs.class,ks),Is&4&&ur(ws,"style",Ks.style,Fs.style,ks),Is&8){const li=ps.dynamicProps;for(let Si=0;Si<li.length;Si++){const Us=li[Si],Cs=Ks[Us],Bs=Fs[Us];(Bs!==Cs||Us==="value")&&ur(ws,Us,Cs,Bs,ks,ms)}}Is&1&&us.children!==ps.children&&pr(ws,ps.children)}else!fs&&Ps==null&&Mr(ws,Ks,Fs,ms,ks);((ni=Fs.onVnodeUpdated)||Ws)&&queuePostRenderEffect(()=>{ni&&invokeVNodeHook(ni,ms,ps,us),Ws&&invokeDirectiveHook(ps,us,ms,"updated")},ss)},Hr=(us,ps,ms,ss,ks,as,fs)=>{for(let ws=0;ws<ps.length;ws++){const Is=us[ws],Ps=ps[ws],Ws=Is.el&&(Is.type===Fragment$1||!isSameVNodeType(Is,Ps)||Is.shapeFlag&70)?mr(Is.el):ms;wr(Is,Ps,Ws,null,ss,ks,as,fs,!0)}},Mr=(us,ps,ms,ss,ks)=>{if(ps!==ms){if(ps!==EMPTY_OBJ)for(const as in ps)!isReservedProp(as)&&!(as in ms)&&ur(us,as,ps[as],null,ks,ss);for(const as in ms){if(isReservedProp(as))continue;const fs=ms[as],ws=ps[as];fs!==ws&&as!=="value"&&ur(us,as,ws,fs,ks,ss)}"value"in ms&&ur(us,"value",ps.value,ms.value,ks)}},Ur=(us,ps,ms,ss,ks,as,fs,ws,Is)=>{const Ps=ps.el=us?us.el:hr(""),Ws=ps.anchor=us?us.anchor:hr("");let{patchFlag:Ks,dynamicChildren:Fs,slotScopeIds:ni}=ps;ni&&(ws=ws?ws.concat(ni):ni),us==null?(Ar(Ps,ms,ss),Ar(Ws,ms,ss),Lr(ps.children||[],ms,Ws,ks,as,fs,ws,Is)):Ks>0&&Ks&64&&Fs&&us.dynamicChildren?(Hr(us.dynamicChildren,Fs,ms,ks,as,fs,ws),(ps.key!=null||ks&&ps===ks.subTree)&&traverseStaticChildren(us,ps,!0)):As(us,ps,ms,Ws,ks,as,fs,ws,Is)},Kr=(us,ps,ms,ss,ks,as,fs,ws,Is)=>{ps.slotScopeIds=ws,us==null?ps.shapeFlag&512?ks.ctx.activate(ps,ms,ss,fs,Is):Xr(ps,ms,ss,ks,as,fs,Is):Yr(us,ps,Is)},Xr=(us,ps,ms,ss,ks,as,fs)=>{const ws=us.component=createComponentInstance(us,ss,ks);if(isKeepAlive(us)&&(ws.ctx.renderer=bs),setupComponent(ws,!1,fs),ws.asyncDep){if(ks&&ks.registerDep(ws,Zr,fs),!us.el){const Is=ws.subTree=createVNode(Comment);Br(null,Is,ps,ms)}}else Zr(ws,us,ps,ms,ks,as,fs)},Yr=(us,ps,ms)=>{const ss=ps.component=us.component;if(shouldUpdateComponent(us,ps,ms))if(ss.asyncDep&&!ss.asyncResolved){ns(ss,ps,ms);return}else ss.next=ps,ss.update();else ps.el=us.el,ss.vnode=ps},Zr=(us,ps,ms,ss,ks,as,fs)=>{const ws=()=>{if(us.isMounted){let{next:Ks,bu:Fs,u:ni,parent:li,vnode:Si}=us;{const qs=locateNonHydratedAsyncRoot(us);if(qs){Ks&&(Ks.el=Si.el,ns(us,Ks,fs)),qs.asyncDep.then(()=>{us.isUnmounted||ws()});return}}let Us=Ks,Cs;toggleRecurse(us,!1),Ks?(Ks.el=Si.el,ns(us,Ks,fs)):Ks=Si,Fs&&invokeArrayFns(Fs),(Cs=Ks.props&&Ks.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Cs,li,Ks,Si),toggleRecurse(us,!0);const Bs=renderComponentRoot(us),$s=us.subTree;us.subTree=Bs,wr($s,Bs,mr($s.el),Jr($s),us,ks,as),Ks.el=Bs.el,Us===null&&updateHOCHostEl(us,Bs.el),ni&&queuePostRenderEffect(ni,ks),(Cs=Ks.props&&Ks.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Cs,li,Ks,Si),ks)}else{let Ks;const{el:Fs,props:ni}=ps,{bm:li,m:Si,parent:Us,root:Cs,type:Bs}=us,$s=isAsyncWrapper(ps);if(toggleRecurse(us,!1),li&&invokeArrayFns(li),!$s&&(Ks=ni&&ni.onVnodeBeforeMount)&&invokeVNodeHook(Ks,Us,ps),toggleRecurse(us,!0),Fs&&Ds){const qs=()=>{us.subTree=renderComponentRoot(us),Ds(Fs,us.subTree,us,ks,null)};$s&&Bs.__asyncHydrate?Bs.__asyncHydrate(Fs,us,qs):qs()}else{Cs.ce&&Cs.ce._injectChildStyle(Bs);const qs=us.subTree=renderComponentRoot(us);wr(null,qs,ms,ss,us,ks,as),ps.el=qs.el}if(Si&&queuePostRenderEffect(Si,ks),!$s&&(Ks=ni&&ni.onVnodeMounted)){const qs=ps;queuePostRenderEffect(()=>invokeVNodeHook(Ks,Us,qs),ks)}(ps.shapeFlag&256||Us&&isAsyncWrapper(Us.vnode)&&Us.vnode.shapeFlag&256)&&us.a&&queuePostRenderEffect(us.a,ks),us.isMounted=!0,ps=ms=ss=null}};us.scope.on();const Is=us.effect=new ReactiveEffect(ws);us.scope.off();const Ps=us.update=Is.run.bind(Is),Ws=us.job=Is.runIfDirty.bind(Is);Ws.i=us,Ws.id=us.uid,Is.scheduler=()=>queueJob(Ws),toggleRecurse(us,!0),Ps()},ns=(us,ps,ms)=>{ps.component=us;const ss=us.vnode.props;us.vnode=ps,us.next=null,updateProps(us,ps.props,ss,ms),updateSlots(us,ps.children,ms),pauseTracking(),flushPreFlushCbs(us),resetTracking()},As=(us,ps,ms,ss,ks,as,fs,ws,Is=!1)=>{const Ps=us&&us.children,Ws=us?us.shapeFlag:0,Ks=ps.children,{patchFlag:Fs,shapeFlag:ni}=ps;if(Fs>0){if(Fs&128){gs(Ps,Ks,ms,ss,ks,as,fs,ws,Is);return}else if(Fs&256){is(Ps,Ks,ms,ss,ks,as,fs,ws,Is);return}}ni&8?(Ws&16&&cs(Ps,ks,as),Ks!==Ps&&pr(ms,Ks)):Ws&16?ni&16?gs(Ps,Ks,ms,ss,ks,as,fs,ws,Is):cs(Ps,ks,as,!0):(Ws&8&&pr(ms,""),ni&16&&Lr(Ks,ms,ss,ks,as,fs,ws,Is))},is=(us,ps,ms,ss,ks,as,fs,ws,Is)=>{us=us||EMPTY_ARR,ps=ps||EMPTY_ARR;const Ps=us.length,Ws=ps.length,Ks=Math.min(Ps,Ws);let Fs;for(Fs=0;Fs<Ks;Fs++){const ni=ps[Fs]=Is?cloneIfMounted(ps[Fs]):normalizeVNode(ps[Fs]);wr(us[Fs],ni,ms,null,ks,as,fs,ws,Is)}Ps>Ws?cs(us,ks,as,!0,!1,Ks):Lr(ps,ms,ss,ks,as,fs,ws,Is,Ks)},gs=(us,ps,ms,ss,ks,as,fs,ws,Is)=>{let Ps=0;const Ws=ps.length;let Ks=us.length-1,Fs=Ws-1;for(;Ps<=Ks&&Ps<=Fs;){const ni=us[Ps],li=ps[Ps]=Is?cloneIfMounted(ps[Ps]):normalizeVNode(ps[Ps]);if(isSameVNodeType(ni,li))wr(ni,li,ms,null,ks,as,fs,ws,Is);else break;Ps++}for(;Ps<=Ks&&Ps<=Fs;){const ni=us[Ks],li=ps[Fs]=Is?cloneIfMounted(ps[Fs]):normalizeVNode(ps[Fs]);if(isSameVNodeType(ni,li))wr(ni,li,ms,null,ks,as,fs,ws,Is);else break;Ks--,Fs--}if(Ps>Ks){if(Ps<=Fs){const ni=Fs+1,li=ni<Ws?ps[ni].el:ss;for(;Ps<=Fs;)wr(null,ps[Ps]=Is?cloneIfMounted(ps[Ps]):normalizeVNode(ps[Ps]),ms,li,ks,as,fs,ws,Is),Ps++}}else if(Ps>Fs)for(;Ps<=Ks;)Vr(us[Ps],ks,as,!0),Ps++;else{const ni=Ps,li=Ps,Si=new Map;for(Ps=li;Ps<=Fs;Ps++){const Vs=ps[Ps]=Is?cloneIfMounted(ps[Ps]):normalizeVNode(ps[Ps]);Vs.key!=null&&Si.set(Vs.key,Ps)}let Us,Cs=0;const Bs=Fs-li+1;let $s=!1,qs=0;const bi=new Array(Bs);for(Ps=0;Ps<Bs;Ps++)bi[Ps]=0;for(Ps=ni;Ps<=Ks;Ps++){const Vs=us[Ps];if(Cs>=Bs){Vr(Vs,ks,as,!0);continue}let Ys;if(Vs.key!=null)Ys=Si.get(Vs.key);else for(Us=li;Us<=Fs;Us++)if(bi[Us-li]===0&&isSameVNodeType(Vs,ps[Us])){Ys=Us;break}Ys===void 0?Vr(Vs,ks,as,!0):(bi[Ys-li]=Ps+1,Ys>=qs?qs=Ys:$s=!0,wr(Vs,ps[Ys],ms,null,ks,as,fs,ws,Is),Cs++)}const zs=$s?getSequence(bi):EMPTY_ARR;for(Us=zs.length-1,Ps=Bs-1;Ps>=0;Ps--){const Vs=li+Ps,Ys=ps[Vs],fi=Vs+1<Ws?ps[Vs+1].el:ss;bi[Ps]===0?wr(null,Ys,ms,fi,ks,as,fs,ws,Is):$s&&(Us<0||Ps!==zs[Us]?Os(Ys,ms,fi,2):Us--)}}},Os=(us,ps,ms,ss,ks=null)=>{const{el:as,type:fs,transition:ws,children:Is,shapeFlag:Ps}=us;if(Ps&6){Os(us.component.subTree,ps,ms,ss);return}if(Ps&128){us.suspense.move(ps,ms,ss);return}if(Ps&64){fs.move(us,ps,ms,bs);return}if(fs===Fragment$1){Ar(as,ps,ms);for(let Ks=0;Ks<Is.length;Ks++)Os(Is[Ks],ps,ms,ss);Ar(us.anchor,ps,ms);return}if(fs===Static){Er(us,ps,ms);return}if(ss!==2&&Ps&1&&ws)if(ss===0)ws.beforeEnter(as),Ar(as,ps,ms),queuePostRenderEffect(()=>ws.enter(as),ks);else{const{leave:Ks,delayLeave:Fs,afterLeave:ni}=ws,li=()=>{us.ctx.isUnmounted?cr(as):Ar(as,ps,ms)},Si=()=>{Ks(as,()=>{li(),ni&&ni()})};Fs?Fs(as,li,Si):Si()}else Ar(as,ps,ms)},Vr=(us,ps,ms,ss=!1,ks=!1)=>{const{type:as,props:fs,ref:ws,children:Is,dynamicChildren:Ps,shapeFlag:Ws,patchFlag:Ks,dirs:Fs,cacheIndex:ni}=us;if(Ks===-2&&(ks=!1),ws!=null&&(pauseTracking(),setRef(ws,null,ms,us,!0),resetTracking()),ni!=null&&(ps.renderCache[ni]=void 0),Ws&256){ps.ctx.deactivate(us);return}const li=Ws&1&&Fs,Si=!isAsyncWrapper(us);let Us;if(Si&&(Us=fs&&fs.onVnodeBeforeUnmount)&&invokeVNodeHook(Us,ps,us),Ws&6)zr(us.component,ms,ss);else{if(Ws&128){us.suspense.unmount(ms,ss);return}li&&invokeDirectiveHook(us,null,ps,"beforeUnmount"),Ws&64?us.type.remove(us,ps,ms,bs,ss):Ps&&!Ps.hasOnce&&(as!==Fragment$1||Ks>0&&Ks&64)?cs(Ps,ps,ms,!1,!0):(as===Fragment$1&&Ks&384||!ks&&Ws&16)&&cs(Is,ps,ms),ss&&Qr(us)}(Si&&(Us=fs&&fs.onVnodeUnmounted)||li)&&queuePostRenderEffect(()=>{Us&&invokeVNodeHook(Us,ps,us),li&&invokeDirectiveHook(us,null,ps,"unmounted")},ms)},Qr=us=>{const{type:ps,el:ms,anchor:ss,transition:ks}=us;if(ps===Fragment$1){$r(ms,ss);return}if(ps===Static){Tr(us);return}const as=()=>{cr(ms),ks&&!ks.persisted&&ks.afterLeave&&ks.afterLeave()};if(us.shapeFlag&1&&ks&&!ks.persisted){const{leave:fs,delayLeave:ws}=ks,Is=()=>fs(ms,as);ws?ws(us.el,as,Is):Is()}else as()},$r=(us,ps)=>{let ms;for(;us!==ps;)ms=yr(us),cr(us),us=ms;cr(ps)},zr=(us,ps,ms)=>{const{bum:ss,scope:ks,job:as,subTree:fs,um:ws,m:Is,a:Ps,parent:Ws,slots:{__:Ks}}=us;invalidateMount(Is),invalidateMount(Ps),ss&&invokeArrayFns(ss),Ws&&isArray$1(Ks)&&Ks.forEach(Fs=>{Ws.renderCache[Fs]=void 0}),ks.stop(),as&&(as.flags|=8,Vr(fs,us,ps,ms)),ws&&queuePostRenderEffect(ws,ps),queuePostRenderEffect(()=>{us.isUnmounted=!0},ps),ps&&ps.pendingBranch&&!ps.isUnmounted&&us.asyncDep&&!us.asyncResolved&&us.suspenseId===ps.pendingId&&(ps.deps--,ps.deps===0&&ps.resolve())},cs=(us,ps,ms,ss=!1,ks=!1,as=0)=>{for(let fs=as;fs<us.length;fs++)Vr(us[fs],ps,ms,ss,ks)},Jr=us=>{if(us.shapeFlag&6)return Jr(us.component.subTree);if(us.shapeFlag&128)return us.suspense.next();const ps=yr(us.anchor||us.el),ms=ps&&ps[TeleportEndKey];return ms?yr(ms):ps};let ls=!1;const hs=(us,ps,ms)=>{us==null?ps._vnode&&Vr(ps._vnode,null,null,!0):wr(ps._vnode||null,us,ps,null,null,null,ms),ps._vnode=us,ls||(ls=!0,flushPreFlushCbs(),flushPostFlushCbs(),ls=!1)},bs={p:wr,um:Vr,m:Os,r:Qr,mt:Xr,mc:Lr,pc:As,pbc:Hr,n:Jr,o:ar};let Ts,Ds;return or&&([Ts,Ds]=or(bs)),{render:hs,hydrate:Ts,createApp:createAppAPI(hs,Ts)}}function resolveChildrenNamespace({type:ar,props:or},lr){return lr==="svg"&&ar==="foreignObject"||lr==="mathml"&&ar==="annotation-xml"&&or&&or.encoding&&or.encoding.includes("html")?void 0:lr}function toggleRecurse({effect:ar,job:or},lr){lr?(ar.flags|=32,or.flags|=4):(ar.flags&=-33,or.flags&=-5)}function needTransition(ar,or){return(!ar||ar&&!ar.pendingBranch)&&or&&!or.persisted}function traverseStaticChildren(ar,or,lr=!1){const Ar=ar.children,cr=or.children;if(isArray$1(Ar)&&isArray$1(cr))for(let ur=0;ur<Ar.length;ur++){const dr=Ar[ur];let hr=cr[ur];hr.shapeFlag&1&&!hr.dynamicChildren&&((hr.patchFlag<=0||hr.patchFlag===32)&&(hr=cr[ur]=cloneIfMounted(cr[ur]),hr.el=dr.el),!lr&&hr.patchFlag!==-2&&traverseStaticChildren(dr,hr)),hr.type===Text$2&&(hr.el=dr.el),hr.type===Comment&&!hr.el&&(hr.el=dr.el)}}function getSequence(ar){const or=ar.slice(),lr=[0];let Ar,cr,ur,dr,hr;const fr=ar.length;for(Ar=0;Ar<fr;Ar++){const gr=ar[Ar];if(gr!==0){if(cr=lr[lr.length-1],ar[cr]<gr){or[Ar]=cr,lr.push(Ar);continue}for(ur=0,dr=lr.length-1;ur<dr;)hr=ur+dr>>1,ar[lr[hr]]<gr?ur=hr+1:dr=hr;gr<ar[lr[ur]]&&(ur>0&&(or[Ar]=lr[ur-1]),lr[ur]=Ar)}}for(ur=lr.length,dr=lr[ur-1];ur-- >0;)lr[ur]=dr,dr=or[dr];return lr}function locateNonHydratedAsyncRoot(ar){const or=ar.subTree.component;if(or)return or.asyncDep&&!or.asyncResolved?or:locateNonHydratedAsyncRoot(or)}function invalidateMount(ar){if(ar)for(let or=0;or<ar.length;or++)ar[or].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(ar,or){return doWatch(ar,null,or)}function watchPostEffect(ar,or){return doWatch(ar,null,{flush:"post"})}function watchSyncEffect(ar,or){return doWatch(ar,null,{flush:"sync"})}function watch(ar,or,lr){return doWatch(ar,or,lr)}function doWatch(ar,or,lr=EMPTY_OBJ){const{immediate:Ar,deep:cr,flush:ur,once:dr}=lr,hr=extend$1({},lr),fr=or&&Ar||!or&&ur!=="post";let gr;if(isInSSRComponentSetup){if(ur==="sync"){const vr=useSSRContext();gr=vr.__watcherHandles||(vr.__watcherHandles=[])}else if(!fr){const vr=()=>{};return vr.stop=NOOP,vr.resume=NOOP,vr.pause=NOOP,vr}}const pr=currentInstance;hr.call=(vr,br,wr)=>callWithAsyncErrorHandling(vr,pr,br,wr);let mr=!1;ur==="post"?hr.scheduler=vr=>{queuePostRenderEffect(vr,pr&&pr.suspense)}:ur!=="sync"&&(mr=!0,hr.scheduler=(vr,br)=>{br?vr():queueJob(vr)}),hr.augmentJob=vr=>{or&&(vr.flags|=4),mr&&(vr.flags|=2,pr&&(vr.id=pr.uid,vr.i=pr))};const yr=watch$1(ar,or,hr);return isInSSRComponentSetup&&(gr?gr.push(yr):fr&&yr()),yr}function instanceWatch(ar,or,lr){const Ar=this.proxy,cr=isString(ar)?ar.includes(".")?createPathGetter(Ar,ar):()=>Ar[ar]:ar.bind(Ar,Ar);let ur;isFunction$1(or)?ur=or:(ur=or.handler,lr=or);const dr=setCurrentInstance(this),hr=doWatch(cr,ur.bind(Ar),lr);return dr(),hr}function createPathGetter(ar,or){const lr=or.split(".");return()=>{let Ar=ar;for(let cr=0;cr<lr.length&&Ar;cr++)Ar=Ar[lr[cr]];return Ar}}function useModel(ar,or,lr=EMPTY_OBJ){const Ar=getCurrentInstance(),cr=camelize(or),ur=hyphenate(or),dr=getModelModifiers(ar,cr),hr=customRef((fr,gr)=>{let pr,mr=EMPTY_OBJ,yr;return watchSyncEffect(()=>{const vr=ar[cr];hasChanged(pr,vr)&&(pr=vr,gr())}),{get(){return fr(),lr.get?lr.get(pr):pr},set(vr){const br=lr.set?lr.set(vr):vr;if(!hasChanged(br,pr)&&!(mr!==EMPTY_OBJ&&hasChanged(vr,mr)))return;const wr=Ar.vnode.props;wr&&(or in wr||cr in wr||ur in wr)&&(`onUpdate:${or}`in wr||`onUpdate:${cr}`in wr||`onUpdate:${ur}`in wr)||(pr=vr,gr()),Ar.emit(`update:${or}`,br),hasChanged(vr,br)&&hasChanged(vr,mr)&&!hasChanged(br,yr)&&gr(),mr=vr,yr=br}}});return hr[Symbol.iterator]=()=>{let fr=0;return{next(){return fr<2?{value:fr++?dr||EMPTY_OBJ:hr,done:!1}:{done:!0}}}},hr}const getModelModifiers=(ar,or)=>or==="modelValue"||or==="model-value"?ar.modelModifiers:ar[`${or}Modifiers`]||ar[`${camelize(or)}Modifiers`]||ar[`${hyphenate(or)}Modifiers`];function emit(ar,or,...lr){if(ar.isUnmounted)return;const Ar=ar.vnode.props||EMPTY_OBJ;let cr=lr;const ur=or.startsWith("update:"),dr=ur&&getModelModifiers(Ar,or.slice(7));dr&&(dr.trim&&(cr=lr.map(pr=>isString(pr)?pr.trim():pr)),dr.number&&(cr=lr.map(looseToNumber)));let hr,fr=Ar[hr=toHandlerKey(or)]||Ar[hr=toHandlerKey(camelize(or))];!fr&&ur&&(fr=Ar[hr=toHandlerKey(hyphenate(or))]),fr&&callWithAsyncErrorHandling(fr,ar,6,cr);const gr=Ar[hr+"Once"];if(gr){if(!ar.emitted)ar.emitted={};else if(ar.emitted[hr])return;ar.emitted[hr]=!0,callWithAsyncErrorHandling(gr,ar,6,cr)}}function normalizeEmitsOptions(ar,or,lr=!1){const Ar=or.emitsCache,cr=Ar.get(ar);if(cr!==void 0)return cr;const ur=ar.emits;let dr={},hr=!1;if(!isFunction$1(ar)){const fr=gr=>{const pr=normalizeEmitsOptions(gr,or,!0);pr&&(hr=!0,extend$1(dr,pr))};!lr&&or.mixins.length&&or.mixins.forEach(fr),ar.extends&&fr(ar.extends),ar.mixins&&ar.mixins.forEach(fr)}return!ur&&!hr?(isObject(ar)&&Ar.set(ar,null),null):(isArray$1(ur)?ur.forEach(fr=>dr[fr]=null):extend$1(dr,ur),isObject(ar)&&Ar.set(ar,dr),dr)}function isEmitListener(ar,or){return!ar||!isOn(or)?!1:(or=or.slice(2).replace(/Once$/,""),hasOwn(ar,or[0].toLowerCase()+or.slice(1))||hasOwn(ar,hyphenate(or))||hasOwn(ar,or))}function markAttrsAccessed(){}function renderComponentRoot(ar){const{type:or,vnode:lr,proxy:Ar,withProxy:cr,propsOptions:[ur],slots:dr,attrs:hr,emit:fr,render:gr,renderCache:pr,props:mr,data:yr,setupState:vr,ctx:br,inheritAttrs:wr}=ar,Cr=setCurrentRenderingInstance(ar);let Br,Sr;try{if(lr.shapeFlag&4){const Tr=cr||Ar,kr=Tr;Br=normalizeVNode(gr.call(kr,Tr,pr,mr,vr,yr,br)),Sr=hr}else{const Tr=or;Br=normalizeVNode(Tr.length>1?Tr(mr,{attrs:hr,slots:dr,emit:fr}):Tr(mr,null)),Sr=or.props?hr:getFunctionalFallthrough(hr)}}catch(Tr){blockStack.length=0,handleError(Tr,ar,1),Br=createVNode(Comment)}let Er=Br;if(Sr&&wr!==!1){const Tr=Object.keys(Sr),{shapeFlag:kr}=Er;Tr.length&&kr&7&&(ur&&Tr.some(isModelListener)&&(Sr=filterModelListeners(Sr,ur)),Er=cloneVNode(Er,Sr,!1,!0))}return lr.dirs&&(Er=cloneVNode(Er,null,!1,!0),Er.dirs=Er.dirs?Er.dirs.concat(lr.dirs):lr.dirs),lr.transition&&setTransitionHooks(Er,lr.transition),Br=Er,setCurrentRenderingInstance(Cr),Br}function filterSingleRoot(ar,or=!0){let lr;for(let Ar=0;Ar<ar.length;Ar++){const cr=ar[Ar];if(isVNode(cr)){if(cr.type!==Comment||cr.children==="v-if"){if(lr)return;lr=cr}}else return}return lr}const getFunctionalFallthrough=ar=>{let or;for(const lr in ar)(lr==="class"||lr==="style"||isOn(lr))&&((or||(or={}))[lr]=ar[lr]);return or},filterModelListeners=(ar,or)=>{const lr={};for(const Ar in ar)(!isModelListener(Ar)||!(Ar.slice(9)in or))&&(lr[Ar]=ar[Ar]);return lr};function shouldUpdateComponent(ar,or,lr){const{props:Ar,children:cr,component:ur}=ar,{props:dr,children:hr,patchFlag:fr}=or,gr=ur.emitsOptions;if(or.dirs||or.transition)return!0;if(lr&&fr>=0){if(fr&1024)return!0;if(fr&16)return Ar?hasPropsChanged(Ar,dr,gr):!!dr;if(fr&8){const pr=or.dynamicProps;for(let mr=0;mr<pr.length;mr++){const yr=pr[mr];if(dr[yr]!==Ar[yr]&&!isEmitListener(gr,yr))return!0}}}else return(cr||hr)&&(!hr||!hr.$stable)?!0:Ar===dr?!1:Ar?dr?hasPropsChanged(Ar,dr,gr):!0:!!dr;return!1}function hasPropsChanged(ar,or,lr){const Ar=Object.keys(or);if(Ar.length!==Object.keys(ar).length)return!0;for(let cr=0;cr<Ar.length;cr++){const ur=Ar[cr];if(or[ur]!==ar[ur]&&!isEmitListener(lr,ur))return!0}return!1}function updateHOCHostEl({vnode:ar,parent:or},lr){for(;or;){const Ar=or.subTree;if(Ar.suspense&&Ar.suspense.activeBranch===ar&&(Ar.el=ar.el),Ar===ar)(ar=or.vnode).el=lr,or=or.parent;else break}}const isSuspense=ar=>ar.__isSuspense;let suspenseId=0;const SuspenseImpl={name:"Suspense",__isSuspense:!0,process(ar,or,lr,Ar,cr,ur,dr,hr,fr,gr){if(ar==null)mountSuspense(or,lr,Ar,cr,ur,dr,hr,fr,gr);else{if(ur&&ur.deps>0&&!ar.suspense.isInFallback){or.suspense=ar.suspense,or.suspense.vnode=or,or.el=ar.el;return}patchSuspense(ar,or,lr,Ar,cr,dr,hr,fr,gr)}},hydrate:hydrateSuspense,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(ar,or){const lr=ar.props&&ar.props[or];isFunction$1(lr)&&lr()}function mountSuspense(ar,or,lr,Ar,cr,ur,dr,hr,fr){const{p:gr,o:{createElement:pr}}=fr,mr=pr("div"),yr=ar.suspense=createSuspenseBoundary(ar,cr,Ar,or,mr,lr,ur,dr,hr,fr);gr(null,yr.pendingBranch=ar.ssContent,mr,null,Ar,yr,ur,dr),yr.deps>0?(triggerEvent(ar,"onPending"),triggerEvent(ar,"onFallback"),gr(null,ar.ssFallback,or,lr,Ar,null,ur,dr),setActiveBranch(yr,ar.ssFallback)):yr.resolve(!1,!0)}function patchSuspense(ar,or,lr,Ar,cr,ur,dr,hr,{p:fr,um:gr,o:{createElement:pr}}){const mr=or.suspense=ar.suspense;mr.vnode=or,or.el=ar.el;const yr=or.ssContent,vr=or.ssFallback,{activeBranch:br,pendingBranch:wr,isInFallback:Cr,isHydrating:Br}=mr;if(wr)mr.pendingBranch=yr,isSameVNodeType(yr,wr)?(fr(wr,yr,mr.hiddenContainer,null,cr,mr,ur,dr,hr),mr.deps<=0?mr.resolve():Cr&&(Br||(fr(br,vr,lr,Ar,cr,null,ur,dr,hr),setActiveBranch(mr,vr)))):(mr.pendingId=suspenseId++,Br?(mr.isHydrating=!1,mr.activeBranch=wr):gr(wr,cr,mr),mr.deps=0,mr.effects.length=0,mr.hiddenContainer=pr("div"),Cr?(fr(null,yr,mr.hiddenContainer,null,cr,mr,ur,dr,hr),mr.deps<=0?mr.resolve():(fr(br,vr,lr,Ar,cr,null,ur,dr,hr),setActiveBranch(mr,vr))):br&&isSameVNodeType(yr,br)?(fr(br,yr,lr,Ar,cr,mr,ur,dr,hr),mr.resolve(!0)):(fr(null,yr,mr.hiddenContainer,null,cr,mr,ur,dr,hr),mr.deps<=0&&mr.resolve()));else if(br&&isSameVNodeType(yr,br))fr(br,yr,lr,Ar,cr,mr,ur,dr,hr),setActiveBranch(mr,yr);else if(triggerEvent(or,"onPending"),mr.pendingBranch=yr,yr.shapeFlag&512?mr.pendingId=yr.component.suspenseId:mr.pendingId=suspenseId++,fr(null,yr,mr.hiddenContainer,null,cr,mr,ur,dr,hr),mr.deps<=0)mr.resolve();else{const{timeout:Sr,pendingId:Er}=mr;Sr>0?setTimeout(()=>{mr.pendingId===Er&&mr.fallback(vr)},Sr):Sr===0&&mr.fallback(vr)}}function createSuspenseBoundary(ar,or,lr,Ar,cr,ur,dr,hr,fr,gr,pr=!1){const{p:mr,m:yr,um:vr,n:br,o:{parentNode:wr,remove:Cr}}=gr;let Br;const Sr=isVNodeSuspensible(ar);Sr&&or&&or.pendingBranch&&(Br=or.pendingId,or.deps++);const Er=ar.props?toNumber(ar.props.timeout):void 0,Tr=ur,kr={vnode:ar,parent:or,parentComponent:lr,namespace:dr,container:Ar,hiddenContainer:cr,deps:0,pendingId:suspenseId++,timeout:typeof Er=="number"?Er:-1,activeBranch:null,pendingBranch:null,isInFallback:!pr,isHydrating:pr,isUnmounted:!1,effects:[],resolve(Or=!1,Rr=!1){const{vnode:Lr,activeBranch:_r,pendingBranch:Hr,pendingId:Mr,effects:Ur,parentComponent:Kr,container:Xr}=kr;let Yr=!1;kr.isHydrating?kr.isHydrating=!1:Or||(Yr=_r&&Hr.transition&&Hr.transition.mode==="out-in",Yr&&(_r.transition.afterLeave=()=>{Mr===kr.pendingId&&(yr(Hr,Xr,ur===Tr?br(_r):ur,0),queuePostFlushCb(Ur))}),_r&&(wr(_r.el)===Xr&&(ur=br(_r)),vr(_r,Kr,kr,!0)),Yr||yr(Hr,Xr,ur,0)),setActiveBranch(kr,Hr),kr.pendingBranch=null,kr.isInFallback=!1;let Zr=kr.parent,ns=!1;for(;Zr;){if(Zr.pendingBranch){Zr.effects.push(...Ur),ns=!0;break}Zr=Zr.parent}!ns&&!Yr&&queuePostFlushCb(Ur),kr.effects=[],Sr&&or&&or.pendingBranch&&Br===or.pendingId&&(or.deps--,or.deps===0&&!Rr&&or.resolve()),triggerEvent(Lr,"onResolve")},fallback(Or){if(!kr.pendingBranch)return;const{vnode:Rr,activeBranch:Lr,parentComponent:_r,container:Hr,namespace:Mr}=kr;triggerEvent(Rr,"onFallback");const Ur=br(Lr),Kr=()=>{kr.isInFallback&&(mr(null,Or,Hr,Ur,_r,null,Mr,hr,fr),setActiveBranch(kr,Or))},Xr=Or.transition&&Or.transition.mode==="out-in";Xr&&(Lr.transition.afterLeave=Kr),kr.isInFallback=!0,vr(Lr,_r,null,!0),Xr||Kr()},move(Or,Rr,Lr){kr.activeBranch&&yr(kr.activeBranch,Or,Rr,Lr),kr.container=Or},next(){return kr.activeBranch&&br(kr.activeBranch)},registerDep(Or,Rr,Lr){const _r=!!kr.pendingBranch;_r&&kr.deps++;const Hr=Or.vnode.el;Or.asyncDep.catch(Mr=>{handleError(Mr,Or,0)}).then(Mr=>{if(Or.isUnmounted||kr.isUnmounted||kr.pendingId!==Or.suspenseId)return;Or.asyncResolved=!0;const{vnode:Ur}=Or;handleSetupResult(Or,Mr,!1),Hr&&(Ur.el=Hr);const Kr=!Hr&&Or.subTree.el;Rr(Or,Ur,wr(Hr||Or.subTree.el),Hr?null:br(Or.subTree),kr,dr,Lr),Kr&&Cr(Kr),updateHOCHostEl(Or,Ur.el),_r&&--kr.deps===0&&kr.resolve()})},unmount(Or,Rr){kr.isUnmounted=!0,kr.activeBranch&&vr(kr.activeBranch,lr,Or,Rr),kr.pendingBranch&&vr(kr.pendingBranch,lr,Or,Rr)}};return kr}function hydrateSuspense(ar,or,lr,Ar,cr,ur,dr,hr,fr){const gr=or.suspense=createSuspenseBoundary(or,Ar,lr,ar.parentNode,document.createElement("div"),null,cr,ur,dr,hr,!0),pr=fr(ar,gr.pendingBranch=or.ssContent,lr,gr,ur,dr);return gr.deps===0&&gr.resolve(!1,!0),pr}function normalizeSuspenseChildren(ar){const{shapeFlag:or,children:lr}=ar,Ar=or&32;ar.ssContent=normalizeSuspenseSlot(Ar?lr.default:lr),ar.ssFallback=Ar?normalizeSuspenseSlot(lr.fallback):createVNode(Comment)}function normalizeSuspenseSlot(ar){let or;if(isFunction$1(ar)){const lr=isBlockTreeEnabled&&ar._c;lr&&(ar._d=!1,openBlock()),ar=ar(),lr&&(ar._d=!0,or=currentBlock,closeBlock())}return isArray$1(ar)&&(ar=filterSingleRoot(ar)),ar=normalizeVNode(ar),or&&!ar.dynamicChildren&&(ar.dynamicChildren=or.filter(lr=>lr!==ar)),ar}function queueEffectWithSuspense(ar,or){or&&or.pendingBranch?isArray$1(ar)?or.effects.push(...ar):or.effects.push(ar):queuePostFlushCb(ar)}function setActiveBranch(ar,or){ar.activeBranch=or;const{vnode:lr,parentComponent:Ar}=ar;let cr=or.el;for(;!cr&&or.component;)or=or.component.subTree,cr=or.el;lr.el=cr,Ar&&Ar.subTree===lr&&(Ar.vnode.el=cr,updateHOCHostEl(Ar,cr))}function isVNodeSuspensible(ar){const or=ar.props&&ar.props.suspensible;return or!=null&&or!==!1}const Fragment$1=Symbol.for("v-fgt"),Text$2=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(ar=!1){blockStack.push(currentBlock=ar?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(ar,or=!1){isBlockTreeEnabled+=ar,ar<0&&currentBlock&&or&&(currentBlock.hasOnce=!0)}function setupBlock(ar){return ar.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(ar),ar}function createElementBlock(ar,or,lr,Ar,cr,ur){return setupBlock(createBaseVNode(ar,or,lr,Ar,cr,ur,!0))}function createBlock(ar,or,lr,Ar,cr){return setupBlock(createVNode(ar,or,lr,Ar,cr,!0))}function isVNode(ar){return ar?ar.__v_isVNode===!0:!1}function isSameVNodeType(ar,or){return ar.type===or.type&&ar.key===or.key}function transformVNodeArgs(ar){}const normalizeKey=({key:ar})=>ar??null,normalizeRef=({ref:ar,ref_key:or,ref_for:lr})=>(typeof ar=="number"&&(ar=""+ar),ar!=null?isString(ar)||isRef(ar)||isFunction$1(ar)?{i:currentRenderingInstance,r:ar,k:or,f:!!lr}:ar:null);function createBaseVNode(ar,or=null,lr=null,Ar=0,cr=null,ur=ar===Fragment$1?0:1,dr=!1,hr=!1){const fr={__v_isVNode:!0,__v_skip:!0,type:ar,props:or,key:or&&normalizeKey(or),ref:or&&normalizeRef(or),scopeId:currentScopeId,slotScopeIds:null,children:lr,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:ur,patchFlag:Ar,dynamicProps:cr,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return hr?(normalizeChildren(fr,lr),ur&128&&ar.normalize(fr)):lr&&(fr.shapeFlag|=isString(lr)?8:16),isBlockTreeEnabled>0&&!dr&&currentBlock&&(fr.patchFlag>0||ur&6)&&fr.patchFlag!==32&&currentBlock.push(fr),fr}const createVNode=_createVNode;function _createVNode(ar,or=null,lr=null,Ar=0,cr=null,ur=!1){if((!ar||ar===NULL_DYNAMIC_COMPONENT)&&(ar=Comment),isVNode(ar)){const hr=cloneVNode(ar,or,!0);return lr&&normalizeChildren(hr,lr),isBlockTreeEnabled>0&&!ur&&currentBlock&&(hr.shapeFlag&6?currentBlock[currentBlock.indexOf(ar)]=hr:currentBlock.push(hr)),hr.patchFlag=-2,hr}if(isClassComponent(ar)&&(ar=ar.__vccOpts),or){or=guardReactiveProps(or);let{class:hr,style:fr}=or;hr&&!isString(hr)&&(or.class=normalizeClass(hr)),isObject(fr)&&(isProxy(fr)&&!isArray$1(fr)&&(fr=extend$1({},fr)),or.style=normalizeStyle(fr))}const dr=isString(ar)?1:isSuspense(ar)?128:isTeleport(ar)?64:isObject(ar)?4:isFunction$1(ar)?2:0;return createBaseVNode(ar,or,lr,Ar,cr,dr,ur,!0)}function guardReactiveProps(ar){return ar?isProxy(ar)||isInternalObject(ar)?extend$1({},ar):ar:null}function cloneVNode(ar,or,lr=!1,Ar=!1){const{props:cr,ref:ur,patchFlag:dr,children:hr,transition:fr}=ar,gr=or?mergeProps(cr||{},or):cr,pr={__v_isVNode:!0,__v_skip:!0,type:ar.type,props:gr,key:gr&&normalizeKey(gr),ref:or&&or.ref?lr&&ur?isArray$1(ur)?ur.concat(normalizeRef(or)):[ur,normalizeRef(or)]:normalizeRef(or):ur,scopeId:ar.scopeId,slotScopeIds:ar.slotScopeIds,children:hr,target:ar.target,targetStart:ar.targetStart,targetAnchor:ar.targetAnchor,staticCount:ar.staticCount,shapeFlag:ar.shapeFlag,patchFlag:or&&ar.type!==Fragment$1?dr===-1?16:dr|16:dr,dynamicProps:ar.dynamicProps,dynamicChildren:ar.dynamicChildren,appContext:ar.appContext,dirs:ar.dirs,transition:fr,component:ar.component,suspense:ar.suspense,ssContent:ar.ssContent&&cloneVNode(ar.ssContent),ssFallback:ar.ssFallback&&cloneVNode(ar.ssFallback),el:ar.el,anchor:ar.anchor,ctx:ar.ctx,ce:ar.ce};return fr&&Ar&&setTransitionHooks(pr,fr.clone(pr)),pr}function createTextVNode(ar=" ",or=0){return createVNode(Text$2,null,ar,or)}function createStaticVNode(ar,or){const lr=createVNode(Static,null,ar);return lr.staticCount=or,lr}function createCommentVNode(ar="",or=!1){return or?(openBlock(),createBlock(Comment,null,ar)):createVNode(Comment,null,ar)}function normalizeVNode(ar){return ar==null||typeof ar=="boolean"?createVNode(Comment):isArray$1(ar)?createVNode(Fragment$1,null,ar.slice()):isVNode(ar)?cloneIfMounted(ar):createVNode(Text$2,null,String(ar))}function cloneIfMounted(ar){return ar.el===null&&ar.patchFlag!==-1||ar.memo?ar:cloneVNode(ar)}function normalizeChildren(ar,or){let lr=0;const{shapeFlag:Ar}=ar;if(or==null)or=null;else if(isArray$1(or))lr=16;else if(typeof or=="object")if(Ar&65){const cr=or.default;cr&&(cr._c&&(cr._d=!1),normalizeChildren(ar,cr()),cr._c&&(cr._d=!0));return}else{lr=32;const cr=or._;!cr&&!isInternalObject(or)?or._ctx=currentRenderingInstance:cr===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?or._=1:(or._=2,ar.patchFlag|=1024))}else isFunction$1(or)?(or={default:or,_ctx:currentRenderingInstance},lr=32):(or=String(or),Ar&64?(lr=16,or=[createTextVNode(or)]):lr=8);ar.children=or,ar.shapeFlag|=lr}function mergeProps(...ar){const or={};for(let lr=0;lr<ar.length;lr++){const Ar=ar[lr];for(const cr in Ar)if(cr==="class")or.class!==Ar.class&&(or.class=normalizeClass([or.class,Ar.class]));else if(cr==="style")or.style=normalizeStyle([or.style,Ar.style]);else if(isOn(cr)){const ur=or[cr],dr=Ar[cr];dr&&ur!==dr&&!(isArray$1(ur)&&ur.includes(dr))&&(or[cr]=ur?[].concat(ur,dr):dr)}else cr!==""&&(or[cr]=Ar[cr])}return or}function invokeVNodeHook(ar,or,lr,Ar=null){callWithAsyncErrorHandling(ar,or,7,[lr,Ar])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(ar,or,lr){const Ar=ar.type,cr=(or?or.appContext:ar.appContext)||emptyAppContext,ur={uid:uid++,vnode:ar,type:Ar,parent:or,appContext:cr,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:or?or.provides:Object.create(cr.provides),ids:or?or.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(Ar,cr),emitsOptions:normalizeEmitsOptions(Ar,cr),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:Ar.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:lr,suspenseId:lr?lr.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return ur.ctx={_:ur},ur.root=or?or.root:ur,ur.emit=emit.bind(null,ur),ar.ce&&ar.ce(ur),ur}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const ar=getGlobalThis(),or=(lr,Ar)=>{let cr;return(cr=ar[lr])||(cr=ar[lr]=[]),cr.push(Ar),ur=>{cr.length>1?cr.forEach(dr=>dr(ur)):cr[0](ur)}};internalSetCurrentInstance=or("__VUE_INSTANCE_SETTERS__",lr=>currentInstance=lr),setInSSRSetupState=or("__VUE_SSR_SETTERS__",lr=>isInSSRComponentSetup=lr)}const setCurrentInstance=ar=>{const or=currentInstance;return internalSetCurrentInstance(ar),ar.scope.on(),()=>{ar.scope.off(),internalSetCurrentInstance(or)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(ar){return ar.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(ar,or=!1,lr=!1){or&&setInSSRSetupState(or);const{props:Ar,children:cr}=ar.vnode,ur=isStatefulComponent(ar);initProps(ar,Ar,ur,or),initSlots(ar,cr,lr||or);const dr=ur?setupStatefulComponent(ar,or):void 0;return or&&setInSSRSetupState(!1),dr}function setupStatefulComponent(ar,or){const lr=ar.type;ar.accessCache=Object.create(null),ar.proxy=new Proxy(ar.ctx,PublicInstanceProxyHandlers);const{setup:Ar}=lr;if(Ar){pauseTracking();const cr=ar.setupContext=Ar.length>1?createSetupContext(ar):null,ur=setCurrentInstance(ar),dr=callWithErrorHandling(Ar,ar,0,[ar.props,cr]),hr=isPromise(dr);if(resetTracking(),ur(),(hr||ar.sp)&&!isAsyncWrapper(ar)&&markAsyncBoundary(ar),hr){if(dr.then(unsetCurrentInstance,unsetCurrentInstance),or)return dr.then(fr=>{handleSetupResult(ar,fr,or)}).catch(fr=>{handleError(fr,ar,0)});ar.asyncDep=dr}else handleSetupResult(ar,dr,or)}else finishComponentSetup(ar,or)}function handleSetupResult(ar,or,lr){isFunction$1(or)?ar.type.__ssrInlineRender?ar.ssrRender=or:ar.render=or:isObject(or)&&(ar.setupState=proxyRefs(or)),finishComponentSetup(ar,lr)}let compile$1,installWithProxy;function registerRuntimeCompiler(ar){compile$1=ar,installWithProxy=or=>{or.render._rc&&(or.withProxy=new Proxy(or.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$1;function finishComponentSetup(ar,or,lr){const Ar=ar.type;if(!ar.render){if(!or&&compile$1&&!Ar.render){const cr=Ar.template||resolveMergedOptions(ar).template;if(cr){const{isCustomElement:ur,compilerOptions:dr}=ar.appContext.config,{delimiters:hr,compilerOptions:fr}=Ar,gr=extend$1(extend$1({isCustomElement:ur,delimiters:hr},dr),fr);Ar.render=compile$1(cr,gr)}}ar.render=Ar.render||NOOP,installWithProxy&&installWithProxy(ar)}{const cr=setCurrentInstance(ar);pauseTracking();try{applyOptions(ar)}finally{resetTracking(),cr()}}}const attrsProxyHandlers={get(ar,or){return track(ar,"get",""),ar[or]}};function createSetupContext(ar){const or=lr=>{ar.exposed=lr||{}};return{attrs:new Proxy(ar.attrs,attrsProxyHandlers),slots:ar.slots,emit:ar.emit,expose:or}}function getComponentPublicInstance(ar){return ar.exposed?ar.exposeProxy||(ar.exposeProxy=new Proxy(proxyRefs(markRaw(ar.exposed)),{get(or,lr){if(lr in or)return or[lr];if(lr in publicPropertiesMap)return publicPropertiesMap[lr](ar)},has(or,lr){return lr in or||lr in publicPropertiesMap}})):ar.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=ar=>ar.replace(classifyRE,or=>or.toUpperCase()).replace(/[-_]/g,"");function getComponentName(ar,or=!0){return isFunction$1(ar)?ar.displayName||ar.name:ar.name||or&&ar.__name}function formatComponentName(ar,or,lr=!1){let Ar=getComponentName(or);if(!Ar&&or.__file){const cr=or.__file.match(/([^/\\]+)\.\w+$/);cr&&(Ar=cr[1])}if(!Ar&&ar&&ar.parent){const cr=ur=>{for(const dr in ur)if(ur[dr]===or)return dr};Ar=cr(ar.components||ar.parent.type.components)||cr(ar.appContext.components)}return Ar?classify(Ar):lr?"App":"Anonymous"}function isClassComponent(ar){return isFunction$1(ar)&&"__vccOpts"in ar}const computed=(ar,or)=>computed$1(ar,or,isInSSRComponentSetup);function h$2(ar,or,lr){const Ar=arguments.length;return Ar===2?isObject(or)&&!isArray$1(or)?isVNode(or)?createVNode(ar,null,[or]):createVNode(ar,or):createVNode(ar,null,or):(Ar>3?lr=Array.prototype.slice.call(arguments,2):Ar===3&&isVNode(lr)&&(lr=[lr]),createVNode(ar,or,lr))}function initCustomFormatter(){}function withMemo(ar,or,lr,Ar){const cr=lr[Ar];if(cr&&isMemoSame(cr,ar))return cr;const ur=or();return ur.memo=ar.slice(),ur.cacheIndex=Ar,lr[Ar]=ur}function isMemoSame(ar,or){const lr=ar.memo;if(lr.length!=or.length)return!1;for(let Ar=0;Ar<lr.length;Ar++)if(hasChanged(lr[Ar],or[Ar]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(ar),!0}const version$1="3.5.14",warn$2=NOOP,ErrorTypeStrings=ErrorTypeStrings$1,devtools=devtools$1,setDevtoolsHook=setDevtoolsHook$1,_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode,getComponentPublicInstance,ensureValidVNode,pushWarningContext,popWarningContext},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,DeprecationTypes=null;/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$3=typeof window<"u"&&window.trustedTypes;if(tt$3)try{policy=tt$3.createPolicy("vue",{createHTML:ar=>ar})}catch{}const unsafeToTrustedHTML=policy?ar=>policy.createHTML(ar):ar=>ar,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc$2=typeof document<"u"?document:null,templateContainer=doc$2&&doc$2.createElement("template"),nodeOps={insert:(ar,or,lr)=>{or.insertBefore(ar,lr||null)},remove:ar=>{const or=ar.parentNode;or&&or.removeChild(ar)},createElement:(ar,or,lr,Ar)=>{const cr=or==="svg"?doc$2.createElementNS(svgNS,ar):or==="mathml"?doc$2.createElementNS(mathmlNS,ar):lr?doc$2.createElement(ar,{is:lr}):doc$2.createElement(ar);return ar==="select"&&Ar&&Ar.multiple!=null&&cr.setAttribute("multiple",Ar.multiple),cr},createText:ar=>doc$2.createTextNode(ar),createComment:ar=>doc$2.createComment(ar),setText:(ar,or)=>{ar.nodeValue=or},setElementText:(ar,or)=>{ar.textContent=or},parentNode:ar=>ar.parentNode,nextSibling:ar=>ar.nextSibling,querySelector:ar=>doc$2.querySelector(ar),setScopeId(ar,or){ar.setAttribute(or,"")},insertStaticContent(ar,or,lr,Ar,cr,ur){const dr=lr?lr.previousSibling:or.lastChild;if(cr&&(cr===ur||cr.nextSibling))for(;or.insertBefore(cr.cloneNode(!0),lr),!(cr===ur||!(cr=cr.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(Ar==="svg"?`<svg>${ar}</svg>`:Ar==="mathml"?`<math>${ar}</math>`:ar);const hr=templateContainer.content;if(Ar==="svg"||Ar==="mathml"){const fr=hr.firstChild;for(;fr.firstChild;)hr.appendChild(fr.firstChild);hr.removeChild(fr)}or.insertBefore(hr,lr)}return[dr?dr.nextSibling:or.firstChild,lr?lr.previousSibling:or.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=ar=>(ar.displayName="Transition",ar.props=TransitionPropsValidators,ar),Transition=decorate$1((ar,{slots:or})=>h$2(BaseTransition,resolveTransitionProps(ar),or)),callHook=(ar,or=[])=>{isArray$1(ar)?ar.forEach(lr=>lr(...or)):ar&&ar(...or)},hasExplicitCallback=ar=>ar?isArray$1(ar)?ar.some(or=>or.length>1):ar.length>1:!1;function resolveTransitionProps(ar){const or={};for(const Ur in ar)Ur in DOMTransitionPropsValidators||(or[Ur]=ar[Ur]);if(ar.css===!1)return or;const{name:lr="v",type:Ar,duration:cr,enterFromClass:ur=`${lr}-enter-from`,enterActiveClass:dr=`${lr}-enter-active`,enterToClass:hr=`${lr}-enter-to`,appearFromClass:fr=ur,appearActiveClass:gr=dr,appearToClass:pr=hr,leaveFromClass:mr=`${lr}-leave-from`,leaveActiveClass:yr=`${lr}-leave-active`,leaveToClass:vr=`${lr}-leave-to`}=ar,br=normalizeDuration(cr),wr=br&&br[0],Cr=br&&br[1],{onBeforeEnter:Br,onEnter:Sr,onEnterCancelled:Er,onLeave:Tr,onLeaveCancelled:kr,onBeforeAppear:Or=Br,onAppear:Rr=Sr,onAppearCancelled:Lr=Er}=or,_r=(Ur,Kr,Xr,Yr)=>{Ur._enterCancelled=Yr,removeTransitionClass(Ur,Kr?pr:hr),removeTransitionClass(Ur,Kr?gr:dr),Xr&&Xr()},Hr=(Ur,Kr)=>{Ur._isLeaving=!1,removeTransitionClass(Ur,mr),removeTransitionClass(Ur,vr),removeTransitionClass(Ur,yr),Kr&&Kr()},Mr=Ur=>(Kr,Xr)=>{const Yr=Ur?Rr:Sr,Zr=()=>_r(Kr,Ur,Xr);callHook(Yr,[Kr,Zr]),nextFrame(()=>{removeTransitionClass(Kr,Ur?fr:ur),addTransitionClass(Kr,Ur?pr:hr),hasExplicitCallback(Yr)||whenTransitionEnds(Kr,Ar,wr,Zr)})};return extend$1(or,{onBeforeEnter(Ur){callHook(Br,[Ur]),addTransitionClass(Ur,ur),addTransitionClass(Ur,dr)},onBeforeAppear(Ur){callHook(Or,[Ur]),addTransitionClass(Ur,fr),addTransitionClass(Ur,gr)},onEnter:Mr(!1),onAppear:Mr(!0),onLeave(Ur,Kr){Ur._isLeaving=!0;const Xr=()=>Hr(Ur,Kr);addTransitionClass(Ur,mr),Ur._enterCancelled?(addTransitionClass(Ur,yr),forceReflow()):(forceReflow(),addTransitionClass(Ur,yr)),nextFrame(()=>{Ur._isLeaving&&(removeTransitionClass(Ur,mr),addTransitionClass(Ur,vr),hasExplicitCallback(Tr)||whenTransitionEnds(Ur,Ar,Cr,Xr))}),callHook(Tr,[Ur,Xr])},onEnterCancelled(Ur){_r(Ur,!1,void 0,!0),callHook(Er,[Ur])},onAppearCancelled(Ur){_r(Ur,!0,void 0,!0),callHook(Lr,[Ur])},onLeaveCancelled(Ur){Hr(Ur),callHook(kr,[Ur])}})}function normalizeDuration(ar){if(ar==null)return null;if(isObject(ar))return[NumberOf(ar.enter),NumberOf(ar.leave)];{const or=NumberOf(ar);return[or,or]}}function NumberOf(ar){return toNumber(ar)}function addTransitionClass(ar,or){or.split(/\s+/).forEach(lr=>lr&&ar.classList.add(lr)),(ar[vtcKey]||(ar[vtcKey]=new Set)).add(or)}function removeTransitionClass(ar,or){or.split(/\s+/).forEach(Ar=>Ar&&ar.classList.remove(Ar));const lr=ar[vtcKey];lr&&(lr.delete(or),lr.size||(ar[vtcKey]=void 0))}function nextFrame(ar){requestAnimationFrame(()=>{requestAnimationFrame(ar)})}let endId=0;function whenTransitionEnds(ar,or,lr,Ar){const cr=ar._endId=++endId,ur=()=>{cr===ar._endId&&Ar()};if(lr!=null)return setTimeout(ur,lr);const{type:dr,timeout:hr,propCount:fr}=getTransitionInfo(ar,or);if(!dr)return Ar();const gr=dr+"end";let pr=0;const mr=()=>{ar.removeEventListener(gr,yr),ur()},yr=vr=>{vr.target===ar&&++pr>=fr&&mr()};setTimeout(()=>{pr<fr&&mr()},hr+1),ar.addEventListener(gr,yr)}function getTransitionInfo(ar,or){const lr=window.getComputedStyle(ar),Ar=br=>(lr[br]||"").split(", "),cr=Ar(`${TRANSITION}Delay`),ur=Ar(`${TRANSITION}Duration`),dr=getTimeout(cr,ur),hr=Ar(`${ANIMATION}Delay`),fr=Ar(`${ANIMATION}Duration`),gr=getTimeout(hr,fr);let pr=null,mr=0,yr=0;or===TRANSITION?dr>0&&(pr=TRANSITION,mr=dr,yr=ur.length):or===ANIMATION?gr>0&&(pr=ANIMATION,mr=gr,yr=fr.length):(mr=Math.max(dr,gr),pr=mr>0?dr>gr?TRANSITION:ANIMATION:null,yr=pr?pr===TRANSITION?ur.length:fr.length:0);const vr=pr===TRANSITION&&/\b(transform|all)(,|$)/.test(Ar(`${TRANSITION}Property`).toString());return{type:pr,timeout:mr,propCount:yr,hasTransform:vr}}function getTimeout(ar,or){for(;ar.length<or.length;)ar=ar.concat(ar);return Math.max(...or.map((lr,Ar)=>toMs(lr)+toMs(ar[Ar])))}function toMs(ar){return ar==="auto"?0:Number(ar.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(ar,or,lr){const Ar=ar[vtcKey];Ar&&(or=(or?[or,...Ar]:[...Ar]).join(" ")),or==null?ar.removeAttribute("class"):lr?ar.setAttribute("class",or):ar.className=or}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(ar,{value:or},{transition:lr}){ar[vShowOriginalDisplay]=ar.style.display==="none"?"":ar.style.display,lr&&or?lr.beforeEnter(ar):setDisplay(ar,or)},mounted(ar,{value:or},{transition:lr}){lr&&or&&lr.enter(ar)},updated(ar,{value:or,oldValue:lr},{transition:Ar}){!or!=!lr&&(Ar?or?(Ar.beforeEnter(ar),setDisplay(ar,!0),Ar.enter(ar)):Ar.leave(ar,()=>{setDisplay(ar,!1)}):setDisplay(ar,or))},beforeUnmount(ar,{value:or}){setDisplay(ar,or)}};function setDisplay(ar,or){ar.style.display=or?ar[vShowOriginalDisplay]:"none",ar[vShowHidden]=!or}function initVShowForSSR(){vShow.getSSRProps=({value:ar})=>{if(!ar)return{style:{display:"none"}}}}const CSS_VAR_TEXT=Symbol("");function useCssVars(ar){const or=getCurrentInstance();if(!or)return;const lr=or.ut=(cr=ar(or.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${or.uid}"]`)).forEach(ur=>setVarsOnNode(ur,cr))},Ar=()=>{const cr=ar(or.proxy);or.ce?setVarsOnNode(or.ce,cr):setVarsOnVNode(or.subTree,cr),lr(cr)};onBeforeUpdate(()=>{queuePostFlushCb(Ar)}),onMounted(()=>{watch(Ar,NOOP,{flush:"post"});const cr=new MutationObserver(Ar);cr.observe(or.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>cr.disconnect())})}function setVarsOnVNode(ar,or){if(ar.shapeFlag&128){const lr=ar.suspense;ar=lr.activeBranch,lr.pendingBranch&&!lr.isHydrating&&lr.effects.push(()=>{setVarsOnVNode(lr.activeBranch,or)})}for(;ar.component;)ar=ar.component.subTree;if(ar.shapeFlag&1&&ar.el)setVarsOnNode(ar.el,or);else if(ar.type===Fragment$1)ar.children.forEach(lr=>setVarsOnVNode(lr,or));else if(ar.type===Static){let{el:lr,anchor:Ar}=ar;for(;lr&&(setVarsOnNode(lr,or),lr!==Ar);)lr=lr.nextSibling}}function setVarsOnNode(ar,or){if(ar.nodeType===1){const lr=ar.style;let Ar="";for(const cr in or)lr.setProperty(`--${cr}`,or[cr]),Ar+=`--${cr}: ${or[cr]};`;lr[CSS_VAR_TEXT]=Ar}}const displayRE=/(^|;)\s*display\s*:/;function patchStyle(ar,or,lr){const Ar=ar.style,cr=isString(lr);let ur=!1;if(lr&&!cr){if(or)if(isString(or))for(const dr of or.split(";")){const hr=dr.slice(0,dr.indexOf(":")).trim();lr[hr]==null&&setStyle(Ar,hr,"")}else for(const dr in or)lr[dr]==null&&setStyle(Ar,dr,"");for(const dr in lr)dr==="display"&&(ur=!0),setStyle(Ar,dr,lr[dr])}else if(cr){if(or!==lr){const dr=Ar[CSS_VAR_TEXT];dr&&(lr+=";"+dr),Ar.cssText=lr,ur=displayRE.test(lr)}}else or&&ar.removeAttribute("style");vShowOriginalDisplay in ar&&(ar[vShowOriginalDisplay]=ur?Ar.display:"",ar[vShowHidden]&&(Ar.display="none"))}const importantRE=/\s*!important$/;function setStyle(ar,or,lr){if(isArray$1(lr))lr.forEach(Ar=>setStyle(ar,or,Ar));else if(lr==null&&(lr=""),or.startsWith("--"))ar.setProperty(or,lr);else{const Ar=autoPrefix(ar,or);importantRE.test(lr)?ar.setProperty(hyphenate(Ar),lr.replace(importantRE,""),"important"):ar[Ar]=lr}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(ar,or){const lr=prefixCache[or];if(lr)return lr;let Ar=camelize(or);if(Ar!=="filter"&&Ar in ar)return prefixCache[or]=Ar;Ar=capitalize(Ar);for(let cr=0;cr<prefixes.length;cr++){const ur=prefixes[cr]+Ar;if(ur in ar)return prefixCache[or]=ur}return or}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(ar,or,lr,Ar,cr,ur=isSpecialBooleanAttr(or)){Ar&&or.startsWith("xlink:")?lr==null?ar.removeAttributeNS(xlinkNS,or.slice(6,or.length)):ar.setAttributeNS(xlinkNS,or,lr):lr==null||ur&&!includeBooleanAttr(lr)?ar.removeAttribute(or):ar.setAttribute(or,ur?"":isSymbol(lr)?String(lr):lr)}function patchDOMProp(ar,or,lr,Ar,cr){if(or==="innerHTML"||or==="textContent"){lr!=null&&(ar[or]=or==="innerHTML"?unsafeToTrustedHTML(lr):lr);return}const ur=ar.tagName;if(or==="value"&&ur!=="PROGRESS"&&!ur.includes("-")){const hr=ur==="OPTION"?ar.getAttribute("value")||"":ar.value,fr=lr==null?ar.type==="checkbox"?"on":"":String(lr);(hr!==fr||!("_value"in ar))&&(ar.value=fr),lr==null&&ar.removeAttribute(or),ar._value=lr;return}let dr=!1;if(lr===""||lr==null){const hr=typeof ar[or];hr==="boolean"?lr=includeBooleanAttr(lr):lr==null&&hr==="string"?(lr="",dr=!0):hr==="number"&&(lr=0,dr=!0)}try{ar[or]=lr}catch{}dr&&ar.removeAttribute(cr||or)}function addEventListener$1(ar,or,lr,Ar){ar.addEventListener(or,lr,Ar)}function removeEventListener(ar,or,lr,Ar){ar.removeEventListener(or,lr,Ar)}const veiKey=Symbol("_vei");function patchEvent(ar,or,lr,Ar,cr=null){const ur=ar[veiKey]||(ar[veiKey]={}),dr=ur[or];if(Ar&&dr)dr.value=Ar;else{const[hr,fr]=parseName(or);if(Ar){const gr=ur[or]=createInvoker(Ar,cr);addEventListener$1(ar,hr,gr,fr)}else dr&&(removeEventListener(ar,hr,dr,fr),ur[or]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(ar){let or;if(optionsModifierRE.test(ar)){or={};let Ar;for(;Ar=ar.match(optionsModifierRE);)ar=ar.slice(0,ar.length-Ar[0].length),or[Ar[0].toLowerCase()]=!0}return[ar[2]===":"?ar.slice(3):hyphenate(ar.slice(2)),or]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(ar,or){const lr=Ar=>{if(!Ar._vts)Ar._vts=Date.now();else if(Ar._vts<=lr.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(Ar,lr.value),or,5,[Ar])};return lr.value=ar,lr.attached=getNow(),lr}function patchStopImmediatePropagation(ar,or){if(isArray$1(or)){const lr=ar.stopImmediatePropagation;return ar.stopImmediatePropagation=()=>{lr.call(ar),ar._stopped=!0},or.map(Ar=>cr=>!cr._stopped&&Ar&&Ar(cr))}else return or}const isNativeOn=ar=>ar.charCodeAt(0)===111&&ar.charCodeAt(1)===110&&ar.charCodeAt(2)>96&&ar.charCodeAt(2)<123,patchProp=(ar,or,lr,Ar,cr,ur)=>{const dr=cr==="svg";or==="class"?patchClass(ar,Ar,dr):or==="style"?patchStyle(ar,lr,Ar):isOn(or)?isModelListener(or)||patchEvent(ar,or,lr,Ar,ur):(or[0]==="."?(or=or.slice(1),!0):or[0]==="^"?(or=or.slice(1),!1):shouldSetAsProp(ar,or,Ar,dr))?(patchDOMProp(ar,or,Ar),!ar.tagName.includes("-")&&(or==="value"||or==="checked"||or==="selected")&&patchAttr(ar,or,Ar,dr,ur,or!=="value")):ar._isVueCE&&(/[A-Z]/.test(or)||!isString(Ar))?patchDOMProp(ar,camelize(or),Ar,ur,or):(or==="true-value"?ar._trueValue=Ar:or==="false-value"&&(ar._falseValue=Ar),patchAttr(ar,or,Ar,dr))};function shouldSetAsProp(ar,or,lr,Ar){if(Ar)return!!(or==="innerHTML"||or==="textContent"||or in ar&&isNativeOn(or)&&isFunction$1(lr));if(or==="spellcheck"||or==="draggable"||or==="translate"||or==="autocorrect"||or==="form"||or==="list"&&ar.tagName==="INPUT"||or==="type"&&ar.tagName==="TEXTAREA")return!1;if(or==="width"||or==="height"){const cr=ar.tagName;if(cr==="IMG"||cr==="VIDEO"||cr==="CANVAS"||cr==="SOURCE")return!1}return isNativeOn(or)&&isString(lr)?!1:or in ar}const REMOVAL={};/*! #__NO_SIDE_EFFECTS__ */function defineCustomElement(ar,or,lr){const Ar=defineComponent(ar,or);isPlainObject$2(Ar)&&extend$1(Ar,or);class cr extends VueElement{constructor(dr){super(Ar,dr,lr)}}return cr.def=Ar,cr}/*! #__NO_SIDE_EFFECTS__ */const defineSSRCustomElement=(ar,or)=>defineCustomElement(ar,or,createSSRApp),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(or,lr={},Ar=createApp){super(),this._def=or,this._props=lr,this._createApp=Ar,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&Ar!==createApp?this._root=this.shadowRoot:or.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let or=this;for(;or=or&&(or.parentNode||or.host);)if(or instanceof VueElement){this._parent=or;break}this._instance||(this._resolved?(this._setParent(),this._update()):or&&or._pendingResolve?this._pendingResolve=or._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(or=this._parent){or&&(this._instance.parent=or._instance,this._instance.provides=or._instance.provides)}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let Ar=0;Ar<this.attributes.length;Ar++)this._setAttr(this.attributes[Ar].name);this._ob=new MutationObserver(Ar=>{for(const cr of Ar)this._setAttr(cr.attributeName)}),this._ob.observe(this,{attributes:!0});const or=(Ar,cr=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:ur,styles:dr}=Ar;let hr;if(ur&&!isArray$1(ur))for(const fr in ur){const gr=ur[fr];(gr===Number||gr&&gr.type===Number)&&(fr in this._props&&(this._props[fr]=toNumber(this._props[fr])),(hr||(hr=Object.create(null)))[camelize(fr)]=!0)}this._numberProps=hr,cr&&this._resolveProps(Ar),this.shadowRoot&&this._applyStyles(dr),this._mount(Ar)},lr=this._def.__asyncLoader;lr?this._pendingResolve=lr().then(Ar=>or(this._def=Ar,!0)):or(this._def)}_mount(or){this._app=this._createApp(or),or.configureApp&&or.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const lr=this._instance&&this._instance.exposed;if(lr)for(const Ar in lr)hasOwn(this,Ar)||Object.defineProperty(this,Ar,{get:()=>unref(lr[Ar])})}_resolveProps(or){const{props:lr}=or,Ar=isArray$1(lr)?lr:Object.keys(lr||{});for(const cr of Object.keys(this))cr[0]!=="_"&&Ar.includes(cr)&&this._setProp(cr,this[cr]);for(const cr of Ar.map(camelize))Object.defineProperty(this,cr,{get(){return this._getProp(cr)},set(ur){this._setProp(cr,ur,!0,!0)}})}_setAttr(or){if(or.startsWith("data-v-"))return;const lr=this.hasAttribute(or);let Ar=lr?this.getAttribute(or):REMOVAL;const cr=camelize(or);lr&&this._numberProps&&this._numberProps[cr]&&(Ar=toNumber(Ar)),this._setProp(cr,Ar,!1,!0)}_getProp(or){return this._props[or]}_setProp(or,lr,Ar=!0,cr=!1){if(lr!==this._props[or]&&(lr===REMOVAL?delete this._props[or]:(this._props[or]=lr,or==="key"&&this._app&&(this._app._ceVNode.key=lr)),cr&&this._instance&&this._update(),Ar)){const ur=this._ob;ur&&ur.disconnect(),lr===!0?this.setAttribute(hyphenate(or),""):typeof lr=="string"||typeof lr=="number"?this.setAttribute(hyphenate(or),lr+""):lr||this.removeAttribute(hyphenate(or)),ur&&ur.observe(this,{attributes:!0})}}_update(){render$1(this._createVNode(),this._root)}_createVNode(){const or={};this.shadowRoot||(or.onVnodeMounted=or.onVnodeUpdated=this._renderSlots.bind(this));const lr=createVNode(this._def,extend$1(or,this._props));return this._instance||(lr.ce=Ar=>{this._instance=Ar,Ar.ce=this,Ar.isCE=!0;const cr=(ur,dr)=>{this.dispatchEvent(new CustomEvent(ur,isPlainObject$2(dr[0])?extend$1({detail:dr},dr[0]):{detail:dr}))};Ar.emit=(ur,...dr)=>{cr(ur,dr),hyphenate(ur)!==ur&&cr(hyphenate(ur),dr)},this._setParent()}),lr}_applyStyles(or,lr){if(!or)return;if(lr){if(lr===this._def||this._styleChildren.has(lr))return;this._styleChildren.add(lr)}const Ar=this._nonce;for(let cr=or.length-1;cr>=0;cr--){const ur=document.createElement("style");Ar&&ur.setAttribute("nonce",Ar),ur.textContent=or[cr],this.shadowRoot.prepend(ur)}}_parseSlots(){const or=this._slots={};let lr;for(;lr=this.firstChild;){const Ar=lr.nodeType===1&&lr.getAttribute("slot")||"default";(or[Ar]||(or[Ar]=[])).push(lr),this.removeChild(lr)}}_renderSlots(){const or=(this._teleportTarget||this).querySelectorAll("slot"),lr=this._instance.type.__scopeId;for(let Ar=0;Ar<or.length;Ar++){const cr=or[Ar],ur=cr.getAttribute("name")||"default",dr=this._slots[ur],hr=cr.parentNode;if(dr)for(const fr of dr){if(lr&&fr.nodeType===1){const gr=lr+"-s",pr=document.createTreeWalker(fr,1);fr.setAttribute(gr,"");let mr;for(;mr=pr.nextNode();)mr.setAttribute(gr,"")}hr.insertBefore(fr,cr)}else for(;cr.firstChild;)hr.insertBefore(cr.firstChild,cr);hr.removeChild(cr)}}_injectChildStyle(or){this._applyStyles(or.styles,or)}_removeChildStyle(or){}}function useHost(ar){const or=getCurrentInstance(),lr=or&&or.ce;return lr||null}function useShadowRoot(){const ar=useHost();return ar&&ar.shadowRoot}function useCssModule(ar="$style"){{const or=getCurrentInstance();if(!or)return EMPTY_OBJ;const lr=or.type.__cssModules;if(!lr)return EMPTY_OBJ;const Ar=lr[ar];return Ar||EMPTY_OBJ}}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=ar=>(delete ar.props.mode,ar),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(ar,{slots:or}){const lr=getCurrentInstance(),Ar=useTransitionState();let cr,ur;return onUpdated(()=>{if(!cr.length)return;const dr=ar.moveClass||`${ar.name||"v"}-move`;if(!hasCSSTransform(cr[0].el,lr.vnode.el,dr)){cr=[];return}cr.forEach(callPendingCbs),cr.forEach(recordPosition);const hr=cr.filter(applyTranslation);forceReflow(),hr.forEach(fr=>{const gr=fr.el,pr=gr.style;addTransitionClass(gr,dr),pr.transform=pr.webkitTransform=pr.transitionDuration="";const mr=gr[moveCbKey]=yr=>{yr&&yr.target!==gr||(!yr||/transform$/.test(yr.propertyName))&&(gr.removeEventListener("transitionend",mr),gr[moveCbKey]=null,removeTransitionClass(gr,dr))};gr.addEventListener("transitionend",mr)}),cr=[]}),()=>{const dr=toRaw(ar),hr=resolveTransitionProps(dr);let fr=dr.tag||Fragment$1;if(cr=[],ur)for(let gr=0;gr<ur.length;gr++){const pr=ur[gr];pr.el&&pr.el instanceof Element&&(cr.push(pr),setTransitionHooks(pr,resolveTransitionHooks(pr,hr,Ar,lr)),positionMap.set(pr,pr.el.getBoundingClientRect()))}ur=or.default?getTransitionRawChildren(or.default()):[];for(let gr=0;gr<ur.length;gr++){const pr=ur[gr];pr.key!=null&&setTransitionHooks(pr,resolveTransitionHooks(pr,hr,Ar,lr))}return createVNode(fr,null,ur)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(ar){const or=ar.el;or[moveCbKey]&&or[moveCbKey](),or[enterCbKey]&&or[enterCbKey]()}function recordPosition(ar){newPositionMap.set(ar,ar.el.getBoundingClientRect())}function applyTranslation(ar){const or=positionMap.get(ar),lr=newPositionMap.get(ar),Ar=or.left-lr.left,cr=or.top-lr.top;if(Ar||cr){const ur=ar.el.style;return ur.transform=ur.webkitTransform=`translate(${Ar}px,${cr}px)`,ur.transitionDuration="0s",ar}}function hasCSSTransform(ar,or,lr){const Ar=ar.cloneNode(),cr=ar[vtcKey];cr&&cr.forEach(hr=>{hr.split(/\s+/).forEach(fr=>fr&&Ar.classList.remove(fr))}),lr.split(/\s+/).forEach(hr=>hr&&Ar.classList.add(hr)),Ar.style.display="none";const ur=or.nodeType===1?or:or.parentNode;ur.appendChild(Ar);const{hasTransform:dr}=getTransitionInfo(Ar);return ur.removeChild(Ar),dr}const getModelAssigner=ar=>{const or=ar.props["onUpdate:modelValue"]||!1;return isArray$1(or)?lr=>invokeArrayFns(or,lr):or};function onCompositionStart(ar){ar.target.composing=!0}function onCompositionEnd(ar){const or=ar.target;or.composing&&(or.composing=!1,or.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(ar,{modifiers:{lazy:or,trim:lr,number:Ar}},cr){ar[assignKey]=getModelAssigner(cr);const ur=Ar||cr.props&&cr.props.type==="number";addEventListener$1(ar,or?"change":"input",dr=>{if(dr.target.composing)return;let hr=ar.value;lr&&(hr=hr.trim()),ur&&(hr=looseToNumber(hr)),ar[assignKey](hr)}),lr&&addEventListener$1(ar,"change",()=>{ar.value=ar.value.trim()}),or||(addEventListener$1(ar,"compositionstart",onCompositionStart),addEventListener$1(ar,"compositionend",onCompositionEnd),addEventListener$1(ar,"change",onCompositionEnd))},mounted(ar,{value:or}){ar.value=or??""},beforeUpdate(ar,{value:or,oldValue:lr,modifiers:{lazy:Ar,trim:cr,number:ur}},dr){if(ar[assignKey]=getModelAssigner(dr),ar.composing)return;const hr=(ur||ar.type==="number")&&!/^0\d/.test(ar.value)?looseToNumber(ar.value):ar.value,fr=or??"";hr!==fr&&(document.activeElement===ar&&ar.type!=="range"&&(Ar&&or===lr||cr&&ar.value.trim()===fr)||(ar.value=fr))}},vModelCheckbox={deep:!0,created(ar,or,lr){ar[assignKey]=getModelAssigner(lr),addEventListener$1(ar,"change",()=>{const Ar=ar._modelValue,cr=getValue(ar),ur=ar.checked,dr=ar[assignKey];if(isArray$1(Ar)){const hr=looseIndexOf(Ar,cr),fr=hr!==-1;if(ur&&!fr)dr(Ar.concat(cr));else if(!ur&&fr){const gr=[...Ar];gr.splice(hr,1),dr(gr)}}else if(isSet(Ar)){const hr=new Set(Ar);ur?hr.add(cr):hr.delete(cr),dr(hr)}else dr(getCheckboxValue(ar,ur))})},mounted:setChecked,beforeUpdate(ar,or,lr){ar[assignKey]=getModelAssigner(lr),setChecked(ar,or,lr)}};function setChecked(ar,{value:or,oldValue:lr},Ar){ar._modelValue=or;let cr;if(isArray$1(or))cr=looseIndexOf(or,Ar.props.value)>-1;else if(isSet(or))cr=or.has(Ar.props.value);else{if(or===lr)return;cr=looseEqual(or,getCheckboxValue(ar,!0))}ar.checked!==cr&&(ar.checked=cr)}const vModelRadio={created(ar,{value:or},lr){ar.checked=looseEqual(or,lr.props.value),ar[assignKey]=getModelAssigner(lr),addEventListener$1(ar,"change",()=>{ar[assignKey](getValue(ar))})},beforeUpdate(ar,{value:or,oldValue:lr},Ar){ar[assignKey]=getModelAssigner(Ar),or!==lr&&(ar.checked=looseEqual(or,Ar.props.value))}},vModelSelect={deep:!0,created(ar,{value:or,modifiers:{number:lr}},Ar){const cr=isSet(or);addEventListener$1(ar,"change",()=>{const ur=Array.prototype.filter.call(ar.options,dr=>dr.selected).map(dr=>lr?looseToNumber(getValue(dr)):getValue(dr));ar[assignKey](ar.multiple?cr?new Set(ur):ur:ur[0]),ar._assigning=!0,nextTick(()=>{ar._assigning=!1})}),ar[assignKey]=getModelAssigner(Ar)},mounted(ar,{value:or}){setSelected(ar,or)},beforeUpdate(ar,or,lr){ar[assignKey]=getModelAssigner(lr)},updated(ar,{value:or}){ar._assigning||setSelected(ar,or)}};function setSelected(ar,or){const lr=ar.multiple,Ar=isArray$1(or);if(!(lr&&!Ar&&!isSet(or))){for(let cr=0,ur=ar.options.length;cr<ur;cr++){const dr=ar.options[cr],hr=getValue(dr);if(lr)if(Ar){const fr=typeof hr;fr==="string"||fr==="number"?dr.selected=or.some(gr=>String(gr)===String(hr)):dr.selected=looseIndexOf(or,hr)>-1}else dr.selected=or.has(hr);else if(looseEqual(getValue(dr),or)){ar.selectedIndex!==cr&&(ar.selectedIndex=cr);return}}!lr&&ar.selectedIndex!==-1&&(ar.selectedIndex=-1)}}function getValue(ar){return"_value"in ar?ar._value:ar.value}function getCheckboxValue(ar,or){const lr=or?"_trueValue":"_falseValue";return lr in ar?ar[lr]:or}const vModelDynamic={created(ar,or,lr){callModelHook(ar,or,lr,null,"created")},mounted(ar,or,lr){callModelHook(ar,or,lr,null,"mounted")},beforeUpdate(ar,or,lr,Ar){callModelHook(ar,or,lr,Ar,"beforeUpdate")},updated(ar,or,lr,Ar){callModelHook(ar,or,lr,Ar,"updated")}};function resolveDynamicModel(ar,or){switch(ar){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(or){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(ar,or,lr,Ar,cr){const dr=resolveDynamicModel(ar.tagName,lr.props&&lr.props.type)[cr];dr&&dr(ar,or,lr,Ar)}function initVModelForSSR(){vModelText.getSSRProps=({value:ar})=>({value:ar}),vModelRadio.getSSRProps=({value:ar},or)=>{if(or.props&&looseEqual(or.props.value,ar))return{checked:!0}},vModelCheckbox.getSSRProps=({value:ar},or)=>{if(isArray$1(ar)){if(or.props&&looseIndexOf(ar,or.props.value)>-1)return{checked:!0}}else if(isSet(ar)){if(or.props&&ar.has(or.props.value))return{checked:!0}}else if(ar)return{checked:!0}},vModelDynamic.getSSRProps=(ar,or)=>{if(typeof or.type!="string")return;const lr=resolveDynamicModel(or.type.toUpperCase(),or.props&&or.props.type);if(lr.getSSRProps)return lr.getSSRProps(ar,or)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:ar=>ar.stopPropagation(),prevent:ar=>ar.preventDefault(),self:ar=>ar.target!==ar.currentTarget,ctrl:ar=>!ar.ctrlKey,shift:ar=>!ar.shiftKey,alt:ar=>!ar.altKey,meta:ar=>!ar.metaKey,left:ar=>"button"in ar&&ar.button!==0,middle:ar=>"button"in ar&&ar.button!==1,right:ar=>"button"in ar&&ar.button!==2,exact:(ar,or)=>systemModifiers.some(lr=>ar[`${lr}Key`]&&!or.includes(lr))},withModifiers=(ar,or)=>{const lr=ar._withMods||(ar._withMods={}),Ar=or.join(".");return lr[Ar]||(lr[Ar]=(cr,...ur)=>{for(let dr=0;dr<or.length;dr++){const hr=modifierGuards[or[dr]];if(hr&&hr(cr,or))return}return ar(cr,...ur)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(ar,or)=>{const lr=ar._withKeys||(ar._withKeys={}),Ar=or.join(".");return lr[Ar]||(lr[Ar]=cr=>{if(!("key"in cr))return;const ur=hyphenate(cr.key);if(or.some(dr=>dr===ur||keyNames[dr]===ur))return ar(cr)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render$1=(...ar)=>{ensureRenderer().render(...ar)},hydrate=(...ar)=>{ensureHydrationRenderer().hydrate(...ar)},createApp=(...ar)=>{const or=ensureRenderer().createApp(...ar),{mount:lr}=or;return or.mount=Ar=>{const cr=normalizeContainer(Ar);if(!cr)return;const ur=or._component;!isFunction$1(ur)&&!ur.render&&!ur.template&&(ur.template=cr.innerHTML),cr.nodeType===1&&(cr.textContent="");const dr=lr(cr,!1,resolveRootNamespace(cr));return cr instanceof Element&&(cr.removeAttribute("v-cloak"),cr.setAttribute("data-v-app","")),dr},or},createSSRApp=(...ar)=>{const or=ensureHydrationRenderer().createApp(...ar),{mount:lr}=or;return or.mount=Ar=>{const cr=normalizeContainer(Ar);if(cr)return lr(cr,!0,resolveRootNamespace(cr))},or};function resolveRootNamespace(ar){if(ar instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&ar instanceof MathMLElement)return"mathml"}function normalizeContainer(ar){return isString(ar)?document.querySelector(ar):ar}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())};/**
* vue v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const compile=()=>{},vue_runtime_esmBundler=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition,BaseTransitionPropsValidators,Comment,DeprecationTypes,EffectScope,ErrorCodes,ErrorTypeStrings,Fragment:Fragment$1,KeepAlive,ReactiveEffect,Static,Suspense,Teleport,Text:Text$2,TrackOpTypes,Transition,TransitionGroup,TriggerOpTypes,VueElement,assertNumber,callWithAsyncErrorHandling,callWithErrorHandling,camelize,capitalize,cloneVNode,compatUtils,compile,computed,createApp,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSSRApp,createSlots,createStaticVNode,createTextVNode,createVNode,customRef,defineAsyncComponent,defineComponent,defineCustomElement,defineEmits,defineExpose,defineModel,defineOptions,defineProps,defineSSRCustomElement,defineSlots,devtools,effect,effectScope,getCurrentInstance,getCurrentScope,getCurrentWatcher,getTransitionRawChildren,guardReactiveProps,h:h$2,handleError,hasInjectionContext,hydrate,hydrateOnIdle,hydrateOnInteraction,hydrateOnMediaQuery,hydrateOnVisible,initCustomFormatter,initDirectivesForSSR,inject,isMemoSame,isProxy,isReactive,isReadonly,isRef,isRuntimeOnly,isShallow,isVNode,markRaw,mergeDefaults,mergeModels,mergeProps,nextTick,normalizeClass,normalizeProps,normalizeStyle,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onScopeDispose,onServerPrefetch,onUnmounted,onUpdated,onWatcherCleanup,openBlock,popScopeId,provide,proxyRefs,pushScopeId,queuePostFlushCb,reactive,readonly,ref,registerRuntimeCompiler,render:render$1,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,shallowReactive,shallowReadonly,shallowRef,ssrContextKey,ssrUtils,stop,toDisplayString,toHandlerKey,toHandlers,toRaw,toRef,toRefs,toValue,transformVNodeArgs,triggerRef,unref,useAttrs,useCssModule,useCssVars,useHost,useId,useModel,useSSRContext,useShadowRoot,useSlots,useTemplateRef,useTransitionState,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,version:version$1,warn:warn$2,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withKeys,withMemo,withModifiers,withScopeId},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=ar=>activePinia=ar,piniaSymbol=Symbol();function isPlainObject$1(ar){return ar&&typeof ar=="object"&&Object.prototype.toString.call(ar)==="[object Object]"&&typeof ar.toJSON!="function"}var MutationType;(function(ar){ar.direct="direct",ar.patchObject="patch object",ar.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const ar=effectScope(!0),or=ar.run(()=>ref({}));let lr=[],Ar=[];const cr=markRaw({install(ur){setActivePinia(cr),cr._a=ur,ur.provide(piniaSymbol,cr),ur.config.globalProperties.$pinia=cr,Ar.forEach(dr=>lr.push(dr)),Ar=[]},use(ur){return this._a?lr.push(ur):Ar.push(ur),this},_p:lr,_a:null,_e:ar,_s:new Map,state:or});return cr}const noop$2=()=>{};function addSubscription(ar,or,lr,Ar=noop$2){ar.push(or);const cr=()=>{const ur=ar.indexOf(or);ur>-1&&(ar.splice(ur,1),Ar())};return!lr&&getCurrentScope()&&onScopeDispose(cr),cr}function triggerSubscriptions(ar,...or){ar.slice().forEach(lr=>{lr(...or)})}const fallbackRunWithContext=ar=>ar(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(ar,or){ar instanceof Map&&or instanceof Map?or.forEach((lr,Ar)=>ar.set(Ar,lr)):ar instanceof Set&&or instanceof Set&&or.forEach(ar.add,ar);for(const lr in or){if(!or.hasOwnProperty(lr))continue;const Ar=or[lr],cr=ar[lr];isPlainObject$1(cr)&&isPlainObject$1(Ar)&&ar.hasOwnProperty(lr)&&!isRef(Ar)&&!isReactive(Ar)?ar[lr]=mergeReactiveObjects(cr,Ar):ar[lr]=Ar}return ar}const skipHydrateSymbol=Symbol();function shouldHydrate(ar){return!isPlainObject$1(ar)||!ar.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$2}=Object;function isComputed(ar){return!!(isRef(ar)&&ar.effect)}function createOptionsStore(ar,or,lr,Ar){const{state:cr,actions:ur,getters:dr}=or,hr=lr.state.value[ar];let fr;function gr(){hr||(lr.state.value[ar]=cr?cr():{});const pr=toRefs(lr.state.value[ar]);return assign$2(pr,ur,Object.keys(dr||{}).reduce((mr,yr)=>(mr[yr]=markRaw(computed(()=>{setActivePinia(lr);const vr=lr._s.get(ar);return dr[yr].call(vr,vr)})),mr),{}))}return fr=createSetupStore(ar,gr,or,lr,Ar,!0),fr}function createSetupStore(ar,or,lr={},Ar,cr,ur){let dr;const hr=assign$2({actions:{}},lr),fr={deep:!0};let gr,pr,mr=[],yr=[],vr;const br=Ar.state.value[ar];!ur&&!br&&(Ar.state.value[ar]={}),ref({});let wr;function Cr(Lr){let _r;gr=pr=!1,typeof Lr=="function"?(Lr(Ar.state.value[ar]),_r={type:MutationType.patchFunction,storeId:ar,events:vr}):(mergeReactiveObjects(Ar.state.value[ar],Lr),_r={type:MutationType.patchObject,payload:Lr,storeId:ar,events:vr});const Hr=wr=Symbol();nextTick().then(()=>{wr===Hr&&(gr=!0)}),pr=!0,triggerSubscriptions(mr,_r,Ar.state.value[ar])}const Br=ur?function(){const{state:_r}=lr,Hr=_r?_r():{};this.$patch(Mr=>{assign$2(Mr,Hr)})}:noop$2;function Sr(){dr.stop(),mr=[],yr=[],Ar._s.delete(ar)}const Er=(Lr,_r="")=>{if(ACTION_MARKER in Lr)return Lr[ACTION_NAME]=_r,Lr;const Hr=function(){setActivePinia(Ar);const Mr=Array.from(arguments),Ur=[],Kr=[];function Xr(ns){Ur.push(ns)}function Yr(ns){Kr.push(ns)}triggerSubscriptions(yr,{args:Mr,name:Hr[ACTION_NAME],store:kr,after:Xr,onError:Yr});let Zr;try{Zr=Lr.apply(this&&this.$id===ar?this:kr,Mr)}catch(ns){throw triggerSubscriptions(Kr,ns),ns}return Zr instanceof Promise?Zr.then(ns=>(triggerSubscriptions(Ur,ns),ns)).catch(ns=>(triggerSubscriptions(Kr,ns),Promise.reject(ns))):(triggerSubscriptions(Ur,Zr),Zr)};return Hr[ACTION_MARKER]=!0,Hr[ACTION_NAME]=_r,Hr},Tr={_p:Ar,$id:ar,$onAction:addSubscription.bind(null,yr),$patch:Cr,$reset:Br,$subscribe(Lr,_r={}){const Hr=addSubscription(mr,Lr,_r.detached,()=>Mr()),Mr=dr.run(()=>watch(()=>Ar.state.value[ar],Ur=>{(_r.flush==="sync"?pr:gr)&&Lr({storeId:ar,type:MutationType.direct,events:vr},Ur)},assign$2({},fr,_r)));return Hr},$dispose:Sr},kr=reactive(Tr);Ar._s.set(ar,kr);const Rr=(Ar._a&&Ar._a.runWithContext||fallbackRunWithContext)(()=>Ar._e.run(()=>(dr=effectScope()).run(()=>or({action:Er}))));for(const Lr in Rr){const _r=Rr[Lr];if(isRef(_r)&&!isComputed(_r)||isReactive(_r))ur||(br&&shouldHydrate(_r)&&(isRef(_r)?_r.value=br[Lr]:mergeReactiveObjects(_r,br[Lr])),Ar.state.value[ar][Lr]=_r);else if(typeof _r=="function"){const Hr=Er(_r,Lr);Rr[Lr]=Hr,hr.actions[Lr]=_r}}return assign$2(kr,Rr),assign$2(toRaw(kr),Rr),Object.defineProperty(kr,"$state",{get:()=>Ar.state.value[ar],set:Lr=>{Cr(_r=>{assign$2(_r,Lr)})}}),Ar._p.forEach(Lr=>{assign$2(kr,dr.run(()=>Lr({store:kr,app:Ar._a,pinia:Ar,options:hr})))}),br&&ur&&lr.hydrate&&lr.hydrate(kr.$state,br),gr=!0,pr=!0,kr}/*! #__NO_SIDE_EFFECTS__ */function defineStore(ar,or,lr){let Ar,cr;const ur=typeof or=="function";typeof ar=="string"?(Ar=ar,cr=ur?lr:or):(cr=ar,Ar=ar.id);function dr(hr,fr){const gr=hasInjectionContext();return hr=hr||(gr?inject(piniaSymbol,null):null),hr&&setActivePinia(hr),hr=activePinia,hr._s.has(Ar)||(ur?createSetupStore(Ar,or,cr,hr):createOptionsStore(Ar,cr,hr)),hr._s.get(Ar)}return dr.$id=Ar,dr}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(ar){return typeof ar=="object"||"displayName"in ar||"props"in ar||"__vccOpts"in ar}function isESModule(ar){return ar.__esModule||ar[Symbol.toStringTag]==="Module"||ar.default&&isRouteComponent(ar.default)}const assign$1=Object.assign;function applyToParams(ar,or){const lr={};for(const Ar in or){const cr=or[Ar];lr[Ar]=isArray(cr)?cr.map(ar):ar(cr)}return lr}const noop$1=()=>{},isArray=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(ar){return encodeURI(""+ar).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(ar){return commonEncode(ar).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(ar){return commonEncode(ar).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(ar){return encodeQueryValue(ar).replace(EQUAL_RE,"%3D")}function encodePath(ar){return commonEncode(ar).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(ar){return ar==null?"":encodePath(ar).replace(SLASH_RE,"%2F")}function decode(ar){try{return decodeURIComponent(""+ar)}catch{}return""+ar}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=ar=>ar.replace(TRAILING_SLASH_RE,"");function parseURL(ar,or,lr="/"){let Ar,cr={},ur="",dr="";const hr=or.indexOf("#");let fr=or.indexOf("?");return hr<fr&&hr>=0&&(fr=-1),fr>-1&&(Ar=or.slice(0,fr),ur=or.slice(fr+1,hr>-1?hr:or.length),cr=ar(ur)),hr>-1&&(Ar=Ar||or.slice(0,hr),dr=or.slice(hr,or.length)),Ar=resolveRelativePath(Ar??or,lr),{fullPath:Ar+(ur&&"?")+ur+dr,path:Ar,query:cr,hash:decode(dr)}}function stringifyURL(ar,or){const lr=or.query?ar(or.query):"";return or.path+(lr&&"?")+lr+(or.hash||"")}function stripBase(ar,or){return!or||!ar.toLowerCase().startsWith(or.toLowerCase())?ar:ar.slice(or.length)||"/"}function isSameRouteLocation(ar,or,lr){const Ar=or.matched.length-1,cr=lr.matched.length-1;return Ar>-1&&Ar===cr&&isSameRouteRecord(or.matched[Ar],lr.matched[cr])&&isSameRouteLocationParams(or.params,lr.params)&&ar(or.query)===ar(lr.query)&&or.hash===lr.hash}function isSameRouteRecord(ar,or){return(ar.aliasOf||ar)===(or.aliasOf||or)}function isSameRouteLocationParams(ar,or){if(Object.keys(ar).length!==Object.keys(or).length)return!1;for(const lr in ar)if(!isSameRouteLocationParamsValue(ar[lr],or[lr]))return!1;return!0}function isSameRouteLocationParamsValue(ar,or){return isArray(ar)?isEquivalentArray(ar,or):isArray(or)?isEquivalentArray(or,ar):ar===or}function isEquivalentArray(ar,or){return isArray(or)?ar.length===or.length&&ar.every((lr,Ar)=>lr===or[Ar]):ar.length===1&&ar[0]===or}function resolveRelativePath(ar,or){if(ar.startsWith("/"))return ar;if(!ar)return or;const lr=or.split("/"),Ar=ar.split("/"),cr=Ar[Ar.length-1];(cr===".."||cr===".")&&Ar.push("");let ur=lr.length-1,dr,hr;for(dr=0;dr<Ar.length;dr++)if(hr=Ar[dr],hr!==".")if(hr==="..")ur>1&&ur--;else break;return lr.slice(0,ur).join("/")+"/"+Ar.slice(dr).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(ar){ar.pop="pop",ar.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(ar){ar.back="back",ar.forward="forward",ar.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(ar){if(!ar)if(isBrowser){const or=document.querySelector("base");ar=or&&or.getAttribute("href")||"/",ar=ar.replace(/^\w+:\/\/[^\/]+/,"")}else ar="/";return ar[0]!=="/"&&ar[0]!=="#"&&(ar="/"+ar),removeTrailingSlash(ar)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(ar,or){return ar.replace(BEFORE_HASH_RE,"#")+or}function getElementPosition(ar,or){const lr=document.documentElement.getBoundingClientRect(),Ar=ar.getBoundingClientRect();return{behavior:or.behavior,left:Ar.left-lr.left-(or.left||0),top:Ar.top-lr.top-(or.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(ar){let or;if("el"in ar){const lr=ar.el,Ar=typeof lr=="string"&&lr.startsWith("#"),cr=typeof lr=="string"?Ar?document.getElementById(lr.slice(1)):document.querySelector(lr):lr;if(!cr)return;or=getElementPosition(cr,ar)}else or=ar;"scrollBehavior"in document.documentElement.style?window.scrollTo(or):window.scrollTo(or.left!=null?or.left:window.scrollX,or.top!=null?or.top:window.scrollY)}function getScrollKey(ar,or){return(history.state?history.state.position-or:-1)+ar}const scrollPositions=new Map;function saveScrollPosition(ar,or){scrollPositions.set(ar,or)}function getSavedScrollPosition(ar){const or=scrollPositions.get(ar);return scrollPositions.delete(ar),or}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(ar,or){const{pathname:lr,search:Ar,hash:cr}=or,ur=ar.indexOf("#");if(ur>-1){let hr=cr.includes(ar.slice(ur))?ar.slice(ur).length:1,fr=cr.slice(hr);return fr[0]!=="/"&&(fr="/"+fr),stripBase(fr,"")}return stripBase(lr,ar)+Ar+cr}function useHistoryListeners(ar,or,lr,Ar){let cr=[],ur=[],dr=null;const hr=({state:yr})=>{const vr=createCurrentLocation(ar,location),br=lr.value,wr=or.value;let Cr=0;if(yr){if(lr.value=vr,or.value=yr,dr&&dr===br){dr=null;return}Cr=wr?yr.position-wr.position:0}else Ar(vr);cr.forEach(Br=>{Br(lr.value,br,{delta:Cr,type:NavigationType.pop,direction:Cr?Cr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function fr(){dr=lr.value}function gr(yr){cr.push(yr);const vr=()=>{const br=cr.indexOf(yr);br>-1&&cr.splice(br,1)};return ur.push(vr),vr}function pr(){const{history:yr}=window;yr.state&&yr.replaceState(assign$1({},yr.state,{scroll:computeScrollPosition()}),"")}function mr(){for(const yr of ur)yr();ur=[],window.removeEventListener("popstate",hr),window.removeEventListener("beforeunload",pr)}return window.addEventListener("popstate",hr),window.addEventListener("beforeunload",pr,{passive:!0}),{pauseListeners:fr,listen:gr,destroy:mr}}function buildState(ar,or,lr,Ar=!1,cr=!1){return{back:ar,current:or,forward:lr,replaced:Ar,position:window.history.length,scroll:cr?computeScrollPosition():null}}function useHistoryStateNavigation(ar){const{history:or,location:lr}=window,Ar={value:createCurrentLocation(ar,lr)},cr={value:or.state};cr.value||ur(Ar.value,{back:null,current:Ar.value,forward:null,position:or.length-1,replaced:!0,scroll:null},!0);function ur(fr,gr,pr){const mr=ar.indexOf("#"),yr=mr>-1?(lr.host&&document.querySelector("base")?ar:ar.slice(mr))+fr:createBaseLocation()+ar+fr;try{or[pr?"replaceState":"pushState"](gr,"",yr),cr.value=gr}catch(vr){console.error(vr),lr[pr?"replace":"assign"](yr)}}function dr(fr,gr){const pr=assign$1({},or.state,buildState(cr.value.back,fr,cr.value.forward,!0),gr,{position:cr.value.position});ur(fr,pr,!0),Ar.value=fr}function hr(fr,gr){const pr=assign$1({},cr.value,or.state,{forward:fr,scroll:computeScrollPosition()});ur(pr.current,pr,!0);const mr=assign$1({},buildState(Ar.value,fr,null),{position:pr.position+1},gr);ur(fr,mr,!1),Ar.value=fr}return{location:Ar,state:cr,push:hr,replace:dr}}function createWebHistory(ar){ar=normalizeBase(ar);const or=useHistoryStateNavigation(ar),lr=useHistoryListeners(ar,or.state,or.location,or.replace);function Ar(ur,dr=!0){dr||lr.pauseListeners(),history.go(ur)}const cr=assign$1({location:"",base:ar,go:Ar,createHref:createHref.bind(null,ar)},or,lr);return Object.defineProperty(cr,"location",{enumerable:!0,get:()=>or.location.value}),Object.defineProperty(cr,"state",{enumerable:!0,get:()=>or.state.value}),cr}function isRouteLocation(ar){return typeof ar=="string"||ar&&typeof ar=="object"}function isRouteName(ar){return typeof ar=="string"||typeof ar=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(ar){ar[ar.aborted=4]="aborted",ar[ar.cancelled=8]="cancelled",ar[ar.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(ar,or){return assign$1(new Error,{type:ar,[NavigationFailureSymbol]:!0},or)}function isNavigationFailure(ar,or){return ar instanceof Error&&NavigationFailureSymbol in ar&&(or==null||!!(ar.type&or))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(ar,or){const lr=assign$1({},BASE_PATH_PARSER_OPTIONS,or),Ar=[];let cr=lr.start?"^":"";const ur=[];for(const gr of ar){const pr=gr.length?[]:[90];lr.strict&&!gr.length&&(cr+="/");for(let mr=0;mr<gr.length;mr++){const yr=gr[mr];let vr=40+(lr.sensitive?.25:0);if(yr.type===0)mr||(cr+="/"),cr+=yr.value.replace(REGEX_CHARS_RE,"\\$&"),vr+=40;else if(yr.type===1){const{value:br,repeatable:wr,optional:Cr,regexp:Br}=yr;ur.push({name:br,repeatable:wr,optional:Cr});const Sr=Br||BASE_PARAM_PATTERN;if(Sr!==BASE_PARAM_PATTERN){vr+=10;try{new RegExp(`(${Sr})`)}catch(Tr){throw new Error(`Invalid custom RegExp for param "${br}" (${Sr}): `+Tr.message)}}let Er=wr?`((?:${Sr})(?:/(?:${Sr}))*)`:`(${Sr})`;mr||(Er=Cr&&gr.length<2?`(?:/${Er})`:"/"+Er),Cr&&(Er+="?"),cr+=Er,vr+=20,Cr&&(vr+=-8),wr&&(vr+=-20),Sr===".*"&&(vr+=-50)}pr.push(vr)}Ar.push(pr)}if(lr.strict&&lr.end){const gr=Ar.length-1;Ar[gr][Ar[gr].length-1]+=.7000000000000001}lr.strict||(cr+="/?"),lr.end?cr+="$":lr.strict&&!cr.endsWith("/")&&(cr+="(?:/|$)");const dr=new RegExp(cr,lr.sensitive?"":"i");function hr(gr){const pr=gr.match(dr),mr={};if(!pr)return null;for(let yr=1;yr<pr.length;yr++){const vr=pr[yr]||"",br=ur[yr-1];mr[br.name]=vr&&br.repeatable?vr.split("/"):vr}return mr}function fr(gr){let pr="",mr=!1;for(const yr of ar){(!mr||!pr.endsWith("/"))&&(pr+="/"),mr=!1;for(const vr of yr)if(vr.type===0)pr+=vr.value;else if(vr.type===1){const{value:br,repeatable:wr,optional:Cr}=vr,Br=br in gr?gr[br]:"";if(isArray(Br)&&!wr)throw new Error(`Provided param "${br}" is an array but it is not repeatable (* or + modifiers)`);const Sr=isArray(Br)?Br.join("/"):Br;if(!Sr)if(Cr)yr.length<2&&(pr.endsWith("/")?pr=pr.slice(0,-1):mr=!0);else throw new Error(`Missing required param "${br}"`);pr+=Sr}}return pr||"/"}return{re:dr,score:Ar,keys:ur,parse:hr,stringify:fr}}function compareScoreArray(ar,or){let lr=0;for(;lr<ar.length&&lr<or.length;){const Ar=or[lr]-ar[lr];if(Ar)return Ar;lr++}return ar.length<or.length?ar.length===1&&ar[0]===80?-1:1:ar.length>or.length?or.length===1&&or[0]===80?1:-1:0}function comparePathParserScore(ar,or){let lr=0;const Ar=ar.score,cr=or.score;for(;lr<Ar.length&&lr<cr.length;){const ur=compareScoreArray(Ar[lr],cr[lr]);if(ur)return ur;lr++}if(Math.abs(cr.length-Ar.length)===1){if(isLastScoreNegative(Ar))return 1;if(isLastScoreNegative(cr))return-1}return cr.length-Ar.length}function isLastScoreNegative(ar){const or=ar[ar.length-1];return ar.length>0&&or[or.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(ar){if(!ar)return[[]];if(ar==="/")return[[ROOT_TOKEN]];if(!ar.startsWith("/"))throw new Error(`Invalid path "${ar}"`);function or(vr){throw new Error(`ERR (${lr})/"${gr}": ${vr}`)}let lr=0,Ar=lr;const cr=[];let ur;function dr(){ur&&cr.push(ur),ur=[]}let hr=0,fr,gr="",pr="";function mr(){gr&&(lr===0?ur.push({type:0,value:gr}):lr===1||lr===2||lr===3?(ur.length>1&&(fr==="*"||fr==="+")&&or(`A repeatable param (${gr}) must be alone in its segment. eg: '/:ids+.`),ur.push({type:1,value:gr,regexp:pr,repeatable:fr==="*"||fr==="+",optional:fr==="*"||fr==="?"})):or("Invalid state to consume buffer"),gr="")}function yr(){gr+=fr}for(;hr<ar.length;){if(fr=ar[hr++],fr==="\\"&&lr!==2){Ar=lr,lr=4;continue}switch(lr){case 0:fr==="/"?(gr&&mr(),dr()):fr===":"?(mr(),lr=1):yr();break;case 4:yr(),lr=Ar;break;case 1:fr==="("?lr=2:VALID_PARAM_RE.test(fr)?yr():(mr(),lr=0,fr!=="*"&&fr!=="?"&&fr!=="+"&&hr--);break;case 2:fr===")"?pr[pr.length-1]=="\\"?pr=pr.slice(0,-1)+fr:lr=3:pr+=fr;break;case 3:mr(),lr=0,fr!=="*"&&fr!=="?"&&fr!=="+"&&hr--,pr="";break;default:or("Unknown state");break}}return lr===2&&or(`Unfinished custom RegExp for param "${gr}"`),mr(),dr(),cr}function createRouteRecordMatcher(ar,or,lr){const Ar=tokensToParser(tokenizePath(ar.path),lr),cr=assign$1(Ar,{record:ar,parent:or,children:[],alias:[]});return or&&!cr.record.aliasOf==!or.record.aliasOf&&or.children.push(cr),cr}function createRouterMatcher(ar,or){const lr=[],Ar=new Map;or=mergeOptions({strict:!1,end:!0,sensitive:!1},or);function cr(mr){return Ar.get(mr)}function ur(mr,yr,vr){const br=!vr,wr=normalizeRouteRecord(mr);wr.aliasOf=vr&&vr.record;const Cr=mergeOptions(or,mr),Br=[wr];if("alias"in mr){const Tr=typeof mr.alias=="string"?[mr.alias]:mr.alias;for(const kr of Tr)Br.push(normalizeRouteRecord(assign$1({},wr,{components:vr?vr.record.components:wr.components,path:kr,aliasOf:vr?vr.record:wr})))}let Sr,Er;for(const Tr of Br){const{path:kr}=Tr;if(yr&&kr[0]!=="/"){const Or=yr.record.path,Rr=Or[Or.length-1]==="/"?"":"/";Tr.path=yr.record.path+(kr&&Rr+kr)}if(Sr=createRouteRecordMatcher(Tr,yr,Cr),vr?vr.alias.push(Sr):(Er=Er||Sr,Er!==Sr&&Er.alias.push(Sr),br&&mr.name&&!isAliasRecord(Sr)&&dr(mr.name)),isMatchable(Sr)&&fr(Sr),wr.children){const Or=wr.children;for(let Rr=0;Rr<Or.length;Rr++)ur(Or[Rr],Sr,vr&&vr.children[Rr])}vr=vr||Sr}return Er?()=>{dr(Er)}:noop$1}function dr(mr){if(isRouteName(mr)){const yr=Ar.get(mr);yr&&(Ar.delete(mr),lr.splice(lr.indexOf(yr),1),yr.children.forEach(dr),yr.alias.forEach(dr))}else{const yr=lr.indexOf(mr);yr>-1&&(lr.splice(yr,1),mr.record.name&&Ar.delete(mr.record.name),mr.children.forEach(dr),mr.alias.forEach(dr))}}function hr(){return lr}function fr(mr){const yr=findInsertionIndex(mr,lr);lr.splice(yr,0,mr),mr.record.name&&!isAliasRecord(mr)&&Ar.set(mr.record.name,mr)}function gr(mr,yr){let vr,br={},wr,Cr;if("name"in mr&&mr.name){if(vr=Ar.get(mr.name),!vr)throw createRouterError(1,{location:mr});Cr=vr.record.name,br=assign$1(paramsFromLocation(yr.params,vr.keys.filter(Er=>!Er.optional).concat(vr.parent?vr.parent.keys.filter(Er=>Er.optional):[]).map(Er=>Er.name)),mr.params&&paramsFromLocation(mr.params,vr.keys.map(Er=>Er.name))),wr=vr.stringify(br)}else if(mr.path!=null)wr=mr.path,vr=lr.find(Er=>Er.re.test(wr)),vr&&(br=vr.parse(wr),Cr=vr.record.name);else{if(vr=yr.name?Ar.get(yr.name):lr.find(Er=>Er.re.test(yr.path)),!vr)throw createRouterError(1,{location:mr,currentLocation:yr});Cr=vr.record.name,br=assign$1({},yr.params,mr.params),wr=vr.stringify(br)}const Br=[];let Sr=vr;for(;Sr;)Br.unshift(Sr.record),Sr=Sr.parent;return{name:Cr,path:wr,params:br,matched:Br,meta:mergeMetaFields(Br)}}ar.forEach(mr=>ur(mr));function pr(){lr.length=0,Ar.clear()}return{addRoute:ur,resolve:gr,removeRoute:dr,clearRoutes:pr,getRoutes:hr,getRecordMatcher:cr}}function paramsFromLocation(ar,or){const lr={};for(const Ar of or)Ar in ar&&(lr[Ar]=ar[Ar]);return lr}function normalizeRouteRecord(ar){const or={path:ar.path,redirect:ar.redirect,name:ar.name,meta:ar.meta||{},aliasOf:ar.aliasOf,beforeEnter:ar.beforeEnter,props:normalizeRecordProps(ar),children:ar.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in ar?ar.components||null:ar.component&&{default:ar.component}};return Object.defineProperty(or,"mods",{value:{}}),or}function normalizeRecordProps(ar){const or={},lr=ar.props||!1;if("component"in ar)or.default=lr;else for(const Ar in ar.components)or[Ar]=typeof lr=="object"?lr[Ar]:lr;return or}function isAliasRecord(ar){for(;ar;){if(ar.record.aliasOf)return!0;ar=ar.parent}return!1}function mergeMetaFields(ar){return ar.reduce((or,lr)=>assign$1(or,lr.meta),{})}function mergeOptions(ar,or){const lr={};for(const Ar in ar)lr[Ar]=Ar in or?or[Ar]:ar[Ar];return lr}function findInsertionIndex(ar,or){let lr=0,Ar=or.length;for(;lr!==Ar;){const ur=lr+Ar>>1;comparePathParserScore(ar,or[ur])<0?Ar=ur:lr=ur+1}const cr=getInsertionAncestor(ar);return cr&&(Ar=or.lastIndexOf(cr,Ar-1)),Ar}function getInsertionAncestor(ar){let or=ar;for(;or=or.parent;)if(isMatchable(or)&&comparePathParserScore(ar,or)===0)return or}function isMatchable({record:ar}){return!!(ar.name||ar.components&&Object.keys(ar.components).length||ar.redirect)}function parseQuery(ar){const or={};if(ar===""||ar==="?")return or;const Ar=(ar[0]==="?"?ar.slice(1):ar).split("&");for(let cr=0;cr<Ar.length;++cr){const ur=Ar[cr].replace(PLUS_RE," "),dr=ur.indexOf("="),hr=decode(dr<0?ur:ur.slice(0,dr)),fr=dr<0?null:decode(ur.slice(dr+1));if(hr in or){let gr=or[hr];isArray(gr)||(gr=or[hr]=[gr]),gr.push(fr)}else or[hr]=fr}return or}function stringifyQuery(ar){let or="";for(let lr in ar){const Ar=ar[lr];if(lr=encodeQueryKey(lr),Ar==null){Ar!==void 0&&(or+=(or.length?"&":"")+lr);continue}(isArray(Ar)?Ar.map(ur=>ur&&encodeQueryValue(ur)):[Ar&&encodeQueryValue(Ar)]).forEach(ur=>{ur!==void 0&&(or+=(or.length?"&":"")+lr,ur!=null&&(or+="="+ur))})}return or}function normalizeQuery(ar){const or={};for(const lr in ar){const Ar=ar[lr];Ar!==void 0&&(or[lr]=isArray(Ar)?Ar.map(cr=>cr==null?null:""+cr):Ar==null?Ar:""+Ar)}return or}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let ar=[];function or(Ar){return ar.push(Ar),()=>{const cr=ar.indexOf(Ar);cr>-1&&ar.splice(cr,1)}}function lr(){ar=[]}return{add:or,list:()=>ar.slice(),reset:lr}}function guardToPromiseFn(ar,or,lr,Ar,cr,ur=dr=>dr()){const dr=Ar&&(Ar.enterCallbacks[cr]=Ar.enterCallbacks[cr]||[]);return()=>new Promise((hr,fr)=>{const gr=yr=>{yr===!1?fr(createRouterError(4,{from:lr,to:or})):yr instanceof Error?fr(yr):isRouteLocation(yr)?fr(createRouterError(2,{from:or,to:yr})):(dr&&Ar.enterCallbacks[cr]===dr&&typeof yr=="function"&&dr.push(yr),hr())},pr=ur(()=>ar.call(Ar&&Ar.instances[cr],or,lr,gr));let mr=Promise.resolve(pr);ar.length<3&&(mr=mr.then(gr)),mr.catch(yr=>fr(yr))})}function extractComponentsGuards(ar,or,lr,Ar,cr=ur=>ur()){const ur=[];for(const dr of ar)for(const hr in dr.components){let fr=dr.components[hr];if(!(or!=="beforeRouteEnter"&&!dr.instances[hr]))if(isRouteComponent(fr)){const pr=(fr.__vccOpts||fr)[or];pr&&ur.push(guardToPromiseFn(pr,lr,Ar,dr,hr,cr))}else{let gr=fr();ur.push(()=>gr.then(pr=>{if(!pr)throw new Error(`Couldn't resolve component "${hr}" at "${dr.path}"`);const mr=isESModule(pr)?pr.default:pr;dr.mods[hr]=pr,dr.components[hr]=mr;const vr=(mr.__vccOpts||mr)[or];return vr&&guardToPromiseFn(vr,lr,Ar,dr,hr,cr)()}))}}return ur}function useLink(ar){const or=inject(routerKey),lr=inject(routeLocationKey),Ar=computed(()=>{const fr=unref(ar.to);return or.resolve(fr)}),cr=computed(()=>{const{matched:fr}=Ar.value,{length:gr}=fr,pr=fr[gr-1],mr=lr.matched;if(!pr||!mr.length)return-1;const yr=mr.findIndex(isSameRouteRecord.bind(null,pr));if(yr>-1)return yr;const vr=getOriginalPath(fr[gr-2]);return gr>1&&getOriginalPath(pr)===vr&&mr[mr.length-1].path!==vr?mr.findIndex(isSameRouteRecord.bind(null,fr[gr-2])):yr}),ur=computed(()=>cr.value>-1&&includesParams(lr.params,Ar.value.params)),dr=computed(()=>cr.value>-1&&cr.value===lr.matched.length-1&&isSameRouteLocationParams(lr.params,Ar.value.params));function hr(fr={}){if(guardEvent(fr)){const gr=or[unref(ar.replace)?"replace":"push"](unref(ar.to)).catch(noop$1);return ar.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>gr),gr}return Promise.resolve()}return{route:Ar,href:computed(()=>Ar.value.href),isActive:ur,isExactActive:dr,navigate:hr}}function preferSingleVNode(ar){return ar.length===1?ar[0]:ar}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(ar,{slots:or}){const lr=reactive(useLink(ar)),{options:Ar}=inject(routerKey),cr=computed(()=>({[getLinkClass(ar.activeClass,Ar.linkActiveClass,"router-link-active")]:lr.isActive,[getLinkClass(ar.exactActiveClass,Ar.linkExactActiveClass,"router-link-exact-active")]:lr.isExactActive}));return()=>{const ur=or.default&&preferSingleVNode(or.default(lr));return ar.custom?ur:h$2("a",{"aria-current":lr.isExactActive?ar.ariaCurrentValue:null,href:lr.href,onClick:lr.navigate,class:cr.value},ur)}}}),RouterLink=RouterLinkImpl;function guardEvent(ar){if(!(ar.metaKey||ar.altKey||ar.ctrlKey||ar.shiftKey)&&!ar.defaultPrevented&&!(ar.button!==void 0&&ar.button!==0)){if(ar.currentTarget&&ar.currentTarget.getAttribute){const or=ar.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(or))return}return ar.preventDefault&&ar.preventDefault(),!0}}function includesParams(ar,or){for(const lr in or){const Ar=or[lr],cr=ar[lr];if(typeof Ar=="string"){if(Ar!==cr)return!1}else if(!isArray(cr)||cr.length!==Ar.length||Ar.some((ur,dr)=>ur!==cr[dr]))return!1}return!0}function getOriginalPath(ar){return ar?ar.aliasOf?ar.aliasOf.path:ar.path:""}const getLinkClass=(ar,or,lr)=>ar??or??lr,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(ar,{attrs:or,slots:lr}){const Ar=inject(routerViewLocationKey),cr=computed(()=>ar.route||Ar.value),ur=inject(viewDepthKey,0),dr=computed(()=>{let gr=unref(ur);const{matched:pr}=cr.value;let mr;for(;(mr=pr[gr])&&!mr.components;)gr++;return gr}),hr=computed(()=>cr.value.matched[dr.value]);provide(viewDepthKey,computed(()=>dr.value+1)),provide(matchedRouteKey,hr),provide(routerViewLocationKey,cr);const fr=ref();return watch(()=>[fr.value,hr.value,ar.name],([gr,pr,mr],[yr,vr,br])=>{pr&&(pr.instances[mr]=gr,vr&&vr!==pr&&gr&&gr===yr&&(pr.leaveGuards.size||(pr.leaveGuards=vr.leaveGuards),pr.updateGuards.size||(pr.updateGuards=vr.updateGuards))),gr&&pr&&(!vr||!isSameRouteRecord(pr,vr)||!yr)&&(pr.enterCallbacks[mr]||[]).forEach(wr=>wr(gr))},{flush:"post"}),()=>{const gr=cr.value,pr=ar.name,mr=hr.value,yr=mr&&mr.components[pr];if(!yr)return normalizeSlot(lr.default,{Component:yr,route:gr});const vr=mr.props[pr],br=vr?vr===!0?gr.params:typeof vr=="function"?vr(gr):vr:null,Cr=h$2(yr,assign$1({},br,or,{onVnodeUnmounted:Br=>{Br.component.isUnmounted&&(mr.instances[pr]=null)},ref:fr}));return normalizeSlot(lr.default,{Component:Cr,route:gr})||Cr}}});function normalizeSlot(ar,or){if(!ar)return null;const lr=ar(or);return lr.length===1?lr[0]:lr}const RouterView=RouterViewImpl;function createRouter(ar){const or=createRouterMatcher(ar.routes,ar),lr=ar.parseQuery||parseQuery,Ar=ar.stringifyQuery||stringifyQuery,cr=ar.history,ur=useCallbacks(),dr=useCallbacks(),hr=useCallbacks(),fr=shallowRef(START_LOCATION_NORMALIZED);let gr=START_LOCATION_NORMALIZED;isBrowser&&ar.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const pr=applyToParams.bind(null,Jr=>""+Jr),mr=applyToParams.bind(null,encodeParam),yr=applyToParams.bind(null,decode);function vr(Jr,ls){let hs,bs;return isRouteName(Jr)?(hs=or.getRecordMatcher(Jr),bs=ls):bs=Jr,or.addRoute(bs,hs)}function br(Jr){const ls=or.getRecordMatcher(Jr);ls&&or.removeRoute(ls)}function wr(){return or.getRoutes().map(Jr=>Jr.record)}function Cr(Jr){return!!or.getRecordMatcher(Jr)}function Br(Jr,ls){if(ls=assign$1({},ls||fr.value),typeof Jr=="string"){const ps=parseURL(lr,Jr,ls.path),ms=or.resolve({path:ps.path},ls),ss=cr.createHref(ps.fullPath);return assign$1(ps,ms,{params:yr(ms.params),hash:decode(ps.hash),redirectedFrom:void 0,href:ss})}let hs;if(Jr.path!=null)hs=assign$1({},Jr,{path:parseURL(lr,Jr.path,ls.path).path});else{const ps=assign$1({},Jr.params);for(const ms in ps)ps[ms]==null&&delete ps[ms];hs=assign$1({},Jr,{params:mr(ps)}),ls.params=mr(ls.params)}const bs=or.resolve(hs,ls),Ts=Jr.hash||"";bs.params=pr(yr(bs.params));const Ds=stringifyURL(Ar,assign$1({},Jr,{hash:encodeHash(Ts),path:bs.path})),us=cr.createHref(Ds);return assign$1({fullPath:Ds,hash:Ts,query:Ar===stringifyQuery?normalizeQuery(Jr.query):Jr.query||{}},bs,{redirectedFrom:void 0,href:us})}function Sr(Jr){return typeof Jr=="string"?parseURL(lr,Jr,fr.value.path):assign$1({},Jr)}function Er(Jr,ls){if(gr!==Jr)return createRouterError(8,{from:ls,to:Jr})}function Tr(Jr){return Rr(Jr)}function kr(Jr){return Tr(assign$1(Sr(Jr),{replace:!0}))}function Or(Jr){const ls=Jr.matched[Jr.matched.length-1];if(ls&&ls.redirect){const{redirect:hs}=ls;let bs=typeof hs=="function"?hs(Jr):hs;return typeof bs=="string"&&(bs=bs.includes("?")||bs.includes("#")?bs=Sr(bs):{path:bs},bs.params={}),assign$1({query:Jr.query,hash:Jr.hash,params:bs.path!=null?{}:Jr.params},bs)}}function Rr(Jr,ls){const hs=gr=Br(Jr),bs=fr.value,Ts=Jr.state,Ds=Jr.force,us=Jr.replace===!0,ps=Or(hs);if(ps)return Rr(assign$1(Sr(ps),{state:typeof ps=="object"?assign$1({},Ts,ps.state):Ts,force:Ds,replace:us}),ls||hs);const ms=hs;ms.redirectedFrom=ls;let ss;return!Ds&&isSameRouteLocation(Ar,bs,hs)&&(ss=createRouterError(16,{to:ms,from:bs}),Os(bs,bs,!0,!1)),(ss?Promise.resolve(ss):Hr(ms,bs)).catch(ks=>isNavigationFailure(ks)?isNavigationFailure(ks,2)?ks:gs(ks):As(ks,ms,bs)).then(ks=>{if(ks){if(isNavigationFailure(ks,2))return Rr(assign$1({replace:us},Sr(ks.to),{state:typeof ks.to=="object"?assign$1({},Ts,ks.to.state):Ts,force:Ds}),ls||ms)}else ks=Ur(ms,bs,!0,us,Ts);return Mr(ms,bs,ks),ks})}function Lr(Jr,ls){const hs=Er(Jr,ls);return hs?Promise.reject(hs):Promise.resolve()}function _r(Jr){const ls=$r.values().next().value;return ls&&typeof ls.runWithContext=="function"?ls.runWithContext(Jr):Jr()}function Hr(Jr,ls){let hs;const[bs,Ts,Ds]=extractChangingRecords(Jr,ls);hs=extractComponentsGuards(bs.reverse(),"beforeRouteLeave",Jr,ls);for(const ps of bs)ps.leaveGuards.forEach(ms=>{hs.push(guardToPromiseFn(ms,Jr,ls))});const us=Lr.bind(null,Jr,ls);return hs.push(us),cs(hs).then(()=>{hs=[];for(const ps of ur.list())hs.push(guardToPromiseFn(ps,Jr,ls));return hs.push(us),cs(hs)}).then(()=>{hs=extractComponentsGuards(Ts,"beforeRouteUpdate",Jr,ls);for(const ps of Ts)ps.updateGuards.forEach(ms=>{hs.push(guardToPromiseFn(ms,Jr,ls))});return hs.push(us),cs(hs)}).then(()=>{hs=[];for(const ps of Ds)if(ps.beforeEnter)if(isArray(ps.beforeEnter))for(const ms of ps.beforeEnter)hs.push(guardToPromiseFn(ms,Jr,ls));else hs.push(guardToPromiseFn(ps.beforeEnter,Jr,ls));return hs.push(us),cs(hs)}).then(()=>(Jr.matched.forEach(ps=>ps.enterCallbacks={}),hs=extractComponentsGuards(Ds,"beforeRouteEnter",Jr,ls,_r),hs.push(us),cs(hs))).then(()=>{hs=[];for(const ps of dr.list())hs.push(guardToPromiseFn(ps,Jr,ls));return hs.push(us),cs(hs)}).catch(ps=>isNavigationFailure(ps,8)?ps:Promise.reject(ps))}function Mr(Jr,ls,hs){hr.list().forEach(bs=>_r(()=>bs(Jr,ls,hs)))}function Ur(Jr,ls,hs,bs,Ts){const Ds=Er(Jr,ls);if(Ds)return Ds;const us=ls===START_LOCATION_NORMALIZED,ps=isBrowser?history.state:{};hs&&(bs||us?cr.replace(Jr.fullPath,assign$1({scroll:us&&ps&&ps.scroll},Ts)):cr.push(Jr.fullPath,Ts)),fr.value=Jr,Os(Jr,ls,hs,us),gs()}let Kr;function Xr(){Kr||(Kr=cr.listen((Jr,ls,hs)=>{if(!zr.listening)return;const bs=Br(Jr),Ts=Or(bs);if(Ts){Rr(assign$1(Ts,{replace:!0,force:!0}),bs).catch(noop$1);return}gr=bs;const Ds=fr.value;isBrowser&&saveScrollPosition(getScrollKey(Ds.fullPath,hs.delta),computeScrollPosition()),Hr(bs,Ds).catch(us=>isNavigationFailure(us,12)?us:isNavigationFailure(us,2)?(Rr(assign$1(Sr(us.to),{force:!0}),bs).then(ps=>{isNavigationFailure(ps,20)&&!hs.delta&&hs.type===NavigationType.pop&&cr.go(-1,!1)}).catch(noop$1),Promise.reject()):(hs.delta&&cr.go(-hs.delta,!1),As(us,bs,Ds))).then(us=>{us=us||Ur(bs,Ds,!1),us&&(hs.delta&&!isNavigationFailure(us,8)?cr.go(-hs.delta,!1):hs.type===NavigationType.pop&&isNavigationFailure(us,20)&&cr.go(-1,!1)),Mr(bs,Ds,us)}).catch(noop$1)}))}let Yr=useCallbacks(),Zr=useCallbacks(),ns;function As(Jr,ls,hs){gs(Jr);const bs=Zr.list();return bs.length?bs.forEach(Ts=>Ts(Jr,ls,hs)):console.error(Jr),Promise.reject(Jr)}function is(){return ns&&fr.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Jr,ls)=>{Yr.add([Jr,ls])})}function gs(Jr){return ns||(ns=!Jr,Xr(),Yr.list().forEach(([ls,hs])=>Jr?hs(Jr):ls()),Yr.reset()),Jr}function Os(Jr,ls,hs,bs){const{scrollBehavior:Ts}=ar;if(!isBrowser||!Ts)return Promise.resolve();const Ds=!hs&&getSavedScrollPosition(getScrollKey(Jr.fullPath,0))||(bs||!hs)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Ts(Jr,ls,Ds)).then(us=>us&&scrollToPosition(us)).catch(us=>As(us,Jr,ls))}const Vr=Jr=>cr.go(Jr);let Qr;const $r=new Set,zr={currentRoute:fr,listening:!0,addRoute:vr,removeRoute:br,clearRoutes:or.clearRoutes,hasRoute:Cr,getRoutes:wr,resolve:Br,options:ar,push:Tr,replace:kr,go:Vr,back:()=>Vr(-1),forward:()=>Vr(1),beforeEach:ur.add,beforeResolve:dr.add,afterEach:hr.add,onError:Zr.add,isReady:is,install(Jr){const ls=this;Jr.component("RouterLink",RouterLink),Jr.component("RouterView",RouterView),Jr.config.globalProperties.$router=ls,Object.defineProperty(Jr.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(fr)}),isBrowser&&!Qr&&fr.value===START_LOCATION_NORMALIZED&&(Qr=!0,Tr(cr.location).catch(Ts=>{}));const hs={};for(const Ts in START_LOCATION_NORMALIZED)Object.defineProperty(hs,Ts,{get:()=>fr.value[Ts],enumerable:!0});Jr.provide(routerKey,ls),Jr.provide(routeLocationKey,shallowReactive(hs)),Jr.provide(routerViewLocationKey,fr);const bs=Jr.unmount;$r.add(Jr),Jr.unmount=function(){$r.delete(Jr),$r.size<1&&(gr=START_LOCATION_NORMALIZED,Kr&&Kr(),Kr=null,fr.value=START_LOCATION_NORMALIZED,Qr=!1,ns=!1),bs()}}};function cs(Jr){return Jr.reduce((ls,hs)=>ls.then(()=>_r(hs)),Promise.resolve())}return zr}function extractChangingRecords(ar,or){const lr=[],Ar=[],cr=[],ur=Math.max(or.matched.length,ar.matched.length);for(let dr=0;dr<ur;dr++){const hr=or.matched[dr];hr&&(ar.matched.find(gr=>isSameRouteRecord(gr,hr))?Ar.push(hr):lr.push(hr));const fr=ar.matched[dr];fr&&(or.matched.find(gr=>isSameRouteRecord(gr,fr))||cr.push(fr))}return[lr,Ar,cr]}function useRouter(){return inject(routerKey)}function useRoute(ar){return inject(routeLocationKey)}const _imports_0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20version='1.1'%20id='svg46'%20width='461'%20height='455'%20viewBox='0%200%20461%20455'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs50'%20/%3e%3cg%20id='g52'%3e%3cpath%20style='fill:%23472cff;fill-opacity:1;stroke:%23fffffa;stroke-width:3.55745;stroke-opacity:0'%20d='m%20218.80108,367.29575%20c%20-0.93183,-1.57774%20-2.77367,-7.90541%20-4.09297,-14.0615%20-4.78355,-22.32091%20-10.35116,-24.18933%20-77.95392,-26.16048%20L%2075.750282,325.29504%20V%20206.11996%2086.944876%20l%2057.814988,-0.97751%20c%2061.45499,-1.039064%2069.97156,0.686876%2088.93043,18.022354%20l%208.00429,7.31892%208.0043,-7.31892%20c%2018.95887,-17.335478%2027.47544,-19.061418%2088.93042,-18.022354%20l%2057.81501,0.97751%20V%20206.11996%20325.29504%20l%20-61.00396,1.77873%20c%20-68.40595,1.99456%20-72.73977,3.53376%20-78.45585,27.86494%20-2.63361,11.21024%20-4.62881,13.19926%20-14.17971,14.13576%20-6.11318,0.59944%20-11.8773,-0.201%20-12.80912,-1.77872%20z%20m%20-8.68583,-228.34359%20c%20-9.8092,-20.0588%20-24.222,-25.31424%20-69.44125,-25.32077%20l%20-38.24275,-0.008%20v%2092.49409%2092.4941%20l%2050.69388,0.0545%20c%2027.88162,0.0284%2053.09516,1.57373%2056.03007,3.43061%204.67243,2.95614%205.45562,-6.1797%206.29625,-73.44786%200.84383,-67.52638%200.19815,-78.38215%20-5.3362,-89.69909%20z%20m%2098.41511,159.66189%20h%2050.03837%20v%20-92.49409%20-92.49409%20l%20-38.24276,0.008%20c%20-44.83785,0.008%20-59.57301,5.29527%20-69.36505,24.89672%20-5.34975,10.70909%20-6.22078,23.29437%20-6.22556,89.95114%20-0.007,75.52052%200.17047,77.406%206.87555,73.8174%203.80774,-2.03781%2029.22981,-3.6826%2056.91945,-3.6826%20z'%20id='path893'%20/%3e%3c/g%3e%3c/svg%3e",e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t=Object.keys,n$1=Array.isArray;function r(ar,or){return typeof or!="object"||t(or).forEach(function(lr){ar[lr]=or[lr]}),ar}typeof Promise>"u"||e.Promise||(e.Promise=Promise);const s$1=Object.getPrototypeOf,i$3={}.hasOwnProperty;function o$1(ar,or){return i$3.call(ar,or)}function a$1(ar,or){typeof or=="function"&&(or=or(s$1(ar))),(typeof Reflect>"u"?t:Reflect.ownKeys)(or).forEach(lr=>{l$1(ar,lr,or[lr])})}const u$1=Object.defineProperty;function l$1(ar,or,lr,Ar){u$1(ar,or,r(lr&&o$1(lr,"get")&&typeof lr.get=="function"?{get:lr.get,set:lr.set,configurable:!0}:{value:lr,configurable:!0,writable:!0},Ar))}function c$1(ar){return{from:function(or){return ar.prototype=Object.create(or.prototype),l$1(ar.prototype,"constructor",ar),{extend:a$1.bind(null,ar.prototype)}}}}const h$1=Object.getOwnPropertyDescriptor;function d$1(ar,or){let lr;return h$1(ar,or)||(lr=s$1(ar))&&d$1(lr,or)}const f$1=[].slice;function p$1(ar,or,lr){return f$1.call(ar,or,lr)}function y$1(ar,or){return or(ar)}function m$1(ar){if(!ar)throw new Error("Assertion Failed")}function v$1(ar){e.setImmediate?setImmediate(ar):setTimeout(ar,0)}function g$1(ar,or){return ar.reduce((lr,Ar,cr)=>{var ur=or(Ar,cr);return ur&&(lr[ur[0]]=ur[1]),lr},{})}function b$1(ar,or){if(typeof or=="string"&&o$1(ar,or))return ar[or];if(!or)return ar;if(typeof or!="string"){for(var lr=[],Ar=0,cr=or.length;Ar<cr;++Ar){var ur=b$1(ar,or[Ar]);lr.push(ur)}return lr}var dr=or.indexOf(".");if(dr!==-1){var hr=ar[or.substr(0,dr)];return hr==null?void 0:b$1(hr,or.substr(dr+1))}}function _$1(ar,or,lr){if(ar&&or!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(ar)))if(typeof or!="string"&&"length"in or){m$1(typeof lr!="string"&&"length"in lr);for(var Ar=0,cr=or.length;Ar<cr;++Ar)_$1(ar,or[Ar],lr[Ar])}else{var ur=or.indexOf(".");if(ur!==-1){var dr=or.substr(0,ur),hr=or.substr(ur+1);if(hr==="")lr===void 0?n$1(ar)&&!isNaN(parseInt(dr))?ar.splice(dr,1):delete ar[dr]:ar[dr]=lr;else{var fr=ar[dr];fr&&o$1(ar,dr)||(fr=ar[dr]={}),_$1(fr,hr,lr)}}else lr===void 0?n$1(ar)&&!isNaN(parseInt(or))?ar.splice(or,1):delete ar[or]:ar[or]=lr}}function w$1(ar){var or={};for(var lr in ar)o$1(ar,lr)&&(or[lr]=ar[lr]);return or}const x$2=[].concat;function k$1(ar){return x$2.apply([],ar)}const E$1="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(k$1([8,16,32,64].map(ar=>["Int","Uint","Float"].map(or=>or+ar+"Array")))).filter(ar=>e[ar]),P$1=E$1.map(ar=>e[ar]);g$1(E$1,ar=>[ar,!0]);let K$1=null;function O$1(ar){K$1=typeof WeakMap<"u"&&new WeakMap;const or=S$1(ar);return K$1=null,or}function S$1(ar){if(!ar||typeof ar!="object")return ar;let or=K$1&&K$1.get(ar);if(or)return or;if(n$1(ar)){or=[],K$1&&K$1.set(ar,or);for(var lr=0,Ar=ar.length;lr<Ar;++lr)or.push(S$1(ar[lr]))}else if(P$1.indexOf(ar.constructor)>=0)or=ar;else{const ur=s$1(ar);for(var cr in or=ur===Object.prototype?{}:Object.create(ur),K$1&&K$1.set(ar,or),ar)o$1(ar,cr)&&(or[cr]=S$1(ar[cr]))}return or}const{toString:A$1}={};function C$1(ar){return A$1.call(ar).slice(8,-1)}const j$1=typeof Symbol<"u"?Symbol.iterator:"@@iterator",D$1=typeof j$1=="symbol"?function(ar){var or;return ar!=null&&(or=ar[j$1])&&or.apply(ar)}:function(){return null},I$1={};function B$1(ar){var or,lr,Ar,cr;if(arguments.length===1){if(n$1(ar))return ar.slice();if(this===I$1&&typeof ar=="string")return[ar];if(cr=D$1(ar)){for(lr=[];!(Ar=cr.next()).done;)lr.push(Ar.value);return lr}if(ar==null)return[ar];if(typeof(or=ar.length)=="number"){for(lr=new Array(or);or--;)lr[or]=ar[or];return lr}return[ar]}for(or=arguments.length,lr=new Array(or);or--;)lr[or]=arguments[or];return lr}const T$1=typeof Symbol<"u"?ar=>ar[Symbol.toStringTag]==="AsyncFunction":()=>!1;var R$1=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F$1(ar,or){R$1=ar,M$1=or}var M$1=()=>!0;const N$1=!new Error("").stack;function q$1(){if(N$1)try{throw q$1.arguments,new Error}catch(ar){return ar}return new Error}function $$1(ar,or){var lr=ar.stack;return lr?(or=or||0,lr.indexOf(ar.name)===0&&(or+=(ar.name+ar.message).split(`
`).length),lr.split(`
`).slice(or).filter(M$1).map(Ar=>`
`+Ar).join("")):""}var U$1=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],L$1=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(U$1),V$1={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function W$1(ar,or){this._e=q$1(),this.name=ar,this.message=or}function Y$1(ar,or){return ar+". Errors: "+Object.keys(or).map(lr=>or[lr].toString()).filter((lr,Ar,cr)=>cr.indexOf(lr)===Ar).join(`
`)}function z$1(ar,or,lr,Ar){this._e=q$1(),this.failures=or,this.failedKeys=Ar,this.successCount=lr,this.message=Y$1(ar,or)}function G$1(ar,or){this._e=q$1(),this.name="BulkError",this.failures=Object.keys(or).map(lr=>or[lr]),this.failuresByPos=or,this.message=Y$1(ar,or)}c$1(W$1).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+$$1(this._e,2))}},toString:function(){return this.name+": "+this.message}}),c$1(z$1).from(W$1),c$1(G$1).from(W$1);var H$1=L$1.reduce((ar,or)=>(ar[or]=or+"Error",ar),{});const Q$1=W$1;var X$1=L$1.reduce((ar,or)=>{var lr=or+"Error";function Ar(cr,ur){this._e=q$1(),this.name=lr,cr?typeof cr=="string"?(this.message=`${cr}${ur?`
 `+ur:""}`,this.inner=ur||null):typeof cr=="object"&&(this.message=`${cr.name} ${cr.message}`,this.inner=cr):(this.message=V$1[or]||lr,this.inner=null)}return c$1(Ar).from(Q$1),ar[or]=Ar,ar},{});X$1.Syntax=SyntaxError,X$1.Type=TypeError,X$1.Range=RangeError;var J$1=U$1.reduce((ar,or)=>(ar[or+"Error"]=X$1[or],ar),{}),Z$1=L$1.reduce((ar,or)=>(["Syntax","Type","Range"].indexOf(or)===-1&&(ar[or+"Error"]=X$1[or]),ar),{});function ee$1(){}function te$1(ar){return ar}function ne$1(ar,or){return ar==null||ar===te$1?or:function(lr){return or(ar(lr))}}function re$1(ar,or){return function(){ar.apply(this,arguments),or.apply(this,arguments)}}function se$1(ar,or){return ar===ee$1?or:function(){var lr=ar.apply(this,arguments);lr!==void 0&&(arguments[0]=lr);var Ar=this.onsuccess,cr=this.onerror;this.onsuccess=null,this.onerror=null;var ur=or.apply(this,arguments);return Ar&&(this.onsuccess=this.onsuccess?re$1(Ar,this.onsuccess):Ar),cr&&(this.onerror=this.onerror?re$1(cr,this.onerror):cr),ur!==void 0?ur:lr}}function ie$3(ar,or){return ar===ee$1?or:function(){ar.apply(this,arguments);var lr=this.onsuccess,Ar=this.onerror;this.onsuccess=this.onerror=null,or.apply(this,arguments),lr&&(this.onsuccess=this.onsuccess?re$1(lr,this.onsuccess):lr),Ar&&(this.onerror=this.onerror?re$1(Ar,this.onerror):Ar)}}function oe$1(ar,or){return ar===ee$1?or:function(lr){var Ar=ar.apply(this,arguments);r(lr,Ar);var cr=this.onsuccess,ur=this.onerror;this.onsuccess=null,this.onerror=null;var dr=or.apply(this,arguments);return cr&&(this.onsuccess=this.onsuccess?re$1(cr,this.onsuccess):cr),ur&&(this.onerror=this.onerror?re$1(ur,this.onerror):ur),Ar===void 0?dr===void 0?void 0:dr:r(Ar,dr)}}function ae$1(ar,or){return ar===ee$1?or:function(){return or.apply(this,arguments)!==!1&&ar.apply(this,arguments)}}function ue$1(ar,or){return ar===ee$1?or:function(){var lr=ar.apply(this,arguments);if(lr&&typeof lr.then=="function"){for(var Ar=this,cr=arguments.length,ur=new Array(cr);cr--;)ur[cr]=arguments[cr];return lr.then(function(){return or.apply(Ar,ur)})}return or.apply(this,arguments)}}Z$1.ModifyError=z$1,Z$1.DexieError=W$1,Z$1.BulkError=G$1;var le$1={};const ce$1=100,[he$1,de$1,fe$1]=typeof Promise>"u"?[]:(()=>{let ar=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[ar,s$1(ar),ar];const or=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[or,s$1(or),ar]})(),pe$1=de$1&&de$1.then,ye$1=he$1&&he$1.constructor,me$1=!!fe$1;var ve$1=!1,ge$1=fe$1?()=>{fe$1.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var ar=document.createElement("div");new MutationObserver(()=>{$e(),ar=null}).observe(ar,{attributes:!0}),ar.setAttribute("i","1")}:()=>{setTimeout($e,0)},be$1=function(ar,or){Se.push([ar,or]),we$1&&(ge$1(),we$1=!1)},_e=!0,we$1=!0,xe=[],ke=[],Ee=null,Pe=te$1,Ke={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dt$1,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(ar=>{try{dt$1(ar[0],ar[1])}catch{}})}},Oe=Ke,Se=[],Ae=0,Ce=[];function je(ar){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee$1,this._lib=!1;var or=this._PSD=Oe;if(R$1&&(this._stackHolder=q$1(),this._prev=null,this._numPrev=0),typeof ar!="function"){if(ar!==le$1)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Te(this,this._value))}this._state=null,this._value=null,++or.ref,Be(this,ar)}const De={get:function(){var ar=Oe,or=Xe;function lr(Ar,cr){var ur=!ar.global&&(ar!==Oe||or!==Xe);const dr=ur&&!tt$2();var hr=new je((fr,gr)=>{Fe(this,new Ie(lt$1(Ar,ar,ur,dr),lt$1(cr,ar,ur,dr),fr,gr,ar))});return R$1&&qe(hr,this),hr}return lr.prototype=le$1,lr},set:function(ar){l$1(this,"then",ar&&ar.prototype===le$1?De:{get:function(){return ar},set:De.set})}};function Ie(ar,or,lr,Ar,cr){this.onFulfilled=typeof ar=="function"?ar:null,this.onRejected=typeof or=="function"?or:null,this.resolve=lr,this.reject=Ar,this.psd=cr}function Be(ar,or){try{or(lr=>{if(ar._state===null){if(lr===ar)throw new TypeError("A promise cannot be resolved with itself.");var Ar=ar._lib&&Ue();lr&&typeof lr.then=="function"?Be(ar,(cr,ur)=>{lr instanceof je?lr._then(cr,ur):lr.then(cr,ur)}):(ar._state=!0,ar._value=lr,Re(ar)),Ar&&Le$1()}},Te.bind(null,ar))}catch(lr){Te(ar,lr)}}function Te(ar,or){if(ke.push(or),ar._state===null){var lr=ar._lib&&Ue();or=Pe(or),ar._state=!1,ar._value=or,R$1&&or!==null&&typeof or=="object"&&!or._promise&&function(Ar,cr,ur){try{Ar.apply(null,ur)}catch{}}(()=>{var Ar=d$1(or,"stack");or._promise=ar,l$1(or,"stack",{get:()=>ve$1?Ar&&(Ar.get?Ar.get.apply(or):Ar.value):ar.stack})}),function(Ar){xe.some(cr=>cr._value===Ar._value)||xe.push(Ar)}(ar),Re(ar),lr&&Le$1()}}function Re(ar){var or=ar._listeners;ar._listeners=[];for(var lr=0,Ar=or.length;lr<Ar;++lr)Fe(ar,or[lr]);var cr=ar._PSD;--cr.ref||cr.finalize(),Ae===0&&(++Ae,be$1(()=>{--Ae==0&&Ve()},[]))}function Fe(ar,or){if(ar._state!==null){var lr=ar._state?or.onFulfilled:or.onRejected;if(lr===null)return(ar._state?or.resolve:or.reject)(ar._value);++or.psd.ref,++Ae,be$1(Me,[lr,ar,or])}else ar._listeners.push(or)}function Me(ar,or,lr){try{Ee=or;var Ar,cr=or._value;or._state?Ar=ar(cr):(ke.length&&(ke=[]),Ar=ar(cr),ke.indexOf(cr)===-1&&function(ur){for(var dr=xe.length;dr;)if(xe[--dr]._value===ur._value)return void xe.splice(dr,1)}(or)),lr.resolve(Ar)}catch(ur){lr.reject(ur)}finally{Ee=null,--Ae==0&&Ve(),--lr.psd.ref||lr.psd.finalize()}}function Ne$1(ar,or,lr){if(or.length===lr)return or;var Ar="";if(ar._state===!1){var cr,ur,dr=ar._value;dr!=null?(cr=dr.name||"Error",ur=dr.message||dr,Ar=$$1(dr,0)):(cr=dr,ur=""),or.push(cr+(ur?": "+ur:"")+Ar)}return R$1&&((Ar=$$1(ar._stackHolder,2))&&or.indexOf(Ar)===-1&&or.push(Ar),ar._prev&&Ne$1(ar._prev,or,lr)),or}function qe(ar,or){var lr=or?or._numPrev+1:0;lr<100&&(ar._prev=or,ar._numPrev=lr)}function $e(){Ue()&&Le$1()}function Ue(){var ar=_e;return _e=!1,we$1=!1,ar}function Le$1(){var ar,or,lr;do for(;Se.length>0;)for(ar=Se,Se=[],lr=ar.length,or=0;or<lr;++or){var Ar=ar[or];Ar[0].apply(null,Ar[1])}while(Se.length>0);_e=!0,we$1=!0}function Ve(){var ar=xe;xe=[],ar.forEach(Ar=>{Ar._PSD.onunhandled.call(null,Ar._value,Ar)});for(var or=Ce.slice(0),lr=or.length;lr;)or[--lr]()}function We(ar){return new je(le$1,!1,ar)}function Ye(ar,or){var lr=Oe;return function(){var Ar=Ue(),cr=Oe;try{return it$1(lr,!0),ar.apply(this,arguments)}catch(ur){or&&or(ur)}finally{it$1(cr,!1),Ar&&Le$1()}}}a$1(je.prototype,{then:De,_then:function(ar,or){Fe(this,new Ie(null,null,ar,or,Oe))},catch:function(ar){if(arguments.length===1)return this.then(null,ar);var or=arguments[0],lr=arguments[1];return typeof or=="function"?this.then(null,Ar=>Ar instanceof or?lr(Ar):We(Ar)):this.then(null,Ar=>Ar&&Ar.name===or?lr(Ar):We(Ar))},finally:function(ar){return this.then(or=>(ar(),or),or=>(ar(),We(or)))},stack:{get:function(){if(this._stack)return this._stack;try{ve$1=!0;var ar=Ne$1(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=ar),ar}finally{ve$1=!1}}},timeout:function(ar,or){return ar<1/0?new je((lr,Ar)=>{var cr=setTimeout(()=>Ar(new X$1.Timeout(or)),ar);this.then(lr,Ar).finally(clearTimeout.bind(null,cr))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&l$1(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Ke.env=ot$1(),a$1(je,{all:function(){var ar=B$1.apply(null,arguments).map(nt$1);return new je(function(or,lr){ar.length===0&&or([]);var Ar=ar.length;ar.forEach((cr,ur)=>je.resolve(cr).then(dr=>{ar[ur]=dr,--Ar||or(ar)},lr))})},resolve:ar=>{if(ar instanceof je)return ar;if(ar&&typeof ar.then=="function")return new je((lr,Ar)=>{ar.then(lr,Ar)});var or=new je(le$1,!0,ar);return qe(or,Ee),or},reject:We,race:function(){var ar=B$1.apply(null,arguments).map(nt$1);return new je((or,lr)=>{ar.map(Ar=>je.resolve(Ar).then(or,lr))})},PSD:{get:()=>Oe,set:ar=>Oe=ar},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at$1,scheduler:{get:()=>be$1,set:ar=>{be$1=ar}},rejectionMapper:{get:()=>Pe,set:ar=>{Pe=ar}},follow:(ar,or)=>new je((lr,Ar)=>Ze((cr,ur)=>{var dr=Oe;dr.unhandleds=[],dr.onunhandled=ur,dr.finalize=re$1(function(){(function(hr){function fr(){hr(),Ce.splice(Ce.indexOf(fr),1)}Ce.push(fr),++Ae,be$1(()=>{--Ae==0&&Ve()},[])})(()=>{this.unhandleds.length===0?cr():ur(this.unhandleds[0])})},dr.finalize),ar()},or,lr,Ar))}),ye$1&&(ye$1.allSettled&&l$1(je,"allSettled",function(){const ar=B$1.apply(null,arguments).map(nt$1);return new je(or=>{ar.length===0&&or([]);let lr=ar.length;const Ar=new Array(lr);ar.forEach((cr,ur)=>je.resolve(cr).then(dr=>Ar[ur]={status:"fulfilled",value:dr},dr=>Ar[ur]={status:"rejected",reason:dr}).then(()=>--lr||or(Ar)))})}),ye$1.any&&typeof AggregateError<"u"&&l$1(je,"any",function(){const ar=B$1.apply(null,arguments).map(nt$1);return new je((or,lr)=>{ar.length===0&&lr(new AggregateError([]));let Ar=ar.length;const cr=new Array(Ar);ar.forEach((ur,dr)=>je.resolve(ur).then(hr=>or(hr),hr=>{cr[dr]=hr,--Ar||lr(new AggregateError(cr))}))})}));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(ar,or,lr,Ar){var cr=Oe,ur=Object.create(cr);ur.parent=cr,ur.ref=0,ur.global=!1,ur.id=++Je;var dr=Ke.env;ur.env=me$1?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct$1(dr.nthen,ur),gthen:ct$1(dr.gthen,ur)}:{},or&&r(ur,or),++cr.ref,ur.finalize=function(){--this.parent.ref||this.parent.finalize()};var hr=at$1(ur,ar,lr,Ar);return ur.ref===0&&ur.finalize(),hr}function et$2(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce$1,ze.id}function tt$2(){return!!ze.awaits&&(--ze.awaits==0&&(ze.id=0),ze.echoes=ze.awaits*ce$1,!0)}function nt$1(ar){return ze.echoes&&ar&&ar.constructor===ye$1?(et$2(),ar.then(or=>(tt$2(),or),or=>(tt$2(),ft$1(or)))):ar}function rt$1(ar){++Xe,ze.echoes&&--ze.echoes!=0||(ze.echoes=ze.id=0),He.push(Oe),it$1(ar,!0)}function st$1(){var ar=He[He.length-1];He.pop(),it$1(ar,!1)}function it$1(ar,or){var lr=Oe;if((or?!ze.echoes||Qe++&&ar===Oe:!Qe||--Qe&&ar===Oe)||ut$1(or?rt$1.bind(null,ar):st$1),ar!==Oe&&(Oe=ar,lr===Ke&&(Ke.env=ot$1()),me$1)){var Ar=Ke.env.Promise,cr=ar.env;de$1.then=cr.nthen,Ar.prototype.then=cr.gthen,(lr.global||ar.global)&&(Object.defineProperty(e,"Promise",cr.PromiseProp),Ar.all=cr.all,Ar.race=cr.race,Ar.resolve=cr.resolve,Ar.reject=cr.reject,cr.allSettled&&(Ar.allSettled=cr.allSettled),cr.any&&(Ar.any=cr.any))}}function ot$1(){var ar=e.Promise;return me$1?{Promise:ar,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:ar.all,race:ar.race,allSettled:ar.allSettled,any:ar.any,resolve:ar.resolve,reject:ar.reject,nthen:de$1.then,gthen:ar.prototype.then}:{}}function at$1(ar,or,lr,Ar,cr){var ur=Oe;try{return it$1(ar,!0),or(lr,Ar,cr)}finally{it$1(ur,!1)}}function ut$1(ar){pe$1.call(he$1,ar)}function lt$1(ar,or,lr,Ar){return typeof ar!="function"?ar:function(){var cr=Oe;lr&&et$2(),it$1(or,!0);try{return ar.apply(this,arguments)}finally{it$1(cr,!1),Ar&&ut$1(tt$2)}}}function ct$1(ar,or){return function(lr,Ar){return ar.call(this,lt$1(lr,or),lt$1(Ar,or))}}(""+pe$1).indexOf("[native code]")===-1&&(et$2=tt$2=ee$1);const ht$1="unhandledrejection";function dt$1(ar,or){var lr;try{lr=or.onuncatched(ar)}catch{}if(lr!==!1)try{var Ar,cr={promise:or,reason:ar};if(e.document&&document.createEvent?((Ar=document.createEvent("Event")).initEvent(ht$1,!0,!0),r(Ar,cr)):e.CustomEvent&&r(Ar=new CustomEvent(ht$1,{detail:cr}),cr),Ar&&e.dispatchEvent&&(dispatchEvent(Ar),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(Ar)}catch{}R$1&&Ar&&!Ar.defaultPrevented&&console.warn(`Unhandled rejection: ${ar.stack||ar}`)}catch{}}var ft$1=je.reject;function pt$1(ar,or,lr,Ar){if(ar.idbdb&&(ar._state.openComplete||Oe.letThrough||ar._vip)){var cr=ar._createTransaction(or,lr,ar._dbSchema);try{cr.create(),ar._state.PR1398_maxLoop=3}catch(ur){return ur.name===H$1.InvalidState&&ar.isOpen()&&--ar._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),ar._close(),ar.open().then(()=>pt$1(ar,or,lr,Ar))):ft$1(ur)}return cr._promise(or,(ur,dr)=>Ze(()=>(Oe.trans=cr,Ar(ur,dr,cr)))).then(ur=>cr._completion.then(()=>ur))}if(ar._state.openComplete)return ft$1(new X$1.DatabaseClosed(ar._state.dbOpenError));if(!ar._state.isBeingOpened){if(!ar._options.autoOpen)return ft$1(new X$1.DatabaseClosed);ar.open().catch(ee$1)}return ar._state.dbReadyPromise.then(()=>pt$1(ar,or,lr,Ar))}const yt$1="3.2.7",mt$1="",vt$1=-1/0,gt$1="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bt$1="String expected.",_t$1=[],wt$1=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt$1=wt$1,kt$1=wt$1,Et$1=ar=>!/(dexie\.js|dexie\.min\.js)/.test(ar),Pt$1="__dbnames",Kt$1="readonly",Ot$1="readwrite";function St$1(ar,or){return ar?or?function(){return ar.apply(this,arguments)&&or.apply(this,arguments)}:ar:or}const At$1={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct$1(ar){return typeof ar!="string"||/\./.test(ar)?or=>or:or=>(or[ar]===void 0&&ar in or&&delete(or=O$1(or))[ar],or)}let jt$1=class{_trans(or,lr,Ar){const cr=this._tx||Oe.trans,ur=this.name;function dr(fr,gr,pr){if(!pr.schema[ur])throw new X$1.NotFound("Table "+ur+" not part of transaction");return lr(pr.idbtrans,pr)}const hr=Ue();try{return cr&&cr.db===this.db?cr===Oe.trans?cr._promise(or,dr,Ar):Ze(()=>cr._promise(or,dr,Ar),{trans:cr,transless:Oe.transless||Oe}):pt$1(this.db,or,[this.name],dr)}finally{hr&&Le$1()}}get(or,lr){return or&&or.constructor===Object?this.where(or).first(lr):this._trans("readonly",Ar=>this.core.get({trans:Ar,key:or}).then(cr=>this.hook.reading.fire(cr))).then(lr)}where(or){if(typeof or=="string")return new this.db.WhereClause(this,or);if(n$1(or))return new this.db.WhereClause(this,`[${or.join("+")}]`);const lr=t(or);if(lr.length===1)return this.where(lr[0]).equals(or[lr[0]]);const Ar=this.schema.indexes.concat(this.schema.primKey).filter(gr=>{if(gr.compound&&lr.every(pr=>gr.keyPath.indexOf(pr)>=0)){for(let pr=0;pr<lr.length;++pr)if(lr.indexOf(gr.keyPath[pr])===-1)return!1;return!0}return!1}).sort((gr,pr)=>gr.keyPath.length-pr.keyPath.length)[0];if(Ar&&this.db._maxKey!==mt$1){const gr=Ar.keyPath.slice(0,lr.length);return this.where(gr).equals(gr.map(pr=>or[pr]))}!Ar&&R$1&&console.warn(`The query ${JSON.stringify(or)} on ${this.name} would benefit of a compound index [${lr.join("+")}]`);const{idxByName:cr}=this.schema,ur=this.db._deps.indexedDB;function dr(gr,pr){try{return ur.cmp(gr,pr)===0}catch{return!1}}const[hr,fr]=lr.reduce(([gr,pr],mr)=>{const yr=cr[mr],vr=or[mr];return[gr||yr,gr||!yr?St$1(pr,yr&&yr.multi?br=>{const wr=b$1(br,mr);return n$1(wr)&&wr.some(Cr=>dr(vr,Cr))}:br=>dr(vr,b$1(br,mr))):pr]},[null,null]);return hr?this.where(hr.name).equals(or[hr.keyPath]).filter(fr):Ar?this.filter(fr):this.where(lr).equals("")}filter(or){return this.toCollection().and(or)}count(or){return this.toCollection().count(or)}offset(or){return this.toCollection().offset(or)}limit(or){return this.toCollection().limit(or)}each(or){return this.toCollection().each(or)}toArray(or){return this.toCollection().toArray(or)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(or){return new this.db.Collection(new this.db.WhereClause(this,n$1(or)?`[${or.join("+")}]`:or))}reverse(){return this.toCollection().reverse()}mapToClass(or){this.schema.mappedClass=or;const lr=Ar=>{if(!Ar)return Ar;const cr=Object.create(or.prototype);for(var ur in Ar)if(o$1(Ar,ur))try{cr[ur]=Ar[ur]}catch{}return cr};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=lr,this.hook("reading",lr),or}defineClass(){return this.mapToClass(function(or){r(this,or)})}add(or,lr){const{auto:Ar,keyPath:cr}=this.schema.primKey;let ur=or;return cr&&Ar&&(ur=Ct$1(cr)(or)),this._trans("readwrite",dr=>this.core.mutate({trans:dr,type:"add",keys:lr!=null?[lr]:null,values:[ur]})).then(dr=>dr.numFailures?je.reject(dr.failures[0]):dr.lastResult).then(dr=>{if(cr)try{_$1(or,cr,dr)}catch{}return dr})}update(or,lr){if(typeof or!="object"||n$1(or))return this.where(":id").equals(or).modify(lr);{const Ar=b$1(or,this.schema.primKey.keyPath);if(Ar===void 0)return ft$1(new X$1.InvalidArgument("Given object does not contain its primary key"));try{typeof lr!="function"?t(lr).forEach(cr=>{_$1(or,cr,lr[cr])}):lr(or,{value:or,primKey:Ar})}catch{}return this.where(":id").equals(Ar).modify(lr)}}put(or,lr){const{auto:Ar,keyPath:cr}=this.schema.primKey;let ur=or;return cr&&Ar&&(ur=Ct$1(cr)(or)),this._trans("readwrite",dr=>this.core.mutate({trans:dr,type:"put",values:[ur],keys:lr!=null?[lr]:null})).then(dr=>dr.numFailures?je.reject(dr.failures[0]):dr.lastResult).then(dr=>{if(cr)try{_$1(or,cr,dr)}catch{}return dr})}delete(or){return this._trans("readwrite",lr=>this.core.mutate({trans:lr,type:"delete",keys:[or]})).then(lr=>lr.numFailures?je.reject(lr.failures[0]):void 0)}clear(){return this._trans("readwrite",or=>this.core.mutate({trans:or,type:"deleteRange",range:At$1})).then(or=>or.numFailures?je.reject(or.failures[0]):void 0)}bulkGet(or){return this._trans("readonly",lr=>this.core.getMany({keys:or,trans:lr}).then(Ar=>Ar.map(cr=>this.hook.reading.fire(cr))))}bulkAdd(or,lr,Ar){const cr=Array.isArray(lr)?lr:void 0,ur=(Ar=Ar||(cr?void 0:lr))?Ar.allKeys:void 0;return this._trans("readwrite",dr=>{const{auto:hr,keyPath:fr}=this.schema.primKey;if(fr&&cr)throw new X$1.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(cr&&cr.length!==or.length)throw new X$1.InvalidArgument("Arguments objects and keys must have the same length");const gr=or.length;let pr=fr&&hr?or.map(Ct$1(fr)):or;return this.core.mutate({trans:dr,type:"add",keys:cr,values:pr,wantResults:ur}).then(({numFailures:mr,results:yr,lastResult:vr,failures:br})=>{if(mr===0)return ur?yr:vr;throw new G$1(`${this.name}.bulkAdd(): ${mr} of ${gr} operations failed`,br)})})}bulkPut(or,lr,Ar){const cr=Array.isArray(lr)?lr:void 0,ur=(Ar=Ar||(cr?void 0:lr))?Ar.allKeys:void 0;return this._trans("readwrite",dr=>{const{auto:hr,keyPath:fr}=this.schema.primKey;if(fr&&cr)throw new X$1.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(cr&&cr.length!==or.length)throw new X$1.InvalidArgument("Arguments objects and keys must have the same length");const gr=or.length;let pr=fr&&hr?or.map(Ct$1(fr)):or;return this.core.mutate({trans:dr,type:"put",keys:cr,values:pr,wantResults:ur}).then(({numFailures:mr,results:yr,lastResult:vr,failures:br})=>{if(mr===0)return ur?yr:vr;throw new G$1(`${this.name}.bulkPut(): ${mr} of ${gr} operations failed`,br)})})}bulkDelete(or){const lr=or.length;return this._trans("readwrite",Ar=>this.core.mutate({trans:Ar,type:"delete",keys:or})).then(({numFailures:Ar,lastResult:cr,failures:ur})=>{if(Ar===0)return cr;throw new G$1(`${this.name}.bulkDelete(): ${Ar} of ${lr} operations failed`,ur)})}};function Dt$1(ar){var or={},lr=function(dr,hr){if(hr){for(var fr=arguments.length,gr=new Array(fr-1);--fr;)gr[fr-1]=arguments[fr];return or[dr].subscribe.apply(null,gr),ar}if(typeof dr=="string")return or[dr]};lr.addEventType=ur;for(var Ar=1,cr=arguments.length;Ar<cr;++Ar)ur(arguments[Ar]);return lr;function ur(dr,hr,fr){if(typeof dr!="object"){var gr;hr||(hr=ae$1),fr||(fr=ee$1);var pr={subscribers:[],fire:fr,subscribe:function(mr){pr.subscribers.indexOf(mr)===-1&&(pr.subscribers.push(mr),pr.fire=hr(pr.fire,mr))},unsubscribe:function(mr){pr.subscribers=pr.subscribers.filter(function(yr){return yr!==mr}),pr.fire=pr.subscribers.reduce(hr,fr)}};return or[dr]=lr[dr]=pr,pr}t(gr=dr).forEach(function(mr){var yr=gr[mr];if(n$1(yr))ur(mr,gr[mr][0],gr[mr][1]);else{if(yr!=="asap")throw new X$1.InvalidArgument("Invalid event config");var vr=ur(mr,te$1,function(){for(var br=arguments.length,wr=new Array(br);br--;)wr[br]=arguments[br];vr.subscribers.forEach(function(Cr){v$1(function(){Cr.apply(null,wr)})})})}})}}function It$1(ar,or){return c$1(or).from({prototype:ar}),or}function Bt$1(ar,or){return!(ar.filter||ar.algorithm||ar.or)&&(or?ar.justLimit:!ar.replayFilter)}function Tt$1(ar,or){ar.filter=St$1(ar.filter,or)}function Rt$1(ar,or,lr){var Ar=ar.replayFilter;ar.replayFilter=Ar?()=>St$1(Ar(),or()):or,ar.justLimit=lr&&!Ar}function Ft$1(ar,or){if(ar.isPrimKey)return or.primaryKey;const lr=or.getIndexByKeyPath(ar.index);if(!lr)throw new X$1.Schema("KeyPath "+ar.index+" on object store "+or.name+" is not indexed");return lr}function Mt$1(ar,or,lr){const Ar=Ft$1(ar,or.schema);return or.openCursor({trans:lr,values:!ar.keysOnly,reverse:ar.dir==="prev",unique:!!ar.unique,query:{index:Ar,range:ar.range}})}function Nt$1(ar,or,lr,Ar){const cr=ar.replayFilter?St$1(ar.filter,ar.replayFilter()):ar.filter;if(ar.or){const ur={},dr=(hr,fr,gr)=>{if(!cr||cr(fr,gr,yr=>fr.stop(yr),yr=>fr.fail(yr))){var pr=fr.primaryKey,mr=""+pr;mr==="[object ArrayBuffer]"&&(mr=""+new Uint8Array(pr)),o$1(ur,mr)||(ur[mr]=!0,or(hr,fr,gr))}};return Promise.all([ar.or._iterate(dr,lr),qt$1(Mt$1(ar,Ar,lr),ar.algorithm,dr,!ar.keysOnly&&ar.valueMapper)])}return qt$1(Mt$1(ar,Ar,lr),St$1(ar.algorithm,cr),or,!ar.keysOnly&&ar.valueMapper)}function qt$1(ar,or,lr,Ar){var cr=Ye(Ar?(ur,dr,hr)=>lr(Ar(ur),dr,hr):lr);return ar.then(ur=>{if(ur)return ur.start(()=>{var dr=()=>ur.continue();or&&!or(ur,hr=>dr=hr,hr=>{ur.stop(hr),dr=ee$1},hr=>{ur.fail(hr),dr=ee$1})||cr(ur.value,ur,hr=>dr=hr),dr()})})}function $t$1(ar,or){try{const lr=Ut$1(ar),Ar=Ut$1(or);if(lr!==Ar)return lr==="Array"?1:Ar==="Array"?-1:lr==="binary"?1:Ar==="binary"?-1:lr==="string"?1:Ar==="string"?-1:lr==="Date"?1:Ar!=="Date"?NaN:-1;switch(lr){case"number":case"Date":case"string":return ar>or?1:ar<or?-1:0;case"binary":return function(cr,ur){const dr=cr.length,hr=ur.length,fr=dr<hr?dr:hr;for(let gr=0;gr<fr;++gr)if(cr[gr]!==ur[gr])return cr[gr]<ur[gr]?-1:1;return dr===hr?0:dr<hr?-1:1}(Lt$1(ar),Lt$1(or));case"Array":return function(cr,ur){const dr=cr.length,hr=ur.length,fr=dr<hr?dr:hr;for(let gr=0;gr<fr;++gr){const pr=$t$1(cr[gr],ur[gr]);if(pr!==0)return pr}return dr===hr?0:dr<hr?-1:1}(ar,or)}}catch{}return NaN}function Ut$1(ar){const or=typeof ar;if(or!=="object")return or;if(ArrayBuffer.isView(ar))return"binary";const lr=C$1(ar);return lr==="ArrayBuffer"?"binary":lr}function Lt$1(ar){return ar instanceof Uint8Array?ar:ArrayBuffer.isView(ar)?new Uint8Array(ar.buffer,ar.byteOffset,ar.byteLength):new Uint8Array(ar)}let Vt$1=class{_read(or,lr){var Ar=this._ctx;return Ar.error?Ar.table._trans(null,ft$1.bind(null,Ar.error)):Ar.table._trans("readonly",or).then(lr)}_write(or){var lr=this._ctx;return lr.error?lr.table._trans(null,ft$1.bind(null,lr.error)):lr.table._trans("readwrite",or,"locked")}_addAlgorithm(or){var lr=this._ctx;lr.algorithm=St$1(lr.algorithm,or)}_iterate(or,lr){return Nt$1(this._ctx,or,lr,this._ctx.table.core)}clone(or){var lr=Object.create(this.constructor.prototype),Ar=Object.create(this._ctx);return or&&r(Ar,or),lr._ctx=Ar,lr}raw(){return this._ctx.valueMapper=null,this}each(or){var lr=this._ctx;return this._read(Ar=>Nt$1(lr,or,Ar,lr.table.core))}count(or){return this._read(lr=>{const Ar=this._ctx,cr=Ar.table.core;if(Bt$1(Ar,!0))return cr.count({trans:lr,query:{index:Ft$1(Ar,cr.schema),range:Ar.range}}).then(dr=>Math.min(dr,Ar.limit));var ur=0;return Nt$1(Ar,()=>(++ur,!1),lr,cr).then(()=>ur)}).then(or)}sortBy(or,lr){const Ar=or.split(".").reverse(),cr=Ar[0],ur=Ar.length-1;function dr(gr,pr){return pr?dr(gr[Ar[pr]],pr-1):gr[cr]}var hr=this._ctx.dir==="next"?1:-1;function fr(gr,pr){var mr=dr(gr,ur),yr=dr(pr,ur);return mr<yr?-hr:mr>yr?hr:0}return this.toArray(function(gr){return gr.sort(fr)}).then(lr)}toArray(or){return this._read(lr=>{var Ar=this._ctx;if(Ar.dir==="next"&&Bt$1(Ar,!0)&&Ar.limit>0){const{valueMapper:cr}=Ar,ur=Ft$1(Ar,Ar.table.core.schema);return Ar.table.core.query({trans:lr,limit:Ar.limit,values:!0,query:{index:ur,range:Ar.range}}).then(({result:dr})=>cr?dr.map(cr):dr)}{const cr=[];return Nt$1(Ar,ur=>cr.push(ur),lr,Ar.table.core).then(()=>cr)}},or)}offset(or){var lr=this._ctx;return or<=0||(lr.offset+=or,Bt$1(lr)?Rt$1(lr,()=>{var Ar=or;return(cr,ur)=>Ar===0||(Ar===1?(--Ar,!1):(ur(()=>{cr.advance(Ar),Ar=0}),!1))}):Rt$1(lr,()=>{var Ar=or;return()=>--Ar<0})),this}limit(or){return this._ctx.limit=Math.min(this._ctx.limit,or),Rt$1(this._ctx,()=>{var lr=or;return function(Ar,cr,ur){return--lr<=0&&cr(ur),lr>=0}},!0),this}until(or,lr){return Tt$1(this._ctx,function(Ar,cr,ur){return!or(Ar.value)||(cr(ur),lr)}),this}first(or){return this.limit(1).toArray(function(lr){return lr[0]}).then(or)}last(or){return this.reverse().first(or)}filter(or){var lr,Ar;return Tt$1(this._ctx,function(cr){return or(cr.value)}),lr=this._ctx,Ar=or,lr.isMatch=St$1(lr.isMatch,Ar),this}and(or){return this.filter(or)}or(or){return new this.db.WhereClause(this._ctx.table,or,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(or){var lr=this._ctx;return lr.keysOnly=!lr.isMatch,this.each(function(Ar,cr){or(cr.key,cr)})}eachUniqueKey(or){return this._ctx.unique="unique",this.eachKey(or)}eachPrimaryKey(or){var lr=this._ctx;return lr.keysOnly=!lr.isMatch,this.each(function(Ar,cr){or(cr.primaryKey,cr)})}keys(or){var lr=this._ctx;lr.keysOnly=!lr.isMatch;var Ar=[];return this.each(function(cr,ur){Ar.push(ur.key)}).then(function(){return Ar}).then(or)}primaryKeys(or){var lr=this._ctx;if(lr.dir==="next"&&Bt$1(lr,!0)&&lr.limit>0)return this._read(cr=>{var ur=Ft$1(lr,lr.table.core.schema);return lr.table.core.query({trans:cr,values:!1,limit:lr.limit,query:{index:ur,range:lr.range}})}).then(({result:cr})=>cr).then(or);lr.keysOnly=!lr.isMatch;var Ar=[];return this.each(function(cr,ur){Ar.push(ur.primaryKey)}).then(function(){return Ar}).then(or)}uniqueKeys(or){return this._ctx.unique="unique",this.keys(or)}firstKey(or){return this.limit(1).keys(function(lr){return lr[0]}).then(or)}lastKey(or){return this.reverse().firstKey(or)}distinct(){var or=this._ctx,lr=or.index&&or.table.schema.idxByName[or.index];if(!lr||!lr.multi)return this;var Ar={};return Tt$1(this._ctx,function(cr){var ur=cr.primaryKey.toString(),dr=o$1(Ar,ur);return Ar[ur]=!0,!dr}),this}modify(or){var lr=this._ctx;return this._write(Ar=>{var cr;if(typeof or=="function")cr=or;else{var ur=t(or),dr=ur.length;cr=function(wr){for(var Cr=!1,Br=0;Br<dr;++Br){var Sr=ur[Br],Er=or[Sr];b$1(wr,Sr)!==Er&&(_$1(wr,Sr,Er),Cr=!0)}return Cr}}const hr=lr.table.core,{outbound:fr,extractKey:gr}=hr.schema.primaryKey,pr=this.db._options.modifyChunkSize||200,mr=[];let yr=0;const vr=[],br=(wr,Cr)=>{const{failures:Br,numFailures:Sr}=Cr;yr+=wr-Sr;for(let Er of t(Br))mr.push(Br[Er])};return this.clone().primaryKeys().then(wr=>{const Cr=Br=>{const Sr=Math.min(pr,wr.length-Br);return hr.getMany({trans:Ar,keys:wr.slice(Br,Br+Sr),cache:"immutable"}).then(Er=>{const Tr=[],kr=[],Or=fr?[]:null,Rr=[];for(let _r=0;_r<Sr;++_r){const Hr=Er[_r],Mr={value:O$1(Hr),primKey:wr[Br+_r]};cr.call(Mr,Mr.value,Mr)!==!1&&(Mr.value==null?Rr.push(wr[Br+_r]):fr||$t$1(gr(Hr),gr(Mr.value))===0?(kr.push(Mr.value),fr&&Or.push(wr[Br+_r])):(Rr.push(wr[Br+_r]),Tr.push(Mr.value)))}const Lr=Bt$1(lr)&&lr.limit===1/0&&(typeof or!="function"||or===Wt$1)&&{index:lr.index,range:lr.range};return Promise.resolve(Tr.length>0&&hr.mutate({trans:Ar,type:"add",values:Tr}).then(_r=>{for(let Hr in _r.failures)Rr.splice(parseInt(Hr),1);br(Tr.length,_r)})).then(()=>(kr.length>0||Lr&&typeof or=="object")&&hr.mutate({trans:Ar,type:"put",keys:Or,values:kr,criteria:Lr,changeSpec:typeof or!="function"&&or}).then(_r=>br(kr.length,_r))).then(()=>(Rr.length>0||Lr&&or===Wt$1)&&hr.mutate({trans:Ar,type:"delete",keys:Rr,criteria:Lr}).then(_r=>br(Rr.length,_r))).then(()=>wr.length>Br+Sr&&Cr(Br+pr))})};return Cr(0).then(()=>{if(mr.length>0)throw new z$1("Error modifying one or more objects",mr,yr,vr);return wr.length})})})}delete(){var or=this._ctx,lr=or.range;return Bt$1(or)&&(or.isPrimKey&&!kt$1||lr.type===3)?this._write(Ar=>{const{primaryKey:cr}=or.table.core.schema,ur=lr;return or.table.core.count({trans:Ar,query:{index:cr,range:ur}}).then(dr=>or.table.core.mutate({trans:Ar,type:"deleteRange",range:ur}).then(({failures:hr,lastResult:fr,results:gr,numFailures:pr})=>{if(pr)throw new z$1("Could not delete some values",Object.keys(hr).map(mr=>hr[mr]),dr-pr);return dr-pr}))}):this.modify(Wt$1)}};const Wt$1=(ar,or)=>or.value=null;function Yt$1(ar,or){return ar<or?-1:ar===or?0:1}function zt$1(ar,or){return ar>or?-1:ar===or?0:1}function Gt$1(ar,or,lr){var Ar=ar instanceof en?new ar.Collection(ar):ar;return Ar._ctx.error=lr?new lr(or):new TypeError(or),Ar}function Ht$1(ar){return new ar.Collection(ar,()=>Zt$1("")).limit(0)}function Qt$1(ar,or,lr,Ar,cr,ur){for(var dr=Math.min(ar.length,Ar.length),hr=-1,fr=0;fr<dr;++fr){var gr=or[fr];if(gr!==Ar[fr])return cr(ar[fr],lr[fr])<0?ar.substr(0,fr)+lr[fr]+lr.substr(fr+1):cr(ar[fr],Ar[fr])<0?ar.substr(0,fr)+Ar[fr]+lr.substr(fr+1):hr>=0?ar.substr(0,hr)+or[hr]+lr.substr(hr+1):null;cr(ar[fr],gr)<0&&(hr=fr)}return dr<Ar.length&&ur==="next"?ar+lr.substr(ar.length):dr<ar.length&&ur==="prev"?ar.substr(0,lr.length):hr<0?null:ar.substr(0,hr)+Ar[hr]+lr.substr(hr+1)}function Xt$1(ar,or,lr,Ar){var cr,ur,dr,hr,fr,gr,pr,mr=lr.length;if(!lr.every(wr=>typeof wr=="string"))return Gt$1(ar,bt$1);function yr(wr){cr=function(Br){return Br==="next"?Sr=>Sr.toUpperCase():Sr=>Sr.toLowerCase()}(wr),ur=function(Br){return Br==="next"?Sr=>Sr.toLowerCase():Sr=>Sr.toUpperCase()}(wr),dr=wr==="next"?Yt$1:zt$1;var Cr=lr.map(function(Br){return{lower:ur(Br),upper:cr(Br)}}).sort(function(Br,Sr){return dr(Br.lower,Sr.lower)});hr=Cr.map(function(Br){return Br.upper}),fr=Cr.map(function(Br){return Br.lower}),gr=wr,pr=wr==="next"?"":Ar}yr("next");var vr=new ar.Collection(ar,()=>Jt$1(hr[0],fr[mr-1]+Ar));vr._ondirectionchange=function(wr){yr(wr)};var br=0;return vr._addAlgorithm(function(wr,Cr,Br){var Sr=wr.key;if(typeof Sr!="string")return!1;var Er=ur(Sr);if(or(Er,fr,br))return!0;for(var Tr=null,kr=br;kr<mr;++kr){var Or=Qt$1(Sr,Er,hr[kr],fr[kr],dr,gr);Or===null&&Tr===null?br=kr+1:(Tr===null||dr(Tr,Or)>0)&&(Tr=Or)}return Cr(Tr!==null?function(){wr.continue(Tr+pr)}:Br),!1}),vr}function Jt$1(ar,or,lr,Ar){return{type:2,lower:ar,upper:or,lowerOpen:lr,upperOpen:Ar}}function Zt$1(ar){return{type:1,lower:ar,upper:ar}}class en{get Collection(){return this._ctx.table.db.Collection}between(or,lr,Ar,cr){Ar=Ar!==!1,cr=cr===!0;try{return this._cmp(or,lr)>0||this._cmp(or,lr)===0&&(Ar||cr)&&(!Ar||!cr)?Ht$1(this):new this.Collection(this,()=>Jt$1(or,lr,!Ar,!cr))}catch{return Gt$1(this,gt$1)}}equals(or){return or==null?Gt$1(this,gt$1):new this.Collection(this,()=>Zt$1(or))}above(or){return or==null?Gt$1(this,gt$1):new this.Collection(this,()=>Jt$1(or,void 0,!0))}aboveOrEqual(or){return or==null?Gt$1(this,gt$1):new this.Collection(this,()=>Jt$1(or,void 0,!1))}below(or){return or==null?Gt$1(this,gt$1):new this.Collection(this,()=>Jt$1(void 0,or,!1,!0))}belowOrEqual(or){return or==null?Gt$1(this,gt$1):new this.Collection(this,()=>Jt$1(void 0,or))}startsWith(or){return typeof or!="string"?Gt$1(this,bt$1):this.between(or,or+mt$1,!0,!0)}startsWithIgnoreCase(or){return or===""?this.startsWith(or):Xt$1(this,(lr,Ar)=>lr.indexOf(Ar[0])===0,[or],mt$1)}equalsIgnoreCase(or){return Xt$1(this,(lr,Ar)=>lr===Ar[0],[or],"")}anyOfIgnoreCase(){var or=B$1.apply(I$1,arguments);return or.length===0?Ht$1(this):Xt$1(this,(lr,Ar)=>Ar.indexOf(lr)!==-1,or,"")}startsWithAnyOfIgnoreCase(){var or=B$1.apply(I$1,arguments);return or.length===0?Ht$1(this):Xt$1(this,(lr,Ar)=>Ar.some(cr=>lr.indexOf(cr)===0),or,mt$1)}anyOf(){const or=B$1.apply(I$1,arguments);let lr=this._cmp;try{or.sort(lr)}catch{return Gt$1(this,gt$1)}if(or.length===0)return Ht$1(this);const Ar=new this.Collection(this,()=>Jt$1(or[0],or[or.length-1]));Ar._ondirectionchange=ur=>{lr=ur==="next"?this._ascending:this._descending,or.sort(lr)};let cr=0;return Ar._addAlgorithm((ur,dr,hr)=>{const fr=ur.key;for(;lr(fr,or[cr])>0;)if(++cr,cr===or.length)return dr(hr),!1;return lr(fr,or[cr])===0||(dr(()=>{ur.continue(or[cr])}),!1)}),Ar}notEqual(or){return this.inAnyRange([[vt$1,or],[or,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const or=B$1.apply(I$1,arguments);if(or.length===0)return new this.Collection(this);try{or.sort(this._ascending)}catch{return Gt$1(this,gt$1)}const lr=or.reduce((Ar,cr)=>Ar?Ar.concat([[Ar[Ar.length-1][1],cr]]):[[vt$1,cr]],null);return lr.push([or[or.length-1],this.db._maxKey]),this.inAnyRange(lr,{includeLowers:!1,includeUppers:!1})}inAnyRange(or,lr){const Ar=this._cmp,cr=this._ascending,ur=this._descending,dr=this._min,hr=this._max;if(or.length===0)return Ht$1(this);if(!or.every(Sr=>Sr[0]!==void 0&&Sr[1]!==void 0&&cr(Sr[0],Sr[1])<=0))return Gt$1(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X$1.InvalidArgument);const fr=!lr||lr.includeLowers!==!1,gr=lr&&lr.includeUppers===!0;let pr,mr=cr;function yr(Sr,Er){return mr(Sr[0],Er[0])}try{pr=or.reduce(function(Sr,Er){let Tr=0,kr=Sr.length;for(;Tr<kr;++Tr){const Or=Sr[Tr];if(Ar(Er[0],Or[1])<0&&Ar(Er[1],Or[0])>0){Or[0]=dr(Or[0],Er[0]),Or[1]=hr(Or[1],Er[1]);break}}return Tr===kr&&Sr.push(Er),Sr},[]),pr.sort(yr)}catch{return Gt$1(this,gt$1)}let vr=0;const br=gr?Sr=>cr(Sr,pr[vr][1])>0:Sr=>cr(Sr,pr[vr][1])>=0,wr=fr?Sr=>ur(Sr,pr[vr][0])>0:Sr=>ur(Sr,pr[vr][0])>=0;let Cr=br;const Br=new this.Collection(this,()=>Jt$1(pr[0][0],pr[pr.length-1][1],!fr,!gr));return Br._ondirectionchange=Sr=>{Sr==="next"?(Cr=br,mr=cr):(Cr=wr,mr=ur),pr.sort(yr)},Br._addAlgorithm((Sr,Er,Tr)=>{for(var kr=Sr.key;Cr(kr);)if(++vr,vr===pr.length)return Er(Tr),!1;return!!function(Or){return!br(Or)&&!wr(Or)}(kr)||(this._cmp(kr,pr[vr][1])===0||this._cmp(kr,pr[vr][0])===0||Er(()=>{mr===cr?Sr.continue(pr[vr][0]):Sr.continue(pr[vr][1])}),!1)}),Br}startsWithAnyOf(){const or=B$1.apply(I$1,arguments);return or.every(lr=>typeof lr=="string")?or.length===0?Ht$1(this):this.inAnyRange(or.map(lr=>[lr,lr+mt$1])):Gt$1(this,"startsWithAnyOf() only works with strings")}}function tn(ar){return Ye(function(or){return nn(or),ar(or.target.error),!1})}function nn(ar){ar.stopPropagation&&ar.stopPropagation(),ar.preventDefault&&ar.preventDefault()}const rn="storagemutated",sn="x-storagemutated-1",on$1=Dt$1(null,rn);class an{_lock(){return m$1(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m$1(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var or=this._blockedFuncs.shift();try{at$1(or[1],or[0])}catch{}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(or){if(!this.mode)return this;const lr=this.db.idbdb,Ar=this.db._state.dbOpenError;if(m$1(!this.idbtrans),!or&&!lr)switch(Ar&&Ar.name){case"DatabaseClosedError":throw new X$1.DatabaseClosed(Ar);case"MissingAPIError":throw new X$1.MissingAPI(Ar.message,Ar);default:throw new X$1.OpenFailed(Ar)}if(!this.active)throw new X$1.TransactionInactive;return m$1(this._completion._state===null),(or=this.idbtrans=or||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):lr.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye(cr=>{nn(cr),this._reject(or.error)}),or.onabort=Ye(cr=>{nn(cr),this.active&&this._reject(new X$1.Abort(or.error)),this.active=!1,this.on("abort").fire(cr)}),or.oncomplete=Ye(()=>{this.active=!1,this._resolve(),"mutatedParts"in or&&on$1.storagemutated.fire(or.mutatedParts)}),this}_promise(or,lr,Ar){if(or==="readwrite"&&this.mode!=="readwrite")return ft$1(new X$1.ReadOnly("Transaction is readonly"));if(!this.active)return ft$1(new X$1.TransactionInactive);if(this._locked())return new je((ur,dr)=>{this._blockedFuncs.push([()=>{this._promise(or,lr,Ar).then(ur,dr)},Oe])});if(Ar)return Ze(()=>{var ur=new je((dr,hr)=>{this._lock();const fr=lr(dr,hr,this);fr&&fr.then&&fr.then(dr,hr)});return ur.finally(()=>this._unlock()),ur._lib=!0,ur});var cr=new je((ur,dr)=>{var hr=lr(ur,dr,this);hr&&hr.then&&hr.then(ur,dr)});return cr._lib=!0,cr}_root(){return this.parent?this.parent._root():this}waitFor(or){var lr=this._root();const Ar=je.resolve(or);if(lr._waitingFor)lr._waitingFor=lr._waitingFor.then(()=>Ar);else{lr._waitingFor=Ar,lr._waitingQueue=[];var cr=lr.idbtrans.objectStore(lr.storeNames[0]);(function dr(){for(++lr._spinCount;lr._waitingQueue.length;)lr._waitingQueue.shift()();lr._waitingFor&&(cr.get(-1/0).onsuccess=dr)})()}var ur=lr._waitingFor;return new je((dr,hr)=>{Ar.then(fr=>lr._waitingQueue.push(Ye(dr.bind(null,fr))),fr=>lr._waitingQueue.push(Ye(hr.bind(null,fr)))).finally(()=>{lr._waitingFor===ur&&(lr._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X$1.Abort))}table(or){const lr=this._memoizedTables||(this._memoizedTables={});if(o$1(lr,or))return lr[or];const Ar=this.schema[or];if(!Ar)throw new X$1.NotFound("Table "+or+" not part of transaction");const cr=new this.db.Table(or,Ar,this);return cr.core=this.db.core.table(or),lr[or]=cr,cr}}function un(ar,or,lr,Ar,cr,ur,dr){return{name:ar,keyPath:or,unique:lr,multi:Ar,auto:cr,compound:ur,src:(lr&&!dr?"&":"")+(Ar?"*":"")+(cr?"++":"")+ln$1(or)}}function ln$1(ar){return typeof ar=="string"?ar:ar?"["+[].join.call(ar,"+")+"]":""}function cn(ar,or,lr){return{name:ar,primKey:or,indexes:lr,mappedClass:null,idxByName:g$1(lr,Ar=>[Ar.name,Ar])}}let hn=ar=>{try{return ar.only([[]]),hn=()=>[[]],[[]]}catch{return hn=()=>mt$1,mt$1}};function dn(ar){return ar==null?()=>{}:typeof ar=="string"?function(or){return or.split(".").length===1?Ar=>Ar[or]:Ar=>b$1(Ar,or)}(ar):or=>b$1(or,ar)}function fn(ar){return[].slice.call(ar)}let pn=0;function yn(ar){return ar==null?":id":typeof ar=="string"?ar:`[${ar.join("+")}]`}function mn(ar,or,lr){function Ar(fr){if(fr.type===3)return null;if(fr.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:gr,upper:pr,lowerOpen:mr,upperOpen:yr}=fr;return gr===void 0?pr===void 0?null:or.upperBound(pr,!!yr):pr===void 0?or.lowerBound(gr,!!mr):or.bound(gr,pr,!!mr,!!yr)}const{schema:cr,hasGetAll:ur}=function(fr,gr){const pr=fn(fr.objectStoreNames);return{schema:{name:fr.name,tables:pr.map(mr=>gr.objectStore(mr)).map(mr=>{const{keyPath:yr,autoIncrement:vr}=mr,br=n$1(yr),wr=yr==null,Cr={},Br={name:mr.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:wr,compound:br,keyPath:yr,autoIncrement:vr,unique:!0,extractKey:dn(yr)},indexes:fn(mr.indexNames).map(Sr=>mr.index(Sr)).map(Sr=>{const{name:Er,unique:Tr,multiEntry:kr,keyPath:Or}=Sr,Rr={name:Er,compound:n$1(Or),keyPath:Or,unique:Tr,multiEntry:kr,extractKey:dn(Or)};return Cr[yn(Or)]=Rr,Rr}),getIndexByKeyPath:Sr=>Cr[yn(Sr)]};return Cr[":id"]=Br.primaryKey,yr!=null&&(Cr[yn(yr)]=Br.primaryKey),Br})},hasGetAll:pr.length>0&&"getAll"in gr.objectStore(pr[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(ar,lr),dr=cr.tables.map(fr=>function(gr){const pr=gr.name;return{name:pr,schema:gr,mutate:function({trans:mr,type:yr,keys:vr,values:br,range:wr}){return new Promise((Cr,Br)=>{Cr=Ye(Cr);const Sr=mr.objectStore(pr),Er=Sr.keyPath==null,Tr=yr==="put"||yr==="add";if(!Tr&&yr!=="delete"&&yr!=="deleteRange")throw new Error("Invalid operation type: "+yr);const{length:kr}=vr||br||{length:1};if(vr&&br&&vr.length!==br.length)throw new Error("Given keys array must have same length as given values array.");if(kr===0)return Cr({numFailures:0,failures:{},results:[],lastResult:void 0});let Or;const Rr=[],Lr=[];let _r=0;const Hr=Ur=>{++_r,nn(Ur)};if(yr==="deleteRange"){if(wr.type===4)return Cr({numFailures:_r,failures:Lr,results:[],lastResult:void 0});wr.type===3?Rr.push(Or=Sr.clear()):Rr.push(Or=Sr.delete(Ar(wr)))}else{const[Ur,Kr]=Tr?Er?[br,vr]:[br,null]:[vr,null];if(Tr)for(let Xr=0;Xr<kr;++Xr)Rr.push(Or=Kr&&Kr[Xr]!==void 0?Sr[yr](Ur[Xr],Kr[Xr]):Sr[yr](Ur[Xr])),Or.onerror=Hr;else for(let Xr=0;Xr<kr;++Xr)Rr.push(Or=Sr[yr](Ur[Xr])),Or.onerror=Hr}const Mr=Ur=>{const Kr=Ur.target.result;Rr.forEach((Xr,Yr)=>Xr.error!=null&&(Lr[Yr]=Xr.error)),Cr({numFailures:_r,failures:Lr,results:yr==="delete"?vr:Rr.map(Xr=>Xr.result),lastResult:Kr})};Or.onerror=Ur=>{Hr(Ur),Mr(Ur)},Or.onsuccess=Mr})},getMany:({trans:mr,keys:yr})=>new Promise((vr,br)=>{vr=Ye(vr);const wr=mr.objectStore(pr),Cr=yr.length,Br=new Array(Cr);let Sr,Er=0,Tr=0;const kr=Rr=>{const Lr=Rr.target;Br[Lr._pos]=Lr.result,++Tr===Er&&vr(Br)},Or=tn(br);for(let Rr=0;Rr<Cr;++Rr)yr[Rr]!=null&&(Sr=wr.get(yr[Rr]),Sr._pos=Rr,Sr.onsuccess=kr,Sr.onerror=Or,++Er);Er===0&&vr(Br)}),get:({trans:mr,key:yr})=>new Promise((vr,br)=>{vr=Ye(vr);const wr=mr.objectStore(pr).get(yr);wr.onsuccess=Cr=>vr(Cr.target.result),wr.onerror=tn(br)}),query:function(mr){return yr=>new Promise((vr,br)=>{vr=Ye(vr);const{trans:wr,values:Cr,limit:Br,query:Sr}=yr,Er=Br===1/0?void 0:Br,{index:Tr,range:kr}=Sr,Or=wr.objectStore(pr),Rr=Tr.isPrimaryKey?Or:Or.index(Tr.name),Lr=Ar(kr);if(Br===0)return vr({result:[]});if(mr){const _r=Cr?Rr.getAll(Lr,Er):Rr.getAllKeys(Lr,Er);_r.onsuccess=Hr=>vr({result:Hr.target.result}),_r.onerror=tn(br)}else{let _r=0;const Hr=Cr||!("openKeyCursor"in Rr)?Rr.openCursor(Lr):Rr.openKeyCursor(Lr),Mr=[];Hr.onsuccess=Ur=>{const Kr=Hr.result;return Kr?(Mr.push(Cr?Kr.value:Kr.primaryKey),++_r===Br?vr({result:Mr}):void Kr.continue()):vr({result:Mr})},Hr.onerror=tn(br)}})}(ur),openCursor:function({trans:mr,values:yr,query:vr,reverse:br,unique:wr}){return new Promise((Cr,Br)=>{Cr=Ye(Cr);const{index:Sr,range:Er}=vr,Tr=mr.objectStore(pr),kr=Sr.isPrimaryKey?Tr:Tr.index(Sr.name),Or=br?wr?"prevunique":"prev":wr?"nextunique":"next",Rr=yr||!("openKeyCursor"in kr)?kr.openCursor(Ar(Er),Or):kr.openKeyCursor(Ar(Er),Or);Rr.onerror=tn(Br),Rr.onsuccess=Ye(Lr=>{const _r=Rr.result;if(!_r)return void Cr(null);_r.___id=++pn,_r.done=!1;const Hr=_r.continue.bind(_r);let Mr=_r.continuePrimaryKey;Mr&&(Mr=Mr.bind(_r));const Ur=_r.advance.bind(_r),Kr=()=>{throw new Error("Cursor not stopped")};_r.trans=mr,_r.stop=_r.continue=_r.continuePrimaryKey=_r.advance=()=>{throw new Error("Cursor not started")},_r.fail=Ye(Br),_r.next=function(){let Xr=1;return this.start(()=>Xr--?this.continue():this.stop()).then(()=>this)},_r.start=Xr=>{const Yr=new Promise((ns,As)=>{ns=Ye(ns),Rr.onerror=tn(As),_r.fail=As,_r.stop=is=>{_r.stop=_r.continue=_r.continuePrimaryKey=_r.advance=Kr,ns(is)}}),Zr=()=>{if(Rr.result)try{Xr()}catch(ns){_r.fail(ns)}else _r.done=!0,_r.start=()=>{throw new Error("Cursor behind last entry")},_r.stop()};return Rr.onsuccess=Ye(ns=>{Rr.onsuccess=Zr,Zr()}),_r.continue=Hr,_r.continuePrimaryKey=Mr,_r.advance=Ur,Zr(),Yr},Cr(_r)},Br)})},count({query:mr,trans:yr}){const{index:vr,range:br}=mr;return new Promise((wr,Cr)=>{const Br=yr.objectStore(pr),Sr=vr.isPrimaryKey?Br:Br.index(vr.name),Er=Ar(br),Tr=Er?Sr.count(Er):Sr.count();Tr.onsuccess=Ye(kr=>wr(kr.target.result)),Tr.onerror=tn(Cr)})}}}(fr)),hr={};return dr.forEach(fr=>hr[fr.name]=fr),{stack:"dbcore",transaction:ar.transaction.bind(ar),table(fr){if(!hr[fr])throw new Error(`Table '${fr}' not found`);return hr[fr]},MIN_KEY:-1/0,MAX_KEY:hn(or),schema:cr}}function vn({_novip:ar},or){const lr=or.db,Ar=function(cr,ur,{IDBKeyRange:dr,indexedDB:hr},fr){return{dbcore:function(pr,mr){return mr.reduce((yr,{create:vr})=>({...yr,...vr(yr)}),pr)}(mn(ur,dr,fr),cr.dbcore)}}(ar._middlewares,lr,ar._deps,or);ar.core=Ar.dbcore,ar.tables.forEach(cr=>{const ur=cr.name;ar.core.schema.tables.some(dr=>dr.name===ur)&&(cr.core=ar.core.table(ur),ar[ur]instanceof ar.Table&&(ar[ur].core=cr.core))})}function gn({_novip:ar},or,lr,Ar){lr.forEach(cr=>{const ur=Ar[cr];or.forEach(dr=>{const hr=d$1(dr,cr);(!hr||"value"in hr&&hr.value===void 0)&&(dr===ar.Transaction.prototype||dr instanceof ar.Transaction?l$1(dr,cr,{get(){return this.table(cr)},set(fr){u$1(this,cr,{value:fr,writable:!0,configurable:!0,enumerable:!0})}}):dr[cr]=new ar.Table(cr,ur))})})}function bn({_novip:ar},or){or.forEach(lr=>{for(let Ar in lr)lr[Ar]instanceof ar.Table&&delete lr[Ar]})}function _n(ar,or){return ar._cfg.version-or._cfg.version}function wn(ar,or,lr,Ar){const cr=ar._dbSchema,ur=ar._createTransaction("readwrite",ar._storeNames,cr);ur.create(lr),ur._completion.catch(Ar);const dr=ur._reject.bind(ur),hr=Oe.transless||Oe;Ze(()=>{Oe.trans=ur,Oe.transless=hr,or===0?(t(cr).forEach(fr=>{kn(lr,fr,cr[fr].primKey,cr[fr].indexes)}),vn(ar,lr),je.follow(()=>ar.on.populate.fire(ur)).catch(dr)):function({_novip:fr},gr,pr,mr){const yr=[],vr=fr._versions;let br=fr._dbSchema=Pn(fr,fr.idbdb,mr),wr=!1;const Cr=vr.filter(Sr=>Sr._cfg.version>=gr);function Br(){return yr.length?je.resolve(yr.shift()(pr.idbtrans)).then(Br):je.resolve()}return Cr.forEach(Sr=>{yr.push(()=>{const Er=br,Tr=Sr._cfg.dbschema;Kn(fr,Er,mr),Kn(fr,Tr,mr),br=fr._dbSchema=Tr;const kr=xn(Er,Tr);kr.add.forEach(Rr=>{kn(mr,Rr[0],Rr[1].primKey,Rr[1].indexes)}),kr.change.forEach(Rr=>{if(Rr.recreate)throw new X$1.Upgrade("Not yet support for changing primary key");{const Lr=mr.objectStore(Rr.name);Rr.add.forEach(_r=>En(Lr,_r)),Rr.change.forEach(_r=>{Lr.deleteIndex(_r.name),En(Lr,_r)}),Rr.del.forEach(_r=>Lr.deleteIndex(_r))}});const Or=Sr._cfg.contentUpgrade;if(Or&&Sr._cfg.version>gr){vn(fr,mr),pr._memoizedTables={},wr=!0;let Rr=w$1(Tr);kr.del.forEach(Mr=>{Rr[Mr]=Er[Mr]}),bn(fr,[fr.Transaction.prototype]),gn(fr,[fr.Transaction.prototype],t(Rr),Rr),pr.schema=Rr;const Lr=T$1(Or);let _r;Lr&&et$2();const Hr=je.follow(()=>{if(_r=Or(pr),_r&&Lr){var Mr=tt$2.bind(null,null);_r.then(Mr,Mr)}});return _r&&typeof _r.then=="function"?je.resolve(_r):Hr.then(()=>_r)}}),yr.push(Er=>{(!wr||!xt$1)&&function(Tr,kr){[].slice.call(kr.db.objectStoreNames).forEach(Or=>Tr[Or]==null&&kr.db.deleteObjectStore(Or))}(Sr._cfg.dbschema,Er),bn(fr,[fr.Transaction.prototype]),gn(fr,[fr.Transaction.prototype],fr._storeNames,fr._dbSchema),pr.schema=fr._dbSchema})}),Br().then(()=>{var Sr,Er;Er=mr,t(Sr=br).forEach(Tr=>{Er.db.objectStoreNames.contains(Tr)||kn(Er,Tr,Sr[Tr].primKey,Sr[Tr].indexes)})})}(ar,or,ur,lr).catch(dr)})}function xn(ar,or){const lr={del:[],add:[],change:[]};let Ar;for(Ar in ar)or[Ar]||lr.del.push(Ar);for(Ar in or){const cr=ar[Ar],ur=or[Ar];if(cr){const dr={name:Ar,def:ur,recreate:!1,del:[],add:[],change:[]};if(""+(cr.primKey.keyPath||"")!=""+(ur.primKey.keyPath||"")||cr.primKey.auto!==ur.primKey.auto&&!wt$1)dr.recreate=!0,lr.change.push(dr);else{const hr=cr.idxByName,fr=ur.idxByName;let gr;for(gr in hr)fr[gr]||dr.del.push(gr);for(gr in fr){const pr=hr[gr],mr=fr[gr];pr?pr.src!==mr.src&&dr.change.push(mr):dr.add.push(mr)}(dr.del.length>0||dr.add.length>0||dr.change.length>0)&&lr.change.push(dr)}}else lr.add.push([Ar,ur])}return lr}function kn(ar,or,lr,Ar){const cr=ar.db.createObjectStore(or,lr.keyPath?{keyPath:lr.keyPath,autoIncrement:lr.auto}:{autoIncrement:lr.auto});return Ar.forEach(ur=>En(cr,ur)),cr}function En(ar,or){ar.createIndex(or.name,or.keyPath,{unique:or.unique,multiEntry:or.multi})}function Pn(ar,or,lr){const Ar={};return p$1(or.objectStoreNames,0).forEach(cr=>{const ur=lr.objectStore(cr);let dr=ur.keyPath;const hr=un(ln$1(dr),dr||"",!1,!1,!!ur.autoIncrement,dr&&typeof dr!="string",!0),fr=[];for(let pr=0;pr<ur.indexNames.length;++pr){const mr=ur.index(ur.indexNames[pr]);dr=mr.keyPath;var gr=un(mr.name,dr,!!mr.unique,!!mr.multiEntry,!1,dr&&typeof dr!="string",!1);fr.push(gr)}Ar[cr]=cn(cr,hr,fr)}),Ar}function Kn({_novip:ar},or,lr){const Ar=lr.db.objectStoreNames;for(let cr=0;cr<Ar.length;++cr){const ur=Ar[cr],dr=lr.objectStore(ur);ar._hasGetAll="getAll"in dr;for(let hr=0;hr<dr.indexNames.length;++hr){const fr=dr.indexNames[hr],gr=dr.index(fr).keyPath,pr=typeof gr=="string"?gr:"["+p$1(gr).join("+")+"]";if(or[ur]){const mr=or[ur].idxByName[pr];mr&&(mr.name=fr,delete or[ur].idxByName[pr],or[ur].idxByName[fr]=mr)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(ar._hasGetAll=!1)}class On{_parseStoresSpec(or,lr){t(or).forEach(Ar=>{if(or[Ar]!==null){var cr=or[Ar].split(",").map((dr,hr)=>{const fr=(dr=dr.trim()).replace(/([&*]|\+\+)/g,""),gr=/^\[/.test(fr)?fr.match(/^\[(.*)\]$/)[1].split("+"):fr;return un(fr,gr||null,/\&/.test(dr),/\*/.test(dr),/\+\+/.test(dr),n$1(gr),hr===0)}),ur=cr.shift();if(ur.multi)throw new X$1.Schema("Primary key cannot be multi-valued");cr.forEach(dr=>{if(dr.auto)throw new X$1.Schema("Only primary key can be marked as autoIncrement (++)");if(!dr.keyPath)throw new X$1.Schema("Index must have a name and cannot be an empty string")}),lr[Ar]=cn(Ar,ur,cr)}})}stores(or){const lr=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,or):or;const Ar=lr._versions,cr={};let ur={};return Ar.forEach(dr=>{r(cr,dr._cfg.storesSource),ur=dr._cfg.dbschema={},dr._parseStoresSpec(cr,ur)}),lr._dbSchema=ur,bn(lr,[lr._allTables,lr,lr.Transaction.prototype]),gn(lr,[lr._allTables,lr,lr.Transaction.prototype,this._cfg.tables],t(ur),ur),lr._storeNames=t(ur),this}upgrade(or){return this._cfg.contentUpgrade=ue$1(this._cfg.contentUpgrade||ee$1,or),this}}function Sn(ar,or){let lr=ar._dbNamesDB;return lr||(lr=ar._dbNamesDB=new Xn(Pt$1,{addons:[],indexedDB:ar,IDBKeyRange:or}),lr.version(1).stores({dbnames:"name"})),lr.table("dbnames")}function An(ar){return ar&&typeof ar.databases=="function"}function Cn(ar){return Ze(function(){return Oe.letThrough=!0,ar()})}function jn(){var ar;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(or){var lr=function(){return indexedDB.databases().finally(or)};ar=setInterval(lr,100),lr()}).finally(function(){return clearInterval(ar)}):Promise.resolve()}function Dn(ar){const or=ar._state,{indexedDB:lr}=ar._deps;if(or.isBeingOpened||ar.idbdb)return or.dbReadyPromise.then(()=>or.dbOpenError?ft$1(or.dbOpenError):ar);R$1&&(or.openCanceller._stackHolder=q$1()),or.isBeingOpened=!0,or.dbOpenError=null,or.openComplete=!1;const Ar=or.openCanceller;function cr(){if(or.openCanceller!==Ar)throw new X$1.DatabaseClosed("db.open() was cancelled")}let ur=or.dbReadyResolve,dr=null,hr=!1;const fr=()=>new je((gr,pr)=>{if(cr(),!lr)throw new X$1.MissingAPI;const mr=ar.name,yr=or.autoSchema?lr.open(mr):lr.open(mr,Math.round(10*ar.verno));if(!yr)throw new X$1.MissingAPI;yr.onerror=tn(pr),yr.onblocked=Ye(ar._fireOnBlocked),yr.onupgradeneeded=Ye(vr=>{if(dr=yr.transaction,or.autoSchema&&!ar._options.allowEmptyDB){yr.onerror=nn,dr.abort(),yr.result.close();const wr=lr.deleteDatabase(mr);wr.onsuccess=wr.onerror=Ye(()=>{pr(new X$1.NoSuchDatabase(`Database ${mr} doesnt exist`))})}else{dr.onerror=tn(pr);var br=vr.oldVersion>Math.pow(2,62)?0:vr.oldVersion;hr=br<1,ar._novip.idbdb=yr.result,wn(ar,br/10,dr,pr)}},pr),yr.onsuccess=Ye(()=>{dr=null;const vr=ar._novip.idbdb=yr.result,br=p$1(vr.objectStoreNames);if(br.length>0)try{const Cr=vr.transaction((wr=br).length===1?wr[0]:wr,"readonly");or.autoSchema?function({_novip:Br},Sr,Er){Br.verno=Sr.version/10;const Tr=Br._dbSchema=Pn(0,Sr,Er);Br._storeNames=p$1(Sr.objectStoreNames,0),gn(Br,[Br._allTables],t(Tr),Tr)}(ar,vr,Cr):(Kn(ar,ar._dbSchema,Cr),function(Br,Sr){const Er=xn(Pn(0,Br.idbdb,Sr),Br._dbSchema);return!(Er.add.length||Er.change.some(Tr=>Tr.add.length||Tr.change.length))}(ar,Cr)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),vn(ar,Cr)}catch{}var wr;_t$1.push(ar),vr.onversionchange=Ye(Cr=>{or.vcFired=!0,ar.on("versionchange").fire(Cr)}),vr.onclose=Ye(Cr=>{ar.on("close").fire(Cr)}),hr&&function({indexedDB:Cr,IDBKeyRange:Br},Sr){!An(Cr)&&Sr!==Pt$1&&Sn(Cr,Br).put({name:Sr}).catch(ee$1)}(ar._deps,mr),gr()},pr)}).catch(gr=>gr&&gr.name==="UnknownError"&&or.PR1398_maxLoop>0?(or.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),fr()):je.reject(gr));return je.race([Ar,(typeof navigator>"u"?je.resolve():jn()).then(fr)]).then(()=>(cr(),or.onReadyBeingFired=[],je.resolve(Cn(()=>ar.on.ready.fire(ar.vip))).then(function gr(){if(or.onReadyBeingFired.length>0){let pr=or.onReadyBeingFired.reduce(ue$1,ee$1);return or.onReadyBeingFired=[],je.resolve(Cn(()=>pr(ar.vip))).then(gr)}}))).finally(()=>{or.onReadyBeingFired=null,or.isBeingOpened=!1}).then(()=>ar).catch(gr=>{or.dbOpenError=gr;try{dr&&dr.abort()}catch{}return Ar===or.openCanceller&&ar._close(),ft$1(gr)}).finally(()=>{or.openComplete=!0,ur()})}function In(ar){var or=ur=>ar.next(ur),lr=cr(or),Ar=cr(ur=>ar.throw(ur));function cr(ur){return dr=>{var hr=ur(dr),fr=hr.value;return hr.done?fr:fr&&typeof fr.then=="function"?fr.then(lr,Ar):n$1(fr)?Promise.all(fr).then(lr,Ar):lr(fr)}}return cr(or)()}function Bn(ar,or,lr){var Ar=arguments.length;if(Ar<2)throw new X$1.InvalidArgument("Too few arguments");for(var cr=new Array(Ar-1);--Ar;)cr[Ar-1]=arguments[Ar];return lr=cr.pop(),[ar,k$1(cr),lr]}function Tn(ar,or,lr,Ar,cr){return je.resolve().then(()=>{const ur=Oe.transless||Oe,dr=ar._createTransaction(or,lr,ar._dbSchema,Ar),hr={trans:dr,transless:ur};if(Ar)dr.idbtrans=Ar.idbtrans;else try{dr.create(),ar._state.PR1398_maxLoop=3}catch(mr){return mr.name===H$1.InvalidState&&ar.isOpen()&&--ar._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),ar._close(),ar.open().then(()=>Tn(ar,or,lr,null,cr))):ft$1(mr)}const fr=T$1(cr);let gr;fr&&et$2();const pr=je.follow(()=>{if(gr=cr.call(dr,dr),gr)if(fr){var mr=tt$2.bind(null,null);gr.then(mr,mr)}else typeof gr.next=="function"&&typeof gr.throw=="function"&&(gr=In(gr))},hr);return(gr&&typeof gr.then=="function"?je.resolve(gr).then(mr=>dr.active?mr:ft$1(new X$1.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):pr.then(()=>gr)).then(mr=>(Ar&&dr._resolve(),dr._completion.then(()=>mr))).catch(mr=>(dr._reject(mr),ft$1(mr)))})}function Rn(ar,or,lr){const Ar=n$1(ar)?ar.slice():[ar];for(let cr=0;cr<lr;++cr)Ar.push(or);return Ar}const Fn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(ar){return{...ar,table(or){const lr=ar.table(or),{schema:Ar}=lr,cr={},ur=[];function dr(pr,mr,yr){const vr=yn(pr),br=cr[vr]=cr[vr]||[],wr=pr==null?0:typeof pr=="string"?1:pr.length,Cr=mr>0,Br={...yr,isVirtual:Cr,keyTail:mr,keyLength:wr,extractKey:dn(pr),unique:!Cr&&yr.unique};return br.push(Br),Br.isPrimaryKey||ur.push(Br),wr>1&&dr(wr===2?pr[0]:pr.slice(0,wr-1),mr+1,yr),br.sort((Sr,Er)=>Sr.keyTail-Er.keyTail),Br}const hr=dr(Ar.primaryKey.keyPath,0,Ar.primaryKey);cr[":id"]=[hr];for(const pr of Ar.indexes)dr(pr.keyPath,0,pr);function fr(pr){const mr=pr.query.index;return mr.isVirtual?{...pr,query:{index:mr,range:(yr=pr.query.range,vr=mr.keyTail,{type:yr.type===1?2:yr.type,lower:Rn(yr.lower,yr.lowerOpen?ar.MAX_KEY:ar.MIN_KEY,vr),lowerOpen:!0,upper:Rn(yr.upper,yr.upperOpen?ar.MIN_KEY:ar.MAX_KEY,vr),upperOpen:!0})}}:pr;var yr,vr}return{...lr,schema:{...Ar,primaryKey:hr,indexes:ur,getIndexByKeyPath:function(pr){const mr=cr[yn(pr)];return mr&&mr[0]}},count:pr=>lr.count(fr(pr)),query:pr=>lr.query(fr(pr)),openCursor(pr){const{keyTail:mr,isVirtual:yr,keyLength:vr}=pr.query.index;return yr?lr.openCursor(fr(pr)).then(br=>br&&function(wr){return Object.create(wr,{continue:{value:function(Br){Br!=null?wr.continue(Rn(Br,pr.reverse?ar.MAX_KEY:ar.MIN_KEY,mr)):pr.unique?wr.continue(wr.key.slice(0,vr).concat(pr.reverse?ar.MIN_KEY:ar.MAX_KEY,mr)):wr.continue()}},continuePrimaryKey:{value(Br,Sr){wr.continuePrimaryKey(Rn(Br,ar.MAX_KEY,mr),Sr)}},primaryKey:{get:()=>wr.primaryKey},key:{get(){const Br=wr.key;return vr===1?Br[0]:Br.slice(0,vr)}},value:{get:()=>wr.value}})}(br)):lr.openCursor(pr)}}}}}};function Mn(ar,or,lr,Ar){return lr=lr||{},Ar=Ar||"",t(ar).forEach(cr=>{if(o$1(or,cr)){var ur=ar[cr],dr=or[cr];if(typeof ur=="object"&&typeof dr=="object"&&ur&&dr){const hr=C$1(ur);hr!==C$1(dr)?lr[Ar+cr]=or[cr]:hr==="Object"?Mn(ur,dr,lr,Ar+cr+"."):ur!==dr&&(lr[Ar+cr]=or[cr])}else ur!==dr&&(lr[Ar+cr]=or[cr])}else lr[Ar+cr]=void 0}),t(or).forEach(cr=>{o$1(ar,cr)||(lr[Ar+cr]=or[cr])}),lr}const Nn={stack:"dbcore",name:"HooksMiddleware",level:2,create:ar=>({...ar,table(or){const lr=ar.table(or),{primaryKey:Ar}=lr.schema;return{...lr,mutate(ur){const dr=Oe.trans,{deleting:hr,creating:fr,updating:gr}=dr.table(or).hook;switch(ur.type){case"add":if(fr.fire===ee$1)break;return dr._promise("readwrite",()=>pr(ur),!0);case"put":if(fr.fire===ee$1&&gr.fire===ee$1)break;return dr._promise("readwrite",()=>pr(ur),!0);case"delete":if(hr.fire===ee$1)break;return dr._promise("readwrite",()=>pr(ur),!0);case"deleteRange":if(hr.fire===ee$1)break;return dr._promise("readwrite",()=>function(yr){return mr(yr.trans,yr.range,1e4)}(ur),!0)}return lr.mutate(ur);function pr(yr){const vr=Oe.trans,br=yr.keys||function(wr,Cr){return Cr.type==="delete"?Cr.keys:Cr.keys||Cr.values.map(wr.extractKey)}(Ar,yr);if(!br)throw new Error("Keys missing");return(yr=yr.type==="add"||yr.type==="put"?{...yr,keys:br}:{...yr}).type!=="delete"&&(yr.values=[...yr.values]),yr.keys&&(yr.keys=[...yr.keys]),function(wr,Cr,Br){return Cr.type==="add"?Promise.resolve([]):wr.getMany({trans:Cr.trans,keys:Br,cache:"immutable"})}(lr,yr,br).then(wr=>{const Cr=br.map((Br,Sr)=>{const Er=wr[Sr],Tr={onerror:null,onsuccess:null};if(yr.type==="delete")hr.fire.call(Tr,Br,Er,vr);else if(yr.type==="add"||Er===void 0){const kr=fr.fire.call(Tr,Br,yr.values[Sr],vr);Br==null&&kr!=null&&(Br=kr,yr.keys[Sr]=Br,Ar.outbound||_$1(yr.values[Sr],Ar.keyPath,Br))}else{const kr=Mn(Er,yr.values[Sr]),Or=gr.fire.call(Tr,kr,Br,Er,vr);if(Or){const Rr=yr.values[Sr];Object.keys(Or).forEach(Lr=>{o$1(Rr,Lr)?Rr[Lr]=Or[Lr]:_$1(Rr,Lr,Or[Lr])})}}return Tr});return lr.mutate(yr).then(({failures:Br,results:Sr,numFailures:Er,lastResult:Tr})=>{for(let kr=0;kr<br.length;++kr){const Or=Sr?Sr[kr]:br[kr],Rr=Cr[kr];Or==null?Rr.onerror&&Rr.onerror(Br[kr]):Rr.onsuccess&&Rr.onsuccess(yr.type==="put"&&wr[kr]?yr.values[kr]:Or)}return{failures:Br,results:Sr,numFailures:Er,lastResult:Tr}}).catch(Br=>(Cr.forEach(Sr=>Sr.onerror&&Sr.onerror(Br)),Promise.reject(Br)))})}function mr(yr,vr,br){return lr.query({trans:yr,values:!1,query:{index:Ar,range:vr},limit:br}).then(({result:wr})=>pr({type:"delete",keys:wr,trans:yr}).then(Cr=>Cr.numFailures>0?Promise.reject(Cr.failures[0]):wr.length<br?{failures:[],numFailures:0,lastResult:void 0}:mr(yr,{...vr,lower:wr[wr.length-1],lowerOpen:!0},br)))}}}}})};function qn(ar,or,lr){try{if(!or||or.keys.length<ar.length)return null;const Ar=[];for(let cr=0,ur=0;cr<or.keys.length&&ur<ar.length;++cr)$t$1(or.keys[cr],ar[ur])===0&&(Ar.push(lr?O$1(or.values[cr]):or.values[cr]),++ur);return Ar.length===ar.length?Ar:null}catch{return null}}const $n={stack:"dbcore",level:-1,create:ar=>({table:or=>{const lr=ar.table(or);return{...lr,getMany:Ar=>{if(!Ar.cache)return lr.getMany(Ar);const cr=qn(Ar.keys,Ar.trans._cache,Ar.cache==="clone");return cr?je.resolve(cr):lr.getMany(Ar).then(ur=>(Ar.trans._cache={keys:Ar.keys,values:Ar.cache==="clone"?O$1(ur):ur},ur))},mutate:Ar=>(Ar.type!=="add"&&(Ar.trans._cache=null),lr.mutate(Ar))}}})};function Un(ar){return!("from"in ar)}const Ln=function(ar,or){if(!this){const lr=new Ln;return ar&&"d"in ar&&r(lr,ar),lr}r(this,arguments.length?{d:1,from:ar,to:arguments.length>1?or:ar}:{d:0})};function Vn(ar,or,lr){const Ar=$t$1(or,lr);if(isNaN(Ar))return;if(Ar>0)throw RangeError();if(Un(ar))return r(ar,{from:or,to:lr,d:1});const cr=ar.l,ur=ar.r;if($t$1(lr,ar.from)<0)return cr?Vn(cr,or,lr):ar.l={from:or,to:lr,d:1,l:null,r:null},Gn(ar);if($t$1(or,ar.to)>0)return ur?Vn(ur,or,lr):ar.r={from:or,to:lr,d:1,l:null,r:null},Gn(ar);$t$1(or,ar.from)<0&&(ar.from=or,ar.l=null,ar.d=ur?ur.d+1:1),$t$1(lr,ar.to)>0&&(ar.to=lr,ar.r=null,ar.d=ar.l?ar.l.d+1:1);const dr=!ar.r;cr&&!ar.l&&Wn(ar,cr),ur&&dr&&Wn(ar,ur)}function Wn(ar,or){Un(or)||function lr(Ar,{from:cr,to:ur,l:dr,r:hr}){Vn(Ar,cr,ur),dr&&lr(Ar,dr),hr&&lr(Ar,hr)}(ar,or)}function Yn(ar,or){const lr=zn(or);let Ar=lr.next();if(Ar.done)return!1;let cr=Ar.value;const ur=zn(ar);let dr=ur.next(cr.from),hr=dr.value;for(;!Ar.done&&!dr.done;){if($t$1(hr.from,cr.to)<=0&&$t$1(hr.to,cr.from)>=0)return!0;$t$1(cr.from,hr.from)<0?cr=(Ar=lr.next(hr.from)).value:hr=(dr=ur.next(cr.from)).value}return!1}function zn(ar){let or=Un(ar)?null:{s:0,n:ar};return{next(lr){const Ar=arguments.length>0;for(;or;)switch(or.s){case 0:if(or.s=1,Ar)for(;or.n.l&&$t$1(lr,or.n.from)<0;)or={up:or,n:or.n.l,s:1};else for(;or.n.l;)or={up:or,n:or.n.l,s:1};case 1:if(or.s=2,!Ar||$t$1(lr,or.n.to)<=0)return{value:or.n,done:!1};case 2:if(or.n.r){or.s=3,or={up:or,n:or.n.r,s:0};continue}case 3:or=or.up}return{done:!0}}}}function Gn(ar){var or,lr;const Ar=(((or=ar.r)===null||or===void 0?void 0:or.d)||0)-(((lr=ar.l)===null||lr===void 0?void 0:lr.d)||0),cr=Ar>1?"r":Ar<-1?"l":"";if(cr){const ur=cr==="r"?"l":"r",dr={...ar},hr=ar[cr];ar.from=hr.from,ar.to=hr.to,ar[cr]=hr[cr],dr[cr]=hr[ur],ar[ur]=dr,dr.d=Hn(dr)}ar.d=Hn(ar)}function Hn({r:ar,l:or}){return(ar?or?Math.max(ar.d,or.d):ar.d:or?or.d:0)+1}a$1(Ln.prototype,{add(ar){return Wn(this,ar),this},addKey(ar){return Vn(this,ar,ar),this},addKeys(ar){return ar.forEach(or=>Vn(this,or,or)),this},[j$1](){return zn(this)}});const Qn={stack:"dbcore",level:0,create:ar=>{const or=ar.schema.name,lr=new Ln(ar.MIN_KEY,ar.MAX_KEY);return{...ar,table:Ar=>{const cr=ar.table(Ar),{schema:ur}=cr,{primaryKey:dr}=ur,{extractKey:hr,outbound:fr}=dr,gr={...cr,mutate:yr=>{const vr=yr.trans,br=vr.mutatedParts||(vr.mutatedParts={}),wr=Or=>{const Rr=`idb://${or}/${Ar}/${Or}`;return br[Rr]||(br[Rr]=new Ln)},Cr=wr(""),Br=wr(":dels"),{type:Sr}=yr;let[Er,Tr]=yr.type==="deleteRange"?[yr.range]:yr.type==="delete"?[yr.keys]:yr.values.length<50?[[],yr.values]:[];const kr=yr.trans._cache;return cr.mutate(yr).then(Or=>{if(n$1(Er)){Sr!=="delete"&&(Er=Or.results),Cr.addKeys(Er);const Rr=qn(Er,kr);Rr||Sr==="add"||Br.addKeys(Er),(Rr||Tr)&&function(Lr,_r,Hr,Mr){function Ur(Kr){const Xr=Lr(Kr.name||"");function Yr(ns){return ns!=null?Kr.extractKey(ns):null}const Zr=ns=>Kr.multiEntry&&n$1(ns)?ns.forEach(As=>Xr.addKey(As)):Xr.addKey(ns);(Hr||Mr).forEach((ns,As)=>{const is=Hr&&Yr(Hr[As]),gs=Mr&&Yr(Mr[As]);$t$1(is,gs)!==0&&(is!=null&&Zr(is),gs!=null&&Zr(gs))})}_r.indexes.forEach(Ur)}(wr,ur,Rr,Tr)}else if(Er){const Rr={from:Er.lower,to:Er.upper};Br.add(Rr),Cr.add(Rr)}else Cr.add(lr),Br.add(lr),ur.indexes.forEach(Rr=>wr(Rr.name).add(lr));return Or})}},pr=({query:{index:yr,range:vr}})=>{var br,wr;return[yr,new Ln((br=vr.lower)!==null&&br!==void 0?br:ar.MIN_KEY,(wr=vr.upper)!==null&&wr!==void 0?wr:ar.MAX_KEY)]},mr={get:yr=>[dr,new Ln(yr.key)],getMany:yr=>[dr,new Ln().addKeys(yr.keys)],count:pr,query:pr,openCursor:pr};return t(mr).forEach(yr=>{gr[yr]=function(vr){const{subscr:br}=Oe;if(br){const wr=Tr=>{const kr=`idb://${or}/${Ar}/${Tr}`;return br[kr]||(br[kr]=new Ln)},Cr=wr(""),Br=wr(":dels"),[Sr,Er]=mr[yr](vr);if(wr(Sr.name||"").add(Er),!Sr.isPrimaryKey){if(yr!=="count"){const Tr=yr==="query"&&fr&&vr.values&&cr.query({...vr,values:!1});return cr[yr].apply(this,arguments).then(kr=>{if(yr==="query"){if(fr&&vr.values)return Tr.then(({result:Rr})=>(Cr.addKeys(Rr),kr));const Or=vr.values?kr.result.map(hr):kr.result;vr.values?Cr.addKeys(Or):Br.addKeys(Or)}else if(yr==="openCursor"){const Or=kr,Rr=vr.values;return Or&&Object.create(Or,{key:{get:()=>(Br.addKey(Or.primaryKey),Or.key)},primaryKey:{get(){const Lr=Or.primaryKey;return Br.addKey(Lr),Lr}},value:{get:()=>(Rr&&Cr.addKey(Or.primaryKey),Or.value)}})}return kr})}Br.add(lr)}}return cr[yr].apply(this,arguments)}}),gr}}}};class Xn{constructor(or,lr){this._middlewares={},this.verno=0;const Ar=Xn.dependencies;this._options=lr={addons:Xn.addons,autoOpen:!0,indexedDB:Ar.indexedDB,IDBKeyRange:Ar.IDBKeyRange,...lr},this._deps={indexedDB:lr.indexedDB,IDBKeyRange:lr.IDBKeyRange};const{addons:cr}=lr;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const ur={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee$1,dbReadyPromise:null,cancelOpen:ee$1,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var dr;ur.dbReadyPromise=new je(hr=>{ur.dbReadyResolve=hr}),ur.openCanceller=new je((hr,fr)=>{ur.cancelOpen=fr}),this._state=ur,this.name=or,this.on=Dt$1(this,"populate","blocked","versionchange","close",{ready:[ue$1,ee$1]}),this.on.ready.subscribe=y$1(this.on.ready.subscribe,hr=>(fr,gr)=>{Xn.vip(()=>{const pr=this._state;if(pr.openComplete)pr.dbOpenError||je.resolve().then(fr),gr&&hr(fr);else if(pr.onReadyBeingFired)pr.onReadyBeingFired.push(fr),gr&&hr(fr);else{hr(fr);const mr=this;gr||hr(function yr(){mr.on.ready.unsubscribe(fr),mr.on.ready.unsubscribe(yr)})}})}),this.Collection=(dr=this,It$1(Vt$1.prototype,function(hr,fr){this.db=dr;let gr=At$1,pr=null;if(fr)try{gr=fr()}catch(br){pr=br}const mr=hr._ctx,yr=mr.table,vr=yr.hook.reading.fire;this._ctx={table:yr,index:mr.index,isPrimKey:!mr.index||yr.schema.primKey.keyPath&&mr.index===yr.schema.primKey.name,range:gr,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:pr,or:mr.or,valueMapper:vr!==te$1?vr:null}})),this.Table=function(hr){return It$1(jt$1.prototype,function(fr,gr,pr){this.db=hr,this._tx=pr,this.name=fr,this.schema=gr,this.hook=hr._allTables[fr]?hr._allTables[fr].hook:Dt$1(null,{creating:[se$1,ee$1],reading:[ne$1,te$1],updating:[oe$1,ee$1],deleting:[ie$3,ee$1]})})}(this),this.Transaction=function(hr){return It$1(an.prototype,function(fr,gr,pr,mr,yr){this.db=hr,this.mode=fr,this.storeNames=gr,this.schema=pr,this.chromeTransactionDurability=mr,this.idbtrans=null,this.on=Dt$1(this,"complete","error","abort"),this.parent=yr||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je((vr,br)=>{this._resolve=vr,this._reject=br}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},vr=>{var br=this.active;return this.active=!1,this.on.error.fire(vr),this.parent?this.parent._reject(vr):br&&this.idbtrans&&this.idbtrans.abort(),ft$1(vr)})})}(this),this.Version=function(hr){return It$1(On.prototype,function(fr){this.db=hr,this._cfg={version:fr,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(hr){return It$1(en.prototype,function(fr,gr,pr){this.db=hr,this._ctx={table:fr,index:gr===":id"?null:gr,or:pr};const mr=hr._deps.indexedDB;if(!mr)throw new X$1.MissingAPI;this._cmp=this._ascending=mr.cmp.bind(mr),this._descending=(yr,vr)=>mr.cmp(vr,yr),this._max=(yr,vr)=>mr.cmp(yr,vr)>0?yr:vr,this._min=(yr,vr)=>mr.cmp(yr,vr)<0?yr:vr,this._IDBKeyRange=hr._deps.IDBKeyRange})}(this),this.on("versionchange",hr=>{hr.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",hr=>{!hr.newVersion||hr.newVersion<hr.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${hr.oldVersion/10}`)}),this._maxKey=hn(lr.IDBKeyRange),this._createTransaction=(hr,fr,gr,pr)=>new this.Transaction(hr,fr,gr,this._options.chromeTransactionDurability,pr),this._fireOnBlocked=hr=>{this.on("blocked").fire(hr),_t$1.filter(fr=>fr.name===this.name&&fr!==this&&!fr._state.vcFired).map(fr=>fr.on("versionchange").fire(hr))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),cr.forEach(hr=>hr(this))}version(or){if(isNaN(or)||or<.1)throw new X$1.Type("Given version is not a positive number");if(or=Math.round(10*or)/10,this.idbdb||this._state.isBeingOpened)throw new X$1.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,or);const lr=this._versions;var Ar=lr.filter(cr=>cr._cfg.version===or)[0];return Ar||(Ar=new this.Version(or),lr.push(Ar),lr.sort(_n),Ar.stores({}),this._state.autoSchema=!1,Ar)}_whenReady(or){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?or():new je((lr,Ar)=>{if(this._state.openComplete)return Ar(new X$1.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void Ar(new X$1.DatabaseClosed);this.open().catch(ee$1)}this._state.dbReadyPromise.then(lr,Ar)}).then(or)}use({stack:or,create:lr,level:Ar,name:cr}){cr&&this.unuse({stack:or,name:cr});const ur=this._middlewares[or]||(this._middlewares[or]=[]);return ur.push({stack:or,create:lr,level:Ar??10,name:cr}),ur.sort((dr,hr)=>dr.level-hr.level),this}unuse({stack:or,name:lr,create:Ar}){return or&&this._middlewares[or]&&(this._middlewares[or]=this._middlewares[or].filter(cr=>Ar?cr.create!==Ar:!!lr&&cr.name!==lr)),this}open(){return Dn(this)}_close(){const or=this._state,lr=_t$1.indexOf(this);if(lr>=0&&_t$1.splice(lr,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}or.dbReadyPromise=new je(Ar=>{or.dbReadyResolve=Ar}),or.openCanceller=new je((Ar,cr)=>{or.cancelOpen=cr})}close(){this._close();const or=this._state;this._options.autoOpen=!1,or.dbOpenError=new X$1.DatabaseClosed,or.isBeingOpened&&or.cancelOpen(or.dbOpenError)}delete(){const or=arguments.length>0,lr=this._state;return new je((Ar,cr)=>{const ur=()=>{this.close();var dr=this._deps.indexedDB.deleteDatabase(this.name);dr.onsuccess=Ye(()=>{(function({indexedDB:hr,IDBKeyRange:fr},gr){!An(hr)&&gr!==Pt$1&&Sn(hr,fr).delete(gr).catch(ee$1)})(this._deps,this.name),Ar()}),dr.onerror=tn(cr),dr.onblocked=this._fireOnBlocked};if(or)throw new X$1.InvalidArgument("Arguments not allowed in db.delete()");lr.isBeingOpened?lr.dbReadyPromise.then(ur):ur()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const or=this._state.dbOpenError;return or&&or.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map(or=>this._allTables[or])}transaction(){const or=Bn.apply(this,arguments);return this._transaction.apply(this,or)}_transaction(or,lr,Ar){let cr=Oe.trans;cr&&cr.db===this&&or.indexOf("!")===-1||(cr=null);const ur=or.indexOf("?")!==-1;let dr,hr;or=or.replace("!","").replace("?","");try{if(hr=lr.map(gr=>{var pr=gr instanceof this.Table?gr.name:gr;if(typeof pr!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return pr}),or=="r"||or===Kt$1)dr=Kt$1;else{if(or!="rw"&&or!=Ot$1)throw new X$1.InvalidArgument("Invalid transaction mode: "+or);dr=Ot$1}if(cr){if(cr.mode===Kt$1&&dr===Ot$1){if(!ur)throw new X$1.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");cr=null}cr&&hr.forEach(gr=>{if(cr&&cr.storeNames.indexOf(gr)===-1){if(!ur)throw new X$1.SubTransaction("Table "+gr+" not included in parent transaction.");cr=null}}),ur&&cr&&!cr.active&&(cr=null)}}catch(gr){return cr?cr._promise(null,(pr,mr)=>{mr(gr)}):ft$1(gr)}const fr=Tn.bind(null,this,dr,hr,cr,Ar);return cr?cr._promise(dr,fr,"lock"):Oe.trans?at$1(Oe.transless,()=>this._whenReady(fr)):this._whenReady(fr)}table(or){if(!o$1(this._allTables,or))throw new X$1.InvalidTable(`Table ${or} does not exist`);return this._allTables[or]}}const Jn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Zn{constructor(or){this._subscribe=or}subscribe(or,lr,Ar){return this._subscribe(or&&typeof or!="function"?or:{next:or,error:lr,complete:Ar})}[Jn](){return this}}function er(ar,or){return t(or).forEach(lr=>{Wn(ar[lr]||(ar[lr]=new Ln),or[lr])}),ar}function tr$1(ar){let or,lr=!1;const Ar=new Zn(cr=>{const ur=T$1(ar);let dr=!1,hr={},fr={};const gr={get closed(){return dr},unsubscribe:()=>{dr=!0,on$1.storagemutated.unsubscribe(vr)}};cr.start&&cr.start(gr);let pr=!1,mr=!1;function yr(){return t(fr).some(wr=>hr[wr]&&Yn(hr[wr],fr[wr]))}const vr=wr=>{er(hr,wr),yr()&&br()},br=()=>{if(pr||dr)return;hr={};const wr={},Cr=function(Br){ur&&et$2();const Sr=()=>Ze(ar,{subscr:Br,trans:null}),Er=Oe.trans?at$1(Oe.transless,Sr):Sr();return ur&&Er.then(tt$2,tt$2),Er}(wr);mr||(on$1(rn,vr),mr=!0),pr=!0,Promise.resolve(Cr).then(Br=>{lr=!0,or=Br,pr=!1,dr||(yr()?br():(hr={},fr=wr,cr.next&&cr.next(Br)))},Br=>{pr=!1,lr=!1,cr.error&&cr.error(Br),gr.unsubscribe()})};return br(),gr});return Ar.hasValue=()=>lr,Ar.getValue=()=>or,Ar}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch{nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(ar){let or=ir;try{ir=!0,on$1.storagemutated.fire(ar)}finally{ir=or}}a$1(rr,{...Z$1,delete:ar=>new rr(ar,{addons:[]}).delete(),exists:ar=>new rr(ar,{addons:[]}).open().then(or=>(or.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(ar){try{return function({indexedDB:or,IDBKeyRange:lr}){return An(or)?Promise.resolve(or.databases()).then(Ar=>Ar.map(cr=>cr.name).filter(cr=>cr!==Pt$1)):Sn(or,lr).toCollection().primaryKeys()}(rr.dependencies).then(ar)}catch{return ft$1(new X$1.MissingAPI)}},defineClass:()=>function(ar){r(this,ar)},ignoreTransaction:ar=>Oe.trans?at$1(Oe.transless,ar):ar(),vip:Cn,async:function(ar){return function(){try{var or=In(ar.apply(this,arguments));return or&&typeof or.then=="function"?or:je.resolve(or)}catch(lr){return ft$1(lr)}}},spawn:function(ar,or,lr){try{var Ar=In(ar.apply(lr,or||[]));return Ar&&typeof Ar.then=="function"?Ar:je.resolve(Ar)}catch(cr){return ft$1(cr)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(ar,or){const lr=je.resolve(typeof ar=="function"?rr.ignoreTransaction(ar):ar).timeout(or||6e4);return Oe.trans?Oe.trans.waitFor(lr):lr},Promise:je,debug:{get:()=>R$1,set:ar=>{F$1(ar,ar==="dexie"?()=>!0:Et$1)}},derive:c$1,extend:r,props:a$1,override:y$1,Events:Dt$1,on:on$1,liveQuery:tr$1,extendObservabilitySet:er,getByKeyPath:b$1,setByKeyPath:_$1,delByKeyPath:function(ar,or){typeof or=="string"?_$1(ar,or,void 0):"length"in or&&[].map.call(or,function(lr){_$1(ar,lr,void 0)})},shallowClone:w$1,deepClone:O$1,getObjectDiff:Mn,cmp:$t$1,asap:v$1,minKey:vt$1,addons:[],connections:_t$1,errnames:H$1,dependencies:nr,semVer:yt$1,version:yt$1.split(".").map(ar=>parseInt(ar)).reduce((ar,or,lr)=>ar+or/Math.pow(10,2*lr))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(on$1(rn,ar=>{if(!ir){let or;wt$1?(or=document.createEvent("CustomEvent"),or.initCustomEvent(sn,!0,!0,ar)):or=new CustomEvent(sn,{detail:ar}),ir=!0,dispatchEvent(or),ir=!1}}),addEventListener(sn,({detail:ar})=>{ir||sr(ar)}));let ir=!1;if(typeof BroadcastChannel<"u"){const ar=new BroadcastChannel(sn);typeof ar.unref=="function"&&ar.unref(),on$1(rn,or=>{ir||ar.postMessage(or)}),ar.onmessage=or=>{or.data&&sr(or.data)}}else if(typeof self<"u"&&typeof navigator<"u"){on$1(rn,or=>{try{ir||(typeof localStorage<"u"&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:or})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(lr=>lr.postMessage({type:sn,changedParts:or})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",or=>{if(or.key===sn){const lr=JSON.parse(or.newValue);lr&&sr(lr.changedParts)}});const ar=self.document&&navigator.serviceWorker;ar&&ar.addEventListener("message",function({data:or}){or&&or.type===sn&&sr(or.changedParts)})}je.rejectionMapper=function(ar,or){if(!ar||ar instanceof W$1||ar instanceof TypeError||ar instanceof SyntaxError||!ar.name||!J$1[ar.name])return ar;var lr=new J$1[ar.name](or||ar.message,ar);return"stack"in ar&&l$1(lr,"stack",{get:function(){return this.inner.stack}}),lr},F$1(R$1,Et$1);const db=new Xn("EstudiaPlan");db.version(1).stores({subjects:"++id, name, color",notes:"++id, title, content, subjectId, tags, createdAt, updatedAt",tasks:"++id, title, description, dueDate, status, priority, subjectId, createdAt, updatedAt",planner:"++id, title, description, startTime, endTime, day, subjectId, subjectName, createdAt, updatedAt",grades:"++id, title, score, maxScore, weight, subjectId, date, createdAt",pdfs:"++id, title, file, size, subjectId, createdAt, updatedAt"});db.on("populate",async()=>{await db.subjects.bulkAdd([{name:"Matemticas",color:"#ef4444"},{name:"Ciencias",color:"#3b82f6"},{name:"Historia",color:"#f59e0b"},{name:"Literatura",color:"#10b981"},{name:"Ingls",color:"#8b5cf6"}])});const useTasksStore=defineStore("tasks",()=>{const ar=ref([]),or=ref(!1),lr=ref(null);async function Ar(){or.value=!0;try{ar.value=await db.tasks.toArray(),lr.value=null}catch(mr){console.error("Error fetching tasks:",mr),lr.value="Error al cargar las tareas"}finally{or.value=!1}}async function cr(mr){or.value=!0;try{ar.value=await db.tasks.where("subjectId").equals(mr).toArray(),lr.value=null}catch(yr){console.error("Error fetching tasks by subject:",yr),lr.value="Error al cargar las tareas de la materia"}finally{or.value=!1}}async function ur(mr){try{const yr=new Date().toISOString(),vr={...mr,createdAt:yr,updatedAt:yr},br=await db.tasks.add(vr);if(await Ar(),mr.dueDate&&"Notification"in window&&Notification.permission==="granted"){const wr=new Date(mr.dueDate),Cr=new Date;if(wr>Cr){const Br=new Date(wr);Br.setDate(Br.getDate()-1);const Sr=Br.getTime()-Cr.getTime();Sr>0&&setTimeout(()=>{const Er={body:mr.title,icon:"/studyloop/pwa-192x192.png"};new Notification("Recordatorio de tarea",Er)},Sr)}}return br}catch(yr){throw console.error("Error adding task:",yr),lr.value="Error al aadir la tarea",yr}}async function dr(mr,yr){try{const vr=new Date().toISOString();await db.tasks.update(mr,{...yr,updatedAt:vr}),await Ar()}catch(vr){throw console.error("Error updating task:",vr),lr.value="Error al actualizar la tarea",vr}}async function hr(mr){try{if(!await db.tasks.get(Number(mr)))throw new Error("Tarea no encontrada");await db.tasks.delete(Number(mr)),await Ar(),lr.value=null}catch(yr){throw console.error("Error deleting task:",yr),lr.value="Error al eliminar la tarea",yr}}const fr=computed(()=>async mr=>mr?await db.tasks.get(Number(mr)):null);async function gr(){or.value=!0;try{const mr=await db.tasks.toArray(),yr=new Date;yr.setHours(0,0,0,0),ar.value=mr.filter(vr=>{const br=new Date(vr.dueDate);return br.setHours(0,0,0,0),br>=yr&&vr.status!=="completed"}).sort((vr,br)=>new Date(vr.dueDate)-new Date(br.dueDate)),lr.value=null}catch(mr){console.error("Error fetching upcoming tasks:",mr),lr.value="Error al cargar las tareas prximas"}finally{or.value=!1}}async function pr(){if("Notification"in window)try{return await Notification.requestPermission()}catch(mr){return console.error("Error requesting notification permission:",mr),"denied"}return"unsupported"}return{tasks:ar,loading:or,error:lr,fetchTasks:Ar,fetchTasksBySubject:cr,addTask:ur,updateTask:dr,deleteTask:hr,getTaskById:fr,fetchUpcomingTasks:gr,requestNotificationPermission:pr}}),useNotesStore=defineStore("notes",()=>{const ar=ref([]),or=ref(!1),lr=ref(null);async function Ar(){or.value=!0;try{ar.value=await db.notes.toArray(),lr.value=null}catch(pr){console.error("Error fetching notes:",pr),lr.value="Error al cargar los apuntes"}finally{or.value=!1}}async function cr(pr){or.value=!0;try{ar.value=await db.notes.where("subjectId").equals(pr).toArray(),lr.value=null}catch(mr){console.error("Error fetching notes by subject:",mr),lr.value="Error al cargar los apuntes de la materia"}finally{or.value=!1}}async function ur(pr){try{const mr=new Date().toISOString(),yr={...pr,createdAt:mr,updatedAt:mr},vr=await db.notes.add(yr);return await Ar(),vr}catch(mr){throw console.error("Error adding note:",mr),lr.value="Error al aadir el apunte",mr}}async function dr(pr,mr){try{const yr=new Date().toISOString();await db.notes.update(pr,{...mr,updatedAt:yr}),await Ar()}catch(yr){throw console.error("Error updating note:",yr),lr.value="Error al actualizar el apunte",yr}}async function hr(pr){try{await db.notes.delete(pr),await Ar()}catch(mr){throw console.error("Error deleting note:",mr),lr.value="Error al eliminar el apunte",mr}}const fr=computed(()=>async pr=>pr?await db.notes.get(Number(pr)):null);async function gr(pr){or.value=!0;try{const mr=await db.notes.toArray(),yr=pr.toLowerCase();ar.value=mr.filter(vr=>vr.title.toLowerCase().includes(yr)||vr.content.toLowerCase().includes(yr)||vr.tags&&vr.tags.some(br=>br.toLowerCase().includes(yr))),lr.value=null}catch(mr){console.error("Error searching notes:",mr),lr.value="Error al buscar los apuntes"}finally{or.value=!1}}return{notes:ar,loading:or,error:lr,fetchNotes:Ar,fetchNotesBySubject:cr,addNote:ur,updateNote:dr,deleteNote:hr,getNoteById:fr,searchNotes:gr}}),useSubjectsStore=defineStore("subjects",()=>{const ar=ref([]),or=ref(!1),lr=ref(null);async function Ar(){or.value=!0;try{ar.value=await db.subjects.toArray(),lr.value=null}catch(fr){console.error("Error fetching subjects:",fr),lr.value="Error al cargar las materias"}finally{or.value=!1}}async function cr(fr){try{const gr=await db.subjects.add(fr);return await Ar(),gr}catch(gr){throw console.error("Error adding subject:",gr),lr.value="Error al aadir la materia",gr}}async function ur(fr,gr){try{await db.subjects.update(fr,gr),await Ar()}catch(pr){throw console.error("Error updating subject:",pr),lr.value="Error al actualizar la materia",pr}}async function dr(fr){try{await db.subjects.delete(fr),await Ar()}catch(gr){throw console.error("Error deleting subject:",gr),lr.value="Error al eliminar la materia",gr}}const hr=computed(()=>fr=>ar.value.find(gr=>gr.id===fr));return{subjects:ar,loading:or,error:lr,fetchSubjects:Ar,addSubject:cr,updateSubject:ur,deleteSubject:dr,getSubjectById:hr}}),usePlannerStore=defineStore("planner",()=>{const ar=ref([]),or=ref(!1),lr=ref(null);async function Ar(){or.value=!0;try{ar.value=await db.planner.toArray(),lr.value=null}catch(fr){console.error("Error fetching events:",fr),lr.value="Error al cargar los eventos"}finally{or.value=!1}}async function cr(fr){or.value=!0;try{ar.value=await db.planner.where("day").equals(fr).toArray(),lr.value=null}catch(gr){console.error("Error fetching events by day:",gr),lr.value="Error al cargar los eventos del da"}finally{or.value=!1}}async function ur(fr){try{const gr=new Date().toISOString(),pr={...fr,createdAt:gr,updatedAt:gr},mr=await db.planner.add(pr);return await Ar(),mr}catch(gr){throw console.error("Error adding event:",gr),lr.value="Error al aadir el evento",gr}}async function dr(fr,gr){try{const pr=new Date().toISOString();await db.planner.update(fr,{...gr,updatedAt:pr}),await Ar()}catch(pr){throw console.error("Error updating event:",pr),lr.value="Error al actualizar el evento",pr}}async function hr(fr){try{await db.planner.delete(fr),await Ar()}catch(gr){throw console.error("Error deleting event:",gr),lr.value="Error al eliminar el evento",gr}}return{events:ar,loading:or,error:lr,fetchEvents:Ar,fetchEventsByDay:cr,addEvent:ur,updateEvent:dr,deleteEvent:hr}});function toDate(ar){const or=Object.prototype.toString.call(ar);return ar instanceof Date||typeof ar=="object"&&or==="[object Date]"?new ar.constructor(+ar):typeof ar=="number"||or==="[object Number]"||typeof ar=="string"||or==="[object String]"?new Date(ar):new Date(NaN)}function constructFrom(ar,or){return ar instanceof Date?new ar.constructor(or):new Date(or)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5;let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(ar,or){var hr,fr,gr,pr;const lr=getDefaultOptions(),Ar=(or==null?void 0:or.weekStartsOn)??((fr=(hr=or==null?void 0:or.locale)==null?void 0:hr.options)==null?void 0:fr.weekStartsOn)??lr.weekStartsOn??((pr=(gr=lr.locale)==null?void 0:gr.options)==null?void 0:pr.weekStartsOn)??0,cr=toDate(ar),ur=cr.getDay(),dr=(ur<Ar?7:0)+ur-Ar;return cr.setDate(cr.getDate()-dr),cr.setHours(0,0,0,0),cr}function startOfISOWeek(ar){return startOfWeek(ar,{weekStartsOn:1})}function getISOWeekYear(ar){const or=toDate(ar),lr=or.getFullYear(),Ar=constructFrom(ar,0);Ar.setFullYear(lr+1,0,4),Ar.setHours(0,0,0,0);const cr=startOfISOWeek(Ar),ur=constructFrom(ar,0);ur.setFullYear(lr,0,4),ur.setHours(0,0,0,0);const dr=startOfISOWeek(ur);return or.getTime()>=cr.getTime()?lr+1:or.getTime()>=dr.getTime()?lr:lr-1}function startOfDay(ar){const or=toDate(ar);return or.setHours(0,0,0,0),or}function getTimezoneOffsetInMilliseconds(ar){const or=toDate(ar),lr=new Date(Date.UTC(or.getFullYear(),or.getMonth(),or.getDate(),or.getHours(),or.getMinutes(),or.getSeconds(),or.getMilliseconds()));return lr.setUTCFullYear(or.getFullYear()),+ar-+lr}function differenceInCalendarDays(ar,or){const lr=startOfDay(ar),Ar=startOfDay(or),cr=+lr-getTimezoneOffsetInMilliseconds(lr),ur=+Ar-getTimezoneOffsetInMilliseconds(Ar);return Math.round((cr-ur)/millisecondsInDay)}function startOfISOWeekYear(ar){const or=getISOWeekYear(ar),lr=constructFrom(ar,0);return lr.setFullYear(or,0,4),lr.setHours(0,0,0,0),startOfISOWeek(lr)}function isDate(ar){return ar instanceof Date||typeof ar=="object"&&Object.prototype.toString.call(ar)==="[object Date]"}function isValid(ar){if(!isDate(ar)&&typeof ar!="number")return!1;const or=toDate(ar);return!isNaN(Number(or))}function startOfYear(ar){const or=toDate(ar),lr=constructFrom(ar,0);return lr.setFullYear(or.getFullYear(),0,1),lr.setHours(0,0,0,0),lr}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(ar,or,lr)=>{let Ar;const cr=formatDistanceLocale$1[ar];return typeof cr=="string"?Ar=cr:or===1?Ar=cr.one:Ar=cr.other.replace("{{count}}",or.toString()),lr!=null&&lr.addSuffix?lr.comparison&&lr.comparison>0?"in "+Ar:Ar+" ago":Ar};function buildFormatLongFn(ar){return(or={})=>{const lr=or.width?String(or.width):ar.defaultWidth;return ar.formats[lr]||ar.formats[ar.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(ar,or,lr,Ar)=>formatRelativeLocale$1[ar];function buildLocalizeFn(ar){return(or,lr)=>{const Ar=lr!=null&&lr.context?String(lr.context):"standalone";let cr;if(Ar==="formatting"&&ar.formattingValues){const dr=ar.defaultFormattingWidth||ar.defaultWidth,hr=lr!=null&&lr.width?String(lr.width):dr;cr=ar.formattingValues[hr]||ar.formattingValues[dr]}else{const dr=ar.defaultWidth,hr=lr!=null&&lr.width?String(lr.width):ar.defaultWidth;cr=ar.values[hr]||ar.values[dr]}const ur=ar.argumentCallback?ar.argumentCallback(or):or;return cr[ur]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(ar,or)=>{const lr=Number(ar),Ar=lr%100;if(Ar>20||Ar<10)switch(Ar%10){case 1:return lr+"st";case 2:return lr+"nd";case 3:return lr+"rd"}return lr+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:ar=>ar-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(ar){return(or,lr={})=>{const Ar=lr.width,cr=Ar&&ar.matchPatterns[Ar]||ar.matchPatterns[ar.defaultMatchWidth],ur=or.match(cr);if(!ur)return null;const dr=ur[0],hr=Ar&&ar.parsePatterns[Ar]||ar.parsePatterns[ar.defaultParseWidth],fr=Array.isArray(hr)?findIndex(hr,mr=>mr.test(dr)):findKey(hr,mr=>mr.test(dr));let gr;gr=ar.valueCallback?ar.valueCallback(fr):fr,gr=lr.valueCallback?lr.valueCallback(gr):gr;const pr=or.slice(dr.length);return{value:gr,rest:pr}}}function findKey(ar,or){for(const lr in ar)if(Object.prototype.hasOwnProperty.call(ar,lr)&&or(ar[lr]))return lr}function findIndex(ar,or){for(let lr=0;lr<ar.length;lr++)if(or(ar[lr]))return lr}function buildMatchPatternFn(ar){return(or,lr={})=>{const Ar=or.match(ar.matchPattern);if(!Ar)return null;const cr=Ar[0],ur=or.match(ar.parsePattern);if(!ur)return null;let dr=ar.valueCallback?ar.valueCallback(ur[0]):ur[0];dr=lr.valueCallback?lr.valueCallback(dr):dr;const hr=or.slice(cr.length);return{value:dr,rest:hr}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:ar=>parseInt(ar,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:ar=>ar+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(ar){const or=toDate(ar);return differenceInCalendarDays(or,startOfYear(or))+1}function getISOWeek(ar){const or=toDate(ar),lr=+startOfISOWeek(or)-+startOfISOWeekYear(or);return Math.round(lr/millisecondsInWeek)+1}function getWeekYear(ar,or){var pr,mr,yr,vr;const lr=toDate(ar),Ar=lr.getFullYear(),cr=getDefaultOptions(),ur=(or==null?void 0:or.firstWeekContainsDate)??((mr=(pr=or==null?void 0:or.locale)==null?void 0:pr.options)==null?void 0:mr.firstWeekContainsDate)??cr.firstWeekContainsDate??((vr=(yr=cr.locale)==null?void 0:yr.options)==null?void 0:vr.firstWeekContainsDate)??1,dr=constructFrom(ar,0);dr.setFullYear(Ar+1,0,ur),dr.setHours(0,0,0,0);const hr=startOfWeek(dr,or),fr=constructFrom(ar,0);fr.setFullYear(Ar,0,ur),fr.setHours(0,0,0,0);const gr=startOfWeek(fr,or);return lr.getTime()>=hr.getTime()?Ar+1:lr.getTime()>=gr.getTime()?Ar:Ar-1}function startOfWeekYear(ar,or){var hr,fr,gr,pr;const lr=getDefaultOptions(),Ar=(or==null?void 0:or.firstWeekContainsDate)??((fr=(hr=or==null?void 0:or.locale)==null?void 0:hr.options)==null?void 0:fr.firstWeekContainsDate)??lr.firstWeekContainsDate??((pr=(gr=lr.locale)==null?void 0:gr.options)==null?void 0:pr.firstWeekContainsDate)??1,cr=getWeekYear(ar,or),ur=constructFrom(ar,0);return ur.setFullYear(cr,0,Ar),ur.setHours(0,0,0,0),startOfWeek(ur,or)}function getWeek(ar,or){const lr=toDate(ar),Ar=+startOfWeek(lr,or)-+startOfWeekYear(lr,or);return Math.round(Ar/millisecondsInWeek)+1}function addLeadingZeros(ar,or){const lr=ar<0?"-":"",Ar=Math.abs(ar).toString().padStart(or,"0");return lr+Ar}const lightFormatters={y(ar,or){const lr=ar.getFullYear(),Ar=lr>0?lr:1-lr;return addLeadingZeros(or==="yy"?Ar%100:Ar,or.length)},M(ar,or){const lr=ar.getMonth();return or==="M"?String(lr+1):addLeadingZeros(lr+1,2)},d(ar,or){return addLeadingZeros(ar.getDate(),or.length)},a(ar,or){const lr=ar.getHours()/12>=1?"pm":"am";switch(or){case"a":case"aa":return lr.toUpperCase();case"aaa":return lr;case"aaaaa":return lr[0];case"aaaa":default:return lr==="am"?"a.m.":"p.m."}},h(ar,or){return addLeadingZeros(ar.getHours()%12||12,or.length)},H(ar,or){return addLeadingZeros(ar.getHours(),or.length)},m(ar,or){return addLeadingZeros(ar.getMinutes(),or.length)},s(ar,or){return addLeadingZeros(ar.getSeconds(),or.length)},S(ar,or){const lr=or.length,Ar=ar.getMilliseconds(),cr=Math.trunc(Ar*Math.pow(10,lr-3));return addLeadingZeros(cr,or.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(ar,or,lr){const Ar=ar.getFullYear()>0?1:0;switch(or){case"G":case"GG":case"GGG":return lr.era(Ar,{width:"abbreviated"});case"GGGGG":return lr.era(Ar,{width:"narrow"});case"GGGG":default:return lr.era(Ar,{width:"wide"})}},y:function(ar,or,lr){if(or==="yo"){const Ar=ar.getFullYear(),cr=Ar>0?Ar:1-Ar;return lr.ordinalNumber(cr,{unit:"year"})}return lightFormatters.y(ar,or)},Y:function(ar,or,lr,Ar){const cr=getWeekYear(ar,Ar),ur=cr>0?cr:1-cr;if(or==="YY"){const dr=ur%100;return addLeadingZeros(dr,2)}return or==="Yo"?lr.ordinalNumber(ur,{unit:"year"}):addLeadingZeros(ur,or.length)},R:function(ar,or){const lr=getISOWeekYear(ar);return addLeadingZeros(lr,or.length)},u:function(ar,or){const lr=ar.getFullYear();return addLeadingZeros(lr,or.length)},Q:function(ar,or,lr){const Ar=Math.ceil((ar.getMonth()+1)/3);switch(or){case"Q":return String(Ar);case"QQ":return addLeadingZeros(Ar,2);case"Qo":return lr.ordinalNumber(Ar,{unit:"quarter"});case"QQQ":return lr.quarter(Ar,{width:"abbreviated",context:"formatting"});case"QQQQQ":return lr.quarter(Ar,{width:"narrow",context:"formatting"});case"QQQQ":default:return lr.quarter(Ar,{width:"wide",context:"formatting"})}},q:function(ar,or,lr){const Ar=Math.ceil((ar.getMonth()+1)/3);switch(or){case"q":return String(Ar);case"qq":return addLeadingZeros(Ar,2);case"qo":return lr.ordinalNumber(Ar,{unit:"quarter"});case"qqq":return lr.quarter(Ar,{width:"abbreviated",context:"standalone"});case"qqqqq":return lr.quarter(Ar,{width:"narrow",context:"standalone"});case"qqqq":default:return lr.quarter(Ar,{width:"wide",context:"standalone"})}},M:function(ar,or,lr){const Ar=ar.getMonth();switch(or){case"M":case"MM":return lightFormatters.M(ar,or);case"Mo":return lr.ordinalNumber(Ar+1,{unit:"month"});case"MMM":return lr.month(Ar,{width:"abbreviated",context:"formatting"});case"MMMMM":return lr.month(Ar,{width:"narrow",context:"formatting"});case"MMMM":default:return lr.month(Ar,{width:"wide",context:"formatting"})}},L:function(ar,or,lr){const Ar=ar.getMonth();switch(or){case"L":return String(Ar+1);case"LL":return addLeadingZeros(Ar+1,2);case"Lo":return lr.ordinalNumber(Ar+1,{unit:"month"});case"LLL":return lr.month(Ar,{width:"abbreviated",context:"standalone"});case"LLLLL":return lr.month(Ar,{width:"narrow",context:"standalone"});case"LLLL":default:return lr.month(Ar,{width:"wide",context:"standalone"})}},w:function(ar,or,lr,Ar){const cr=getWeek(ar,Ar);return or==="wo"?lr.ordinalNumber(cr,{unit:"week"}):addLeadingZeros(cr,or.length)},I:function(ar,or,lr){const Ar=getISOWeek(ar);return or==="Io"?lr.ordinalNumber(Ar,{unit:"week"}):addLeadingZeros(Ar,or.length)},d:function(ar,or,lr){return or==="do"?lr.ordinalNumber(ar.getDate(),{unit:"date"}):lightFormatters.d(ar,or)},D:function(ar,or,lr){const Ar=getDayOfYear(ar);return or==="Do"?lr.ordinalNumber(Ar,{unit:"dayOfYear"}):addLeadingZeros(Ar,or.length)},E:function(ar,or,lr){const Ar=ar.getDay();switch(or){case"E":case"EE":case"EEE":return lr.day(Ar,{width:"abbreviated",context:"formatting"});case"EEEEE":return lr.day(Ar,{width:"narrow",context:"formatting"});case"EEEEEE":return lr.day(Ar,{width:"short",context:"formatting"});case"EEEE":default:return lr.day(Ar,{width:"wide",context:"formatting"})}},e:function(ar,or,lr,Ar){const cr=ar.getDay(),ur=(cr-Ar.weekStartsOn+8)%7||7;switch(or){case"e":return String(ur);case"ee":return addLeadingZeros(ur,2);case"eo":return lr.ordinalNumber(ur,{unit:"day"});case"eee":return lr.day(cr,{width:"abbreviated",context:"formatting"});case"eeeee":return lr.day(cr,{width:"narrow",context:"formatting"});case"eeeeee":return lr.day(cr,{width:"short",context:"formatting"});case"eeee":default:return lr.day(cr,{width:"wide",context:"formatting"})}},c:function(ar,or,lr,Ar){const cr=ar.getDay(),ur=(cr-Ar.weekStartsOn+8)%7||7;switch(or){case"c":return String(ur);case"cc":return addLeadingZeros(ur,or.length);case"co":return lr.ordinalNumber(ur,{unit:"day"});case"ccc":return lr.day(cr,{width:"abbreviated",context:"standalone"});case"ccccc":return lr.day(cr,{width:"narrow",context:"standalone"});case"cccccc":return lr.day(cr,{width:"short",context:"standalone"});case"cccc":default:return lr.day(cr,{width:"wide",context:"standalone"})}},i:function(ar,or,lr){const Ar=ar.getDay(),cr=Ar===0?7:Ar;switch(or){case"i":return String(cr);case"ii":return addLeadingZeros(cr,or.length);case"io":return lr.ordinalNumber(cr,{unit:"day"});case"iii":return lr.day(Ar,{width:"abbreviated",context:"formatting"});case"iiiii":return lr.day(Ar,{width:"narrow",context:"formatting"});case"iiiiii":return lr.day(Ar,{width:"short",context:"formatting"});case"iiii":default:return lr.day(Ar,{width:"wide",context:"formatting"})}},a:function(ar,or,lr){const cr=ar.getHours()/12>=1?"pm":"am";switch(or){case"a":case"aa":return lr.dayPeriod(cr,{width:"abbreviated",context:"formatting"});case"aaa":return lr.dayPeriod(cr,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return lr.dayPeriod(cr,{width:"narrow",context:"formatting"});case"aaaa":default:return lr.dayPeriod(cr,{width:"wide",context:"formatting"})}},b:function(ar,or,lr){const Ar=ar.getHours();let cr;switch(Ar===12?cr=dayPeriodEnum.noon:Ar===0?cr=dayPeriodEnum.midnight:cr=Ar/12>=1?"pm":"am",or){case"b":case"bb":return lr.dayPeriod(cr,{width:"abbreviated",context:"formatting"});case"bbb":return lr.dayPeriod(cr,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return lr.dayPeriod(cr,{width:"narrow",context:"formatting"});case"bbbb":default:return lr.dayPeriod(cr,{width:"wide",context:"formatting"})}},B:function(ar,or,lr){const Ar=ar.getHours();let cr;switch(Ar>=17?cr=dayPeriodEnum.evening:Ar>=12?cr=dayPeriodEnum.afternoon:Ar>=4?cr=dayPeriodEnum.morning:cr=dayPeriodEnum.night,or){case"B":case"BB":case"BBB":return lr.dayPeriod(cr,{width:"abbreviated",context:"formatting"});case"BBBBB":return lr.dayPeriod(cr,{width:"narrow",context:"formatting"});case"BBBB":default:return lr.dayPeriod(cr,{width:"wide",context:"formatting"})}},h:function(ar,or,lr){if(or==="ho"){let Ar=ar.getHours()%12;return Ar===0&&(Ar=12),lr.ordinalNumber(Ar,{unit:"hour"})}return lightFormatters.h(ar,or)},H:function(ar,or,lr){return or==="Ho"?lr.ordinalNumber(ar.getHours(),{unit:"hour"}):lightFormatters.H(ar,or)},K:function(ar,or,lr){const Ar=ar.getHours()%12;return or==="Ko"?lr.ordinalNumber(Ar,{unit:"hour"}):addLeadingZeros(Ar,or.length)},k:function(ar,or,lr){let Ar=ar.getHours();return Ar===0&&(Ar=24),or==="ko"?lr.ordinalNumber(Ar,{unit:"hour"}):addLeadingZeros(Ar,or.length)},m:function(ar,or,lr){return or==="mo"?lr.ordinalNumber(ar.getMinutes(),{unit:"minute"}):lightFormatters.m(ar,or)},s:function(ar,or,lr){return or==="so"?lr.ordinalNumber(ar.getSeconds(),{unit:"second"}):lightFormatters.s(ar,or)},S:function(ar,or){return lightFormatters.S(ar,or)},X:function(ar,or,lr){const Ar=ar.getTimezoneOffset();if(Ar===0)return"Z";switch(or){case"X":return formatTimezoneWithOptionalMinutes(Ar);case"XXXX":case"XX":return formatTimezone(Ar);case"XXXXX":case"XXX":default:return formatTimezone(Ar,":")}},x:function(ar,or,lr){const Ar=ar.getTimezoneOffset();switch(or){case"x":return formatTimezoneWithOptionalMinutes(Ar);case"xxxx":case"xx":return formatTimezone(Ar);case"xxxxx":case"xxx":default:return formatTimezone(Ar,":")}},O:function(ar,or,lr){const Ar=ar.getTimezoneOffset();switch(or){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(Ar,":");case"OOOO":default:return"GMT"+formatTimezone(Ar,":")}},z:function(ar,or,lr){const Ar=ar.getTimezoneOffset();switch(or){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(Ar,":");case"zzzz":default:return"GMT"+formatTimezone(Ar,":")}},t:function(ar,or,lr){const Ar=Math.trunc(ar.getTime()/1e3);return addLeadingZeros(Ar,or.length)},T:function(ar,or,lr){const Ar=ar.getTime();return addLeadingZeros(Ar,or.length)}};function formatTimezoneShort(ar,or=""){const lr=ar>0?"-":"+",Ar=Math.abs(ar),cr=Math.trunc(Ar/60),ur=Ar%60;return ur===0?lr+String(cr):lr+String(cr)+or+addLeadingZeros(ur,2)}function formatTimezoneWithOptionalMinutes(ar,or){return ar%60===0?(ar>0?"-":"+")+addLeadingZeros(Math.abs(ar)/60,2):formatTimezone(ar,or)}function formatTimezone(ar,or=""){const lr=ar>0?"-":"+",Ar=Math.abs(ar),cr=addLeadingZeros(Math.trunc(Ar/60),2),ur=addLeadingZeros(Ar%60,2);return lr+cr+or+ur}const dateLongFormatter=(ar,or)=>{switch(ar){case"P":return or.date({width:"short"});case"PP":return or.date({width:"medium"});case"PPP":return or.date({width:"long"});case"PPPP":default:return or.date({width:"full"})}},timeLongFormatter=(ar,or)=>{switch(ar){case"p":return or.time({width:"short"});case"pp":return or.time({width:"medium"});case"ppp":return or.time({width:"long"});case"pppp":default:return or.time({width:"full"})}},dateTimeLongFormatter=(ar,or)=>{const lr=ar.match(/(P+)(p+)?/)||[],Ar=lr[1],cr=lr[2];if(!cr)return dateLongFormatter(ar,or);let ur;switch(Ar){case"P":ur=or.dateTime({width:"short"});break;case"PP":ur=or.dateTime({width:"medium"});break;case"PPP":ur=or.dateTime({width:"long"});break;case"PPPP":default:ur=or.dateTime({width:"full"});break}return ur.replace("{{date}}",dateLongFormatter(Ar,or)).replace("{{time}}",timeLongFormatter(cr,or))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(ar){return dayOfYearTokenRE.test(ar)}function isProtectedWeekYearToken(ar){return weekYearTokenRE.test(ar)}function warnOrThrowProtectedError(ar,or,lr){const Ar=message(ar,or,lr);if(console.warn(Ar),throwTokens.includes(ar))throw new RangeError(Ar)}function message(ar,or,lr){const Ar=ar[0]==="Y"?"years":"days of the month";return`Use \`${ar.toLowerCase()}\` instead of \`${ar}\` (in \`${or}\`) for formatting ${Ar} to the input \`${lr}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(ar,or,lr){var pr,mr,yr,vr,br,wr,Cr,Br;const Ar=getDefaultOptions(),cr=(lr==null?void 0:lr.locale)??Ar.locale??enUS,ur=(lr==null?void 0:lr.firstWeekContainsDate)??((mr=(pr=lr==null?void 0:lr.locale)==null?void 0:pr.options)==null?void 0:mr.firstWeekContainsDate)??Ar.firstWeekContainsDate??((vr=(yr=Ar.locale)==null?void 0:yr.options)==null?void 0:vr.firstWeekContainsDate)??1,dr=(lr==null?void 0:lr.weekStartsOn)??((wr=(br=lr==null?void 0:lr.locale)==null?void 0:br.options)==null?void 0:wr.weekStartsOn)??Ar.weekStartsOn??((Br=(Cr=Ar.locale)==null?void 0:Cr.options)==null?void 0:Br.weekStartsOn)??0,hr=toDate(ar);if(!isValid(hr))throw new RangeError("Invalid time value");let fr=or.match(longFormattingTokensRegExp).map(Sr=>{const Er=Sr[0];if(Er==="p"||Er==="P"){const Tr=longFormatters[Er];return Tr(Sr,cr.formatLong)}return Sr}).join("").match(formattingTokensRegExp).map(Sr=>{if(Sr==="''")return{isToken:!1,value:"'"};const Er=Sr[0];if(Er==="'")return{isToken:!1,value:cleanEscapedString(Sr)};if(formatters[Er])return{isToken:!0,value:Sr};if(Er.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Er+"`");return{isToken:!1,value:Sr}});cr.localize.preprocessor&&(fr=cr.localize.preprocessor(hr,fr));const gr={firstWeekContainsDate:ur,weekStartsOn:dr,locale:cr};return fr.map(Sr=>{if(!Sr.isToken)return Sr.value;const Er=Sr.value;(!(lr!=null&&lr.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Er)||!(lr!=null&&lr.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Er))&&warnOrThrowProtectedError(Er,or,String(ar));const Tr=formatters[Er[0]];return Tr(hr,Er,cr.localize,gr)}).join("")}function cleanEscapedString(ar){const or=ar.match(escapedStringRegExp);return or?or[1].replace(doubleQuoteRegExp,"'"):ar}const formatDistanceLocale={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},formatDistance=(ar,or,lr)=>{let Ar;const cr=formatDistanceLocale[ar];return typeof cr=="string"?Ar=cr:or===1?Ar=cr.one:Ar=cr.other.replace("{{count}}",or.toString()),lr!=null&&lr.addSuffix?lr.comparison&&lr.comparison>0?"en "+Ar:"hace "+Ar:Ar},dateFormats={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},formatRelativeLocalePlural={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},formatRelative=(ar,or,lr,Ar)=>or.getHours()!==1?formatRelativeLocalePlural[ar]:formatRelativeLocale[ar],eraValues={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},monthValues={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},dayValues={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},ordinalNumber=(ar,or)=>Number(ar)+"",localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:ar=>Number(ar)-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)()?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},parseEraPatterns={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},parseMonthPatterns={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},matchDayPatterns={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},parseDayPatterns={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(ar){return parseInt(ar,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:ar=>ar+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},es={code:"es",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:1}},_hoisted_1$h={class:"mb-6"},_hoisted_2$f={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_3$e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_hoisted_4$d={class:"card"},_hoisted_5$c={class:"flex justify-between items-center mb-4"},_hoisted_6$c={key:0,class:"py-4 text-center text-gray-500 dark:text-gray-400"},_hoisted_7$c={key:1,class:"py-4 text-center text-gray-500 dark:text-gray-400"},_hoisted_8$c={key:2,class:"space-y-3"},_hoisted_9$b={class:"flex justify-between items-start"},_hoisted_10$a={class:"font-medium text-gray-900 dark:text-white"},_hoisted_11$9={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},_hoisted_12$9={class:"flex items-center"},_hoisted_13$9={class:"mt-2 flex items-center"},_hoisted_14$7={class:"text-xs text-gray-600 dark:text-gray-300"},_hoisted_15$7={class:"card"},_hoisted_16$6={class:"flex justify-between items-center mb-4"},_hoisted_17$5={key:0,class:"py-4 text-center text-gray-500 dark:text-gray-400"},_hoisted_18$5={key:1,class:"py-4 text-center text-gray-500 dark:text-gray-400"},_hoisted_19$5={key:2,class:"space-y-3"},_hoisted_20$5={class:"flex justify-between items-start"},_hoisted_21$5={class:"font-medium text-gray-900 dark:text-white"},_hoisted_22$5={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},_hoisted_23$4={class:"mt-2 flex items-center"},_hoisted_24$4={class:"text-xs text-gray-600 dark:text-gray-300"},_hoisted_25$3={class:"card"},_hoisted_26$3={class:"flex justify-between items-center mb-4"},_hoisted_27$2={key:0,class:"py-4 text-center text-gray-500 dark:text-gray-400"},_hoisted_28$2={key:1,class:"py-4 text-center text-gray-500 dark:text-gray-400"},_hoisted_29$2={key:2,class:"space-y-3"},_hoisted_30$2={class:"flex justify-between items-start"},_hoisted_31$1={class:"font-medium text-gray-900 dark:text-white"},_hoisted_32$1={class:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2"},_hoisted_33$1={class:"mt-2 flex items-center"},_hoisted_34={class:"text-xs text-gray-600 dark:text-gray-300"},_hoisted_35={class:"card"},_hoisted_36={class:"grid grid-cols-2 gap-3"},_sfc_main$h={__name:"HomePage",setup(ar){const or=useTasksStore(),lr=useNotesStore(),Ar=useSubjectsStore(),cr=usePlannerStore(),ur=new Date,dr=computed(()=>format(ur,"EEEE",{locale:es})),hr=computed(()=>format(ur,"d 'de' MMMM, yyyy",{locale:es}));onMounted(async()=>{await Ar.fetchSubjects(),await or.fetchUpcomingTasks(),await lr.fetchNotes();const mr=format(ur,"EEEE",{locale:es}).toLowerCase();await cr.fetchEventsByDay(mr),"Notification"in window&&Notification.permission==="default"&&await or.requestNotificationPermission()});const fr=mr=>Ar.subjects.find(yr=>yr.id===mr)||{name:"Sin materia",color:"#94a3b8"},gr=mr=>{const yr={low:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",medium:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",high:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800"};return yr[mr]||yr.medium},pr=mr=>mr?mr.substring(0,5):"";return(mr,yr)=>{const vr=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$h,[createBaseVNode("p",_hoisted_2$f,toDisplayString(dr.value)+", "+toDisplayString(hr.value),1),yr[0]||(yr[0]=createBaseVNode("div",{class:"flex items-center space-x-4"},[createBaseVNode("img",{src:_imports_0,alt:"Logo",class:"w-12 h-12"}),createBaseVNode("h1",{class:"text-3xl font-bold text-primary-600 dark:text-primary-400"},"StudyLoop")],-1))]),createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",_hoisted_4$d,[createBaseVNode("div",_hoisted_5$c,[yr[2]||(yr[2]=createBaseVNode("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Tareas Prximas",-1)),createVNode(vr,{to:"/tasks",class:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},{default:withCtx(()=>yr[1]||(yr[1]=[createTextVNode(" Ver todas ")])),_:1,__:[1]})]),unref(or).loading?(openBlock(),createElementBlock("div",_hoisted_6$c," Cargando tareas... ")):unref(or).tasks.length===0?(openBlock(),createElementBlock("div",_hoisted_7$c," No hay tareas prximas ")):(openBlock(),createElementBlock("div",_hoisted_8$c,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(or).tasks.slice(0,5),br=>(openBlock(),createBlock(vr,{key:br.id,to:`/tasks/${br.id}`,class:"block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_9$b,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_10$a,toDisplayString(br.title),1),createBaseVNode("p",_hoisted_11$9," Vence: "+toDisplayString(unref(format)(new Date(br.dueDate),"d MMM",{locale:unref(es)})),1)]),createBaseVNode("div",_hoisted_12$9,[createBaseVNode("span",{class:normalizeClass(["inline-block px-2 py-1 text-xs rounded-full border",gr(br.priority)])},toDisplayString(br.priority==="low"?"Baja":br.priority==="medium"?"Media":"Alta"),3)])]),createBaseVNode("div",_hoisted_13$9,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full mr-2",style:normalizeStyle({backgroundColor:fr(br.subjectId).color})},null,4),createBaseVNode("span",_hoisted_14$7,toDisplayString(fr(br.subjectId).name),1)])]),_:2},1032,["to"]))),128))]))]),createBaseVNode("div",_hoisted_15$7,[createBaseVNode("div",_hoisted_16$6,[yr[4]||(yr[4]=createBaseVNode("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Horario de Hoy",-1)),createVNode(vr,{to:"/planner",class:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},{default:withCtx(()=>yr[3]||(yr[3]=[createTextVNode(" Ver calendario ")])),_:1,__:[3]})]),unref(cr).loading?(openBlock(),createElementBlock("div",_hoisted_17$5," Cargando horario... ")):unref(cr).events.length===0?(openBlock(),createElementBlock("div",_hoisted_18$5," No hay eventos programados para hoy ")):(openBlock(),createElementBlock("div",_hoisted_19$5,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(cr).events,br=>(openBlock(),createElementBlock("div",{key:br.id,class:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg"},[createBaseVNode("div",_hoisted_20$5,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_21$5,toDisplayString(br.title),1),createBaseVNode("p",_hoisted_22$5,toDisplayString(pr(br.startTime))+" - "+toDisplayString(pr(br.endTime)),1)])]),createBaseVNode("div",_hoisted_23$4,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full mr-2",style:normalizeStyle({backgroundColor:fr(br.subjectId).color})},null,4),createBaseVNode("span",_hoisted_24$4,toDisplayString(fr(br.subjectId).name),1)])]))),128))]))]),createBaseVNode("div",_hoisted_25$3,[createBaseVNode("div",_hoisted_26$3,[yr[6]||(yr[6]=createBaseVNode("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Apuntes Recientes",-1)),createVNode(vr,{to:"/notes",class:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},{default:withCtx(()=>yr[5]||(yr[5]=[createTextVNode(" Ver todos ")])),_:1,__:[5]})]),unref(lr).loading?(openBlock(),createElementBlock("div",_hoisted_27$2," Cargando apuntes... ")):unref(lr).notes.length===0?(openBlock(),createElementBlock("div",_hoisted_28$2," No hay apuntes guardados ")):(openBlock(),createElementBlock("div",_hoisted_29$2,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(lr).notes.slice(0,5),br=>(openBlock(),createBlock(vr,{key:br.id,to:`/notes/${br.id}`,class:"block p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_30$2,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_31$1,toDisplayString(br.title),1),createBaseVNode("p",_hoisted_32$1,toDisplayString(br.content.replace(/<[^>]*>?/gm,"")),1)])]),createBaseVNode("div",_hoisted_33$1,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full mr-2",style:normalizeStyle({backgroundColor:fr(br.subjectId).color})},null,4),createBaseVNode("span",_hoisted_34,toDisplayString(fr(br.subjectId).name),1)])]),_:2},1032,["to"]))),128))]))]),createBaseVNode("div",_hoisted_35,[yr[11]||(yr[11]=createBaseVNode("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Acciones Rpidas",-1)),createBaseVNode("div",_hoisted_36,[createVNode(vr,{to:"/notes/new",class:"flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:withCtx(()=>yr[7]||(yr[7]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-primary-600 dark:text-primary-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),createBaseVNode("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Nuevo Apunte",-1)])),_:1,__:[7]}),createVNode(vr,{to:"/tasks/new",class:"flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:withCtx(()=>yr[8]||(yr[8]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-primary-600 dark:text-primary-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),createBaseVNode("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Nueva Tarea",-1)])),_:1,__:[8]}),createVNode(vr,{to:"/grades",class:"flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:withCtx(()=>yr[9]||(yr[9]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-primary-600 dark:text-primary-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),createBaseVNode("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Registrar Nota",-1)])),_:1,__:[9]}),createVNode(vr,{to:"/pdfs",class:"flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"},{default:withCtx(()=>yr[10]||(yr[10]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-primary-600 dark:text-primary-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),createBaseVNode("span",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Subir PDF",-1)])),_:1,__:[10]})])])])])}}},_hoisted_1$g={class:"relative w-full"},_hoisted_2$e=["placeholder"],_sfc_main$g={__name:"SearchBar",props:{placeholder:{type:String,default:"Buscar..."}},emits:["search"],setup(ar,{emit:or}){const lr=or,Ar=ref(""),cr=ref(null);watch(Ar,dr=>{cr.value&&clearTimeout(cr.value),cr.value=setTimeout(()=>{lr("search",dr)},300)});const ur=()=>{Ar.value="",lr("search","")};return(dr,hr)=>(openBlock(),createElementBlock("div",_hoisted_1$g,[hr[2]||(hr[2]=createBaseVNode("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":hr[0]||(hr[0]=fr=>Ar.value=fr),placeholder:ar.placeholder,class:"input pl-10 pr-10"},null,8,_hoisted_2$e),[[vModelText,Ar.value]]),Ar.value?(openBlock(),createElementBlock("button",{key:0,onClick:ur,class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},hr[1]||(hr[1]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):createCommentVNode("",!0)]))}},_hoisted_1$f={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},_hoisted_2$d={key:0,class:"text-red-500"},_hoisted_3$d={key:0,class:"mb-4"},_hoisted_4$c={class:"grid grid-cols-2 gap-2"},_hoisted_5$b=["onClick"],_hoisted_6$b={key:1,class:"mb-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-slate-900"},_hoisted_7$b={class:"mb-3"},_hoisted_8$b={class:"mb-3"},_hoisted_9$a={class:"flex space-x-2"},_hoisted_10$9=["disabled"],_sfc_main$f={__name:"SubjectSelector",props:{modelValue:{type:Number,default:null},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(ar,{emit:or}){const lr=or,Ar=useSubjectsStore(),cr=ref(!1),ur=ref(""),dr=ref("#3b82f6");onMounted(async()=>{await Ar.fetchSubjects()});const hr=gr=>{lr("update:modelValue",gr)},fr=async()=>{if(ur.value.trim()){const gr={name:ur.value.trim(),color:dr.value},pr=await Ar.addSubject(gr);lr("update:modelValue",pr),ur.value="",dr.value="#3b82f6",cr.value=!1}};return(gr,pr)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("label",_hoisted_1$f,[pr[4]||(pr[4]=createTextVNode(" Materia ")),ar.required?(openBlock(),createElementBlock("span",_hoisted_2$d,"*")):createCommentVNode("",!0)]),cr.value?(openBlock(),createElementBlock("div",_hoisted_6$b,[createBaseVNode("div",_hoisted_7$b,[pr[5]||(pr[5]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nombre de la materia ",-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":pr[1]||(pr[1]=mr=>ur.value=mr),placeholder:"Ej: Fsica",class:"input"},null,512),[[vModelText,ur.value]])]),createBaseVNode("div",_hoisted_8$b,[pr[6]||(pr[6]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Color ",-1)),withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":pr[2]||(pr[2]=mr=>dr.value=mr),class:"w-full h-10 rounded-lg cursor-pointer"},null,512),[[vModelText,dr.value]])]),createBaseVNode("div",_hoisted_9$a,[createBaseVNode("button",{onClick:pr[3]||(pr[3]=mr=>cr.value=!1),class:"flex-1 py-2 px-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:fr,class:"flex-1 py-2 px-4 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",disabled:!ur.value.trim()}," Guardar ",8,_hoisted_10$9)])])):(openBlock(),createElementBlock("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$c,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(Ar).subjects,mr=>(openBlock(),createElementBlock("button",{key:mr.id,onClick:yr=>hr(mr.id),class:normalizeClass(["px-3 py-2 rounded-lg flex items-center justify-between text-sm transition-colors",ar.modelValue===mr.id?"bg-primary-100 dark:bg-primary-900 border-2 border-primary-500 text-primary-700 dark:text-primary-300":"bg-white dark:bg-slate-800 border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},[createTextVNode(toDisplayString(mr.name)+" ",1),createBaseVNode("span",{class:"w-4 h-4 rounded-full",style:normalizeStyle({backgroundColor:mr.color})},null,4)],10,_hoisted_5$b))),128))]),createBaseVNode("button",{onClick:pr[0]||(pr[0]=mr=>cr.value=!0),class:"mt-2 w-full py-2 px-3 text-sm text-gray-600 dark:text-gray-400 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg hover:text-primary-600 dark:hover:text-primary-400 hover:border-primary-500 dark:hover:border-primary-500 transition-colors"}," + Aadir nueva materia ")]))]))}},_hoisted_1$e={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4"},_hoisted_2$c={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},_hoisted_3$c={class:"md:col-span-2"},_hoisted_4$b={key:0,class:"text-center py-8"},_hoisted_5$a={key:1,class:"text-center py-8"},_hoisted_6$a={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_hoisted_7$a={class:"mb-2 flex items-center"},_hoisted_8$a={class:"text-xs text-gray-600 dark:text-gray-300"},_hoisted_9$9={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},_hoisted_10$8={class:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-3 prose-sm prose-p:my-0"},_hoisted_11$8=["innerHTML"],_hoisted_12$8={key:0,class:"mb-3 flex flex-wrap gap-1"},_hoisted_13$8={class:"text-xs text-gray-500 dark:text-gray-400"},_sfc_main$e={__name:"NotesPage",setup(ar){const or=useNotesStore(),lr=useSubjectsStore(),Ar=ref(null),cr=ref("");onMounted(async()=>{await lr.fetchSubjects(),await or.fetchNotes()});const ur=computed(()=>{let pr=or.notes;if(Ar.value&&(pr=pr.filter(mr=>mr.subjectId===Ar.value)),cr.value){const mr=cr.value.toLowerCase();pr=pr.filter(yr=>yr.title.toLowerCase().includes(mr)||yr.content.toLowerCase().includes(mr)||yr.tags&&yr.tags.some(vr=>vr.toLowerCase().includes(mr)))}return[...pr].sort((mr,yr)=>new Date(yr.updatedAt)-new Date(mr.updatedAt))}),dr=pr=>format(new Date(pr),"d MMM, yyyy",{locale:es}),hr=pr=>lr.subjects.find(mr=>mr.id===pr)||{name:"Sin materia",color:"#94a3b8"},fr=pr=>{cr.value=pr},gr=()=>{Ar.value=null,cr.value=""};return(pr,mr)=>{const yr=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$e,[mr[2]||(mr[2]=createBaseVNode("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Apuntes de Clase",-1)),createVNode(yr,{to:"/notes/new",class:"btn btn-primary flex items-center justify-center"},{default:withCtx(()=>mr[1]||(mr[1]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Nuevo Apunte ")])),_:1,__:[1]})]),createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$c,[createVNode(_sfc_main$g,{placeholder:"Buscar por ttulo o contenido...",onSearch:fr})]),createBaseVNode("div",null,[createVNode(_sfc_main$f,{modelValue:Ar.value,"onUpdate:modelValue":mr[0]||(mr[0]=vr=>Ar.value=vr)},null,8,["modelValue"])])]),unref(or).loading?(openBlock(),createElementBlock("div",_hoisted_4$b,mr[3]||(mr[3]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando apuntes...",-1)]))):ur.value.length===0?(openBlock(),createElementBlock("div",_hoisted_5$a,[mr[4]||(mr[4]=createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"No se encontraron apuntes",-1)),Ar.value||cr.value?(openBlock(),createElementBlock("button",{key:0,onClick:gr,class:"mt-2 text-primary-600 dark:text-primary-400 hover:underline"}," Borrar filtros ")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_6$a,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(ur.value,vr=>(openBlock(),createBlock(yr,{key:vr.id,to:`/notes/${vr.id}`,class:"card hover:shadow-lg transition-shadow cursor-pointer"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7$a,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full mr-2",style:normalizeStyle({backgroundColor:hr(vr.subjectId).color})},null,4),createBaseVNode("span",_hoisted_8$a,toDisplayString(hr(vr.subjectId).name),1)]),createBaseVNode("h3",_hoisted_9$9,toDisplayString(vr.title),1),createBaseVNode("div",_hoisted_10$8,[createBaseVNode("div",{innerHTML:vr.content.substring(0,150)+(vr.content.length>150?"...":"")},null,8,_hoisted_11$8)]),vr.tags&&vr.tags.length>0?(openBlock(),createElementBlock("div",_hoisted_12$8,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(vr.tags,(br,wr)=>(openBlock(),createElementBlock("span",{key:wr,class:"inline-block px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"},toDisplayString(br),1))),128))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13$8," ltima actualizacin: "+toDisplayString(dr(vr.updatedAt)),1)]),_:2},1032,["to"]))),128))]))])}}};function OrderedMap(ar){this.content=ar}OrderedMap.prototype={constructor:OrderedMap,find:function(ar){for(var or=0;or<this.content.length;or+=2)if(this.content[or]===ar)return or;return-1},get:function(ar){var or=this.find(ar);return or==-1?void 0:this.content[or+1]},update:function(ar,or,lr){var Ar=lr&&lr!=ar?this.remove(lr):this,cr=Ar.find(ar),ur=Ar.content.slice();return cr==-1?ur.push(lr||ar,or):(ur[cr+1]=or,lr&&(ur[cr]=lr)),new OrderedMap(ur)},remove:function(ar){var or=this.find(ar);if(or==-1)return this;var lr=this.content.slice();return lr.splice(or,2),new OrderedMap(lr)},addToStart:function(ar,or){return new OrderedMap([ar,or].concat(this.remove(ar).content))},addToEnd:function(ar,or){var lr=this.remove(ar).content.slice();return lr.push(ar,or),new OrderedMap(lr)},addBefore:function(ar,or,lr){var Ar=this.remove(or),cr=Ar.content.slice(),ur=Ar.find(ar);return cr.splice(ur==-1?cr.length:ur,0,or,lr),new OrderedMap(cr)},forEach:function(ar){for(var or=0;or<this.content.length;or+=2)ar(this.content[or],this.content[or+1])},prepend:function(ar){return ar=OrderedMap.from(ar),ar.size?new OrderedMap(ar.content.concat(this.subtract(ar).content)):this},append:function(ar){return ar=OrderedMap.from(ar),ar.size?new OrderedMap(this.subtract(ar).content.concat(ar.content)):this},subtract:function(ar){var or=this;ar=OrderedMap.from(ar);for(var lr=0;lr<ar.content.length;lr+=2)or=or.remove(ar.content[lr]);return or},toObject:function(){var ar={};return this.forEach(function(or,lr){ar[or]=lr}),ar},get size(){return this.content.length>>1}};OrderedMap.from=function(ar){if(ar instanceof OrderedMap)return ar;var or=[];if(ar)for(var lr in ar)or.push(lr,ar[lr]);return new OrderedMap(or)};function findDiffStart(ar,or,lr){for(let Ar=0;;Ar++){if(Ar==ar.childCount||Ar==or.childCount)return ar.childCount==or.childCount?null:lr;let cr=ar.child(Ar),ur=or.child(Ar);if(cr==ur){lr+=cr.nodeSize;continue}if(!cr.sameMarkup(ur))return lr;if(cr.isText&&cr.text!=ur.text){for(let dr=0;cr.text[dr]==ur.text[dr];dr++)lr++;return lr}if(cr.content.size||ur.content.size){let dr=findDiffStart(cr.content,ur.content,lr+1);if(dr!=null)return dr}lr+=cr.nodeSize}}function findDiffEnd(ar,or,lr,Ar){for(let cr=ar.childCount,ur=or.childCount;;){if(cr==0||ur==0)return cr==ur?null:{a:lr,b:Ar};let dr=ar.child(--cr),hr=or.child(--ur),fr=dr.nodeSize;if(dr==hr){lr-=fr,Ar-=fr;continue}if(!dr.sameMarkup(hr))return{a:lr,b:Ar};if(dr.isText&&dr.text!=hr.text){let gr=0,pr=Math.min(dr.text.length,hr.text.length);for(;gr<pr&&dr.text[dr.text.length-gr-1]==hr.text[hr.text.length-gr-1];)gr++,lr--,Ar--;return{a:lr,b:Ar}}if(dr.content.size||hr.content.size){let gr=findDiffEnd(dr.content,hr.content,lr-1,Ar-1);if(gr)return gr}lr-=fr,Ar-=fr}}class Fragment{constructor(or,lr){if(this.content=or,this.size=lr||0,lr==null)for(let Ar=0;Ar<or.length;Ar++)this.size+=or[Ar].nodeSize}nodesBetween(or,lr,Ar,cr=0,ur){for(let dr=0,hr=0;hr<lr;dr++){let fr=this.content[dr],gr=hr+fr.nodeSize;if(gr>or&&Ar(fr,cr+hr,ur||null,dr)!==!1&&fr.content.size){let pr=hr+1;fr.nodesBetween(Math.max(0,or-pr),Math.min(fr.content.size,lr-pr),Ar,cr+pr)}hr=gr}}descendants(or){this.nodesBetween(0,this.size,or)}textBetween(or,lr,Ar,cr){let ur="",dr=!0;return this.nodesBetween(or,lr,(hr,fr)=>{let gr=hr.isText?hr.text.slice(Math.max(or,fr)-fr,lr-fr):hr.isLeaf?cr?typeof cr=="function"?cr(hr):cr:hr.type.spec.leafText?hr.type.spec.leafText(hr):"":"";hr.isBlock&&(hr.isLeaf&&gr||hr.isTextblock)&&Ar&&(dr?dr=!1:ur+=Ar),ur+=gr},0),ur}append(or){if(!or.size)return this;if(!this.size)return or;let lr=this.lastChild,Ar=or.firstChild,cr=this.content.slice(),ur=0;for(lr.isText&&lr.sameMarkup(Ar)&&(cr[cr.length-1]=lr.withText(lr.text+Ar.text),ur=1);ur<or.content.length;ur++)cr.push(or.content[ur]);return new Fragment(cr,this.size+or.size)}cut(or,lr=this.size){if(or==0&&lr==this.size)return this;let Ar=[],cr=0;if(lr>or)for(let ur=0,dr=0;dr<lr;ur++){let hr=this.content[ur],fr=dr+hr.nodeSize;fr>or&&((dr<or||fr>lr)&&(hr.isText?hr=hr.cut(Math.max(0,or-dr),Math.min(hr.text.length,lr-dr)):hr=hr.cut(Math.max(0,or-dr-1),Math.min(hr.content.size,lr-dr-1))),Ar.push(hr),cr+=hr.nodeSize),dr=fr}return new Fragment(Ar,cr)}cutByIndex(or,lr){return or==lr?Fragment.empty:or==0&&lr==this.content.length?this:new Fragment(this.content.slice(or,lr))}replaceChild(or,lr){let Ar=this.content[or];if(Ar==lr)return this;let cr=this.content.slice(),ur=this.size+lr.nodeSize-Ar.nodeSize;return cr[or]=lr,new Fragment(cr,ur)}addToStart(or){return new Fragment([or].concat(this.content),this.size+or.nodeSize)}addToEnd(or){return new Fragment(this.content.concat(or),this.size+or.nodeSize)}eq(or){if(this.content.length!=or.content.length)return!1;for(let lr=0;lr<this.content.length;lr++)if(!this.content[lr].eq(or.content[lr]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(or){let lr=this.content[or];if(!lr)throw new RangeError("Index "+or+" out of range for "+this);return lr}maybeChild(or){return this.content[or]||null}forEach(or){for(let lr=0,Ar=0;lr<this.content.length;lr++){let cr=this.content[lr];or(cr,Ar,lr),Ar+=cr.nodeSize}}findDiffStart(or,lr=0){return findDiffStart(this,or,lr)}findDiffEnd(or,lr=this.size,Ar=or.size){return findDiffEnd(this,or,lr,Ar)}findIndex(or,lr=-1){if(or==0)return retIndex(0,or);if(or==this.size)return retIndex(this.content.length,or);if(or>this.size||or<0)throw new RangeError(`Position ${or} outside of fragment (${this})`);for(let Ar=0,cr=0;;Ar++){let ur=this.child(Ar),dr=cr+ur.nodeSize;if(dr>=or)return dr==or||lr>0?retIndex(Ar+1,dr):retIndex(Ar,cr);cr=dr}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(or=>or.toJSON()):null}static fromJSON(or,lr){if(!lr)return Fragment.empty;if(!Array.isArray(lr))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(lr.map(or.nodeFromJSON))}static fromArray(or){if(!or.length)return Fragment.empty;let lr,Ar=0;for(let cr=0;cr<or.length;cr++){let ur=or[cr];Ar+=ur.nodeSize,cr&&ur.isText&&or[cr-1].sameMarkup(ur)?(lr||(lr=or.slice(0,cr)),lr[lr.length-1]=ur.withText(lr[lr.length-1].text+ur.text)):lr&&lr.push(ur)}return new Fragment(lr||or,Ar)}static from(or){if(!or)return Fragment.empty;if(or instanceof Fragment)return or;if(Array.isArray(or))return this.fromArray(or);if(or.attrs)return new Fragment([or],or.nodeSize);throw new RangeError("Can not convert "+or+" to a Fragment"+(or.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(ar,or){return found.index=ar,found.offset=or,found}function compareDeep(ar,or){if(ar===or)return!0;if(!(ar&&typeof ar=="object")||!(or&&typeof or=="object"))return!1;let lr=Array.isArray(ar);if(Array.isArray(or)!=lr)return!1;if(lr){if(ar.length!=or.length)return!1;for(let Ar=0;Ar<ar.length;Ar++)if(!compareDeep(ar[Ar],or[Ar]))return!1}else{for(let Ar in ar)if(!(Ar in or)||!compareDeep(ar[Ar],or[Ar]))return!1;for(let Ar in or)if(!(Ar in ar))return!1}return!0}let Mark$1=class Qf{constructor(or,lr){this.type=or,this.attrs=lr}addToSet(or){let lr,Ar=!1;for(let cr=0;cr<or.length;cr++){let ur=or[cr];if(this.eq(ur))return or;if(this.type.excludes(ur.type))lr||(lr=or.slice(0,cr));else{if(ur.type.excludes(this.type))return or;!Ar&&ur.type.rank>this.type.rank&&(lr||(lr=or.slice(0,cr)),lr.push(this),Ar=!0),lr&&lr.push(ur)}}return lr||(lr=or.slice()),Ar||lr.push(this),lr}removeFromSet(or){for(let lr=0;lr<or.length;lr++)if(this.eq(or[lr]))return or.slice(0,lr).concat(or.slice(lr+1));return or}isInSet(or){for(let lr=0;lr<or.length;lr++)if(this.eq(or[lr]))return!0;return!1}eq(or){return this==or||this.type==or.type&&compareDeep(this.attrs,or.attrs)}toJSON(){let or={type:this.type.name};for(let lr in this.attrs){or.attrs=this.attrs;break}return or}static fromJSON(or,lr){if(!lr)throw new RangeError("Invalid input for Mark.fromJSON");let Ar=or.marks[lr.type];if(!Ar)throw new RangeError(`There is no mark type ${lr.type} in this schema`);let cr=Ar.create(lr.attrs);return Ar.checkAttrs(cr.attrs),cr}static sameSet(or,lr){if(or==lr)return!0;if(or.length!=lr.length)return!1;for(let Ar=0;Ar<or.length;Ar++)if(!or[Ar].eq(lr[Ar]))return!1;return!0}static setFrom(or){if(!or||Array.isArray(or)&&or.length==0)return Qf.none;if(or instanceof Qf)return[or];let lr=or.slice();return lr.sort((Ar,cr)=>Ar.type.rank-cr.type.rank),lr}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(or,lr,Ar){this.content=or,this.openStart=lr,this.openEnd=Ar}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(or,lr){let Ar=insertInto(this.content,or+this.openStart,lr);return Ar&&new Slice(Ar,this.openStart,this.openEnd)}removeBetween(or,lr){return new Slice(removeRange(this.content,or+this.openStart,lr+this.openStart),this.openStart,this.openEnd)}eq(or){return this.content.eq(or.content)&&this.openStart==or.openStart&&this.openEnd==or.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let or={content:this.content.toJSON()};return this.openStart>0&&(or.openStart=this.openStart),this.openEnd>0&&(or.openEnd=this.openEnd),or}static fromJSON(or,lr){if(!lr)return Slice.empty;let Ar=lr.openStart||0,cr=lr.openEnd||0;if(typeof Ar!="number"||typeof cr!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(or,lr.content),Ar,cr)}static maxOpen(or,lr=!0){let Ar=0,cr=0;for(let ur=or.firstChild;ur&&!ur.isLeaf&&(lr||!ur.type.spec.isolating);ur=ur.firstChild)Ar++;for(let ur=or.lastChild;ur&&!ur.isLeaf&&(lr||!ur.type.spec.isolating);ur=ur.lastChild)cr++;return new Slice(or,Ar,cr)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(ar,or,lr){let{index:Ar,offset:cr}=ar.findIndex(or),ur=ar.maybeChild(Ar),{index:dr,offset:hr}=ar.findIndex(lr);if(cr==or||ur.isText){if(hr!=lr&&!ar.child(dr).isText)throw new RangeError("Removing non-flat range");return ar.cut(0,or).append(ar.cut(lr))}if(Ar!=dr)throw new RangeError("Removing non-flat range");return ar.replaceChild(Ar,ur.copy(removeRange(ur.content,or-cr-1,lr-cr-1)))}function insertInto(ar,or,lr,Ar){let{index:cr,offset:ur}=ar.findIndex(or),dr=ar.maybeChild(cr);if(ur==or||dr.isText)return ar.cut(0,or).append(lr).append(ar.cut(or));let hr=insertInto(dr.content,or-ur-1,lr);return hr&&ar.replaceChild(cr,dr.copy(hr))}function replace(ar,or,lr){if(lr.openStart>ar.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(ar.depth-lr.openStart!=or.depth-lr.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(ar,or,lr,0)}function replaceOuter(ar,or,lr,Ar){let cr=ar.index(Ar),ur=ar.node(Ar);if(cr==or.index(Ar)&&Ar<ar.depth-lr.openStart){let dr=replaceOuter(ar,or,lr,Ar+1);return ur.copy(ur.content.replaceChild(cr,dr))}else if(lr.content.size)if(!lr.openStart&&!lr.openEnd&&ar.depth==Ar&&or.depth==Ar){let dr=ar.parent,hr=dr.content;return close(dr,hr.cut(0,ar.parentOffset).append(lr.content).append(hr.cut(or.parentOffset)))}else{let{start:dr,end:hr}=prepareSliceForReplace(lr,ar);return close(ur,replaceThreeWay(ar,dr,hr,or,Ar))}else return close(ur,replaceTwoWay(ar,or,Ar))}function checkJoin(ar,or){if(!or.type.compatibleContent(ar.type))throw new ReplaceError("Cannot join "+or.type.name+" onto "+ar.type.name)}function joinable$1(ar,or,lr){let Ar=ar.node(lr);return checkJoin(Ar,or.node(lr)),Ar}function addNode(ar,or){let lr=or.length-1;lr>=0&&ar.isText&&ar.sameMarkup(or[lr])?or[lr]=ar.withText(or[lr].text+ar.text):or.push(ar)}function addRange(ar,or,lr,Ar){let cr=(or||ar).node(lr),ur=0,dr=or?or.index(lr):cr.childCount;ar&&(ur=ar.index(lr),ar.depth>lr?ur++:ar.textOffset&&(addNode(ar.nodeAfter,Ar),ur++));for(let hr=ur;hr<dr;hr++)addNode(cr.child(hr),Ar);or&&or.depth==lr&&or.textOffset&&addNode(or.nodeBefore,Ar)}function close(ar,or){return ar.type.checkContent(or),ar.copy(or)}function replaceThreeWay(ar,or,lr,Ar,cr){let ur=ar.depth>cr&&joinable$1(ar,or,cr+1),dr=Ar.depth>cr&&joinable$1(lr,Ar,cr+1),hr=[];return addRange(null,ar,cr,hr),ur&&dr&&or.index(cr)==lr.index(cr)?(checkJoin(ur,dr),addNode(close(ur,replaceThreeWay(ar,or,lr,Ar,cr+1)),hr)):(ur&&addNode(close(ur,replaceTwoWay(ar,or,cr+1)),hr),addRange(or,lr,cr,hr),dr&&addNode(close(dr,replaceTwoWay(lr,Ar,cr+1)),hr)),addRange(Ar,null,cr,hr),new Fragment(hr)}function replaceTwoWay(ar,or,lr){let Ar=[];if(addRange(null,ar,lr,Ar),ar.depth>lr){let cr=joinable$1(ar,or,lr+1);addNode(close(cr,replaceTwoWay(ar,or,lr+1)),Ar)}return addRange(or,null,lr,Ar),new Fragment(Ar)}function prepareSliceForReplace(ar,or){let lr=or.depth-ar.openStart,cr=or.node(lr).copy(ar.content);for(let ur=lr-1;ur>=0;ur--)cr=or.node(ur).copy(Fragment.from(cr));return{start:cr.resolveNoCache(ar.openStart+lr),end:cr.resolveNoCache(cr.content.size-ar.openEnd-lr)}}class ResolvedPos{constructor(or,lr,Ar){this.pos=or,this.path=lr,this.parentOffset=Ar,this.depth=lr.length/3-1}resolveDepth(or){return or==null?this.depth:or<0?this.depth+or:or}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(or){return this.path[this.resolveDepth(or)*3]}index(or){return this.path[this.resolveDepth(or)*3+1]}indexAfter(or){return or=this.resolveDepth(or),this.index(or)+(or==this.depth&&!this.textOffset?0:1)}start(or){return or=this.resolveDepth(or),or==0?0:this.path[or*3-1]+1}end(or){return or=this.resolveDepth(or),this.start(or)+this.node(or).content.size}before(or){if(or=this.resolveDepth(or),!or)throw new RangeError("There is no position before the top-level node");return or==this.depth+1?this.pos:this.path[or*3-1]}after(or){if(or=this.resolveDepth(or),!or)throw new RangeError("There is no position after the top-level node");return or==this.depth+1?this.pos:this.path[or*3-1]+this.path[or*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let or=this.parent,lr=this.index(this.depth);if(lr==or.childCount)return null;let Ar=this.pos-this.path[this.path.length-1],cr=or.child(lr);return Ar?or.child(lr).cut(Ar):cr}get nodeBefore(){let or=this.index(this.depth),lr=this.pos-this.path[this.path.length-1];return lr?this.parent.child(or).cut(0,lr):or==0?null:this.parent.child(or-1)}posAtIndex(or,lr){lr=this.resolveDepth(lr);let Ar=this.path[lr*3],cr=lr==0?0:this.path[lr*3-1]+1;for(let ur=0;ur<or;ur++)cr+=Ar.child(ur).nodeSize;return cr}marks(){let or=this.parent,lr=this.index();if(or.content.size==0)return Mark$1.none;if(this.textOffset)return or.child(lr).marks;let Ar=or.maybeChild(lr-1),cr=or.maybeChild(lr);if(!Ar){let hr=Ar;Ar=cr,cr=hr}let ur=Ar.marks;for(var dr=0;dr<ur.length;dr++)ur[dr].type.spec.inclusive===!1&&(!cr||!ur[dr].isInSet(cr.marks))&&(ur=ur[dr--].removeFromSet(ur));return ur}marksAcross(or){let lr=this.parent.maybeChild(this.index());if(!lr||!lr.isInline)return null;let Ar=lr.marks,cr=or.parent.maybeChild(or.index());for(var ur=0;ur<Ar.length;ur++)Ar[ur].type.spec.inclusive===!1&&(!cr||!Ar[ur].isInSet(cr.marks))&&(Ar=Ar[ur--].removeFromSet(Ar));return Ar}sharedDepth(or){for(let lr=this.depth;lr>0;lr--)if(this.start(lr)<=or&&this.end(lr)>=or)return lr;return 0}blockRange(or=this,lr){if(or.pos<this.pos)return or.blockRange(this);for(let Ar=this.depth-(this.parent.inlineContent||this.pos==or.pos?1:0);Ar>=0;Ar--)if(or.pos<=this.end(Ar)&&(!lr||lr(this.node(Ar))))return new NodeRange(this,or,Ar);return null}sameParent(or){return this.pos-this.parentOffset==or.pos-or.parentOffset}max(or){return or.pos>this.pos?or:this}min(or){return or.pos<this.pos?or:this}toString(){let or="";for(let lr=1;lr<=this.depth;lr++)or+=(or?"/":"")+this.node(lr).type.name+"_"+this.index(lr-1);return or+":"+this.parentOffset}static resolve(or,lr){if(!(lr>=0&&lr<=or.content.size))throw new RangeError("Position "+lr+" out of range");let Ar=[],cr=0,ur=lr;for(let dr=or;;){let{index:hr,offset:fr}=dr.content.findIndex(ur),gr=ur-fr;if(Ar.push(dr,hr,cr+fr),!gr||(dr=dr.child(hr),dr.isText))break;ur=gr-1,cr+=fr+1}return new ResolvedPos(lr,Ar,ur)}static resolveCached(or,lr){let Ar=resolveCache.get(or);if(Ar)for(let ur=0;ur<Ar.elts.length;ur++){let dr=Ar.elts[ur];if(dr.pos==lr)return dr}else resolveCache.set(or,Ar=new ResolveCache);let cr=Ar.elts[Ar.i]=ResolvedPos.resolve(or,lr);return Ar.i=(Ar.i+1)%resolveCacheSize,cr}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(or,lr,Ar){this.$from=or,this.$to=lr,this.depth=Ar}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$2=class jf{constructor(or,lr,Ar,cr=Mark$1.none){this.type=or,this.attrs=lr,this.marks=cr,this.content=Ar||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(or){return this.content.child(or)}maybeChild(or){return this.content.maybeChild(or)}forEach(or){this.content.forEach(or)}nodesBetween(or,lr,Ar,cr=0){this.content.nodesBetween(or,lr,Ar,cr,this)}descendants(or){this.nodesBetween(0,this.content.size,or)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(or,lr,Ar,cr){return this.content.textBetween(or,lr,Ar,cr)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(or){return this==or||this.sameMarkup(or)&&this.content.eq(or.content)}sameMarkup(or){return this.hasMarkup(or.type,or.attrs,or.marks)}hasMarkup(or,lr,Ar){return this.type==or&&compareDeep(this.attrs,lr||or.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,Ar||Mark$1.none)}copy(or=null){return or==this.content?this:new jf(this.type,this.attrs,or,this.marks)}mark(or){return or==this.marks?this:new jf(this.type,this.attrs,this.content,or)}cut(or,lr=this.content.size){return or==0&&lr==this.content.size?this:this.copy(this.content.cut(or,lr))}slice(or,lr=this.content.size,Ar=!1){if(or==lr)return Slice.empty;let cr=this.resolve(or),ur=this.resolve(lr),dr=Ar?0:cr.sharedDepth(lr),hr=cr.start(dr),gr=cr.node(dr).content.cut(cr.pos-hr,ur.pos-hr);return new Slice(gr,cr.depth-dr,ur.depth-dr)}replace(or,lr,Ar){return replace(this.resolve(or),this.resolve(lr),Ar)}nodeAt(or){for(let lr=this;;){let{index:Ar,offset:cr}=lr.content.findIndex(or);if(lr=lr.maybeChild(Ar),!lr)return null;if(cr==or||lr.isText)return lr;or-=cr+1}}childAfter(or){let{index:lr,offset:Ar}=this.content.findIndex(or);return{node:this.content.maybeChild(lr),index:lr,offset:Ar}}childBefore(or){if(or==0)return{node:null,index:0,offset:0};let{index:lr,offset:Ar}=this.content.findIndex(or);if(Ar<or)return{node:this.content.child(lr),index:lr,offset:Ar};let cr=this.content.child(lr-1);return{node:cr,index:lr-1,offset:Ar-cr.nodeSize}}resolve(or){return ResolvedPos.resolveCached(this,or)}resolveNoCache(or){return ResolvedPos.resolve(this,or)}rangeHasMark(or,lr,Ar){let cr=!1;return lr>or&&this.nodesBetween(or,lr,ur=>(Ar.isInSet(ur.marks)&&(cr=!0),!cr)),cr}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let or=this.type.name;return this.content.size&&(or+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,or)}contentMatchAt(or){let lr=this.type.contentMatch.matchFragment(this.content,0,or);if(!lr)throw new Error("Called contentMatchAt on a node with invalid content");return lr}canReplace(or,lr,Ar=Fragment.empty,cr=0,ur=Ar.childCount){let dr=this.contentMatchAt(or).matchFragment(Ar,cr,ur),hr=dr&&dr.matchFragment(this.content,lr);if(!hr||!hr.validEnd)return!1;for(let fr=cr;fr<ur;fr++)if(!this.type.allowsMarks(Ar.child(fr).marks))return!1;return!0}canReplaceWith(or,lr,Ar,cr){if(cr&&!this.type.allowsMarks(cr))return!1;let ur=this.contentMatchAt(or).matchType(Ar),dr=ur&&ur.matchFragment(this.content,lr);return dr?dr.validEnd:!1}canAppend(or){return or.content.size?this.canReplace(this.childCount,this.childCount,or.content):this.type.compatibleContent(or.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let or=Mark$1.none;for(let lr=0;lr<this.marks.length;lr++){let Ar=this.marks[lr];Ar.type.checkAttrs(Ar.attrs),or=Ar.addToSet(or)}if(!Mark$1.sameSet(or,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(lr=>lr.type.name)}`);this.content.forEach(lr=>lr.check())}toJSON(){let or={type:this.type.name};for(let lr in this.attrs){or.attrs=this.attrs;break}return this.content.size&&(or.content=this.content.toJSON()),this.marks.length&&(or.marks=this.marks.map(lr=>lr.toJSON())),or}static fromJSON(or,lr){if(!lr)throw new RangeError("Invalid input for Node.fromJSON");let Ar;if(lr.marks){if(!Array.isArray(lr.marks))throw new RangeError("Invalid mark data for Node.fromJSON");Ar=lr.marks.map(or.markFromJSON)}if(lr.type=="text"){if(typeof lr.text!="string")throw new RangeError("Invalid text node in JSON");return or.text(lr.text,Ar)}let cr=Fragment.fromJSON(or,lr.content),ur=or.nodeType(lr.type).create(lr.attrs,cr,Ar);return ur.type.checkAttrs(ur.attrs),ur}};Node$2.prototype.text=void 0;class TextNode extends Node$2{constructor(or,lr,Ar,cr){if(super(or,lr,null,cr),!Ar)throw new RangeError("Empty text nodes are not allowed");this.text=Ar}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(or,lr){return this.text.slice(or,lr)}get nodeSize(){return this.text.length}mark(or){return or==this.marks?this:new TextNode(this.type,this.attrs,this.text,or)}withText(or){return or==this.text?this:new TextNode(this.type,this.attrs,or,this.marks)}cut(or=0,lr=this.text.length){return or==0&&lr==this.text.length?this:this.withText(this.text.slice(or,lr))}eq(or){return this.sameMarkup(or)&&this.text==or.text}toJSON(){let or=super.toJSON();return or.text=this.text,or}}function wrapMarks(ar,or){for(let lr=ar.length-1;lr>=0;lr--)or=ar[lr].type.name+"("+or+")";return or}class ContentMatch{constructor(or){this.validEnd=or,this.next=[],this.wrapCache=[]}static parse(or,lr){let Ar=new TokenStream(or,lr);if(Ar.next==null)return ContentMatch.empty;let cr=parseExpr(Ar);Ar.next&&Ar.err("Unexpected trailing text");let ur=dfa(nfa(cr));return checkForDeadEnds(ur,Ar),ur}matchType(or){for(let lr=0;lr<this.next.length;lr++)if(this.next[lr].type==or)return this.next[lr].next;return null}matchFragment(or,lr=0,Ar=or.childCount){let cr=this;for(let ur=lr;cr&&ur<Ar;ur++)cr=cr.matchType(or.child(ur).type);return cr}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let or=0;or<this.next.length;or++){let{type:lr}=this.next[or];if(!(lr.isText||lr.hasRequiredAttrs()))return lr}return null}compatible(or){for(let lr=0;lr<this.next.length;lr++)for(let Ar=0;Ar<or.next.length;Ar++)if(this.next[lr].type==or.next[Ar].type)return!0;return!1}fillBefore(or,lr=!1,Ar=0){let cr=[this];function ur(dr,hr){let fr=dr.matchFragment(or,Ar);if(fr&&(!lr||fr.validEnd))return Fragment.from(hr.map(gr=>gr.createAndFill()));for(let gr=0;gr<dr.next.length;gr++){let{type:pr,next:mr}=dr.next[gr];if(!(pr.isText||pr.hasRequiredAttrs())&&cr.indexOf(mr)==-1){cr.push(mr);let yr=ur(mr,hr.concat(pr));if(yr)return yr}}return null}return ur(this,[])}findWrapping(or){for(let Ar=0;Ar<this.wrapCache.length;Ar+=2)if(this.wrapCache[Ar]==or)return this.wrapCache[Ar+1];let lr=this.computeWrapping(or);return this.wrapCache.push(or,lr),lr}computeWrapping(or){let lr=Object.create(null),Ar=[{match:this,type:null,via:null}];for(;Ar.length;){let cr=Ar.shift(),ur=cr.match;if(ur.matchType(or)){let dr=[];for(let hr=cr;hr.type;hr=hr.via)dr.push(hr.type);return dr.reverse()}for(let dr=0;dr<ur.next.length;dr++){let{type:hr,next:fr}=ur.next[dr];!hr.isLeaf&&!hr.hasRequiredAttrs()&&!(hr.name in lr)&&(!cr.type||fr.validEnd)&&(Ar.push({match:hr.contentMatch,type:hr,via:cr}),lr[hr.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(or){if(or>=this.next.length)throw new RangeError(`There's no ${or}th edge in this content match`);return this.next[or]}toString(){let or=[];function lr(Ar){or.push(Ar);for(let cr=0;cr<Ar.next.length;cr++)or.indexOf(Ar.next[cr].next)==-1&&lr(Ar.next[cr].next)}return lr(this),or.map((Ar,cr)=>{let ur=cr+(Ar.validEnd?"*":" ")+" ";for(let dr=0;dr<Ar.next.length;dr++)ur+=(dr?", ":"")+Ar.next[dr].type.name+"->"+or.indexOf(Ar.next[dr].next);return ur}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(or,lr){this.string=or,this.nodeTypes=lr,this.inline=null,this.pos=0,this.tokens=or.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(or){return this.next==or&&(this.pos++||!0)}err(or){throw new SyntaxError(or+" (in content expression '"+this.string+"')")}}function parseExpr(ar){let or=[];do or.push(parseExprSeq(ar));while(ar.eat("|"));return or.length==1?or[0]:{type:"choice",exprs:or}}function parseExprSeq(ar){let or=[];do or.push(parseExprSubscript(ar));while(ar.next&&ar.next!=")"&&ar.next!="|");return or.length==1?or[0]:{type:"seq",exprs:or}}function parseExprSubscript(ar){let or=parseExprAtom(ar);for(;;)if(ar.eat("+"))or={type:"plus",expr:or};else if(ar.eat("*"))or={type:"star",expr:or};else if(ar.eat("?"))or={type:"opt",expr:or};else if(ar.eat("{"))or=parseExprRange(ar,or);else break;return or}function parseNum(ar){/\D/.test(ar.next)&&ar.err("Expected number, got '"+ar.next+"'");let or=Number(ar.next);return ar.pos++,or}function parseExprRange(ar,or){let lr=parseNum(ar),Ar=lr;return ar.eat(",")&&(ar.next!="}"?Ar=parseNum(ar):Ar=-1),ar.eat("}")||ar.err("Unclosed braced range"),{type:"range",min:lr,max:Ar,expr:or}}function resolveName(ar,or){let lr=ar.nodeTypes,Ar=lr[or];if(Ar)return[Ar];let cr=[];for(let ur in lr){let dr=lr[ur];dr.isInGroup(or)&&cr.push(dr)}return cr.length==0&&ar.err("No node type or group '"+or+"' found"),cr}function parseExprAtom(ar){if(ar.eat("(")){let or=parseExpr(ar);return ar.eat(")")||ar.err("Missing closing paren"),or}else if(/\W/.test(ar.next))ar.err("Unexpected token '"+ar.next+"'");else{let or=resolveName(ar,ar.next).map(lr=>(ar.inline==null?ar.inline=lr.isInline:ar.inline!=lr.isInline&&ar.err("Mixing inline and block content"),{type:"name",value:lr}));return ar.pos++,or.length==1?or[0]:{type:"choice",exprs:or}}}function nfa(ar){let or=[[]];return cr(ur(ar,0),lr()),or;function lr(){return or.push([])-1}function Ar(dr,hr,fr){let gr={term:fr,to:hr};return or[dr].push(gr),gr}function cr(dr,hr){dr.forEach(fr=>fr.to=hr)}function ur(dr,hr){if(dr.type=="choice")return dr.exprs.reduce((fr,gr)=>fr.concat(ur(gr,hr)),[]);if(dr.type=="seq")for(let fr=0;;fr++){let gr=ur(dr.exprs[fr],hr);if(fr==dr.exprs.length-1)return gr;cr(gr,hr=lr())}else if(dr.type=="star"){let fr=lr();return Ar(hr,fr),cr(ur(dr.expr,fr),fr),[Ar(fr)]}else if(dr.type=="plus"){let fr=lr();return cr(ur(dr.expr,hr),fr),cr(ur(dr.expr,fr),fr),[Ar(fr)]}else{if(dr.type=="opt")return[Ar(hr)].concat(ur(dr.expr,hr));if(dr.type=="range"){let fr=hr;for(let gr=0;gr<dr.min;gr++){let pr=lr();cr(ur(dr.expr,fr),pr),fr=pr}if(dr.max==-1)cr(ur(dr.expr,fr),fr);else for(let gr=dr.min;gr<dr.max;gr++){let pr=lr();Ar(fr,pr),cr(ur(dr.expr,fr),pr),fr=pr}return[Ar(fr)]}else{if(dr.type=="name")return[Ar(hr,void 0,dr.value)];throw new Error("Unknown expr type")}}}}function cmp(ar,or){return or-ar}function nullFrom(ar,or){let lr=[];return Ar(or),lr.sort(cmp);function Ar(cr){let ur=ar[cr];if(ur.length==1&&!ur[0].term)return Ar(ur[0].to);lr.push(cr);for(let dr=0;dr<ur.length;dr++){let{term:hr,to:fr}=ur[dr];!hr&&lr.indexOf(fr)==-1&&Ar(fr)}}}function dfa(ar){let or=Object.create(null);return lr(nullFrom(ar,0));function lr(Ar){let cr=[];Ar.forEach(dr=>{ar[dr].forEach(({term:hr,to:fr})=>{if(!hr)return;let gr;for(let pr=0;pr<cr.length;pr++)cr[pr][0]==hr&&(gr=cr[pr][1]);nullFrom(ar,fr).forEach(pr=>{gr||cr.push([hr,gr=[]]),gr.indexOf(pr)==-1&&gr.push(pr)})})});let ur=or[Ar.join(",")]=new ContentMatch(Ar.indexOf(ar.length-1)>-1);for(let dr=0;dr<cr.length;dr++){let hr=cr[dr][1].sort(cmp);ur.next.push({type:cr[dr][0],next:or[hr.join(",")]||lr(hr)})}return ur}}function checkForDeadEnds(ar,or){for(let lr=0,Ar=[ar];lr<Ar.length;lr++){let cr=Ar[lr],ur=!cr.validEnd,dr=[];for(let hr=0;hr<cr.next.length;hr++){let{type:fr,next:gr}=cr.next[hr];dr.push(fr.name),ur&&!(fr.isText||fr.hasRequiredAttrs())&&(ur=!1),Ar.indexOf(gr)==-1&&Ar.push(gr)}ur&&or.err("Only non-generatable nodes ("+dr.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(ar){let or=Object.create(null);for(let lr in ar){let Ar=ar[lr];if(!Ar.hasDefault)return null;or[lr]=Ar.default}return or}function computeAttrs(ar,or){let lr=Object.create(null);for(let Ar in ar){let cr=or&&or[Ar];if(cr===void 0){let ur=ar[Ar];if(ur.hasDefault)cr=ur.default;else throw new RangeError("No value supplied for attribute "+Ar)}lr[Ar]=cr}return lr}function checkAttrs(ar,or,lr,Ar){for(let cr in or)if(!(cr in ar))throw new RangeError(`Unsupported attribute ${cr} for ${lr} of type ${cr}`);for(let cr in ar){let ur=ar[cr];ur.validate&&ur.validate(or[cr])}}function initAttrs(ar,or){let lr=Object.create(null);if(or)for(let Ar in or)lr[Ar]=new Attribute(ar,Ar,or[Ar]);return lr}let NodeType$1=class ap{constructor(or,lr,Ar){this.name=or,this.schema=lr,this.spec=Ar,this.markSet=null,this.groups=Ar.group?Ar.group.split(" "):[],this.attrs=initAttrs(or,Ar.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(Ar.inline||or=="text"),this.isText=or=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(or){return this.groups.indexOf(or)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let or in this.attrs)if(this.attrs[or].isRequired)return!0;return!1}compatibleContent(or){return this==or||this.contentMatch.compatible(or.contentMatch)}computeAttrs(or){return!or&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,or)}create(or=null,lr,Ar){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$2(this,this.computeAttrs(or),Fragment.from(lr),Mark$1.setFrom(Ar))}createChecked(or=null,lr,Ar){return lr=Fragment.from(lr),this.checkContent(lr),new Node$2(this,this.computeAttrs(or),lr,Mark$1.setFrom(Ar))}createAndFill(or=null,lr,Ar){if(or=this.computeAttrs(or),lr=Fragment.from(lr),lr.size){let dr=this.contentMatch.fillBefore(lr);if(!dr)return null;lr=dr.append(lr)}let cr=this.contentMatch.matchFragment(lr),ur=cr&&cr.fillBefore(Fragment.empty,!0);return ur?new Node$2(this,or,lr.append(ur),Mark$1.setFrom(Ar)):null}validContent(or){let lr=this.contentMatch.matchFragment(or);if(!lr||!lr.validEnd)return!1;for(let Ar=0;Ar<or.childCount;Ar++)if(!this.allowsMarks(or.child(Ar).marks))return!1;return!0}checkContent(or){if(!this.validContent(or))throw new RangeError(`Invalid content for node ${this.name}: ${or.toString().slice(0,50)}`)}checkAttrs(or){checkAttrs(this.attrs,or,"node",this.name)}allowsMarkType(or){return this.markSet==null||this.markSet.indexOf(or)>-1}allowsMarks(or){if(this.markSet==null)return!0;for(let lr=0;lr<or.length;lr++)if(!this.allowsMarkType(or[lr].type))return!1;return!0}allowedMarks(or){if(this.markSet==null)return or;let lr;for(let Ar=0;Ar<or.length;Ar++)this.allowsMarkType(or[Ar].type)?lr&&lr.push(or[Ar]):lr||(lr=or.slice(0,Ar));return lr?lr.length?lr:Mark$1.none:or}static compile(or,lr){let Ar=Object.create(null);or.forEach((ur,dr)=>Ar[ur]=new ap(ur,lr,dr));let cr=lr.spec.topNode||"doc";if(!Ar[cr])throw new RangeError("Schema is missing its top node type ('"+cr+"')");if(!Ar.text)throw new RangeError("Every schema needs a 'text' type");for(let ur in Ar.text.attrs)throw new RangeError("The text node type should not have attributes");return Ar}};function validateType(ar,or,lr){let Ar=lr.split("|");return cr=>{let ur=cr===null?"null":typeof cr;if(Ar.indexOf(ur)<0)throw new RangeError(`Expected value of type ${Ar} for attribute ${or} on type ${ar}, got ${ur}`)}}class Attribute{constructor(or,lr,Ar){this.hasDefault=Object.prototype.hasOwnProperty.call(Ar,"default"),this.default=Ar.default,this.validate=typeof Ar.validate=="string"?validateType(or,lr,Ar.validate):Ar.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(or,lr,Ar,cr){this.name=or,this.rank=lr,this.schema=Ar,this.spec=cr,this.attrs=initAttrs(or,cr.attrs),this.excluded=null;let ur=defaultAttrs(this.attrs);this.instance=ur?new Mark$1(this,ur):null}create(or=null){return!or&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,or))}static compile(or,lr){let Ar=Object.create(null),cr=0;return or.forEach((ur,dr)=>Ar[ur]=new MarkType(ur,cr++,lr,dr)),Ar}removeFromSet(or){for(var lr=0;lr<or.length;lr++)or[lr].type==this&&(or=or.slice(0,lr).concat(or.slice(lr+1)),lr--);return or}isInSet(or){for(let lr=0;lr<or.length;lr++)if(or[lr].type==this)return or[lr]}checkAttrs(or){checkAttrs(this.attrs,or,"mark",this.name)}excludes(or){return this.excluded.indexOf(or)>-1}}class Schema{constructor(or){this.linebreakReplacement=null,this.cached=Object.create(null);let lr=this.spec={};for(let cr in or)lr[cr]=or[cr];lr.nodes=OrderedMap.from(or.nodes),lr.marks=OrderedMap.from(or.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let Ar=Object.create(null);for(let cr in this.nodes){if(cr in this.marks)throw new RangeError(cr+" can not be both a node and a mark");let ur=this.nodes[cr],dr=ur.spec.content||"",hr=ur.spec.marks;if(ur.contentMatch=Ar[dr]||(Ar[dr]=ContentMatch.parse(dr,this.nodes)),ur.inlineContent=ur.contentMatch.inlineContent,ur.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!ur.isInline||!ur.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=ur}ur.markSet=hr=="_"?null:hr?gatherMarks(this,hr.split(" ")):hr==""||!ur.inlineContent?[]:null}for(let cr in this.marks){let ur=this.marks[cr],dr=ur.spec.excludes;ur.excluded=dr==null?[ur]:dr==""?[]:gatherMarks(this,dr.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(or,lr=null,Ar,cr){if(typeof or=="string")or=this.nodeType(or);else if(or instanceof NodeType$1){if(or.schema!=this)throw new RangeError("Node type from different schema used ("+or.name+")")}else throw new RangeError("Invalid node type: "+or);return or.createChecked(lr,Ar,cr)}text(or,lr){let Ar=this.nodes.text;return new TextNode(Ar,Ar.defaultAttrs,or,Mark$1.setFrom(lr))}mark(or,lr){return typeof or=="string"&&(or=this.marks[or]),or.create(lr)}nodeFromJSON(or){return Node$2.fromJSON(this,or)}markFromJSON(or){return Mark$1.fromJSON(this,or)}nodeType(or){let lr=this.nodes[or];if(!lr)throw new RangeError("Unknown node type: "+or);return lr}}function gatherMarks(ar,or){let lr=[];for(let Ar=0;Ar<or.length;Ar++){let cr=or[Ar],ur=ar.marks[cr],dr=ur;if(ur)lr.push(ur);else for(let hr in ar.marks){let fr=ar.marks[hr];(cr=="_"||fr.spec.group&&fr.spec.group.split(" ").indexOf(cr)>-1)&&lr.push(dr=fr)}if(!dr)throw new SyntaxError("Unknown mark type: '"+or[Ar]+"'")}return lr}function isTagRule(ar){return ar.tag!=null}function isStyleRule(ar){return ar.style!=null}class DOMParser{constructor(or,lr){this.schema=or,this.rules=lr,this.tags=[],this.styles=[];let Ar=this.matchedStyles=[];lr.forEach(cr=>{if(isTagRule(cr))this.tags.push(cr);else if(isStyleRule(cr)){let ur=/[^=]*/.exec(cr.style)[0];Ar.indexOf(ur)<0&&Ar.push(ur),this.styles.push(cr)}}),this.normalizeLists=!this.tags.some(cr=>{if(!/^(ul|ol)\b/.test(cr.tag)||!cr.node)return!1;let ur=or.nodes[cr.node];return ur.contentMatch.matchType(ur)})}parse(or,lr={}){let Ar=new ParseContext(this,lr,!1);return Ar.addAll(or,Mark$1.none,lr.from,lr.to),Ar.finish()}parseSlice(or,lr={}){let Ar=new ParseContext(this,lr,!0);return Ar.addAll(or,Mark$1.none,lr.from,lr.to),Slice.maxOpen(Ar.finish())}matchTag(or,lr,Ar){for(let cr=Ar?this.tags.indexOf(Ar)+1:0;cr<this.tags.length;cr++){let ur=this.tags[cr];if(matches$1(or,ur.tag)&&(ur.namespace===void 0||or.namespaceURI==ur.namespace)&&(!ur.context||lr.matchesContext(ur.context))){if(ur.getAttrs){let dr=ur.getAttrs(or);if(dr===!1)continue;ur.attrs=dr||void 0}return ur}}}matchStyle(or,lr,Ar,cr){for(let ur=cr?this.styles.indexOf(cr)+1:0;ur<this.styles.length;ur++){let dr=this.styles[ur],hr=dr.style;if(!(hr.indexOf(or)!=0||dr.context&&!Ar.matchesContext(dr.context)||hr.length>or.length&&(hr.charCodeAt(or.length)!=61||hr.slice(or.length+1)!=lr))){if(dr.getAttrs){let fr=dr.getAttrs(lr);if(fr===!1)continue;dr.attrs=fr||void 0}return dr}}}static schemaRules(or){let lr=[];function Ar(cr){let ur=cr.priority==null?50:cr.priority,dr=0;for(;dr<lr.length;dr++){let hr=lr[dr];if((hr.priority==null?50:hr.priority)<ur)break}lr.splice(dr,0,cr)}for(let cr in or.marks){let ur=or.marks[cr].spec.parseDOM;ur&&ur.forEach(dr=>{Ar(dr=copy(dr)),dr.mark||dr.ignore||dr.clearMark||(dr.mark=cr)})}for(let cr in or.nodes){let ur=or.nodes[cr].spec.parseDOM;ur&&ur.forEach(dr=>{Ar(dr=copy(dr)),dr.node||dr.ignore||dr.mark||(dr.node=cr)})}return lr}static fromSchema(or){return or.cached.domParser||(or.cached.domParser=new DOMParser(or,DOMParser.schemaRules(or)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(ar,or,lr){return or!=null?(or?OPT_PRESERVE_WS:0)|(or==="full"?OPT_PRESERVE_WS_FULL:0):ar&&ar.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:lr&-5}class NodeContext{constructor(or,lr,Ar,cr,ur,dr){this.type=or,this.attrs=lr,this.marks=Ar,this.solid=cr,this.options=dr,this.content=[],this.activeMarks=Mark$1.none,this.match=ur||(dr&OPT_OPEN_LEFT?null:or.contentMatch)}findWrapping(or){if(!this.match){if(!this.type)return[];let lr=this.type.contentMatch.fillBefore(Fragment.from(or));if(lr)this.match=this.type.contentMatch.matchFragment(lr);else{let Ar=this.type.contentMatch,cr;return(cr=Ar.findWrapping(or.type))?(this.match=Ar,cr):null}}return this.match.findWrapping(or.type)}finish(or){if(!(this.options&OPT_PRESERVE_WS)){let Ar=this.content[this.content.length-1],cr;if(Ar&&Ar.isText&&(cr=/[ \t\r\n\u000c]+$/.exec(Ar.text))){let ur=Ar;Ar.text.length==cr[0].length?this.content.pop():this.content[this.content.length-1]=ur.withText(ur.text.slice(0,ur.text.length-cr[0].length))}}let lr=Fragment.from(this.content);return!or&&this.match&&(lr=lr.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,lr,this.marks):lr}inlineContext(or){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:or.parentNode&&!blockTags.hasOwnProperty(or.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(or,lr,Ar){this.parser=or,this.options=lr,this.isOpen=Ar,this.open=0,this.localPreserveWS=!1;let cr=lr.topNode,ur,dr=wsOptionsFor(null,lr.preserveWhitespace,0)|(Ar?OPT_OPEN_LEFT:0);cr?ur=new NodeContext(cr.type,cr.attrs,Mark$1.none,!0,lr.topMatch||cr.type.contentMatch,dr):Ar?ur=new NodeContext(null,null,Mark$1.none,!0,null,dr):ur=new NodeContext(or.schema.topNodeType,null,Mark$1.none,!0,null,dr),this.nodes=[ur],this.find=lr.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(or,lr){or.nodeType==3?this.addTextNode(or,lr):or.nodeType==1&&this.addElement(or,lr)}addTextNode(or,lr){let Ar=or.nodeValue,cr=this.top,ur=cr.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(cr.options&OPT_PRESERVE_WS)>0;if(ur==="full"||cr.inlineContext(or)||/[^ \t\r\n\u000c]/.test(Ar)){if(ur)ur!=="full"?Ar=Ar.replace(/\r?\n|\r/g," "):Ar=Ar.replace(/\r\n?/g,`
`);else if(Ar=Ar.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(Ar)&&this.open==this.nodes.length-1){let dr=cr.content[cr.content.length-1],hr=or.previousSibling;(!dr||hr&&hr.nodeName=="BR"||dr.isText&&/[ \t\r\n\u000c]$/.test(dr.text))&&(Ar=Ar.slice(1))}Ar&&this.insertNode(this.parser.schema.text(Ar),lr,!/\S/.test(Ar)),this.findInText(or)}else this.findInside(or)}addElement(or,lr,Ar){let cr=this.localPreserveWS,ur=this.top;(or.tagName=="PRE"||/pre/.test(or.style&&or.style.whiteSpace))&&(this.localPreserveWS=!0);let dr=or.nodeName.toLowerCase(),hr;listTags.hasOwnProperty(dr)&&this.parser.normalizeLists&&normalizeList(or);let fr=this.options.ruleFromNode&&this.options.ruleFromNode(or)||(hr=this.parser.matchTag(or,this,Ar));e:if(fr?fr.ignore:ignoreTags.hasOwnProperty(dr))this.findInside(or),this.ignoreFallback(or,lr);else if(!fr||fr.skip||fr.closeParent){fr&&fr.closeParent?this.open=Math.max(0,this.open-1):fr&&fr.skip.nodeType&&(or=fr.skip);let gr,pr=this.needsBlock;if(blockTags.hasOwnProperty(dr))ur.content.length&&ur.content[0].isInline&&this.open&&(this.open--,ur=this.top),gr=!0,ur.type||(this.needsBlock=!0);else if(!or.firstChild){this.leafFallback(or,lr);break e}let mr=fr&&fr.skip?lr:this.readStyles(or,lr);mr&&this.addAll(or,mr),gr&&this.sync(ur),this.needsBlock=pr}else{let gr=this.readStyles(or,lr);gr&&this.addElementByRule(or,fr,gr,fr.consuming===!1?hr:void 0)}this.localPreserveWS=cr}leafFallback(or,lr){or.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(or.ownerDocument.createTextNode(`
`),lr)}ignoreFallback(or,lr){or.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),lr,!0)}readStyles(or,lr){let Ar=or.style;if(Ar&&Ar.length)for(let cr=0;cr<this.parser.matchedStyles.length;cr++){let ur=this.parser.matchedStyles[cr],dr=Ar.getPropertyValue(ur);if(dr)for(let hr=void 0;;){let fr=this.parser.matchStyle(ur,dr,this,hr);if(!fr)break;if(fr.ignore)return null;if(fr.clearMark?lr=lr.filter(gr=>!fr.clearMark(gr)):lr=lr.concat(this.parser.schema.marks[fr.mark].create(fr.attrs)),fr.consuming===!1)hr=fr;else break}}return lr}addElementByRule(or,lr,Ar,cr){let ur,dr;if(lr.node)if(dr=this.parser.schema.nodes[lr.node],dr.isLeaf)this.insertNode(dr.create(lr.attrs),Ar,or.nodeName=="BR")||this.leafFallback(or,Ar);else{let fr=this.enter(dr,lr.attrs||null,Ar,lr.preserveWhitespace);fr&&(ur=!0,Ar=fr)}else{let fr=this.parser.schema.marks[lr.mark];Ar=Ar.concat(fr.create(lr.attrs))}let hr=this.top;if(dr&&dr.isLeaf)this.findInside(or);else if(cr)this.addElement(or,Ar,cr);else if(lr.getContent)this.findInside(or),lr.getContent(or,this.parser.schema).forEach(fr=>this.insertNode(fr,Ar,!1));else{let fr=or;typeof lr.contentElement=="string"?fr=or.querySelector(lr.contentElement):typeof lr.contentElement=="function"?fr=lr.contentElement(or):lr.contentElement&&(fr=lr.contentElement),this.findAround(or,fr,!0),this.addAll(fr,Ar),this.findAround(or,fr,!1)}ur&&this.sync(hr)&&this.open--}addAll(or,lr,Ar,cr){let ur=Ar||0;for(let dr=Ar?or.childNodes[Ar]:or.firstChild,hr=cr==null?null:or.childNodes[cr];dr!=hr;dr=dr.nextSibling,++ur)this.findAtPoint(or,ur),this.addDOM(dr,lr);this.findAtPoint(or,ur)}findPlace(or,lr,Ar){let cr,ur;for(let dr=this.open,hr=0;dr>=0;dr--){let fr=this.nodes[dr],gr=fr.findWrapping(or);if(gr&&(!cr||cr.length>gr.length+hr)&&(cr=gr,ur=fr,!gr.length))break;if(fr.solid){if(Ar)break;hr+=2}}if(!cr)return null;this.sync(ur);for(let dr=0;dr<cr.length;dr++)lr=this.enterInner(cr[dr],null,lr,!1);return lr}insertNode(or,lr,Ar){if(or.isInline&&this.needsBlock&&!this.top.type){let ur=this.textblockFromContext();ur&&(lr=this.enterInner(ur,null,lr))}let cr=this.findPlace(or,lr,Ar);if(cr){this.closeExtra();let ur=this.top;ur.match&&(ur.match=ur.match.matchType(or.type));let dr=Mark$1.none;for(let hr of cr.concat(or.marks))(ur.type?ur.type.allowsMarkType(hr.type):markMayApply(hr.type,or.type))&&(dr=hr.addToSet(dr));return ur.content.push(or.mark(dr)),!0}return!1}enter(or,lr,Ar,cr){let ur=this.findPlace(or.create(lr),Ar,!1);return ur&&(ur=this.enterInner(or,lr,Ar,!0,cr)),ur}enterInner(or,lr,Ar,cr=!1,ur){this.closeExtra();let dr=this.top;dr.match=dr.match&&dr.match.matchType(or);let hr=wsOptionsFor(or,ur,dr.options);dr.options&OPT_OPEN_LEFT&&dr.content.length==0&&(hr|=OPT_OPEN_LEFT);let fr=Mark$1.none;return Ar=Ar.filter(gr=>(dr.type?dr.type.allowsMarkType(gr.type):markMayApply(gr.type,or))?(fr=gr.addToSet(fr),!1):!0),this.nodes.push(new NodeContext(or,lr,fr,cr,null,hr)),this.open++,Ar}closeExtra(or=!1){let lr=this.nodes.length-1;if(lr>this.open){for(;lr>this.open;lr--)this.nodes[lr-1].content.push(this.nodes[lr].finish(or));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(or){for(let lr=this.open;lr>=0;lr--){if(this.nodes[lr]==or)return this.open=lr,!0;this.localPreserveWS&&(this.nodes[lr].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let or=0;for(let lr=this.open;lr>=0;lr--){let Ar=this.nodes[lr].content;for(let cr=Ar.length-1;cr>=0;cr--)or+=Ar[cr].nodeSize;lr&&or++}return or}findAtPoint(or,lr){if(this.find)for(let Ar=0;Ar<this.find.length;Ar++)this.find[Ar].node==or&&this.find[Ar].offset==lr&&(this.find[Ar].pos=this.currentPos)}findInside(or){if(this.find)for(let lr=0;lr<this.find.length;lr++)this.find[lr].pos==null&&or.nodeType==1&&or.contains(this.find[lr].node)&&(this.find[lr].pos=this.currentPos)}findAround(or,lr,Ar){if(or!=lr&&this.find)for(let cr=0;cr<this.find.length;cr++)this.find[cr].pos==null&&or.nodeType==1&&or.contains(this.find[cr].node)&&lr.compareDocumentPosition(this.find[cr].node)&(Ar?2:4)&&(this.find[cr].pos=this.currentPos)}findInText(or){if(this.find)for(let lr=0;lr<this.find.length;lr++)this.find[lr].node==or&&(this.find[lr].pos=this.currentPos-(or.nodeValue.length-this.find[lr].offset))}matchesContext(or){if(or.indexOf("|")>-1)return or.split(/\s*\|\s*/).some(this.matchesContext,this);let lr=or.split("/"),Ar=this.options.context,cr=!this.isOpen&&(!Ar||Ar.parent.type==this.nodes[0].type),ur=-(Ar?Ar.depth+1:0)+(cr?0:1),dr=(hr,fr)=>{for(;hr>=0;hr--){let gr=lr[hr];if(gr==""){if(hr==lr.length-1||hr==0)continue;for(;fr>=ur;fr--)if(dr(hr-1,fr))return!0;return!1}else{let pr=fr>0||fr==0&&cr?this.nodes[fr].type:Ar&&fr>=ur?Ar.node(fr-ur).type:null;if(!pr||pr.name!=gr&&!pr.isInGroup(gr))return!1;fr--}}return!0};return dr(lr.length-1,this.open)}textblockFromContext(){let or=this.options.context;if(or)for(let lr=or.depth;lr>=0;lr--){let Ar=or.node(lr).contentMatchAt(or.indexAfter(lr)).defaultType;if(Ar&&Ar.isTextblock&&Ar.defaultAttrs)return Ar}for(let lr in this.parser.schema.nodes){let Ar=this.parser.schema.nodes[lr];if(Ar.isTextblock&&Ar.defaultAttrs)return Ar}}}function normalizeList(ar){for(let or=ar.firstChild,lr=null;or;or=or.nextSibling){let Ar=or.nodeType==1?or.nodeName.toLowerCase():null;Ar&&listTags.hasOwnProperty(Ar)&&lr?(lr.appendChild(or),or=lr):Ar=="li"?lr=or:Ar&&(lr=null)}}function matches$1(ar,or){return(ar.matches||ar.msMatchesSelector||ar.webkitMatchesSelector||ar.mozMatchesSelector).call(ar,or)}function copy(ar){let or={};for(let lr in ar)or[lr]=ar[lr];return or}function markMayApply(ar,or){let lr=or.schema.nodes;for(let Ar in lr){let cr=lr[Ar];if(!cr.allowsMarkType(ar))continue;let ur=[],dr=hr=>{ur.push(hr);for(let fr=0;fr<hr.edgeCount;fr++){let{type:gr,next:pr}=hr.edge(fr);if(gr==or||ur.indexOf(pr)<0&&dr(pr))return!0}};if(dr(cr.contentMatch))return!0}}class DOMSerializer{constructor(or,lr){this.nodes=or,this.marks=lr}serializeFragment(or,lr={},Ar){Ar||(Ar=doc$1(lr).createDocumentFragment());let cr=Ar,ur=[];return or.forEach(dr=>{if(ur.length||dr.marks.length){let hr=0,fr=0;for(;hr<ur.length&&fr<dr.marks.length;){let gr=dr.marks[fr];if(!this.marks[gr.type.name]){fr++;continue}if(!gr.eq(ur[hr][0])||gr.type.spec.spanning===!1)break;hr++,fr++}for(;hr<ur.length;)cr=ur.pop()[1];for(;fr<dr.marks.length;){let gr=dr.marks[fr++],pr=this.serializeMark(gr,dr.isInline,lr);pr&&(ur.push([gr,cr]),cr.appendChild(pr.dom),cr=pr.contentDOM||pr.dom)}}cr.appendChild(this.serializeNodeInner(dr,lr))}),Ar}serializeNodeInner(or,lr){let{dom:Ar,contentDOM:cr}=renderSpec(doc$1(lr),this.nodes[or.type.name](or),null,or.attrs);if(cr){if(or.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(or.content,lr,cr)}return Ar}serializeNode(or,lr={}){let Ar=this.serializeNodeInner(or,lr);for(let cr=or.marks.length-1;cr>=0;cr--){let ur=this.serializeMark(or.marks[cr],or.isInline,lr);ur&&((ur.contentDOM||ur.dom).appendChild(Ar),Ar=ur.dom)}return Ar}serializeMark(or,lr,Ar={}){let cr=this.marks[or.type.name];return cr&&renderSpec(doc$1(Ar),cr(or,lr),null,or.attrs)}static renderSpec(or,lr,Ar=null,cr){return renderSpec(or,lr,Ar,cr)}static fromSchema(or){return or.cached.domSerializer||(or.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(or),this.marksFromSchema(or)))}static nodesFromSchema(or){let lr=gatherToDOM(or.nodes);return lr.text||(lr.text=Ar=>Ar.text),lr}static marksFromSchema(or){return gatherToDOM(or.marks)}}function gatherToDOM(ar){let or={};for(let lr in ar){let Ar=ar[lr].spec.toDOM;Ar&&(or[lr]=Ar)}return or}function doc$1(ar){return ar.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(ar){let or=suspiciousAttributeCache.get(ar);return or===void 0&&suspiciousAttributeCache.set(ar,or=suspiciousAttributesInner(ar)),or}function suspiciousAttributesInner(ar){let or=null;function lr(Ar){if(Ar&&typeof Ar=="object")if(Array.isArray(Ar))if(typeof Ar[0]=="string")or||(or=[]),or.push(Ar);else for(let cr=0;cr<Ar.length;cr++)lr(Ar[cr]);else for(let cr in Ar)lr(Ar[cr])}return lr(ar),or}function renderSpec(ar,or,lr,Ar){if(typeof or=="string")return{dom:ar.createTextNode(or)};if(or.nodeType!=null)return{dom:or};if(or.dom&&or.dom.nodeType!=null)return or;let cr=or[0],ur;if(typeof cr!="string")throw new RangeError("Invalid array passed to renderSpec");if(Ar&&(ur=suspiciousAttributes(Ar))&&ur.indexOf(or)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let dr=cr.indexOf(" ");dr>0&&(lr=cr.slice(0,dr),cr=cr.slice(dr+1));let hr,fr=lr?ar.createElementNS(lr,cr):ar.createElement(cr),gr=or[1],pr=1;if(gr&&typeof gr=="object"&&gr.nodeType==null&&!Array.isArray(gr)){pr=2;for(let mr in gr)if(gr[mr]!=null){let yr=mr.indexOf(" ");yr>0?fr.setAttributeNS(mr.slice(0,yr),mr.slice(yr+1),gr[mr]):fr.setAttribute(mr,gr[mr])}}for(let mr=pr;mr<or.length;mr++){let yr=or[mr];if(yr===0){if(mr<or.length-1||mr>pr)throw new RangeError("Content hole must be the only child of its parent node");return{dom:fr,contentDOM:fr}}else{let{dom:vr,contentDOM:br}=renderSpec(ar,yr,lr,Ar);if(fr.appendChild(vr),br){if(hr)throw new RangeError("Multiple content holes");hr=br}}}return{dom:fr,contentDOM:hr}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(ar,or){return ar+or*factor16}function recoverIndex(ar){return ar&lower16}function recoverOffset(ar){return(ar-(ar&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(or,lr,Ar){this.pos=or,this.delInfo=lr,this.recover=Ar}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(or,lr=!1){if(this.ranges=or,this.inverted=lr,!or.length&&StepMap.empty)return StepMap.empty}recover(or){let lr=0,Ar=recoverIndex(or);if(!this.inverted)for(let cr=0;cr<Ar;cr++)lr+=this.ranges[cr*3+2]-this.ranges[cr*3+1];return this.ranges[Ar*3]+lr+recoverOffset(or)}mapResult(or,lr=1){return this._map(or,lr,!1)}map(or,lr=1){return this._map(or,lr,!0)}_map(or,lr,Ar){let cr=0,ur=this.inverted?2:1,dr=this.inverted?1:2;for(let hr=0;hr<this.ranges.length;hr+=3){let fr=this.ranges[hr]-(this.inverted?cr:0);if(fr>or)break;let gr=this.ranges[hr+ur],pr=this.ranges[hr+dr],mr=fr+gr;if(or<=mr){let yr=gr?or==fr?-1:or==mr?1:lr:lr,vr=fr+cr+(yr<0?0:pr);if(Ar)return vr;let br=or==(lr<0?fr:mr)?null:makeRecover(hr/3,or-fr),wr=or==fr?DEL_AFTER:or==mr?DEL_BEFORE:DEL_ACROSS;return(lr<0?or!=fr:or!=mr)&&(wr|=DEL_SIDE),new MapResult(vr,wr,br)}cr+=pr-gr}return Ar?or+cr:new MapResult(or+cr,0,null)}touches(or,lr){let Ar=0,cr=recoverIndex(lr),ur=this.inverted?2:1,dr=this.inverted?1:2;for(let hr=0;hr<this.ranges.length;hr+=3){let fr=this.ranges[hr]-(this.inverted?Ar:0);if(fr>or)break;let gr=this.ranges[hr+ur],pr=fr+gr;if(or<=pr&&hr==cr*3)return!0;Ar+=this.ranges[hr+dr]-gr}return!1}forEach(or){let lr=this.inverted?2:1,Ar=this.inverted?1:2;for(let cr=0,ur=0;cr<this.ranges.length;cr+=3){let dr=this.ranges[cr],hr=dr-(this.inverted?ur:0),fr=dr+(this.inverted?0:ur),gr=this.ranges[cr+lr],pr=this.ranges[cr+Ar];or(hr,hr+gr,fr,fr+pr),ur+=pr-gr}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(or){return or==0?StepMap.empty:new StepMap(or<0?[0,-or,0]:[0,0,or])}}StepMap.empty=new StepMap([]);class Mapping{constructor(or,lr,Ar=0,cr=or?or.length:0){this.mirror=lr,this.from=Ar,this.to=cr,this._maps=or||[],this.ownData=!(or||lr)}get maps(){return this._maps}slice(or=0,lr=this.maps.length){return new Mapping(this._maps,this.mirror,or,lr)}appendMap(or,lr){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(or),lr!=null&&this.setMirror(this._maps.length-1,lr)}appendMapping(or){for(let lr=0,Ar=this._maps.length;lr<or._maps.length;lr++){let cr=or.getMirror(lr);this.appendMap(or._maps[lr],cr!=null&&cr<lr?Ar+cr:void 0)}}getMirror(or){if(this.mirror){for(let lr=0;lr<this.mirror.length;lr++)if(this.mirror[lr]==or)return this.mirror[lr+(lr%2?-1:1)]}}setMirror(or,lr){this.mirror||(this.mirror=[]),this.mirror.push(or,lr)}appendMappingInverted(or){for(let lr=or.maps.length-1,Ar=this._maps.length+or._maps.length;lr>=0;lr--){let cr=or.getMirror(lr);this.appendMap(or._maps[lr].invert(),cr!=null&&cr>lr?Ar-cr-1:void 0)}}invert(){let or=new Mapping;return or.appendMappingInverted(this),or}map(or,lr=1){if(this.mirror)return this._map(or,lr,!0);for(let Ar=this.from;Ar<this.to;Ar++)or=this._maps[Ar].map(or,lr);return or}mapResult(or,lr=1){return this._map(or,lr,!1)}_map(or,lr,Ar){let cr=0;for(let ur=this.from;ur<this.to;ur++){let dr=this._maps[ur],hr=dr.mapResult(or,lr);if(hr.recover!=null){let fr=this.getMirror(ur);if(fr!=null&&fr>ur&&fr<this.to){ur=fr,or=this._maps[fr].recover(hr.recover);continue}}cr|=hr.delInfo,or=hr.pos}return Ar?or:new MapResult(or,cr,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(or){return null}static fromJSON(or,lr){if(!lr||!lr.stepType)throw new RangeError("Invalid input for Step.fromJSON");let Ar=stepsByID[lr.stepType];if(!Ar)throw new RangeError(`No step type ${lr.stepType} defined`);return Ar.fromJSON(or,lr)}static jsonID(or,lr){if(or in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+or);return stepsByID[or]=lr,lr.prototype.jsonID=or,lr}}class StepResult{constructor(or,lr){this.doc=or,this.failed=lr}static ok(or){return new StepResult(or,null)}static fail(or){return new StepResult(null,or)}static fromReplace(or,lr,Ar,cr){try{return StepResult.ok(or.replace(lr,Ar,cr))}catch(ur){if(ur instanceof ReplaceError)return StepResult.fail(ur.message);throw ur}}}function mapFragment(ar,or,lr){let Ar=[];for(let cr=0;cr<ar.childCount;cr++){let ur=ar.child(cr);ur.content.size&&(ur=ur.copy(mapFragment(ur.content,or,ur))),ur.isInline&&(ur=or(ur,lr,cr)),Ar.push(ur)}return Fragment.fromArray(Ar)}class AddMarkStep extends Step{constructor(or,lr,Ar){super(),this.from=or,this.to=lr,this.mark=Ar}apply(or){let lr=or.slice(this.from,this.to),Ar=or.resolve(this.from),cr=Ar.node(Ar.sharedDepth(this.to)),ur=new Slice(mapFragment(lr.content,(dr,hr)=>!dr.isAtom||!hr.type.allowsMarkType(this.mark.type)?dr:dr.mark(this.mark.addToSet(dr.marks)),cr),lr.openStart,lr.openEnd);return StepResult.fromReplace(or,this.from,this.to,ur)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(or){let lr=or.mapResult(this.from,1),Ar=or.mapResult(this.to,-1);return lr.deleted&&Ar.deleted||lr.pos>=Ar.pos?null:new AddMarkStep(lr.pos,Ar.pos,this.mark)}merge(or){return or instanceof AddMarkStep&&or.mark.eq(this.mark)&&this.from<=or.to&&this.to>=or.from?new AddMarkStep(Math.min(this.from,or.from),Math.max(this.to,or.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(or,lr){if(typeof lr.from!="number"||typeof lr.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(lr.from,lr.to,or.markFromJSON(lr.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(or,lr,Ar){super(),this.from=or,this.to=lr,this.mark=Ar}apply(or){let lr=or.slice(this.from,this.to),Ar=new Slice(mapFragment(lr.content,cr=>cr.mark(this.mark.removeFromSet(cr.marks)),or),lr.openStart,lr.openEnd);return StepResult.fromReplace(or,this.from,this.to,Ar)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(or){let lr=or.mapResult(this.from,1),Ar=or.mapResult(this.to,-1);return lr.deleted&&Ar.deleted||lr.pos>=Ar.pos?null:new RemoveMarkStep(lr.pos,Ar.pos,this.mark)}merge(or){return or instanceof RemoveMarkStep&&or.mark.eq(this.mark)&&this.from<=or.to&&this.to>=or.from?new RemoveMarkStep(Math.min(this.from,or.from),Math.max(this.to,or.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(or,lr){if(typeof lr.from!="number"||typeof lr.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(lr.from,lr.to,or.markFromJSON(lr.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(or,lr){super(),this.pos=or,this.mark=lr}apply(or){let lr=or.nodeAt(this.pos);if(!lr)return StepResult.fail("No node at mark step's position");let Ar=lr.type.create(lr.attrs,null,this.mark.addToSet(lr.marks));return StepResult.fromReplace(or,this.pos,this.pos+1,new Slice(Fragment.from(Ar),0,lr.isLeaf?0:1))}invert(or){let lr=or.nodeAt(this.pos);if(lr){let Ar=this.mark.addToSet(lr.marks);if(Ar.length==lr.marks.length){for(let cr=0;cr<lr.marks.length;cr++)if(!lr.marks[cr].isInSet(Ar))return new AddNodeMarkStep(this.pos,lr.marks[cr]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(or){let lr=or.mapResult(this.pos,1);return lr.deletedAfter?null:new AddNodeMarkStep(lr.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(or,lr){if(typeof lr.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(lr.pos,or.markFromJSON(lr.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(or,lr){super(),this.pos=or,this.mark=lr}apply(or){let lr=or.nodeAt(this.pos);if(!lr)return StepResult.fail("No node at mark step's position");let Ar=lr.type.create(lr.attrs,null,this.mark.removeFromSet(lr.marks));return StepResult.fromReplace(or,this.pos,this.pos+1,new Slice(Fragment.from(Ar),0,lr.isLeaf?0:1))}invert(or){let lr=or.nodeAt(this.pos);return!lr||!this.mark.isInSet(lr.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(or){let lr=or.mapResult(this.pos,1);return lr.deletedAfter?null:new RemoveNodeMarkStep(lr.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(or,lr){if(typeof lr.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(lr.pos,or.markFromJSON(lr.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(or,lr,Ar,cr=!1){super(),this.from=or,this.to=lr,this.slice=Ar,this.structure=cr}apply(or){return this.structure&&contentBetween(or,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(or,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(or){return new ReplaceStep(this.from,this.from+this.slice.size,or.slice(this.from,this.to))}map(or){let lr=or.mapResult(this.from,1),Ar=or.mapResult(this.to,-1);return lr.deletedAcross&&Ar.deletedAcross?null:new ReplaceStep(lr.pos,Math.max(lr.pos,Ar.pos),this.slice,this.structure)}merge(or){if(!(or instanceof ReplaceStep)||or.structure||this.structure)return null;if(this.from+this.slice.size==or.from&&!this.slice.openEnd&&!or.slice.openStart){let lr=this.slice.size+or.slice.size==0?Slice.empty:new Slice(this.slice.content.append(or.slice.content),this.slice.openStart,or.slice.openEnd);return new ReplaceStep(this.from,this.to+(or.to-or.from),lr,this.structure)}else if(or.to==this.from&&!this.slice.openStart&&!or.slice.openEnd){let lr=this.slice.size+or.slice.size==0?Slice.empty:new Slice(or.slice.content.append(this.slice.content),or.slice.openStart,this.slice.openEnd);return new ReplaceStep(or.from,this.to,lr,this.structure)}else return null}toJSON(){let or={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(or.slice=this.slice.toJSON()),this.structure&&(or.structure=!0),or}static fromJSON(or,lr){if(typeof lr.from!="number"||typeof lr.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(lr.from,lr.to,Slice.fromJSON(or,lr.slice),!!lr.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(or,lr,Ar,cr,ur,dr,hr=!1){super(),this.from=or,this.to=lr,this.gapFrom=Ar,this.gapTo=cr,this.slice=ur,this.insert=dr,this.structure=hr}apply(or){if(this.structure&&(contentBetween(or,this.from,this.gapFrom)||contentBetween(or,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let lr=or.slice(this.gapFrom,this.gapTo);if(lr.openStart||lr.openEnd)return StepResult.fail("Gap is not a flat range");let Ar=this.slice.insertAt(this.insert,lr.content);return Ar?StepResult.fromReplace(or,this.from,this.to,Ar):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(or){let lr=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+lr,this.from+this.insert,this.from+this.insert+lr,or.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(or){let lr=or.mapResult(this.from,1),Ar=or.mapResult(this.to,-1),cr=this.from==this.gapFrom?lr.pos:or.map(this.gapFrom,-1),ur=this.to==this.gapTo?Ar.pos:or.map(this.gapTo,1);return lr.deletedAcross&&Ar.deletedAcross||cr<lr.pos||ur>Ar.pos?null:new ReplaceAroundStep(lr.pos,Ar.pos,cr,ur,this.slice,this.insert,this.structure)}toJSON(){let or={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(or.slice=this.slice.toJSON()),this.structure&&(or.structure=!0),or}static fromJSON(or,lr){if(typeof lr.from!="number"||typeof lr.to!="number"||typeof lr.gapFrom!="number"||typeof lr.gapTo!="number"||typeof lr.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(lr.from,lr.to,lr.gapFrom,lr.gapTo,Slice.fromJSON(or,lr.slice),lr.insert,!!lr.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(ar,or,lr){let Ar=ar.resolve(or),cr=lr-or,ur=Ar.depth;for(;cr>0&&ur>0&&Ar.indexAfter(ur)==Ar.node(ur).childCount;)ur--,cr--;if(cr>0){let dr=Ar.node(ur).maybeChild(Ar.indexAfter(ur));for(;cr>0;){if(!dr||dr.isLeaf)return!0;dr=dr.firstChild,cr--}}return!1}function addMark(ar,or,lr,Ar){let cr=[],ur=[],dr,hr;ar.doc.nodesBetween(or,lr,(fr,gr,pr)=>{if(!fr.isInline)return;let mr=fr.marks;if(!Ar.isInSet(mr)&&pr.type.allowsMarkType(Ar.type)){let yr=Math.max(gr,or),vr=Math.min(gr+fr.nodeSize,lr),br=Ar.addToSet(mr);for(let wr=0;wr<mr.length;wr++)mr[wr].isInSet(br)||(dr&&dr.to==yr&&dr.mark.eq(mr[wr])?dr.to=vr:cr.push(dr=new RemoveMarkStep(yr,vr,mr[wr])));hr&&hr.to==yr?hr.to=vr:ur.push(hr=new AddMarkStep(yr,vr,Ar))}}),cr.forEach(fr=>ar.step(fr)),ur.forEach(fr=>ar.step(fr))}function removeMark(ar,or,lr,Ar){let cr=[],ur=0;ar.doc.nodesBetween(or,lr,(dr,hr)=>{if(!dr.isInline)return;ur++;let fr=null;if(Ar instanceof MarkType){let gr=dr.marks,pr;for(;pr=Ar.isInSet(gr);)(fr||(fr=[])).push(pr),gr=pr.removeFromSet(gr)}else Ar?Ar.isInSet(dr.marks)&&(fr=[Ar]):fr=dr.marks;if(fr&&fr.length){let gr=Math.min(hr+dr.nodeSize,lr);for(let pr=0;pr<fr.length;pr++){let mr=fr[pr],yr;for(let vr=0;vr<cr.length;vr++){let br=cr[vr];br.step==ur-1&&mr.eq(cr[vr].style)&&(yr=br)}yr?(yr.to=gr,yr.step=ur):cr.push({style:mr,from:Math.max(hr,or),to:gr,step:ur})}}}),cr.forEach(dr=>ar.step(new RemoveMarkStep(dr.from,dr.to,dr.style)))}function clearIncompatible(ar,or,lr,Ar=lr.contentMatch,cr=!0){let ur=ar.doc.nodeAt(or),dr=[],hr=or+1;for(let fr=0;fr<ur.childCount;fr++){let gr=ur.child(fr),pr=hr+gr.nodeSize,mr=Ar.matchType(gr.type);if(!mr)dr.push(new ReplaceStep(hr,pr,Slice.empty));else{Ar=mr;for(let yr=0;yr<gr.marks.length;yr++)lr.allowsMarkType(gr.marks[yr].type)||ar.step(new RemoveMarkStep(hr,pr,gr.marks[yr]));if(cr&&gr.isText&&lr.whitespace!="pre"){let yr,vr=/\r?\n|\r/g,br;for(;yr=vr.exec(gr.text);)br||(br=new Slice(Fragment.from(lr.schema.text(" ",lr.allowedMarks(gr.marks))),0,0)),dr.push(new ReplaceStep(hr+yr.index,hr+yr.index+yr[0].length,br))}}hr=pr}if(!Ar.validEnd){let fr=Ar.fillBefore(Fragment.empty,!0);ar.replace(hr,hr,new Slice(fr,0,0))}for(let fr=dr.length-1;fr>=0;fr--)ar.step(dr[fr])}function canCut(ar,or,lr){return(or==0||ar.canReplace(or,ar.childCount))&&(lr==ar.childCount||ar.canReplace(0,lr))}function liftTarget(ar){let lr=ar.parent.content.cutByIndex(ar.startIndex,ar.endIndex);for(let Ar=ar.depth;;--Ar){let cr=ar.$from.node(Ar),ur=ar.$from.index(Ar),dr=ar.$to.indexAfter(Ar);if(Ar<ar.depth&&cr.canReplace(ur,dr,lr))return Ar;if(Ar==0||cr.type.spec.isolating||!canCut(cr,ur,dr))break}return null}function lift$2(ar,or,lr){let{$from:Ar,$to:cr,depth:ur}=or,dr=Ar.before(ur+1),hr=cr.after(ur+1),fr=dr,gr=hr,pr=Fragment.empty,mr=0;for(let br=ur,wr=!1;br>lr;br--)wr||Ar.index(br)>0?(wr=!0,pr=Fragment.from(Ar.node(br).copy(pr)),mr++):fr--;let yr=Fragment.empty,vr=0;for(let br=ur,wr=!1;br>lr;br--)wr||cr.after(br+1)<cr.end(br)?(wr=!0,yr=Fragment.from(cr.node(br).copy(yr)),vr++):gr++;ar.step(new ReplaceAroundStep(fr,gr,dr,hr,new Slice(pr.append(yr),mr,vr),pr.size-mr,!0))}function findWrapping(ar,or,lr=null,Ar=ar){let cr=findWrappingOutside(ar,or),ur=cr&&findWrappingInside(Ar,or);return ur?cr.map(withAttrs).concat({type:or,attrs:lr}).concat(ur.map(withAttrs)):null}function withAttrs(ar){return{type:ar,attrs:null}}function findWrappingOutside(ar,or){let{parent:lr,startIndex:Ar,endIndex:cr}=ar,ur=lr.contentMatchAt(Ar).findWrapping(or);if(!ur)return null;let dr=ur.length?ur[0]:or;return lr.canReplaceWith(Ar,cr,dr)?ur:null}function findWrappingInside(ar,or){let{parent:lr,startIndex:Ar,endIndex:cr}=ar,ur=lr.child(Ar),dr=or.contentMatch.findWrapping(ur.type);if(!dr)return null;let fr=(dr.length?dr[dr.length-1]:or).contentMatch;for(let gr=Ar;fr&&gr<cr;gr++)fr=fr.matchType(lr.child(gr).type);return!fr||!fr.validEnd?null:dr}function wrap(ar,or,lr){let Ar=Fragment.empty;for(let dr=lr.length-1;dr>=0;dr--){if(Ar.size){let hr=lr[dr].type.contentMatch.matchFragment(Ar);if(!hr||!hr.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}Ar=Fragment.from(lr[dr].type.create(lr[dr].attrs,Ar))}let cr=or.start,ur=or.end;ar.step(new ReplaceAroundStep(cr,ur,cr,ur,new Slice(Ar,0,0),lr.length,!0))}function setBlockType$1(ar,or,lr,Ar,cr){if(!Ar.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let ur=ar.steps.length;ar.doc.nodesBetween(or,lr,(dr,hr)=>{let fr=typeof cr=="function"?cr(dr):cr;if(dr.isTextblock&&!dr.hasMarkup(Ar,fr)&&canChangeType(ar.doc,ar.mapping.slice(ur).map(hr),Ar)){let gr=null;if(Ar.schema.linebreakReplacement){let vr=Ar.whitespace=="pre",br=!!Ar.contentMatch.matchType(Ar.schema.linebreakReplacement);vr&&!br?gr=!1:!vr&&br&&(gr=!0)}gr===!1&&replaceLinebreaks(ar,dr,hr,ur),clearIncompatible(ar,ar.mapping.slice(ur).map(hr,1),Ar,void 0,gr===null);let pr=ar.mapping.slice(ur),mr=pr.map(hr,1),yr=pr.map(hr+dr.nodeSize,1);return ar.step(new ReplaceAroundStep(mr,yr,mr+1,yr-1,new Slice(Fragment.from(Ar.create(fr,null,dr.marks)),0,0),1,!0)),gr===!0&&replaceNewlines(ar,dr,hr,ur),!1}})}function replaceNewlines(ar,or,lr,Ar){or.forEach((cr,ur)=>{if(cr.isText){let dr,hr=/\r?\n|\r/g;for(;dr=hr.exec(cr.text);){let fr=ar.mapping.slice(Ar).map(lr+1+ur+dr.index);ar.replaceWith(fr,fr+1,or.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(ar,or,lr,Ar){or.forEach((cr,ur)=>{if(cr.type==cr.type.schema.linebreakReplacement){let dr=ar.mapping.slice(Ar).map(lr+1+ur);ar.replaceWith(dr,dr+1,or.type.schema.text(`
`))}})}function canChangeType(ar,or,lr){let Ar=ar.resolve(or),cr=Ar.index();return Ar.parent.canReplaceWith(cr,cr+1,lr)}function setNodeMarkup(ar,or,lr,Ar,cr){let ur=ar.doc.nodeAt(or);if(!ur)throw new RangeError("No node at given position");lr||(lr=ur.type);let dr=lr.create(Ar,null,cr||ur.marks);if(ur.isLeaf)return ar.replaceWith(or,or+ur.nodeSize,dr);if(!lr.validContent(ur.content))throw new RangeError("Invalid content for node type "+lr.name);ar.step(new ReplaceAroundStep(or,or+ur.nodeSize,or+1,or+ur.nodeSize-1,new Slice(Fragment.from(dr),0,0),1,!0))}function canSplit(ar,or,lr=1,Ar){let cr=ar.resolve(or),ur=cr.depth-lr,dr=Ar&&Ar[Ar.length-1]||cr.parent;if(ur<0||cr.parent.type.spec.isolating||!cr.parent.canReplace(cr.index(),cr.parent.childCount)||!dr.type.validContent(cr.parent.content.cutByIndex(cr.index(),cr.parent.childCount)))return!1;for(let gr=cr.depth-1,pr=lr-2;gr>ur;gr--,pr--){let mr=cr.node(gr),yr=cr.index(gr);if(mr.type.spec.isolating)return!1;let vr=mr.content.cutByIndex(yr,mr.childCount),br=Ar&&Ar[pr+1];br&&(vr=vr.replaceChild(0,br.type.create(br.attrs)));let wr=Ar&&Ar[pr]||mr;if(!mr.canReplace(yr+1,mr.childCount)||!wr.type.validContent(vr))return!1}let hr=cr.indexAfter(ur),fr=Ar&&Ar[0];return cr.node(ur).canReplaceWith(hr,hr,fr?fr.type:cr.node(ur+1).type)}function split(ar,or,lr=1,Ar){let cr=ar.doc.resolve(or),ur=Fragment.empty,dr=Fragment.empty;for(let hr=cr.depth,fr=cr.depth-lr,gr=lr-1;hr>fr;hr--,gr--){ur=Fragment.from(cr.node(hr).copy(ur));let pr=Ar&&Ar[gr];dr=Fragment.from(pr?pr.type.create(pr.attrs,dr):cr.node(hr).copy(dr))}ar.step(new ReplaceStep(or,or,new Slice(ur.append(dr),lr,lr),!0))}function canJoin(ar,or){let lr=ar.resolve(or),Ar=lr.index();return joinable(lr.nodeBefore,lr.nodeAfter)&&lr.parent.canReplace(Ar,Ar+1)}function canAppendWithSubstitutedLinebreaks(ar,or){or.content.size||ar.type.compatibleContent(or.type);let lr=ar.contentMatchAt(ar.childCount),{linebreakReplacement:Ar}=ar.type.schema;for(let cr=0;cr<or.childCount;cr++){let ur=or.child(cr),dr=ur.type==Ar?ar.type.schema.nodes.text:ur.type;if(lr=lr.matchType(dr),!lr||!ar.type.allowsMarks(ur.marks))return!1}return lr.validEnd}function joinable(ar,or){return!!(ar&&or&&!ar.isLeaf&&canAppendWithSubstitutedLinebreaks(ar,or))}function joinPoint(ar,or,lr=-1){let Ar=ar.resolve(or);for(let cr=Ar.depth;;cr--){let ur,dr,hr=Ar.index(cr);if(cr==Ar.depth?(ur=Ar.nodeBefore,dr=Ar.nodeAfter):lr>0?(ur=Ar.node(cr+1),hr++,dr=Ar.node(cr).maybeChild(hr)):(ur=Ar.node(cr).maybeChild(hr-1),dr=Ar.node(cr+1)),ur&&!ur.isTextblock&&joinable(ur,dr)&&Ar.node(cr).canReplace(hr,hr+1))return or;if(cr==0)break;or=lr<0?Ar.before(cr):Ar.after(cr)}}function join(ar,or,lr){let Ar=null,{linebreakReplacement:cr}=ar.doc.type.schema,ur=ar.doc.resolve(or-lr),dr=ur.node().type;if(cr&&dr.inlineContent){let pr=dr.whitespace=="pre",mr=!!dr.contentMatch.matchType(cr);pr&&!mr?Ar=!1:!pr&&mr&&(Ar=!0)}let hr=ar.steps.length;if(Ar===!1){let pr=ar.doc.resolve(or+lr);replaceLinebreaks(ar,pr.node(),pr.before(),hr)}dr.inlineContent&&clearIncompatible(ar,or+lr-1,dr,ur.node().contentMatchAt(ur.index()),Ar==null);let fr=ar.mapping.slice(hr),gr=fr.map(or-lr);if(ar.step(new ReplaceStep(gr,fr.map(or+lr,-1),Slice.empty,!0)),Ar===!0){let pr=ar.doc.resolve(gr);replaceNewlines(ar,pr.node(),pr.before(),ar.steps.length)}return ar}function insertPoint(ar,or,lr){let Ar=ar.resolve(or);if(Ar.parent.canReplaceWith(Ar.index(),Ar.index(),lr))return or;if(Ar.parentOffset==0)for(let cr=Ar.depth-1;cr>=0;cr--){let ur=Ar.index(cr);if(Ar.node(cr).canReplaceWith(ur,ur,lr))return Ar.before(cr+1);if(ur>0)return null}if(Ar.parentOffset==Ar.parent.content.size)for(let cr=Ar.depth-1;cr>=0;cr--){let ur=Ar.indexAfter(cr);if(Ar.node(cr).canReplaceWith(ur,ur,lr))return Ar.after(cr+1);if(ur<Ar.node(cr).childCount)return null}return null}function dropPoint(ar,or,lr){let Ar=ar.resolve(or);if(!lr.content.size)return or;let cr=lr.content;for(let ur=0;ur<lr.openStart;ur++)cr=cr.firstChild.content;for(let ur=1;ur<=(lr.openStart==0&&lr.size?2:1);ur++)for(let dr=Ar.depth;dr>=0;dr--){let hr=dr==Ar.depth?0:Ar.pos<=(Ar.start(dr+1)+Ar.end(dr+1))/2?-1:1,fr=Ar.index(dr)+(hr>0?1:0),gr=Ar.node(dr),pr=!1;if(ur==1)pr=gr.canReplace(fr,fr,cr);else{let mr=gr.contentMatchAt(fr).findWrapping(cr.firstChild.type);pr=mr&&gr.canReplaceWith(fr,fr,mr[0])}if(pr)return hr==0?Ar.pos:hr<0?Ar.before(dr+1):Ar.after(dr+1)}return null}function replaceStep(ar,or,lr=or,Ar=Slice.empty){if(or==lr&&!Ar.size)return null;let cr=ar.resolve(or),ur=ar.resolve(lr);return fitsTrivially(cr,ur,Ar)?new ReplaceStep(or,lr,Ar):new Fitter(cr,ur,Ar).fit()}function fitsTrivially(ar,or,lr){return!lr.openStart&&!lr.openEnd&&ar.start()==or.start()&&ar.parent.canReplace(ar.index(),or.index(),lr.content)}class Fitter{constructor(or,lr,Ar){this.$from=or,this.$to=lr,this.unplaced=Ar,this.frontier=[],this.placed=Fragment.empty;for(let cr=0;cr<=or.depth;cr++){let ur=or.node(cr);this.frontier.push({type:ur.type,match:ur.contentMatchAt(or.indexAfter(cr))})}for(let cr=or.depth;cr>0;cr--)this.placed=Fragment.from(or.node(cr).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let gr=this.findFittable();gr?this.placeNodes(gr):this.openMore()||this.dropNode()}let or=this.mustMoveInline(),lr=this.placed.size-this.depth-this.$from.depth,Ar=this.$from,cr=this.close(or<0?this.$to:Ar.doc.resolve(or));if(!cr)return null;let ur=this.placed,dr=Ar.depth,hr=cr.depth;for(;dr&&hr&&ur.childCount==1;)ur=ur.firstChild.content,dr--,hr--;let fr=new Slice(ur,dr,hr);return or>-1?new ReplaceAroundStep(Ar.pos,or,this.$to.pos,this.$to.end(),fr,lr):fr.size||Ar.pos!=this.$to.pos?new ReplaceStep(Ar.pos,cr.pos,fr):null}findFittable(){let or=this.unplaced.openStart;for(let lr=this.unplaced.content,Ar=0,cr=this.unplaced.openEnd;Ar<or;Ar++){let ur=lr.firstChild;if(lr.childCount>1&&(cr=0),ur.type.spec.isolating&&cr<=Ar){or=Ar;break}lr=ur.content}for(let lr=1;lr<=2;lr++)for(let Ar=lr==1?or:this.unplaced.openStart;Ar>=0;Ar--){let cr,ur=null;Ar?(ur=contentAt(this.unplaced.content,Ar-1).firstChild,cr=ur.content):cr=this.unplaced.content;let dr=cr.firstChild;for(let hr=this.depth;hr>=0;hr--){let{type:fr,match:gr}=this.frontier[hr],pr,mr=null;if(lr==1&&(dr?gr.matchType(dr.type)||(mr=gr.fillBefore(Fragment.from(dr),!1)):ur&&fr.compatibleContent(ur.type)))return{sliceDepth:Ar,frontierDepth:hr,parent:ur,inject:mr};if(lr==2&&dr&&(pr=gr.findWrapping(dr.type)))return{sliceDepth:Ar,frontierDepth:hr,parent:ur,wrap:pr};if(ur&&gr.matchType(ur.type))break}}}openMore(){let{content:or,openStart:lr,openEnd:Ar}=this.unplaced,cr=contentAt(or,lr);return!cr.childCount||cr.firstChild.isLeaf?!1:(this.unplaced=new Slice(or,lr+1,Math.max(Ar,cr.size+lr>=or.size-Ar?lr+1:0)),!0)}dropNode(){let{content:or,openStart:lr,openEnd:Ar}=this.unplaced,cr=contentAt(or,lr);if(cr.childCount<=1&&lr>0){let ur=or.size-lr<=lr+cr.size;this.unplaced=new Slice(dropFromFragment(or,lr-1,1),lr-1,ur?lr-1:Ar)}else this.unplaced=new Slice(dropFromFragment(or,lr,1),lr,Ar)}placeNodes({sliceDepth:or,frontierDepth:lr,parent:Ar,inject:cr,wrap:ur}){for(;this.depth>lr;)this.closeFrontierNode();if(ur)for(let wr=0;wr<ur.length;wr++)this.openFrontierNode(ur[wr]);let dr=this.unplaced,hr=Ar?Ar.content:dr.content,fr=dr.openStart-or,gr=0,pr=[],{match:mr,type:yr}=this.frontier[lr];if(cr){for(let wr=0;wr<cr.childCount;wr++)pr.push(cr.child(wr));mr=mr.matchFragment(cr)}let vr=hr.size+or-(dr.content.size-dr.openEnd);for(;gr<hr.childCount;){let wr=hr.child(gr),Cr=mr.matchType(wr.type);if(!Cr)break;gr++,(gr>1||fr==0||wr.content.size)&&(mr=Cr,pr.push(closeNodeStart(wr.mark(yr.allowedMarks(wr.marks)),gr==1?fr:0,gr==hr.childCount?vr:-1)))}let br=gr==hr.childCount;br||(vr=-1),this.placed=addToFragment(this.placed,lr,Fragment.from(pr)),this.frontier[lr].match=mr,br&&vr<0&&Ar&&Ar.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let wr=0,Cr=hr;wr<vr;wr++){let Br=Cr.lastChild;this.frontier.push({type:Br.type,match:Br.contentMatchAt(Br.childCount)}),Cr=Br.content}this.unplaced=br?or==0?Slice.empty:new Slice(dropFromFragment(dr.content,or-1,1),or-1,vr<0?dr.openEnd:or-1):new Slice(dropFromFragment(dr.content,or,gr),dr.openStart,dr.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let or=this.frontier[this.depth],lr;if(!or.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,or.type,or.match,!1)||this.$to.depth==this.depth&&(lr=this.findCloseLevel(this.$to))&&lr.depth==this.depth)return-1;let{depth:Ar}=this.$to,cr=this.$to.after(Ar);for(;Ar>1&&cr==this.$to.end(--Ar);)++cr;return cr}findCloseLevel(or){e:for(let lr=Math.min(this.depth,or.depth);lr>=0;lr--){let{match:Ar,type:cr}=this.frontier[lr],ur=lr<or.depth&&or.end(lr+1)==or.pos+(or.depth-(lr+1)),dr=contentAfterFits(or,lr,cr,Ar,ur);if(dr){for(let hr=lr-1;hr>=0;hr--){let{match:fr,type:gr}=this.frontier[hr],pr=contentAfterFits(or,hr,gr,fr,!0);if(!pr||pr.childCount)continue e}return{depth:lr,fit:dr,move:ur?or.doc.resolve(or.after(lr+1)):or}}}}close(or){let lr=this.findCloseLevel(or);if(!lr)return null;for(;this.depth>lr.depth;)this.closeFrontierNode();lr.fit.childCount&&(this.placed=addToFragment(this.placed,lr.depth,lr.fit)),or=lr.move;for(let Ar=lr.depth+1;Ar<=or.depth;Ar++){let cr=or.node(Ar),ur=cr.type.contentMatch.fillBefore(cr.content,!0,or.index(Ar));this.openFrontierNode(cr.type,cr.attrs,ur)}return or}openFrontierNode(or,lr=null,Ar){let cr=this.frontier[this.depth];cr.match=cr.match.matchType(or),this.placed=addToFragment(this.placed,this.depth,Fragment.from(or.create(lr,Ar))),this.frontier.push({type:or,match:or.contentMatch})}closeFrontierNode(){let lr=this.frontier.pop().match.fillBefore(Fragment.empty,!0);lr.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,lr))}}function dropFromFragment(ar,or,lr){return or==0?ar.cutByIndex(lr,ar.childCount):ar.replaceChild(0,ar.firstChild.copy(dropFromFragment(ar.firstChild.content,or-1,lr)))}function addToFragment(ar,or,lr){return or==0?ar.append(lr):ar.replaceChild(ar.childCount-1,ar.lastChild.copy(addToFragment(ar.lastChild.content,or-1,lr)))}function contentAt(ar,or){for(let lr=0;lr<or;lr++)ar=ar.firstChild.content;return ar}function closeNodeStart(ar,or,lr){if(or<=0)return ar;let Ar=ar.content;return or>1&&(Ar=Ar.replaceChild(0,closeNodeStart(Ar.firstChild,or-1,Ar.childCount==1?lr-1:0))),or>0&&(Ar=ar.type.contentMatch.fillBefore(Ar).append(Ar),lr<=0&&(Ar=Ar.append(ar.type.contentMatch.matchFragment(Ar).fillBefore(Fragment.empty,!0)))),ar.copy(Ar)}function contentAfterFits(ar,or,lr,Ar,cr){let ur=ar.node(or),dr=cr?ar.indexAfter(or):ar.index(or);if(dr==ur.childCount&&!lr.compatibleContent(ur.type))return null;let hr=Ar.fillBefore(ur.content,!0,dr);return hr&&!invalidMarks(lr,ur.content,dr)?hr:null}function invalidMarks(ar,or,lr){for(let Ar=lr;Ar<or.childCount;Ar++)if(!ar.allowsMarks(or.child(Ar).marks))return!0;return!1}function definesContent(ar){return ar.spec.defining||ar.spec.definingForContent}function replaceRange(ar,or,lr,Ar){if(!Ar.size)return ar.deleteRange(or,lr);let cr=ar.doc.resolve(or),ur=ar.doc.resolve(lr);if(fitsTrivially(cr,ur,Ar))return ar.step(new ReplaceStep(or,lr,Ar));let dr=coveredDepths(cr,ar.doc.resolve(lr));dr[dr.length-1]==0&&dr.pop();let hr=-(cr.depth+1);dr.unshift(hr);for(let yr=cr.depth,vr=cr.pos-1;yr>0;yr--,vr--){let br=cr.node(yr).type.spec;if(br.defining||br.definingAsContext||br.isolating)break;dr.indexOf(yr)>-1?hr=yr:cr.before(yr)==vr&&dr.splice(1,0,-yr)}let fr=dr.indexOf(hr),gr=[],pr=Ar.openStart;for(let yr=Ar.content,vr=0;;vr++){let br=yr.firstChild;if(gr.push(br),vr==Ar.openStart)break;yr=br.content}for(let yr=pr-1;yr>=0;yr--){let vr=gr[yr],br=definesContent(vr.type);if(br&&!vr.sameMarkup(cr.node(Math.abs(hr)-1)))pr=yr;else if(br||!vr.type.isTextblock)break}for(let yr=Ar.openStart;yr>=0;yr--){let vr=(yr+pr+1)%(Ar.openStart+1),br=gr[vr];if(br)for(let wr=0;wr<dr.length;wr++){let Cr=dr[(wr+fr)%dr.length],Br=!0;Cr<0&&(Br=!1,Cr=-Cr);let Sr=cr.node(Cr-1),Er=cr.index(Cr-1);if(Sr.canReplaceWith(Er,Er,br.type,br.marks))return ar.replace(cr.before(Cr),Br?ur.after(Cr):lr,new Slice(closeFragment(Ar.content,0,Ar.openStart,vr),vr,Ar.openEnd))}}let mr=ar.steps.length;for(let yr=dr.length-1;yr>=0&&(ar.replace(or,lr,Ar),!(ar.steps.length>mr));yr--){let vr=dr[yr];vr<0||(or=cr.before(vr),lr=ur.after(vr))}}function closeFragment(ar,or,lr,Ar,cr){if(or<lr){let ur=ar.firstChild;ar=ar.replaceChild(0,ur.copy(closeFragment(ur.content,or+1,lr,Ar,ur)))}if(or>Ar){let ur=cr.contentMatchAt(0),dr=ur.fillBefore(ar).append(ar);ar=dr.append(ur.matchFragment(dr).fillBefore(Fragment.empty,!0))}return ar}function replaceRangeWith(ar,or,lr,Ar){if(!Ar.isInline&&or==lr&&ar.doc.resolve(or).parent.content.size){let cr=insertPoint(ar.doc,or,Ar.type);cr!=null&&(or=lr=cr)}ar.replaceRange(or,lr,new Slice(Fragment.from(Ar),0,0))}function deleteRange$1(ar,or,lr){let Ar=ar.doc.resolve(or),cr=ar.doc.resolve(lr),ur=coveredDepths(Ar,cr);for(let dr=0;dr<ur.length;dr++){let hr=ur[dr],fr=dr==ur.length-1;if(fr&&hr==0||Ar.node(hr).type.contentMatch.validEnd)return ar.delete(Ar.start(hr),cr.end(hr));if(hr>0&&(fr||Ar.node(hr-1).canReplace(Ar.index(hr-1),cr.indexAfter(hr-1))))return ar.delete(Ar.before(hr),cr.after(hr))}for(let dr=1;dr<=Ar.depth&&dr<=cr.depth;dr++)if(or-Ar.start(dr)==Ar.depth-dr&&lr>Ar.end(dr)&&cr.end(dr)-lr!=cr.depth-dr&&Ar.start(dr-1)==cr.start(dr-1)&&Ar.node(dr-1).canReplace(Ar.index(dr-1),cr.index(dr-1)))return ar.delete(Ar.before(dr),lr);ar.delete(or,lr)}function coveredDepths(ar,or){let lr=[],Ar=Math.min(ar.depth,or.depth);for(let cr=Ar;cr>=0;cr--){let ur=ar.start(cr);if(ur<ar.pos-(ar.depth-cr)||or.end(cr)>or.pos+(or.depth-cr)||ar.node(cr).type.spec.isolating||or.node(cr).type.spec.isolating)break;(ur==or.start(cr)||cr==ar.depth&&cr==or.depth&&ar.parent.inlineContent&&or.parent.inlineContent&&cr&&or.start(cr-1)==ur-1)&&lr.push(cr)}return lr}class AttrStep extends Step{constructor(or,lr,Ar){super(),this.pos=or,this.attr=lr,this.value=Ar}apply(or){let lr=or.nodeAt(this.pos);if(!lr)return StepResult.fail("No node at attribute step's position");let Ar=Object.create(null);for(let ur in lr.attrs)Ar[ur]=lr.attrs[ur];Ar[this.attr]=this.value;let cr=lr.type.create(Ar,null,lr.marks);return StepResult.fromReplace(or,this.pos,this.pos+1,new Slice(Fragment.from(cr),0,lr.isLeaf?0:1))}getMap(){return StepMap.empty}invert(or){return new AttrStep(this.pos,this.attr,or.nodeAt(this.pos).attrs[this.attr])}map(or){let lr=or.mapResult(this.pos,1);return lr.deletedAfter?null:new AttrStep(lr.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(or,lr){if(typeof lr.pos!="number"||typeof lr.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(lr.pos,lr.attr,lr.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(or,lr){super(),this.attr=or,this.value=lr}apply(or){let lr=Object.create(null);for(let cr in or.attrs)lr[cr]=or.attrs[cr];lr[this.attr]=this.value;let Ar=or.type.create(lr,or.content,or.marks);return StepResult.ok(Ar)}getMap(){return StepMap.empty}invert(or){return new DocAttrStep(this.attr,or.attrs[this.attr])}map(or){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(or,lr){if(typeof lr.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(lr.attr,lr.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function ar(or){let lr=Error.call(this,or);return lr.__proto__=ar.prototype,lr};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(or){this.doc=or,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(or){let lr=this.maybeStep(or);if(lr.failed)throw new TransformError(lr.failed);return this}maybeStep(or){let lr=or.apply(this.doc);return lr.failed||this.addStep(or,lr.doc),lr}get docChanged(){return this.steps.length>0}addStep(or,lr){this.docs.push(this.doc),this.steps.push(or),this.mapping.appendMap(or.getMap()),this.doc=lr}replace(or,lr=or,Ar=Slice.empty){let cr=replaceStep(this.doc,or,lr,Ar);return cr&&this.step(cr),this}replaceWith(or,lr,Ar){return this.replace(or,lr,new Slice(Fragment.from(Ar),0,0))}delete(or,lr){return this.replace(or,lr,Slice.empty)}insert(or,lr){return this.replaceWith(or,or,lr)}replaceRange(or,lr,Ar){return replaceRange(this,or,lr,Ar),this}replaceRangeWith(or,lr,Ar){return replaceRangeWith(this,or,lr,Ar),this}deleteRange(or,lr){return deleteRange$1(this,or,lr),this}lift(or,lr){return lift$2(this,or,lr),this}join(or,lr=1){return join(this,or,lr),this}wrap(or,lr){return wrap(this,or,lr),this}setBlockType(or,lr=or,Ar,cr=null){return setBlockType$1(this,or,lr,Ar,cr),this}setNodeMarkup(or,lr,Ar=null,cr){return setNodeMarkup(this,or,lr,Ar,cr),this}setNodeAttribute(or,lr,Ar){return this.step(new AttrStep(or,lr,Ar)),this}setDocAttribute(or,lr){return this.step(new DocAttrStep(or,lr)),this}addNodeMark(or,lr){return this.step(new AddNodeMarkStep(or,lr)),this}removeNodeMark(or,lr){let Ar=this.doc.nodeAt(or);if(!Ar)throw new RangeError("No node at position "+or);if(lr instanceof Mark$1)lr.isInSet(Ar.marks)&&this.step(new RemoveNodeMarkStep(or,lr));else{let cr=Ar.marks,ur,dr=[];for(;ur=lr.isInSet(cr);)dr.push(new RemoveNodeMarkStep(or,ur)),cr=ur.removeFromSet(cr);for(let hr=dr.length-1;hr>=0;hr--)this.step(dr[hr])}return this}split(or,lr=1,Ar){return split(this,or,lr,Ar),this}addMark(or,lr,Ar){return addMark(this,or,lr,Ar),this}removeMark(or,lr,Ar){return removeMark(this,or,lr,Ar),this}clearIncompatible(or,lr,Ar){return clearIncompatible(this,or,lr,Ar),this}}const classesById=Object.create(null);class Selection{constructor(or,lr,Ar){this.$anchor=or,this.$head=lr,this.ranges=Ar||[new SelectionRange(or.min(lr),or.max(lr))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let or=this.ranges;for(let lr=0;lr<or.length;lr++)if(or[lr].$from.pos!=or[lr].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(or,lr=Slice.empty){let Ar=lr.content.lastChild,cr=null;for(let hr=0;hr<lr.openEnd;hr++)cr=Ar,Ar=Ar.lastChild;let ur=or.steps.length,dr=this.ranges;for(let hr=0;hr<dr.length;hr++){let{$from:fr,$to:gr}=dr[hr],pr=or.mapping.slice(ur);or.replaceRange(pr.map(fr.pos),pr.map(gr.pos),hr?Slice.empty:lr),hr==0&&selectionToInsertionEnd$1(or,ur,(Ar?Ar.isInline:cr&&cr.isTextblock)?-1:1)}}replaceWith(or,lr){let Ar=or.steps.length,cr=this.ranges;for(let ur=0;ur<cr.length;ur++){let{$from:dr,$to:hr}=cr[ur],fr=or.mapping.slice(Ar),gr=fr.map(dr.pos),pr=fr.map(hr.pos);ur?or.deleteRange(gr,pr):(or.replaceRangeWith(gr,pr,lr),selectionToInsertionEnd$1(or,Ar,lr.isInline?-1:1))}}static findFrom(or,lr,Ar=!1){let cr=or.parent.inlineContent?new TextSelection(or):findSelectionIn(or.node(0),or.parent,or.pos,or.index(),lr,Ar);if(cr)return cr;for(let ur=or.depth-1;ur>=0;ur--){let dr=lr<0?findSelectionIn(or.node(0),or.node(ur),or.before(ur+1),or.index(ur),lr,Ar):findSelectionIn(or.node(0),or.node(ur),or.after(ur+1),or.index(ur)+1,lr,Ar);if(dr)return dr}return null}static near(or,lr=1){return this.findFrom(or,lr)||this.findFrom(or,-lr)||new AllSelection(or.node(0))}static atStart(or){return findSelectionIn(or,or,0,0,1)||new AllSelection(or)}static atEnd(or){return findSelectionIn(or,or,or.content.size,or.childCount,-1)||new AllSelection(or)}static fromJSON(or,lr){if(!lr||!lr.type)throw new RangeError("Invalid input for Selection.fromJSON");let Ar=classesById[lr.type];if(!Ar)throw new RangeError(`No selection type ${lr.type} defined`);return Ar.fromJSON(or,lr)}static jsonID(or,lr){if(or in classesById)throw new RangeError("Duplicate use of selection JSON ID "+or);return classesById[or]=lr,lr.prototype.jsonID=or,lr}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(or,lr){this.$from=or,this.$to=lr}}let warnedAboutTextSelection=!1;function checkTextSelection(ar){!warnedAboutTextSelection&&!ar.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+ar.parent.type.name+")"))}class TextSelection extends Selection{constructor(or,lr=or){checkTextSelection(or),checkTextSelection(lr),super(or,lr)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(or,lr){let Ar=or.resolve(lr.map(this.head));if(!Ar.parent.inlineContent)return Selection.near(Ar);let cr=or.resolve(lr.map(this.anchor));return new TextSelection(cr.parent.inlineContent?cr:Ar,Ar)}replace(or,lr=Slice.empty){if(super.replace(or,lr),lr==Slice.empty){let Ar=this.$from.marksAcross(this.$to);Ar&&or.ensureMarks(Ar)}}eq(or){return or instanceof TextSelection&&or.anchor==this.anchor&&or.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(or,lr){if(typeof lr.anchor!="number"||typeof lr.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(or.resolve(lr.anchor),or.resolve(lr.head))}static create(or,lr,Ar=lr){let cr=or.resolve(lr);return new this(cr,Ar==lr?cr:or.resolve(Ar))}static between(or,lr,Ar){let cr=or.pos-lr.pos;if((!Ar||cr)&&(Ar=cr>=0?1:-1),!lr.parent.inlineContent){let ur=Selection.findFrom(lr,Ar,!0)||Selection.findFrom(lr,-Ar,!0);if(ur)lr=ur.$head;else return Selection.near(lr,Ar)}return or.parent.inlineContent||(cr==0?or=lr:(or=(Selection.findFrom(or,-Ar,!0)||Selection.findFrom(or,Ar,!0)).$anchor,or.pos<lr.pos!=cr<0&&(or=lr))),new TextSelection(or,lr)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(or,lr){this.anchor=or,this.head=lr}map(or){return new TextBookmark(or.map(this.anchor),or.map(this.head))}resolve(or){return TextSelection.between(or.resolve(this.anchor),or.resolve(this.head))}}class NodeSelection extends Selection{constructor(or){let lr=or.nodeAfter,Ar=or.node(0).resolve(or.pos+lr.nodeSize);super(or,Ar),this.node=lr}map(or,lr){let{deleted:Ar,pos:cr}=lr.mapResult(this.anchor),ur=or.resolve(cr);return Ar?Selection.near(ur):new NodeSelection(ur)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(or){return or instanceof NodeSelection&&or.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(or,lr){if(typeof lr.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(or.resolve(lr.anchor))}static create(or,lr){return new NodeSelection(or.resolve(lr))}static isSelectable(or){return!or.isText&&or.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(or){this.anchor=or}map(or){let{deleted:lr,pos:Ar}=or.mapResult(this.anchor);return lr?new TextBookmark(Ar,Ar):new NodeBookmark(Ar)}resolve(or){let lr=or.resolve(this.anchor),Ar=lr.nodeAfter;return Ar&&NodeSelection.isSelectable(Ar)?new NodeSelection(lr):Selection.near(lr)}}class AllSelection extends Selection{constructor(or){super(or.resolve(0),or.resolve(or.content.size))}replace(or,lr=Slice.empty){if(lr==Slice.empty){or.delete(0,or.doc.content.size);let Ar=Selection.atStart(or.doc);Ar.eq(or.selection)||or.setSelection(Ar)}else super.replace(or,lr)}toJSON(){return{type:"all"}}static fromJSON(or){return new AllSelection(or)}map(or){return new AllSelection(or)}eq(or){return or instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(ar){return new AllSelection(ar)}};function findSelectionIn(ar,or,lr,Ar,cr,ur=!1){if(or.inlineContent)return TextSelection.create(ar,lr);for(let dr=Ar-(cr>0?0:1);cr>0?dr<or.childCount:dr>=0;dr+=cr){let hr=or.child(dr);if(hr.isAtom){if(!ur&&NodeSelection.isSelectable(hr))return NodeSelection.create(ar,lr-(cr<0?hr.nodeSize:0))}else{let fr=findSelectionIn(ar,hr,lr+cr,cr<0?hr.childCount:0,cr,ur);if(fr)return fr}lr+=hr.nodeSize*cr}return null}function selectionToInsertionEnd$1(ar,or,lr){let Ar=ar.steps.length-1;if(Ar<or)return;let cr=ar.steps[Ar];if(!(cr instanceof ReplaceStep||cr instanceof ReplaceAroundStep))return;let ur=ar.mapping.maps[Ar],dr;ur.forEach((hr,fr,gr,pr)=>{dr==null&&(dr=pr)}),ar.setSelection(Selection.near(ar.doc.resolve(dr),lr))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(or){super(or.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=or.selection,this.storedMarks=or.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(or){if(or.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=or,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(or){return this.storedMarks=or,this.updated|=UPDATED_MARKS,this}ensureMarks(or){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),or)||this.setStoredMarks(or),this}addStoredMark(or){return this.ensureMarks(or.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(or){return this.ensureMarks(or.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(or,lr){super.addStep(or,lr),this.updated=this.updated&-3,this.storedMarks=null}setTime(or){return this.time=or,this}replaceSelection(or){return this.selection.replace(this,or),this}replaceSelectionWith(or,lr=!0){let Ar=this.selection;return lr&&(or=or.mark(this.storedMarks||(Ar.empty?Ar.$from.marks():Ar.$from.marksAcross(Ar.$to)||Mark$1.none))),Ar.replaceWith(this,or),this}deleteSelection(){return this.selection.replace(this),this}insertText(or,lr,Ar){let cr=this.doc.type.schema;if(lr==null)return or?this.replaceSelectionWith(cr.text(or),!0):this.deleteSelection();{if(Ar==null&&(Ar=lr),Ar=Ar??lr,!or)return this.deleteRange(lr,Ar);let ur=this.storedMarks;if(!ur){let dr=this.doc.resolve(lr);ur=Ar==lr?dr.marks():dr.marksAcross(this.doc.resolve(Ar))}return this.replaceRangeWith(lr,Ar,cr.text(or,ur)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(or,lr){return this.meta[typeof or=="string"?or:or.key]=lr,this}getMeta(or){return this.meta[typeof or=="string"?or:or.key]}get isGeneric(){for(let or in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(ar,or){return!or||!ar?ar:ar.bind(or)}class FieldDesc{constructor(or,lr,Ar){this.name=or,this.init=bind(lr.init,Ar),this.apply=bind(lr.apply,Ar)}}const baseFields=[new FieldDesc("doc",{init(ar){return ar.doc||ar.schema.topNodeType.createAndFill()},apply(ar){return ar.doc}}),new FieldDesc("selection",{init(ar,or){return ar.selection||Selection.atStart(or.doc)},apply(ar){return ar.selection}}),new FieldDesc("storedMarks",{init(ar){return ar.storedMarks||null},apply(ar,or,lr,Ar){return Ar.selection.$cursor?ar.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(ar,or){return ar.scrolledIntoView?or+1:or}})];class Configuration{constructor(or,lr){this.schema=or,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),lr&&lr.forEach(Ar=>{if(this.pluginsByKey[Ar.key])throw new RangeError("Adding different instances of a keyed plugin ("+Ar.key+")");this.plugins.push(Ar),this.pluginsByKey[Ar.key]=Ar,Ar.spec.state&&this.fields.push(new FieldDesc(Ar.key,Ar.spec.state,Ar))})}}class EditorState{constructor(or){this.config=or}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(or){return this.applyTransaction(or).state}filterTransaction(or,lr=-1){for(let Ar=0;Ar<this.config.plugins.length;Ar++)if(Ar!=lr){let cr=this.config.plugins[Ar];if(cr.spec.filterTransaction&&!cr.spec.filterTransaction.call(cr,or,this))return!1}return!0}applyTransaction(or){if(!this.filterTransaction(or))return{state:this,transactions:[]};let lr=[or],Ar=this.applyInner(or),cr=null;for(;;){let ur=!1;for(let dr=0;dr<this.config.plugins.length;dr++){let hr=this.config.plugins[dr];if(hr.spec.appendTransaction){let fr=cr?cr[dr].n:0,gr=cr?cr[dr].state:this,pr=fr<lr.length&&hr.spec.appendTransaction.call(hr,fr?lr.slice(fr):lr,gr,Ar);if(pr&&Ar.filterTransaction(pr,dr)){if(pr.setMeta("appendedTransaction",or),!cr){cr=[];for(let mr=0;mr<this.config.plugins.length;mr++)cr.push(mr<dr?{state:Ar,n:lr.length}:{state:this,n:0})}lr.push(pr),Ar=Ar.applyInner(pr),ur=!0}cr&&(cr[dr]={state:Ar,n:lr.length})}}if(!ur)return{state:Ar,transactions:lr}}}applyInner(or){if(!or.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let lr=new EditorState(this.config),Ar=this.config.fields;for(let cr=0;cr<Ar.length;cr++){let ur=Ar[cr];lr[ur.name]=ur.apply(or,this[ur.name],this,lr)}return lr}get tr(){return new Transaction(this)}static create(or){let lr=new Configuration(or.doc?or.doc.type.schema:or.schema,or.plugins),Ar=new EditorState(lr);for(let cr=0;cr<lr.fields.length;cr++)Ar[lr.fields[cr].name]=lr.fields[cr].init(or,Ar);return Ar}reconfigure(or){let lr=new Configuration(this.schema,or.plugins),Ar=lr.fields,cr=new EditorState(lr);for(let ur=0;ur<Ar.length;ur++){let dr=Ar[ur].name;cr[dr]=this.hasOwnProperty(dr)?this[dr]:Ar[ur].init(or,cr)}return cr}toJSON(or){let lr={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(lr.storedMarks=this.storedMarks.map(Ar=>Ar.toJSON())),or&&typeof or=="object")for(let Ar in or){if(Ar=="doc"||Ar=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let cr=or[Ar],ur=cr.spec.state;ur&&ur.toJSON&&(lr[Ar]=ur.toJSON.call(cr,this[cr.key]))}return lr}static fromJSON(or,lr,Ar){if(!lr)throw new RangeError("Invalid input for EditorState.fromJSON");if(!or.schema)throw new RangeError("Required config field 'schema' missing");let cr=new Configuration(or.schema,or.plugins),ur=new EditorState(cr);return cr.fields.forEach(dr=>{if(dr.name=="doc")ur.doc=Node$2.fromJSON(or.schema,lr.doc);else if(dr.name=="selection")ur.selection=Selection.fromJSON(ur.doc,lr.selection);else if(dr.name=="storedMarks")lr.storedMarks&&(ur.storedMarks=lr.storedMarks.map(or.schema.markFromJSON));else{if(Ar)for(let hr in Ar){let fr=Ar[hr],gr=fr.spec.state;if(fr.key==dr.name&&gr&&gr.fromJSON&&Object.prototype.hasOwnProperty.call(lr,hr)){ur[dr.name]=gr.fromJSON.call(fr,or,lr[hr],ur);return}}ur[dr.name]=dr.init(or,ur)}}),ur}}function bindProps(ar,or,lr){for(let Ar in ar){let cr=ar[Ar];cr instanceof Function?cr=cr.bind(or):Ar=="handleDOMEvents"&&(cr=bindProps(cr,or,{})),lr[Ar]=cr}return lr}class Plugin{constructor(or){this.spec=or,this.props={},or.props&&bindProps(or.props,this,this.props),this.key=or.key?or.key.key:createKey("plugin")}getState(or){return or[this.key]}}const keys=Object.create(null);function createKey(ar){return ar in keys?ar+"$"+ ++keys[ar]:(keys[ar]=0,ar+"$")}class PluginKey{constructor(or="key"){this.key=createKey(or)}get(or){return or.config.pluginsByKey[this.key]}getState(or){return or[this.key]}}const domIndex=function(ar){for(var or=0;;or++)if(ar=ar.previousSibling,!ar)return or},parentNode=function(ar){let or=ar.assignedSlot||ar.parentNode;return or&&or.nodeType==11?or.host:or};let reusedRange=null;const textRange=function(ar,or,lr){let Ar=reusedRange||(reusedRange=document.createRange());return Ar.setEnd(ar,lr??ar.nodeValue.length),Ar.setStart(ar,or||0),Ar},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(ar,or,lr,Ar){return lr&&(scanFor(ar,or,lr,Ar,-1)||scanFor(ar,or,lr,Ar,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(ar,or,lr,Ar,cr){for(;;){if(ar==lr&&or==Ar)return!0;if(or==(cr<0?0:nodeSize(ar))){let ur=ar.parentNode;if(!ur||ur.nodeType!=1||hasBlockDesc(ar)||atomElements.test(ar.nodeName)||ar.contentEditable=="false")return!1;or=domIndex(ar)+(cr<0?0:1),ar=ur}else if(ar.nodeType==1){if(ar=ar.childNodes[or+(cr<0?-1:0)],ar.contentEditable=="false")return!1;or=cr<0?nodeSize(ar):0}else return!1}}function nodeSize(ar){return ar.nodeType==3?ar.nodeValue.length:ar.childNodes.length}function textNodeBefore$1(ar,or){for(;;){if(ar.nodeType==3&&or)return ar;if(ar.nodeType==1&&or>0){if(ar.contentEditable=="false")return null;ar=ar.childNodes[or-1],or=nodeSize(ar)}else if(ar.parentNode&&!hasBlockDesc(ar))or=domIndex(ar),ar=ar.parentNode;else return null}}function textNodeAfter$1(ar,or){for(;;){if(ar.nodeType==3&&or<ar.nodeValue.length)return ar;if(ar.nodeType==1&&or<ar.childNodes.length){if(ar.contentEditable=="false")return null;ar=ar.childNodes[or],or=0}else if(ar.parentNode&&!hasBlockDesc(ar))or=domIndex(ar)+1,ar=ar.parentNode;else return null}}function isOnEdge(ar,or,lr){for(let Ar=or==0,cr=or==nodeSize(ar);Ar||cr;){if(ar==lr)return!0;let ur=domIndex(ar);if(ar=ar.parentNode,!ar)return!1;Ar=Ar&&ur==0,cr=cr&&ur==nodeSize(ar)}}function hasBlockDesc(ar){let or;for(let lr=ar;lr&&!(or=lr.pmViewDesc);lr=lr.parentNode);return or&&or.node&&or.node.isBlock&&(or.dom==ar||or.contentDOM==ar)}const selectionCollapsed=function(ar){return ar.focusNode&&isEquivalentPosition(ar.focusNode,ar.focusOffset,ar.anchorNode,ar.anchorOffset)};function keyEvent(ar,or){let lr=document.createEvent("Event");return lr.initEvent("keydown",!0,!0),lr.keyCode=ar,lr.key=lr.code=or,lr}function deepActiveElement(ar){let or=ar.activeElement;for(;or&&or.shadowRoot;)or=or.shadowRoot.activeElement;return or}function caretFromPoint(ar,or,lr){if(ar.caretPositionFromPoint)try{let Ar=ar.caretPositionFromPoint(or,lr);if(Ar)return{node:Ar.offsetNode,offset:Math.min(nodeSize(Ar.offsetNode),Ar.offset)}}catch{}if(ar.caretRangeFromPoint){let Ar=ar.caretRangeFromPoint(or,lr);if(Ar)return{node:Ar.startContainer,offset:Math.min(nodeSize(Ar.startContainer),Ar.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$2=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$2&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$2&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari$1=!ie$2&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari$1&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(ar){let or=ar.defaultView&&ar.defaultView.visualViewport;return or?{left:0,right:or.width,top:0,bottom:or.height}:{left:0,right:ar.documentElement.clientWidth,top:0,bottom:ar.documentElement.clientHeight}}function getSide(ar,or){return typeof ar=="number"?ar:ar[or]}function clientRect(ar){let or=ar.getBoundingClientRect(),lr=or.width/ar.offsetWidth||1,Ar=or.height/ar.offsetHeight||1;return{left:or.left,right:or.left+ar.clientWidth*lr,top:or.top,bottom:or.top+ar.clientHeight*Ar}}function scrollRectIntoView(ar,or,lr){let Ar=ar.someProp("scrollThreshold")||0,cr=ar.someProp("scrollMargin")||5,ur=ar.dom.ownerDocument;for(let dr=lr||ar.dom;dr;){if(dr.nodeType!=1){dr=parentNode(dr);continue}let hr=dr,fr=hr==ur.body,gr=fr?windowRect(ur):clientRect(hr),pr=0,mr=0;if(or.top<gr.top+getSide(Ar,"top")?mr=-(gr.top-or.top+getSide(cr,"top")):or.bottom>gr.bottom-getSide(Ar,"bottom")&&(mr=or.bottom-or.top>gr.bottom-gr.top?or.top+getSide(cr,"top")-gr.top:or.bottom-gr.bottom+getSide(cr,"bottom")),or.left<gr.left+getSide(Ar,"left")?pr=-(gr.left-or.left+getSide(cr,"left")):or.right>gr.right-getSide(Ar,"right")&&(pr=or.right-gr.right+getSide(cr,"right")),pr||mr)if(fr)ur.defaultView.scrollBy(pr,mr);else{let vr=hr.scrollLeft,br=hr.scrollTop;mr&&(hr.scrollTop+=mr),pr&&(hr.scrollLeft+=pr);let wr=hr.scrollLeft-vr,Cr=hr.scrollTop-br;or={left:or.left-wr,top:or.top-Cr,right:or.right-wr,bottom:or.bottom-Cr}}let yr=fr?"fixed":getComputedStyle(dr).position;if(/^(fixed|sticky)$/.test(yr))break;dr=yr=="absolute"?dr.offsetParent:parentNode(dr)}}function storeScrollPos(ar){let or=ar.dom.getBoundingClientRect(),lr=Math.max(0,or.top),Ar,cr;for(let ur=(or.left+or.right)/2,dr=lr+1;dr<Math.min(innerHeight,or.bottom);dr+=5){let hr=ar.root.elementFromPoint(ur,dr);if(!hr||hr==ar.dom||!ar.dom.contains(hr))continue;let fr=hr.getBoundingClientRect();if(fr.top>=lr-20){Ar=hr,cr=fr.top;break}}return{refDOM:Ar,refTop:cr,stack:scrollStack(ar.dom)}}function scrollStack(ar){let or=[],lr=ar.ownerDocument;for(let Ar=ar;Ar&&(or.push({dom:Ar,top:Ar.scrollTop,left:Ar.scrollLeft}),ar!=lr);Ar=parentNode(Ar));return or}function resetScrollPos({refDOM:ar,refTop:or,stack:lr}){let Ar=ar?ar.getBoundingClientRect().top:0;restoreScrollStack(lr,Ar==0?0:Ar-or)}function restoreScrollStack(ar,or){for(let lr=0;lr<ar.length;lr++){let{dom:Ar,top:cr,left:ur}=ar[lr];Ar.scrollTop!=cr+or&&(Ar.scrollTop=cr+or),Ar.scrollLeft!=ur&&(Ar.scrollLeft=ur)}}let preventScrollSupported=null;function focusPreventScroll(ar){if(ar.setActive)return ar.setActive();if(preventScrollSupported)return ar.focus(preventScrollSupported);let or=scrollStack(ar);ar.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(or,0))}function findOffsetInNode(ar,or){let lr,Ar=2e8,cr,ur=0,dr=or.top,hr=or.top,fr,gr;for(let pr=ar.firstChild,mr=0;pr;pr=pr.nextSibling,mr++){let yr;if(pr.nodeType==1)yr=pr.getClientRects();else if(pr.nodeType==3)yr=textRange(pr).getClientRects();else continue;for(let vr=0;vr<yr.length;vr++){let br=yr[vr];if(br.top<=dr&&br.bottom>=hr){dr=Math.max(br.bottom,dr),hr=Math.min(br.top,hr);let wr=br.left>or.left?br.left-or.left:br.right<or.left?or.left-br.right:0;if(wr<Ar){lr=pr,Ar=wr,cr=wr&&lr.nodeType==3?{left:br.right<or.left?br.right:br.left,top:or.top}:or,pr.nodeType==1&&wr&&(ur=mr+(or.left>=(br.left+br.right)/2?1:0));continue}}else br.top>or.top&&!fr&&br.left<=or.left&&br.right>=or.left&&(fr=pr,gr={left:Math.max(br.left,Math.min(br.right,or.left)),top:br.top});!lr&&(or.left>=br.right&&or.top>=br.top||or.left>=br.left&&or.top>=br.bottom)&&(ur=mr+1)}}return!lr&&fr&&(lr=fr,cr=gr,Ar=0),lr&&lr.nodeType==3?findOffsetInText(lr,cr):!lr||Ar&&lr.nodeType==1?{node:ar,offset:ur}:findOffsetInNode(lr,cr)}function findOffsetInText(ar,or){let lr=ar.nodeValue.length,Ar=document.createRange();for(let cr=0;cr<lr;cr++){Ar.setEnd(ar,cr+1),Ar.setStart(ar,cr);let ur=singleRect(Ar,1);if(ur.top!=ur.bottom&&inRect(or,ur))return{node:ar,offset:cr+(or.left>=(ur.left+ur.right)/2?1:0)}}return{node:ar,offset:0}}function inRect(ar,or){return ar.left>=or.left-1&&ar.left<=or.right+1&&ar.top>=or.top-1&&ar.top<=or.bottom+1}function targetKludge(ar,or){let lr=ar.parentNode;return lr&&/^li$/i.test(lr.nodeName)&&or.left<ar.getBoundingClientRect().left?lr:ar}function posFromElement(ar,or,lr){let{node:Ar,offset:cr}=findOffsetInNode(or,lr),ur=-1;if(Ar.nodeType==1&&!Ar.firstChild){let dr=Ar.getBoundingClientRect();ur=dr.left!=dr.right&&lr.left>(dr.left+dr.right)/2?1:-1}return ar.docView.posFromDOM(Ar,cr,ur)}function posFromCaret(ar,or,lr,Ar){let cr=-1;for(let ur=or,dr=!1;ur!=ar.dom;){let hr=ar.docView.nearestDesc(ur,!0),fr;if(!hr)return null;if(hr.dom.nodeType==1&&(hr.node.isBlock&&hr.parent||!hr.contentDOM)&&((fr=hr.dom.getBoundingClientRect()).width||fr.height)&&(hr.node.isBlock&&hr.parent&&(!dr&&fr.left>Ar.left||fr.top>Ar.top?cr=hr.posBefore:(!dr&&fr.right<Ar.left||fr.bottom<Ar.top)&&(cr=hr.posAfter),dr=!0),!hr.contentDOM&&cr<0&&!hr.node.isText))return(hr.node.isBlock?Ar.top<(fr.top+fr.bottom)/2:Ar.left<(fr.left+fr.right)/2)?hr.posBefore:hr.posAfter;ur=hr.dom.parentNode}return cr>-1?cr:ar.docView.posFromDOM(or,lr,-1)}function elementFromPoint(ar,or,lr){let Ar=ar.childNodes.length;if(Ar&&lr.top<lr.bottom)for(let cr=Math.max(0,Math.min(Ar-1,Math.floor(Ar*(or.top-lr.top)/(lr.bottom-lr.top))-2)),ur=cr;;){let dr=ar.childNodes[ur];if(dr.nodeType==1){let hr=dr.getClientRects();for(let fr=0;fr<hr.length;fr++){let gr=hr[fr];if(inRect(or,gr))return elementFromPoint(dr,or,gr)}}if((ur=(ur+1)%Ar)==cr)break}return ar}function posAtCoords(ar,or){let lr=ar.dom.ownerDocument,Ar,cr=0,ur=caretFromPoint(lr,or.left,or.top);ur&&({node:Ar,offset:cr}=ur);let dr=(ar.root.elementFromPoint?ar.root:lr).elementFromPoint(or.left,or.top),hr;if(!dr||!ar.dom.contains(dr.nodeType!=1?dr.parentNode:dr)){let gr=ar.dom.getBoundingClientRect();if(!inRect(or,gr)||(dr=elementFromPoint(ar.dom,or,gr),!dr))return null}if(safari$1)for(let gr=dr;Ar&&gr;gr=parentNode(gr))gr.draggable&&(Ar=void 0);if(dr=targetKludge(dr,or),Ar){if(gecko&&Ar.nodeType==1&&(cr=Math.min(cr,Ar.childNodes.length),cr<Ar.childNodes.length)){let pr=Ar.childNodes[cr],mr;pr.nodeName=="IMG"&&(mr=pr.getBoundingClientRect()).right<=or.left&&mr.bottom>or.top&&cr++}let gr;webkit&&cr&&Ar.nodeType==1&&(gr=Ar.childNodes[cr-1]).nodeType==1&&gr.contentEditable=="false"&&gr.getBoundingClientRect().top>=or.top&&cr--,Ar==ar.dom&&cr==Ar.childNodes.length-1&&Ar.lastChild.nodeType==1&&or.top>Ar.lastChild.getBoundingClientRect().bottom?hr=ar.state.doc.content.size:(cr==0||Ar.nodeType!=1||Ar.childNodes[cr-1].nodeName!="BR")&&(hr=posFromCaret(ar,Ar,cr,or))}hr==null&&(hr=posFromElement(ar,dr,or));let fr=ar.docView.nearestDesc(dr,!0);return{pos:hr,inside:fr?fr.posAtStart-fr.border:-1}}function nonZero(ar){return ar.top<ar.bottom||ar.left<ar.right}function singleRect(ar,or){let lr=ar.getClientRects();if(lr.length){let Ar=lr[or<0?0:lr.length-1];if(nonZero(Ar))return Ar}return Array.prototype.find.call(lr,nonZero)||ar.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(ar,or,lr){let{node:Ar,offset:cr,atom:ur}=ar.docView.domFromPos(or,lr<0?-1:1),dr=webkit||gecko;if(Ar.nodeType==3)if(dr&&(BIDI.test(Ar.nodeValue)||(lr<0?!cr:cr==Ar.nodeValue.length))){let fr=singleRect(textRange(Ar,cr,cr),lr);if(gecko&&cr&&/\s/.test(Ar.nodeValue[cr-1])&&cr<Ar.nodeValue.length){let gr=singleRect(textRange(Ar,cr-1,cr-1),-1);if(gr.top==fr.top){let pr=singleRect(textRange(Ar,cr,cr+1),-1);if(pr.top!=fr.top)return flattenV(pr,pr.left<gr.left)}}return fr}else{let fr=cr,gr=cr,pr=lr<0?1:-1;return lr<0&&!cr?(gr++,pr=-1):lr>=0&&cr==Ar.nodeValue.length?(fr--,pr=1):lr<0?fr--:gr++,flattenV(singleRect(textRange(Ar,fr,gr),pr),pr<0)}if(!ar.state.doc.resolve(or-(ur||0)).parent.inlineContent){if(ur==null&&cr&&(lr<0||cr==nodeSize(Ar))){let fr=Ar.childNodes[cr-1];if(fr.nodeType==1)return flattenH(fr.getBoundingClientRect(),!1)}if(ur==null&&cr<nodeSize(Ar)){let fr=Ar.childNodes[cr];if(fr.nodeType==1)return flattenH(fr.getBoundingClientRect(),!0)}return flattenH(Ar.getBoundingClientRect(),lr>=0)}if(ur==null&&cr&&(lr<0||cr==nodeSize(Ar))){let fr=Ar.childNodes[cr-1],gr=fr.nodeType==3?textRange(fr,nodeSize(fr)-(dr?0:1)):fr.nodeType==1&&(fr.nodeName!="BR"||!fr.nextSibling)?fr:null;if(gr)return flattenV(singleRect(gr,1),!1)}if(ur==null&&cr<nodeSize(Ar)){let fr=Ar.childNodes[cr];for(;fr.pmViewDesc&&fr.pmViewDesc.ignoreForCoords;)fr=fr.nextSibling;let gr=fr?fr.nodeType==3?textRange(fr,0,dr?0:1):fr.nodeType==1?fr:null:null;if(gr)return flattenV(singleRect(gr,-1),!0)}return flattenV(singleRect(Ar.nodeType==3?textRange(Ar):Ar,-lr),lr>=0)}function flattenV(ar,or){if(ar.width==0)return ar;let lr=or?ar.left:ar.right;return{top:ar.top,bottom:ar.bottom,left:lr,right:lr}}function flattenH(ar,or){if(ar.height==0)return ar;let lr=or?ar.top:ar.bottom;return{top:lr,bottom:lr,left:ar.left,right:ar.right}}function withFlushedState(ar,or,lr){let Ar=ar.state,cr=ar.root.activeElement;Ar!=or&&ar.updateState(or),cr!=ar.dom&&ar.focus();try{return lr()}finally{Ar!=or&&ar.updateState(Ar),cr!=ar.dom&&cr&&cr.focus()}}function endOfTextblockVertical(ar,or,lr){let Ar=or.selection,cr=lr=="up"?Ar.$from:Ar.$to;return withFlushedState(ar,or,()=>{let{node:ur}=ar.docView.domFromPos(cr.pos,lr=="up"?-1:1);for(;;){let hr=ar.docView.nearestDesc(ur,!0);if(!hr)break;if(hr.node.isBlock){ur=hr.contentDOM||hr.dom;break}ur=hr.dom.parentNode}let dr=coordsAtPos(ar,cr.pos,1);for(let hr=ur.firstChild;hr;hr=hr.nextSibling){let fr;if(hr.nodeType==1)fr=hr.getClientRects();else if(hr.nodeType==3)fr=textRange(hr,0,hr.nodeValue.length).getClientRects();else continue;for(let gr=0;gr<fr.length;gr++){let pr=fr[gr];if(pr.bottom>pr.top+1&&(lr=="up"?dr.top-pr.top>(pr.bottom-dr.top)*2:pr.bottom-dr.bottom>(dr.bottom-pr.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(ar,or,lr){let{$head:Ar}=or.selection;if(!Ar.parent.isTextblock)return!1;let cr=Ar.parentOffset,ur=!cr,dr=cr==Ar.parent.content.size,hr=ar.domSelection();return hr?!maybeRTL.test(Ar.parent.textContent)||!hr.modify?lr=="left"||lr=="backward"?ur:dr:withFlushedState(ar,or,()=>{let{focusNode:fr,focusOffset:gr,anchorNode:pr,anchorOffset:mr}=ar.domSelectionRange(),yr=hr.caretBidiLevel;hr.modify("move",lr,"character");let vr=Ar.depth?ar.docView.domAfterPos(Ar.before()):ar.dom,{focusNode:br,focusOffset:wr}=ar.domSelectionRange(),Cr=br&&!vr.contains(br.nodeType==1?br:br.parentNode)||fr==br&&gr==wr;try{hr.collapse(pr,mr),fr&&(fr!=pr||gr!=mr)&&hr.extend&&hr.extend(fr,gr)}catch{}return yr!=null&&(hr.caretBidiLevel=yr),Cr}):Ar.pos==Ar.start()||Ar.pos==Ar.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(ar,or,lr){return cachedState==or&&cachedDir==lr?cachedResult:(cachedState=or,cachedDir=lr,cachedResult=lr=="up"||lr=="down"?endOfTextblockVertical(ar,or,lr):endOfTextblockHorizontal(ar,or,lr))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(or,lr,Ar,cr){this.parent=or,this.children=lr,this.dom=Ar,this.contentDOM=cr,this.dirty=NOT_DIRTY,Ar.pmViewDesc=this}matchesWidget(or){return!1}matchesMark(or){return!1}matchesNode(or,lr,Ar){return!1}matchesHack(or){return!1}parseRule(){return null}stopEvent(or){return!1}get size(){let or=0;for(let lr=0;lr<this.children.length;lr++)or+=this.children[lr].size;return or}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let or=0;or<this.children.length;or++)this.children[or].destroy()}posBeforeChild(or){for(let lr=0,Ar=this.posAtStart;;lr++){let cr=this.children[lr];if(cr==or)return Ar;Ar+=cr.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(or,lr,Ar){if(this.contentDOM&&this.contentDOM.contains(or.nodeType==1?or:or.parentNode))if(Ar<0){let ur,dr;if(or==this.contentDOM)ur=or.childNodes[lr-1];else{for(;or.parentNode!=this.contentDOM;)or=or.parentNode;ur=or.previousSibling}for(;ur&&!((dr=ur.pmViewDesc)&&dr.parent==this);)ur=ur.previousSibling;return ur?this.posBeforeChild(dr)+dr.size:this.posAtStart}else{let ur,dr;if(or==this.contentDOM)ur=or.childNodes[lr];else{for(;or.parentNode!=this.contentDOM;)or=or.parentNode;ur=or.nextSibling}for(;ur&&!((dr=ur.pmViewDesc)&&dr.parent==this);)ur=ur.nextSibling;return ur?this.posBeforeChild(dr):this.posAtEnd}let cr;if(or==this.dom&&this.contentDOM)cr=lr>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))cr=or.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(lr==0)for(let ur=or;;ur=ur.parentNode){if(ur==this.dom){cr=!1;break}if(ur.previousSibling)break}if(cr==null&&lr==or.childNodes.length)for(let ur=or;;ur=ur.parentNode){if(ur==this.dom){cr=!0;break}if(ur.nextSibling)break}}return cr??Ar>0?this.posAtEnd:this.posAtStart}nearestDesc(or,lr=!1){for(let Ar=!0,cr=or;cr;cr=cr.parentNode){let ur=this.getDesc(cr),dr;if(ur&&(!lr||ur.node))if(Ar&&(dr=ur.nodeDOM)&&!(dr.nodeType==1?dr.contains(or.nodeType==1?or:or.parentNode):dr==or))Ar=!1;else return ur}}getDesc(or){let lr=or.pmViewDesc;for(let Ar=lr;Ar;Ar=Ar.parent)if(Ar==this)return lr}posFromDOM(or,lr,Ar){for(let cr=or;cr;cr=cr.parentNode){let ur=this.getDesc(cr);if(ur)return ur.localPosFromDOM(or,lr,Ar)}return-1}descAt(or){for(let lr=0,Ar=0;lr<this.children.length;lr++){let cr=this.children[lr],ur=Ar+cr.size;if(Ar==or&&ur!=Ar){for(;!cr.border&&cr.children.length;)for(let dr=0;dr<cr.children.length;dr++){let hr=cr.children[dr];if(hr.size){cr=hr;break}}return cr}if(or<ur)return cr.descAt(or-Ar-cr.border);Ar=ur}}domFromPos(or,lr){if(!this.contentDOM)return{node:this.dom,offset:0,atom:or+1};let Ar=0,cr=0;for(let ur=0;Ar<this.children.length;Ar++){let dr=this.children[Ar],hr=ur+dr.size;if(hr>or||dr instanceof TrailingHackViewDesc){cr=or-ur;break}ur=hr}if(cr)return this.children[Ar].domFromPos(cr-this.children[Ar].border,lr);for(let ur;Ar&&!(ur=this.children[Ar-1]).size&&ur instanceof WidgetViewDesc&&ur.side>=0;Ar--);if(lr<=0){let ur,dr=!0;for(;ur=Ar?this.children[Ar-1]:null,!(!ur||ur.dom.parentNode==this.contentDOM);Ar--,dr=!1);return ur&&lr&&dr&&!ur.border&&!ur.domAtom?ur.domFromPos(ur.size,lr):{node:this.contentDOM,offset:ur?domIndex(ur.dom)+1:0}}else{let ur,dr=!0;for(;ur=Ar<this.children.length?this.children[Ar]:null,!(!ur||ur.dom.parentNode==this.contentDOM);Ar++,dr=!1);return ur&&dr&&!ur.border&&!ur.domAtom?ur.domFromPos(0,lr):{node:this.contentDOM,offset:ur?domIndex(ur.dom):this.contentDOM.childNodes.length}}}parseRange(or,lr,Ar=0){if(this.children.length==0)return{node:this.contentDOM,from:or,to:lr,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let cr=-1,ur=-1;for(let dr=Ar,hr=0;;hr++){let fr=this.children[hr],gr=dr+fr.size;if(cr==-1&&or<=gr){let pr=dr+fr.border;if(or>=pr&&lr<=gr-fr.border&&fr.node&&fr.contentDOM&&this.contentDOM.contains(fr.contentDOM))return fr.parseRange(or,lr,pr);or=dr;for(let mr=hr;mr>0;mr--){let yr=this.children[mr-1];if(yr.size&&yr.dom.parentNode==this.contentDOM&&!yr.emptyChildAt(1)){cr=domIndex(yr.dom)+1;break}or-=yr.size}cr==-1&&(cr=0)}if(cr>-1&&(gr>lr||hr==this.children.length-1)){lr=gr;for(let pr=hr+1;pr<this.children.length;pr++){let mr=this.children[pr];if(mr.size&&mr.dom.parentNode==this.contentDOM&&!mr.emptyChildAt(-1)){ur=domIndex(mr.dom);break}lr+=mr.size}ur==-1&&(ur=this.contentDOM.childNodes.length);break}dr=gr}return{node:this.contentDOM,from:or,to:lr,fromOffset:cr,toOffset:ur}}emptyChildAt(or){if(this.border||!this.contentDOM||!this.children.length)return!1;let lr=this.children[or<0?0:this.children.length-1];return lr.size==0||lr.emptyChildAt(or)}domAfterPos(or){let{node:lr,offset:Ar}=this.domFromPos(or,0);if(lr.nodeType!=1||Ar==lr.childNodes.length)throw new RangeError("No node after pos "+or);return lr.childNodes[Ar]}setSelection(or,lr,Ar,cr=!1){let ur=Math.min(or,lr),dr=Math.max(or,lr);for(let vr=0,br=0;vr<this.children.length;vr++){let wr=this.children[vr],Cr=br+wr.size;if(ur>br&&dr<Cr)return wr.setSelection(or-br-wr.border,lr-br-wr.border,Ar,cr);br=Cr}let hr=this.domFromPos(or,or?-1:1),fr=lr==or?hr:this.domFromPos(lr,lr?-1:1),gr=Ar.root.getSelection(),pr=Ar.domSelectionRange(),mr=!1;if((gecko||safari$1)&&or==lr){let{node:vr,offset:br}=hr;if(vr.nodeType==3){if(mr=!!(br&&vr.nodeValue[br-1]==`
`),mr&&br==vr.nodeValue.length)for(let wr=vr,Cr;wr;wr=wr.parentNode){if(Cr=wr.nextSibling){Cr.nodeName=="BR"&&(hr=fr={node:Cr.parentNode,offset:domIndex(Cr)+1});break}let Br=wr.pmViewDesc;if(Br&&Br.node&&Br.node.isBlock)break}}else{let wr=vr.childNodes[br-1];mr=wr&&(wr.nodeName=="BR"||wr.contentEditable=="false")}}if(gecko&&pr.focusNode&&pr.focusNode!=fr.node&&pr.focusNode.nodeType==1){let vr=pr.focusNode.childNodes[pr.focusOffset];vr&&vr.contentEditable=="false"&&(cr=!0)}if(!(cr||mr&&safari$1)&&isEquivalentPosition(hr.node,hr.offset,pr.anchorNode,pr.anchorOffset)&&isEquivalentPosition(fr.node,fr.offset,pr.focusNode,pr.focusOffset))return;let yr=!1;if((gr.extend||or==lr)&&!mr){gr.collapse(hr.node,hr.offset);try{or!=lr&&gr.extend(fr.node,fr.offset),yr=!0}catch{}}if(!yr){if(or>lr){let br=hr;hr=fr,fr=br}let vr=document.createRange();vr.setEnd(fr.node,fr.offset),vr.setStart(hr.node,hr.offset),gr.removeAllRanges(),gr.addRange(vr)}}ignoreMutation(or){return!this.contentDOM&&or.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(or,lr){for(let Ar=0,cr=0;cr<this.children.length;cr++){let ur=this.children[cr],dr=Ar+ur.size;if(Ar==dr?or<=dr&&lr>=Ar:or<dr&&lr>Ar){let hr=Ar+ur.border,fr=dr-ur.border;if(or>=hr&&lr<=fr){this.dirty=or==Ar||lr==dr?CONTENT_DIRTY:CHILD_DIRTY,or==hr&&lr==fr&&(ur.contentLost||ur.dom.parentNode!=this.contentDOM)?ur.dirty=NODE_DIRTY:ur.markDirty(or-hr,lr-hr);return}else ur.dirty=ur.dom==ur.contentDOM&&ur.dom.parentNode==this.contentDOM&&!ur.children.length?CONTENT_DIRTY:NODE_DIRTY}Ar=dr}this.dirty=CONTENT_DIRTY}markParentsDirty(){let or=1;for(let lr=this.parent;lr;lr=lr.parent,or++){let Ar=or==1?CONTENT_DIRTY:CHILD_DIRTY;lr.dirty<Ar&&(lr.dirty=Ar)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(or){return!1}}class WidgetViewDesc extends ViewDesc{constructor(or,lr,Ar,cr){let ur,dr=lr.type.toDOM;if(typeof dr=="function"&&(dr=dr(Ar,()=>{if(!ur)return cr;if(ur.parent)return ur.parent.posBeforeChild(ur)})),!lr.type.spec.raw){if(dr.nodeType!=1){let hr=document.createElement("span");hr.appendChild(dr),dr=hr}dr.contentEditable="false",dr.classList.add("ProseMirror-widget")}super(or,[],dr,null),this.widget=lr,this.widget=lr,ur=this}matchesWidget(or){return this.dirty==NOT_DIRTY&&or.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(or){let lr=this.widget.spec.stopEvent;return lr?lr(or):!1}ignoreMutation(or){return or.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(or,lr,Ar,cr){super(or,[],lr,null),this.textDOM=Ar,this.text=cr}get size(){return this.text.length}localPosFromDOM(or,lr){return or!=this.textDOM?this.posAtStart+(lr?this.size:0):this.posAtStart+lr}domFromPos(or){return{node:this.textDOM,offset:or}}ignoreMutation(or){return or.type==="characterData"&&or.target.nodeValue==or.oldValue}}class MarkViewDesc extends ViewDesc{constructor(or,lr,Ar,cr,ur){super(or,[],Ar,cr),this.mark=lr,this.spec=ur}static create(or,lr,Ar,cr){let ur=cr.nodeViews[lr.type.name],dr=ur&&ur(lr,cr,Ar);return(!dr||!dr.dom)&&(dr=DOMSerializer.renderSpec(document,lr.type.spec.toDOM(lr,Ar),null,lr.attrs)),new MarkViewDesc(or,lr,dr.dom,dr.contentDOM||dr.dom,dr)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(or){return this.dirty!=NODE_DIRTY&&this.mark.eq(or)}markDirty(or,lr){if(super.markDirty(or,lr),this.dirty!=NOT_DIRTY){let Ar=this.parent;for(;!Ar.node;)Ar=Ar.parent;Ar.dirty<this.dirty&&(Ar.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(or,lr,Ar){let cr=MarkViewDesc.create(this.parent,this.mark,!0,Ar),ur=this.children,dr=this.size;lr<dr&&(ur=replaceNodes(ur,lr,dr,Ar)),or>0&&(ur=replaceNodes(ur,0,or,Ar));for(let hr=0;hr<ur.length;hr++)ur[hr].parent=cr;return cr.children=ur,cr}ignoreMutation(or){return this.spec.ignoreMutation?this.spec.ignoreMutation(or):super.ignoreMutation(or)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(or,lr,Ar,cr,ur,dr,hr,fr,gr){super(or,[],ur,dr),this.node=lr,this.outerDeco=Ar,this.innerDeco=cr,this.nodeDOM=hr}static create(or,lr,Ar,cr,ur,dr){let hr=ur.nodeViews[lr.type.name],fr,gr=hr&&hr(lr,ur,()=>{if(!fr)return dr;if(fr.parent)return fr.parent.posBeforeChild(fr)},Ar,cr),pr=gr&&gr.dom,mr=gr&&gr.contentDOM;if(lr.isText){if(!pr)pr=document.createTextNode(lr.text);else if(pr.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else pr||({dom:pr,contentDOM:mr}=DOMSerializer.renderSpec(document,lr.type.spec.toDOM(lr),null,lr.attrs));!mr&&!lr.isText&&pr.nodeName!="BR"&&(pr.hasAttribute("contenteditable")||(pr.contentEditable="false"),lr.type.spec.draggable&&(pr.draggable=!0));let yr=pr;return pr=applyOuterDeco(pr,Ar,lr),gr?fr=new CustomNodeViewDesc(or,lr,Ar,cr,pr,mr||null,yr,gr,ur,dr+1):lr.isText?new TextViewDesc(or,lr,Ar,cr,pr,yr,ur):new NodeViewDesc(or,lr,Ar,cr,pr,mr||null,yr,ur,dr+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let or={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(or.preserveWhitespace="full"),!this.contentDOM)or.getContent=()=>this.node.content;else if(!this.contentLost)or.contentElement=this.contentDOM;else{for(let lr=this.children.length-1;lr>=0;lr--){let Ar=this.children[lr];if(this.dom.contains(Ar.dom.parentNode)){or.contentElement=Ar.dom.parentNode;break}}or.contentElement||(or.getContent=()=>Fragment.empty)}return or}matchesNode(or,lr,Ar){return this.dirty==NOT_DIRTY&&or.eq(this.node)&&sameOuterDeco(lr,this.outerDeco)&&Ar.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(or,lr){let Ar=this.node.inlineContent,cr=lr,ur=or.composing?this.localCompositionInfo(or,lr):null,dr=ur&&ur.pos>-1?ur:null,hr=ur&&ur.pos<0,fr=new ViewTreeUpdater(this,dr&&dr.node,or);iterDeco(this.node,this.innerDeco,(gr,pr,mr)=>{gr.spec.marks?fr.syncToMarks(gr.spec.marks,Ar,or):gr.type.side>=0&&!mr&&fr.syncToMarks(pr==this.node.childCount?Mark$1.none:this.node.child(pr).marks,Ar,or),fr.placeWidget(gr,or,cr)},(gr,pr,mr,yr)=>{fr.syncToMarks(gr.marks,Ar,or);let vr;fr.findNodeMatch(gr,pr,mr,yr)||hr&&or.state.selection.from>cr&&or.state.selection.to<cr+gr.nodeSize&&(vr=fr.findIndexWithChild(ur.node))>-1&&fr.updateNodeAt(gr,pr,mr,vr,or)||fr.updateNextNode(gr,pr,mr,or,yr,cr)||fr.addNode(gr,pr,mr,or,cr),cr+=gr.nodeSize}),fr.syncToMarks([],Ar,or),this.node.isTextblock&&fr.addTextblockHacks(),fr.destroyRest(),(fr.changed||this.dirty==CONTENT_DIRTY)&&(dr&&this.protectLocalComposition(or,dr),renderDescs(this.contentDOM,this.children,or),ios&&iosHacks(this.dom))}localCompositionInfo(or,lr){let{from:Ar,to:cr}=or.state.selection;if(!(or.state.selection instanceof TextSelection)||Ar<lr||cr>lr+this.node.content.size)return null;let ur=or.input.compositionNode;if(!ur||!this.dom.contains(ur.parentNode))return null;if(this.node.inlineContent){let dr=ur.nodeValue,hr=findTextInFragment(this.node.content,dr,Ar-lr,cr-lr);return hr<0?null:{node:ur,pos:hr,text:dr}}else return{node:ur,pos:-1,text:""}}protectLocalComposition(or,{node:lr,pos:Ar,text:cr}){if(this.getDesc(lr))return;let ur=lr;for(;ur.parentNode!=this.contentDOM;ur=ur.parentNode){for(;ur.previousSibling;)ur.parentNode.removeChild(ur.previousSibling);for(;ur.nextSibling;)ur.parentNode.removeChild(ur.nextSibling);ur.pmViewDesc&&(ur.pmViewDesc=void 0)}let dr=new CompositionViewDesc(this,ur,lr,cr);or.input.compositionNodes.push(dr),this.children=replaceNodes(this.children,Ar,Ar+cr.length,or,dr)}update(or,lr,Ar,cr){return this.dirty==NODE_DIRTY||!or.sameMarkup(this.node)?!1:(this.updateInner(or,lr,Ar,cr),!0)}updateInner(or,lr,Ar,cr){this.updateOuterDeco(lr),this.node=or,this.innerDeco=Ar,this.contentDOM&&this.updateChildren(cr,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(or){if(sameOuterDeco(or,this.outerDeco))return;let lr=this.nodeDOM.nodeType!=1,Ar=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,lr),computeOuterDeco(or,this.node,lr)),this.dom!=Ar&&(Ar.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=or}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(ar,or,lr,Ar,cr){applyOuterDeco(Ar,or,ar);let ur=new NodeViewDesc(void 0,ar,or,lr,Ar,Ar,Ar,cr,0);return ur.contentDOM&&ur.updateChildren(cr,0),ur}class TextViewDesc extends NodeViewDesc{constructor(or,lr,Ar,cr,ur,dr,hr){super(or,lr,Ar,cr,ur,null,dr,hr,0)}parseRule(){let or=this.nodeDOM.parentNode;for(;or&&or!=this.dom&&!or.pmIsDeco;)or=or.parentNode;return{skip:or||!0}}update(or,lr,Ar,cr){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!or.sameMarkup(this.node)?!1:(this.updateOuterDeco(lr),(this.dirty!=NOT_DIRTY||or.text!=this.node.text)&&or.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=or.text,cr.trackWrites==this.nodeDOM&&(cr.trackWrites=null)),this.node=or,this.dirty=NOT_DIRTY,!0)}inParent(){let or=this.parent.contentDOM;for(let lr=this.nodeDOM;lr;lr=lr.parentNode)if(lr==or)return!0;return!1}domFromPos(or){return{node:this.nodeDOM,offset:or}}localPosFromDOM(or,lr,Ar){return or==this.nodeDOM?this.posAtStart+Math.min(lr,this.node.text.length):super.localPosFromDOM(or,lr,Ar)}ignoreMutation(or){return or.type!="characterData"&&or.type!="selection"}slice(or,lr,Ar){let cr=this.node.cut(or,lr),ur=document.createTextNode(cr.text);return new TextViewDesc(this.parent,cr,this.outerDeco,this.innerDeco,ur,ur,Ar)}markDirty(or,lr){super.markDirty(or,lr),this.dom!=this.nodeDOM&&(or==0||lr==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(or){return this.node.text==or}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(or){return this.dirty==NOT_DIRTY&&this.dom.nodeName==or}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(or,lr,Ar,cr,ur,dr,hr,fr,gr,pr){super(or,lr,Ar,cr,ur,dr,hr,gr,pr),this.spec=fr}update(or,lr,Ar,cr){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==or.type||this.spec.multiType)){let ur=this.spec.update(or,lr,Ar);return ur&&this.updateInner(or,lr,Ar,cr),ur}else return!this.contentDOM&&!or.isLeaf?!1:super.update(or,lr,Ar,cr)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(or,lr,Ar,cr){this.spec.setSelection?this.spec.setSelection(or,lr,Ar.root):super.setSelection(or,lr,Ar,cr)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(or){return this.spec.stopEvent?this.spec.stopEvent(or):!1}ignoreMutation(or){return this.spec.ignoreMutation?this.spec.ignoreMutation(or):super.ignoreMutation(or)}}function renderDescs(ar,or,lr){let Ar=ar.firstChild,cr=!1;for(let ur=0;ur<or.length;ur++){let dr=or[ur],hr=dr.dom;if(hr.parentNode==ar){for(;hr!=Ar;)Ar=rm(Ar),cr=!0;Ar=Ar.nextSibling}else cr=!0,ar.insertBefore(hr,Ar);if(dr instanceof MarkViewDesc){let fr=Ar?Ar.previousSibling:ar.lastChild;renderDescs(dr.contentDOM,dr.children,lr),Ar=fr?fr.nextSibling:ar.firstChild}}for(;Ar;)Ar=rm(Ar),cr=!0;cr&&lr.trackWrites==ar&&(lr.trackWrites=null)}const OuterDecoLevel=function(ar){ar&&(this.nodeName=ar)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(ar,or,lr){if(ar.length==0)return noDeco;let Ar=lr?noDeco[0]:new OuterDecoLevel,cr=[Ar];for(let ur=0;ur<ar.length;ur++){let dr=ar[ur].type.attrs;if(dr){dr.nodeName&&cr.push(Ar=new OuterDecoLevel(dr.nodeName));for(let hr in dr){let fr=dr[hr];fr!=null&&(lr&&cr.length==1&&cr.push(Ar=new OuterDecoLevel(or.isInline?"span":"div")),hr=="class"?Ar.class=(Ar.class?Ar.class+" ":"")+fr:hr=="style"?Ar.style=(Ar.style?Ar.style+";":"")+fr:hr!="nodeName"&&(Ar[hr]=fr))}}}return cr}function patchOuterDeco(ar,or,lr,Ar){if(lr==noDeco&&Ar==noDeco)return or;let cr=or;for(let ur=0;ur<Ar.length;ur++){let dr=Ar[ur],hr=lr[ur];if(ur){let fr;hr&&hr.nodeName==dr.nodeName&&cr!=ar&&(fr=cr.parentNode)&&fr.nodeName.toLowerCase()==dr.nodeName||(fr=document.createElement(dr.nodeName),fr.pmIsDeco=!0,fr.appendChild(cr),hr=noDeco[0]),cr=fr}patchAttributes(cr,hr||noDeco[0],dr)}return cr}function patchAttributes(ar,or,lr){for(let Ar in or)Ar!="class"&&Ar!="style"&&Ar!="nodeName"&&!(Ar in lr)&&ar.removeAttribute(Ar);for(let Ar in lr)Ar!="class"&&Ar!="style"&&Ar!="nodeName"&&lr[Ar]!=or[Ar]&&ar.setAttribute(Ar,lr[Ar]);if(or.class!=lr.class){let Ar=or.class?or.class.split(" ").filter(Boolean):[],cr=lr.class?lr.class.split(" ").filter(Boolean):[];for(let ur=0;ur<Ar.length;ur++)cr.indexOf(Ar[ur])==-1&&ar.classList.remove(Ar[ur]);for(let ur=0;ur<cr.length;ur++)Ar.indexOf(cr[ur])==-1&&ar.classList.add(cr[ur]);ar.classList.length==0&&ar.removeAttribute("class")}if(or.style!=lr.style){if(or.style){let Ar=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,cr;for(;cr=Ar.exec(or.style);)ar.style.removeProperty(cr[1])}lr.style&&(ar.style.cssText+=lr.style)}}function applyOuterDeco(ar,or,lr){return patchOuterDeco(ar,ar,noDeco,computeOuterDeco(or,lr,ar.nodeType!=1))}function sameOuterDeco(ar,or){if(ar.length!=or.length)return!1;for(let lr=0;lr<ar.length;lr++)if(!ar[lr].type.eq(or[lr].type))return!1;return!0}function rm(ar){let or=ar.nextSibling;return ar.parentNode.removeChild(ar),or}class ViewTreeUpdater{constructor(or,lr,Ar){this.lock=lr,this.view=Ar,this.index=0,this.stack=[],this.changed=!1,this.top=or,this.preMatch=preMatch(or.node.content,or)}destroyBetween(or,lr){if(or!=lr){for(let Ar=or;Ar<lr;Ar++)this.top.children[Ar].destroy();this.top.children.splice(or,lr-or),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(or,lr,Ar){let cr=0,ur=this.stack.length>>1,dr=Math.min(ur,or.length);for(;cr<dr&&(cr==ur-1?this.top:this.stack[cr+1<<1]).matchesMark(or[cr])&&or[cr].type.spec.spanning!==!1;)cr++;for(;cr<ur;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),ur--;for(;ur<or.length;){this.stack.push(this.top,this.index+1);let hr=-1;for(let fr=this.index;fr<Math.min(this.index+3,this.top.children.length);fr++){let gr=this.top.children[fr];if(gr.matchesMark(or[ur])&&!this.isLocked(gr.dom)){hr=fr;break}}if(hr>-1)hr>this.index&&(this.changed=!0,this.destroyBetween(this.index,hr)),this.top=this.top.children[this.index];else{let fr=MarkViewDesc.create(this.top,or[ur],lr,Ar);this.top.children.splice(this.index,0,fr),this.top=fr,this.changed=!0}this.index=0,ur++}}findNodeMatch(or,lr,Ar,cr){let ur=-1,dr;if(cr>=this.preMatch.index&&(dr=this.preMatch.matches[cr-this.preMatch.index]).parent==this.top&&dr.matchesNode(or,lr,Ar))ur=this.top.children.indexOf(dr,this.index);else for(let hr=this.index,fr=Math.min(this.top.children.length,hr+5);hr<fr;hr++){let gr=this.top.children[hr];if(gr.matchesNode(or,lr,Ar)&&!this.preMatch.matched.has(gr)){ur=hr;break}}return ur<0?!1:(this.destroyBetween(this.index,ur),this.index++,!0)}updateNodeAt(or,lr,Ar,cr,ur){let dr=this.top.children[cr];return dr.dirty==NODE_DIRTY&&dr.dom==dr.contentDOM&&(dr.dirty=CONTENT_DIRTY),dr.update(or,lr,Ar,ur)?(this.destroyBetween(this.index,cr),this.index++,!0):!1}findIndexWithChild(or){for(;;){let lr=or.parentNode;if(!lr)return-1;if(lr==this.top.contentDOM){let Ar=or.pmViewDesc;if(Ar){for(let cr=this.index;cr<this.top.children.length;cr++)if(this.top.children[cr]==Ar)return cr}return-1}or=lr}}updateNextNode(or,lr,Ar,cr,ur,dr){for(let hr=this.index;hr<this.top.children.length;hr++){let fr=this.top.children[hr];if(fr instanceof NodeViewDesc){let gr=this.preMatch.matched.get(fr);if(gr!=null&&gr!=ur)return!1;let pr=fr.dom,mr,yr=this.isLocked(pr)&&!(or.isText&&fr.node&&fr.node.isText&&fr.nodeDOM.nodeValue==or.text&&fr.dirty!=NODE_DIRTY&&sameOuterDeco(lr,fr.outerDeco));if(!yr&&fr.update(or,lr,Ar,cr))return this.destroyBetween(this.index,hr),fr.dom!=pr&&(this.changed=!0),this.index++,!0;if(!yr&&(mr=this.recreateWrapper(fr,or,lr,Ar,cr,dr)))return this.destroyBetween(this.index,hr),this.top.children[this.index]=mr,mr.contentDOM&&(mr.dirty=CONTENT_DIRTY,mr.updateChildren(cr,dr+1),mr.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(or,lr,Ar,cr,ur,dr){if(or.dirty||lr.isAtom||!or.children.length||!or.node.content.eq(lr.content)||!sameOuterDeco(Ar,or.outerDeco)||!cr.eq(or.innerDeco))return null;let hr=NodeViewDesc.create(this.top,lr,Ar,cr,ur,dr);if(hr.contentDOM){hr.children=or.children,or.children=[];for(let fr of hr.children)fr.parent=hr}return or.destroy(),hr}addNode(or,lr,Ar,cr,ur){let dr=NodeViewDesc.create(this.top,or,lr,Ar,cr,ur);dr.contentDOM&&dr.updateChildren(cr,ur+1),this.top.children.splice(this.index++,0,dr),this.changed=!0}placeWidget(or,lr,Ar){let cr=this.index<this.top.children.length?this.top.children[this.index]:null;if(cr&&cr.matchesWidget(or)&&(or==cr.widget||!cr.widget.type.toDOM.parentNode))this.index++;else{let ur=new WidgetViewDesc(this.top,or,lr,Ar);this.top.children.splice(this.index++,0,ur),this.changed=!0}}addTextblockHacks(){let or=this.top.children[this.index-1],lr=this.top;for(;or instanceof MarkViewDesc;)lr=or,or=lr.children[lr.children.length-1];(!or||!(or instanceof TextViewDesc)||/\n$/.test(or.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(or.node.text))&&((safari$1||chrome)&&or&&or.dom.contentEditable=="false"&&this.addHackNode("IMG",lr),this.addHackNode("BR",this.top))}addHackNode(or,lr){if(lr==this.top&&this.index<lr.children.length&&lr.children[this.index].matchesHack(or))this.index++;else{let Ar=document.createElement(or);or=="IMG"&&(Ar.className="ProseMirror-separator",Ar.alt=""),or=="BR"&&(Ar.className="ProseMirror-trailingBreak");let cr=new TrailingHackViewDesc(this.top,[],Ar,null);lr!=this.top?lr.children.push(cr):lr.children.splice(this.index++,0,cr),this.changed=!0}}isLocked(or){return this.lock&&(or==this.lock||or.nodeType==1&&or.contains(this.lock.parentNode))}}function preMatch(ar,or){let lr=or,Ar=lr.children.length,cr=ar.childCount,ur=new Map,dr=[];e:for(;cr>0;){let hr;for(;;)if(Ar){let gr=lr.children[Ar-1];if(gr instanceof MarkViewDesc)lr=gr,Ar=gr.children.length;else{hr=gr,Ar--;break}}else{if(lr==or)break e;Ar=lr.parent.children.indexOf(lr),lr=lr.parent}let fr=hr.node;if(fr){if(fr!=ar.child(cr-1))break;--cr,ur.set(hr,cr),dr.push(hr)}}return{index:cr,matched:ur,matches:dr.reverse()}}function compareSide(ar,or){return ar.type.side-or.type.side}function iterDeco(ar,or,lr,Ar){let cr=or.locals(ar),ur=0;if(cr.length==0){for(let gr=0;gr<ar.childCount;gr++){let pr=ar.child(gr);Ar(pr,cr,or.forChild(ur,pr),gr),ur+=pr.nodeSize}return}let dr=0,hr=[],fr=null;for(let gr=0;;){let pr,mr;for(;dr<cr.length&&cr[dr].to==ur;){let Cr=cr[dr++];Cr.widget&&(pr?(mr||(mr=[pr])).push(Cr):pr=Cr)}if(pr)if(mr){mr.sort(compareSide);for(let Cr=0;Cr<mr.length;Cr++)lr(mr[Cr],gr,!!fr)}else lr(pr,gr,!!fr);let yr,vr;if(fr)vr=-1,yr=fr,fr=null;else if(gr<ar.childCount)vr=gr,yr=ar.child(gr++);else break;for(let Cr=0;Cr<hr.length;Cr++)hr[Cr].to<=ur&&hr.splice(Cr--,1);for(;dr<cr.length&&cr[dr].from<=ur&&cr[dr].to>ur;)hr.push(cr[dr++]);let br=ur+yr.nodeSize;if(yr.isText){let Cr=br;dr<cr.length&&cr[dr].from<Cr&&(Cr=cr[dr].from);for(let Br=0;Br<hr.length;Br++)hr[Br].to<Cr&&(Cr=hr[Br].to);Cr<br&&(fr=yr.cut(Cr-ur),yr=yr.cut(0,Cr-ur),br=Cr,vr=-1)}else for(;dr<cr.length&&cr[dr].to<br;)dr++;let wr=yr.isInline&&!yr.isLeaf?hr.filter(Cr=>!Cr.inline):hr.slice();Ar(yr,wr,or.forChild(ur,yr),vr),ur=br}}function iosHacks(ar){if(ar.nodeName=="UL"||ar.nodeName=="OL"){let or=ar.style.cssText;ar.style.cssText=or+"; list-style: square !important",window.getComputedStyle(ar).listStyle,ar.style.cssText=or}}function findTextInFragment(ar,or,lr,Ar){for(let cr=0,ur=0;cr<ar.childCount&&ur<=Ar;){let dr=ar.child(cr++),hr=ur;if(ur+=dr.nodeSize,!dr.isText)continue;let fr=dr.text;for(;cr<ar.childCount;){let gr=ar.child(cr++);if(ur+=gr.nodeSize,!gr.isText)break;fr+=gr.text}if(ur>=lr){if(ur>=Ar&&fr.slice(Ar-or.length-hr,Ar-hr)==or)return Ar-or.length;let gr=hr<Ar?fr.lastIndexOf(or,Ar-hr-1):-1;if(gr>=0&&gr+or.length+hr>=lr)return hr+gr;if(lr==Ar&&fr.length>=Ar+or.length-hr&&fr.slice(Ar-hr,Ar-hr+or.length)==or)return Ar}}return-1}function replaceNodes(ar,or,lr,Ar,cr){let ur=[];for(let dr=0,hr=0;dr<ar.length;dr++){let fr=ar[dr],gr=hr,pr=hr+=fr.size;gr>=lr||pr<=or?ur.push(fr):(gr<or&&ur.push(fr.slice(0,or-gr,Ar)),cr&&(ur.push(cr),cr=void 0),pr>lr&&ur.push(fr.slice(lr-gr,fr.size,Ar)))}return ur}function selectionFromDOM(ar,or=null){let lr=ar.domSelectionRange(),Ar=ar.state.doc;if(!lr.focusNode)return null;let cr=ar.docView.nearestDesc(lr.focusNode),ur=cr&&cr.size==0,dr=ar.docView.posFromDOM(lr.focusNode,lr.focusOffset,1);if(dr<0)return null;let hr=Ar.resolve(dr),fr,gr;if(selectionCollapsed(lr)){for(fr=dr;cr&&!cr.node;)cr=cr.parent;let mr=cr.node;if(cr&&mr.isAtom&&NodeSelection.isSelectable(mr)&&cr.parent&&!(mr.isInline&&isOnEdge(lr.focusNode,lr.focusOffset,cr.dom))){let yr=cr.posBefore;gr=new NodeSelection(dr==yr?hr:Ar.resolve(yr))}}else{if(lr instanceof ar.dom.ownerDocument.defaultView.Selection&&lr.rangeCount>1){let mr=dr,yr=dr;for(let vr=0;vr<lr.rangeCount;vr++){let br=lr.getRangeAt(vr);mr=Math.min(mr,ar.docView.posFromDOM(br.startContainer,br.startOffset,1)),yr=Math.max(yr,ar.docView.posFromDOM(br.endContainer,br.endOffset,-1))}if(mr<0)return null;[fr,dr]=yr==ar.state.selection.anchor?[yr,mr]:[mr,yr],hr=Ar.resolve(dr)}else fr=ar.docView.posFromDOM(lr.anchorNode,lr.anchorOffset,1);if(fr<0)return null}let pr=Ar.resolve(fr);if(!gr){let mr=or=="pointer"||ar.state.selection.head<hr.pos&&!ur?1:-1;gr=selectionBetween(ar,pr,hr,mr)}return gr}function editorOwnsSelection(ar){return ar.editable?ar.hasFocus():hasSelection(ar)&&document.activeElement&&document.activeElement.contains(ar.dom)}function selectionToDOM(ar,or=!1){let lr=ar.state.selection;if(syncNodeSelection(ar,lr),!!editorOwnsSelection(ar)){if(!or&&ar.input.mouseDown&&ar.input.mouseDown.allowDefault&&chrome){let Ar=ar.domSelectionRange(),cr=ar.domObserver.currentSelection;if(Ar.anchorNode&&cr.anchorNode&&isEquivalentPosition(Ar.anchorNode,Ar.anchorOffset,cr.anchorNode,cr.anchorOffset)){ar.input.mouseDown.delayedSelectionSync=!0,ar.domObserver.setCurSelection();return}}if(ar.domObserver.disconnectSelection(),ar.cursorWrapper)selectCursorWrapper(ar);else{let{anchor:Ar,head:cr}=lr,ur,dr;brokenSelectBetweenUneditable&&!(lr instanceof TextSelection)&&(lr.$from.parent.inlineContent||(ur=temporarilyEditableNear(ar,lr.from)),!lr.empty&&!lr.$from.parent.inlineContent&&(dr=temporarilyEditableNear(ar,lr.to))),ar.docView.setSelection(Ar,cr,ar,or),brokenSelectBetweenUneditable&&(ur&&resetEditable(ur),dr&&resetEditable(dr)),lr.visible?ar.dom.classList.remove("ProseMirror-hideselection"):(ar.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(ar))}ar.domObserver.setCurSelection(),ar.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari$1||chrome&&chrome_version<63;function temporarilyEditableNear(ar,or){let{node:lr,offset:Ar}=ar.docView.domFromPos(or,0),cr=Ar<lr.childNodes.length?lr.childNodes[Ar]:null,ur=Ar?lr.childNodes[Ar-1]:null;if(safari$1&&cr&&cr.contentEditable=="false")return setEditable(cr);if((!cr||cr.contentEditable=="false")&&(!ur||ur.contentEditable=="false")){if(cr)return setEditable(cr);if(ur)return setEditable(ur)}}function setEditable(ar){return ar.contentEditable="true",safari$1&&ar.draggable&&(ar.draggable=!1,ar.wasDraggable=!0),ar}function resetEditable(ar){ar.contentEditable="false",ar.wasDraggable&&(ar.draggable=!0,ar.wasDraggable=null)}function removeClassOnSelectionChange(ar){let or=ar.dom.ownerDocument;or.removeEventListener("selectionchange",ar.input.hideSelectionGuard);let lr=ar.domSelectionRange(),Ar=lr.anchorNode,cr=lr.anchorOffset;or.addEventListener("selectionchange",ar.input.hideSelectionGuard=()=>{(lr.anchorNode!=Ar||lr.anchorOffset!=cr)&&(or.removeEventListener("selectionchange",ar.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(ar)||ar.state.selection.visible)&&ar.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(ar){let or=ar.domSelection(),lr=document.createRange();if(!or)return;let Ar=ar.cursorWrapper.dom,cr=Ar.nodeName=="IMG";cr?lr.setStart(Ar.parentNode,domIndex(Ar)+1):lr.setStart(Ar,0),lr.collapse(!0),or.removeAllRanges(),or.addRange(lr),!cr&&!ar.state.selection.visible&&ie$2&&ie_version<=11&&(Ar.disabled=!0,Ar.disabled=!1)}function syncNodeSelection(ar,or){if(or instanceof NodeSelection){let lr=ar.docView.descAt(or.from);lr!=ar.lastSelectedViewDesc&&(clearNodeSelection(ar),lr&&lr.selectNode(),ar.lastSelectedViewDesc=lr)}else clearNodeSelection(ar)}function clearNodeSelection(ar){ar.lastSelectedViewDesc&&(ar.lastSelectedViewDesc.parent&&ar.lastSelectedViewDesc.deselectNode(),ar.lastSelectedViewDesc=void 0)}function selectionBetween(ar,or,lr,Ar){return ar.someProp("createSelectionBetween",cr=>cr(ar,or,lr))||TextSelection.between(or,lr,Ar)}function hasFocusAndSelection(ar){return ar.editable&&!ar.hasFocus()?!1:hasSelection(ar)}function hasSelection(ar){let or=ar.domSelectionRange();if(!or.anchorNode)return!1;try{return ar.dom.contains(or.anchorNode.nodeType==3?or.anchorNode.parentNode:or.anchorNode)&&(ar.editable||ar.dom.contains(or.focusNode.nodeType==3?or.focusNode.parentNode:or.focusNode))}catch{return!1}}function anchorInRightPlace(ar){let or=ar.docView.domFromPos(ar.state.selection.anchor,0),lr=ar.domSelectionRange();return isEquivalentPosition(or.node,or.offset,lr.anchorNode,lr.anchorOffset)}function moveSelectionBlock(ar,or){let{$anchor:lr,$head:Ar}=ar.selection,cr=or>0?lr.max(Ar):lr.min(Ar),ur=cr.parent.inlineContent?cr.depth?ar.doc.resolve(or>0?cr.after():cr.before()):null:cr;return ur&&Selection.findFrom(ur,or)}function apply(ar,or){return ar.dispatch(ar.state.tr.setSelection(or).scrollIntoView()),!0}function selectHorizontally(ar,or,lr){let Ar=ar.state.selection;if(Ar instanceof TextSelection)if(lr.indexOf("s")>-1){let{$head:cr}=Ar,ur=cr.textOffset?null:or<0?cr.nodeBefore:cr.nodeAfter;if(!ur||ur.isText||!ur.isLeaf)return!1;let dr=ar.state.doc.resolve(cr.pos+ur.nodeSize*(or<0?-1:1));return apply(ar,new TextSelection(Ar.$anchor,dr))}else if(Ar.empty){if(ar.endOfTextblock(or>0?"forward":"backward")){let cr=moveSelectionBlock(ar.state,or);return cr&&cr instanceof NodeSelection?apply(ar,cr):!1}else if(!(mac$2&&lr.indexOf("m")>-1)){let cr=Ar.$head,ur=cr.textOffset?null:or<0?cr.nodeBefore:cr.nodeAfter,dr;if(!ur||ur.isText)return!1;let hr=or<0?cr.pos-ur.nodeSize:cr.pos;return ur.isAtom||(dr=ar.docView.descAt(hr))&&!dr.contentDOM?NodeSelection.isSelectable(ur)?apply(ar,new NodeSelection(or<0?ar.state.doc.resolve(cr.pos-ur.nodeSize):cr)):webkit?apply(ar,new TextSelection(ar.state.doc.resolve(or<0?hr:hr+ur.nodeSize))):!1:!1}}else return!1;else{if(Ar instanceof NodeSelection&&Ar.node.isInline)return apply(ar,new TextSelection(or>0?Ar.$to:Ar.$from));{let cr=moveSelectionBlock(ar.state,or);return cr?apply(ar,cr):!1}}}function nodeLen(ar){return ar.nodeType==3?ar.nodeValue.length:ar.childNodes.length}function isIgnorable(ar,or){let lr=ar.pmViewDesc;return lr&&lr.size==0&&(or<0||ar.nextSibling||ar.nodeName!="BR")}function skipIgnoredNodes(ar,or){return or<0?skipIgnoredNodesBefore(ar):skipIgnoredNodesAfter(ar)}function skipIgnoredNodesBefore(ar){let or=ar.domSelectionRange(),lr=or.focusNode,Ar=or.focusOffset;if(!lr)return;let cr,ur,dr=!1;for(gecko&&lr.nodeType==1&&Ar<nodeLen(lr)&&isIgnorable(lr.childNodes[Ar],-1)&&(dr=!0);;)if(Ar>0){if(lr.nodeType!=1)break;{let hr=lr.childNodes[Ar-1];if(isIgnorable(hr,-1))cr=lr,ur=--Ar;else if(hr.nodeType==3)lr=hr,Ar=lr.nodeValue.length;else break}}else{if(isBlockNode(lr))break;{let hr=lr.previousSibling;for(;hr&&isIgnorable(hr,-1);)cr=lr.parentNode,ur=domIndex(hr),hr=hr.previousSibling;if(hr)lr=hr,Ar=nodeLen(lr);else{if(lr=lr.parentNode,lr==ar.dom)break;Ar=0}}}dr?setSelFocus(ar,lr,Ar):cr&&setSelFocus(ar,cr,ur)}function skipIgnoredNodesAfter(ar){let or=ar.domSelectionRange(),lr=or.focusNode,Ar=or.focusOffset;if(!lr)return;let cr=nodeLen(lr),ur,dr;for(;;)if(Ar<cr){if(lr.nodeType!=1)break;let hr=lr.childNodes[Ar];if(isIgnorable(hr,1))ur=lr,dr=++Ar;else break}else{if(isBlockNode(lr))break;{let hr=lr.nextSibling;for(;hr&&isIgnorable(hr,1);)ur=hr.parentNode,dr=domIndex(hr)+1,hr=hr.nextSibling;if(hr)lr=hr,Ar=0,cr=nodeLen(lr);else{if(lr=lr.parentNode,lr==ar.dom)break;Ar=cr=0}}}ur&&setSelFocus(ar,ur,dr)}function isBlockNode(ar){let or=ar.pmViewDesc;return or&&or.node&&or.node.isBlock}function textNodeAfter(ar,or){for(;ar&&or==ar.childNodes.length&&!hasBlockDesc(ar);)or=domIndex(ar)+1,ar=ar.parentNode;for(;ar&&or<ar.childNodes.length;){let lr=ar.childNodes[or];if(lr.nodeType==3)return lr;if(lr.nodeType==1&&lr.contentEditable=="false")break;ar=lr,or=0}}function textNodeBefore(ar,or){for(;ar&&!or&&!hasBlockDesc(ar);)or=domIndex(ar),ar=ar.parentNode;for(;ar&&or;){let lr=ar.childNodes[or-1];if(lr.nodeType==3)return lr;if(lr.nodeType==1&&lr.contentEditable=="false")break;ar=lr,or=ar.childNodes.length}}function setSelFocus(ar,or,lr){if(or.nodeType!=3){let ur,dr;(dr=textNodeAfter(or,lr))?(or=dr,lr=0):(ur=textNodeBefore(or,lr))&&(or=ur,lr=ur.nodeValue.length)}let Ar=ar.domSelection();if(!Ar)return;if(selectionCollapsed(Ar)){let ur=document.createRange();ur.setEnd(or,lr),ur.setStart(or,lr),Ar.removeAllRanges(),Ar.addRange(ur)}else Ar.extend&&Ar.extend(or,lr);ar.domObserver.setCurSelection();let{state:cr}=ar;setTimeout(()=>{ar.state==cr&&selectionToDOM(ar)},50)}function findDirection(ar,or){let lr=ar.state.doc.resolve(or);if(!(chrome||windows$1)&&lr.parent.inlineContent){let cr=ar.coordsAtPos(or);if(or>lr.start()){let ur=ar.coordsAtPos(or-1),dr=(ur.top+ur.bottom)/2;if(dr>cr.top&&dr<cr.bottom&&Math.abs(ur.left-cr.left)>1)return ur.left<cr.left?"ltr":"rtl"}if(or<lr.end()){let ur=ar.coordsAtPos(or+1),dr=(ur.top+ur.bottom)/2;if(dr>cr.top&&dr<cr.bottom&&Math.abs(ur.left-cr.left)>1)return ur.left>cr.left?"ltr":"rtl"}}return getComputedStyle(ar.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(ar,or,lr){let Ar=ar.state.selection;if(Ar instanceof TextSelection&&!Ar.empty||lr.indexOf("s")>-1||mac$2&&lr.indexOf("m")>-1)return!1;let{$from:cr,$to:ur}=Ar;if(!cr.parent.inlineContent||ar.endOfTextblock(or<0?"up":"down")){let dr=moveSelectionBlock(ar.state,or);if(dr&&dr instanceof NodeSelection)return apply(ar,dr)}if(!cr.parent.inlineContent){let dr=or<0?cr:ur,hr=Ar instanceof AllSelection?Selection.near(dr,or):Selection.findFrom(dr,or);return hr?apply(ar,hr):!1}return!1}function stopNativeHorizontalDelete(ar,or){if(!(ar.state.selection instanceof TextSelection))return!0;let{$head:lr,$anchor:Ar,empty:cr}=ar.state.selection;if(!lr.sameParent(Ar))return!0;if(!cr)return!1;if(ar.endOfTextblock(or>0?"forward":"backward"))return!0;let ur=!lr.textOffset&&(or<0?lr.nodeBefore:lr.nodeAfter);if(ur&&!ur.isText){let dr=ar.state.tr;return or<0?dr.delete(lr.pos-ur.nodeSize,lr.pos):dr.delete(lr.pos,lr.pos+ur.nodeSize),ar.dispatch(dr),!0}return!1}function switchEditable(ar,or,lr){ar.domObserver.stop(),or.contentEditable=lr,ar.domObserver.start()}function safariDownArrowBug(ar){if(!safari$1||ar.state.selection.$head.parentOffset>0)return!1;let{focusNode:or,focusOffset:lr}=ar.domSelectionRange();if(or&&or.nodeType==1&&lr==0&&or.firstChild&&or.firstChild.contentEditable=="false"){let Ar=or.firstChild;switchEditable(ar,Ar,"true"),setTimeout(()=>switchEditable(ar,Ar,"false"),20)}return!1}function getMods(ar){let or="";return ar.ctrlKey&&(or+="c"),ar.metaKey&&(or+="m"),ar.altKey&&(or+="a"),ar.shiftKey&&(or+="s"),or}function captureKeyDown(ar,or){let lr=or.keyCode,Ar=getMods(or);if(lr==8||mac$2&&lr==72&&Ar=="c")return stopNativeHorizontalDelete(ar,-1)||skipIgnoredNodes(ar,-1);if(lr==46&&!or.shiftKey||mac$2&&lr==68&&Ar=="c")return stopNativeHorizontalDelete(ar,1)||skipIgnoredNodes(ar,1);if(lr==13||lr==27)return!0;if(lr==37||mac$2&&lr==66&&Ar=="c"){let cr=lr==37?findDirection(ar,ar.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(ar,cr,Ar)||skipIgnoredNodes(ar,cr)}else if(lr==39||mac$2&&lr==70&&Ar=="c"){let cr=lr==39?findDirection(ar,ar.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(ar,cr,Ar)||skipIgnoredNodes(ar,cr)}else{if(lr==38||mac$2&&lr==80&&Ar=="c")return selectVertically(ar,-1,Ar)||skipIgnoredNodes(ar,-1);if(lr==40||mac$2&&lr==78&&Ar=="c")return safariDownArrowBug(ar)||selectVertically(ar,1,Ar)||skipIgnoredNodes(ar,1);if(Ar==(mac$2?"m":"c")&&(lr==66||lr==73||lr==89||lr==90))return!0}return!1}function serializeForClipboard(ar,or){ar.someProp("transformCopied",vr=>{or=vr(or,ar)});let lr=[],{content:Ar,openStart:cr,openEnd:ur}=or;for(;cr>1&&ur>1&&Ar.childCount==1&&Ar.firstChild.childCount==1;){cr--,ur--;let vr=Ar.firstChild;lr.push(vr.type.name,vr.attrs!=vr.type.defaultAttrs?vr.attrs:null),Ar=vr.content}let dr=ar.someProp("clipboardSerializer")||DOMSerializer.fromSchema(ar.state.schema),hr=detachedDoc(),fr=hr.createElement("div");fr.appendChild(dr.serializeFragment(Ar,{document:hr}));let gr=fr.firstChild,pr,mr=0;for(;gr&&gr.nodeType==1&&(pr=wrapMap[gr.nodeName.toLowerCase()]);){for(let vr=pr.length-1;vr>=0;vr--){let br=hr.createElement(pr[vr]);for(;fr.firstChild;)br.appendChild(fr.firstChild);fr.appendChild(br),mr++}gr=fr.firstChild}gr&&gr.nodeType==1&&gr.setAttribute("data-pm-slice",`${cr} ${ur}${mr?` -${mr}`:""} ${JSON.stringify(lr)}`);let yr=ar.someProp("clipboardTextSerializer",vr=>vr(or,ar))||or.content.textBetween(0,or.content.size,`

`);return{dom:fr,text:yr,slice:or}}function parseFromClipboard(ar,or,lr,Ar,cr){let ur=cr.parent.type.spec.code,dr,hr;if(!lr&&!or)return null;let fr=or&&(Ar||ur||!lr);if(fr){if(ar.someProp("transformPastedText",yr=>{or=yr(or,ur||Ar,ar)}),ur)return or?new Slice(Fragment.from(ar.state.schema.text(or.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let mr=ar.someProp("clipboardTextParser",yr=>yr(or,cr,Ar,ar));if(mr)hr=mr;else{let yr=cr.marks(),{schema:vr}=ar.state,br=DOMSerializer.fromSchema(vr);dr=document.createElement("div"),or.split(/(?:\r\n?|\n)+/).forEach(wr=>{let Cr=dr.appendChild(document.createElement("p"));wr&&Cr.appendChild(br.serializeNode(vr.text(wr,yr)))})}}else ar.someProp("transformPastedHTML",mr=>{lr=mr(lr,ar)}),dr=readHTML(lr),webkit&&restoreReplacedSpaces(dr);let gr=dr&&dr.querySelector("[data-pm-slice]"),pr=gr&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(gr.getAttribute("data-pm-slice")||"");if(pr&&pr[3])for(let mr=+pr[3];mr>0;mr--){let yr=dr.firstChild;for(;yr&&yr.nodeType!=1;)yr=yr.nextSibling;if(!yr)break;dr=yr}if(hr||(hr=(ar.someProp("clipboardParser")||ar.someProp("domParser")||DOMParser.fromSchema(ar.state.schema)).parseSlice(dr,{preserveWhitespace:!!(fr||pr),context:cr,ruleFromNode(yr){return yr.nodeName=="BR"&&!yr.nextSibling&&yr.parentNode&&!inlineParents.test(yr.parentNode.nodeName)?{ignore:!0}:null}})),pr)hr=addContext(closeSlice(hr,+pr[1],+pr[2]),pr[4]);else if(hr=Slice.maxOpen(normalizeSiblings(hr.content,cr),!0),hr.openStart||hr.openEnd){let mr=0,yr=0;for(let vr=hr.content.firstChild;mr<hr.openStart&&!vr.type.spec.isolating;mr++,vr=vr.firstChild);for(let vr=hr.content.lastChild;yr<hr.openEnd&&!vr.type.spec.isolating;yr++,vr=vr.lastChild);hr=closeSlice(hr,mr,yr)}return ar.someProp("transformPasted",mr=>{hr=mr(hr,ar)}),hr}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(ar,or){if(ar.childCount<2)return ar;for(let lr=or.depth;lr>=0;lr--){let cr=or.node(lr).contentMatchAt(or.index(lr)),ur,dr=[];if(ar.forEach(hr=>{if(!dr)return;let fr=cr.findWrapping(hr.type),gr;if(!fr)return dr=null;if(gr=dr.length&&ur.length&&addToSibling(fr,ur,hr,dr[dr.length-1],0))dr[dr.length-1]=gr;else{dr.length&&(dr[dr.length-1]=closeRight(dr[dr.length-1],ur.length));let pr=withWrappers(hr,fr);dr.push(pr),cr=cr.matchType(pr.type),ur=fr}}),dr)return Fragment.from(dr)}return ar}function withWrappers(ar,or,lr=0){for(let Ar=or.length-1;Ar>=lr;Ar--)ar=or[Ar].create(null,Fragment.from(ar));return ar}function addToSibling(ar,or,lr,Ar,cr){if(cr<ar.length&&cr<or.length&&ar[cr]==or[cr]){let ur=addToSibling(ar,or,lr,Ar.lastChild,cr+1);if(ur)return Ar.copy(Ar.content.replaceChild(Ar.childCount-1,ur));if(Ar.contentMatchAt(Ar.childCount).matchType(cr==ar.length-1?lr.type:ar[cr+1]))return Ar.copy(Ar.content.append(Fragment.from(withWrappers(lr,ar,cr+1))))}}function closeRight(ar,or){if(or==0)return ar;let lr=ar.content.replaceChild(ar.childCount-1,closeRight(ar.lastChild,or-1)),Ar=ar.contentMatchAt(ar.childCount).fillBefore(Fragment.empty,!0);return ar.copy(lr.append(Ar))}function closeRange(ar,or,lr,Ar,cr,ur){let dr=or<0?ar.firstChild:ar.lastChild,hr=dr.content;return ar.childCount>1&&(ur=0),cr<Ar-1&&(hr=closeRange(hr,or,lr,Ar,cr+1,ur)),cr>=lr&&(hr=or<0?dr.contentMatchAt(0).fillBefore(hr,ur<=cr).append(hr):hr.append(dr.contentMatchAt(dr.childCount).fillBefore(Fragment.empty,!0))),ar.replaceChild(or<0?0:ar.childCount-1,dr.copy(hr))}function closeSlice(ar,or,lr){return or<ar.openStart&&(ar=new Slice(closeRange(ar.content,-1,or,ar.openStart,0,ar.openEnd),or,ar.openEnd)),lr<ar.openEnd&&(ar=new Slice(closeRange(ar.content,1,lr,ar.openEnd,0,0),ar.openStart,lr)),ar}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(ar){let or=window.trustedTypes;return or?(_policy||(_policy=or.defaultPolicy||or.createPolicy("ProseMirrorClipboard",{createHTML:lr=>lr})),_policy.createHTML(ar)):ar}function readHTML(ar){let or=/^(\s*<meta [^>]*>)*/.exec(ar);or&&(ar=ar.slice(or[0].length));let lr=detachedDoc().createElement("div"),Ar=/<([a-z][^>\s]+)/i.exec(ar),cr;if((cr=Ar&&wrapMap[Ar[1].toLowerCase()])&&(ar=cr.map(ur=>"<"+ur+">").join("")+ar+cr.map(ur=>"</"+ur+">").reverse().join("")),lr.innerHTML=maybeWrapTrusted(ar),cr)for(let ur=0;ur<cr.length;ur++)lr=lr.querySelector(cr[ur])||lr;return lr}function restoreReplacedSpaces(ar){let or=ar.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let lr=0;lr<or.length;lr++){let Ar=or[lr];Ar.childNodes.length==1&&Ar.textContent==""&&Ar.parentNode&&Ar.parentNode.replaceChild(ar.ownerDocument.createTextNode(" "),Ar)}}function addContext(ar,or){if(!ar.size)return ar;let lr=ar.content.firstChild.type.schema,Ar;try{Ar=JSON.parse(or)}catch{return ar}let{content:cr,openStart:ur,openEnd:dr}=ar;for(let hr=Ar.length-2;hr>=0;hr-=2){let fr=lr.nodes[Ar[hr]];if(!fr||fr.hasRequiredAttrs())break;cr=Fragment.from(fr.create(Ar[hr+1],cr)),ur++,dr++}return new Slice(cr,ur,dr)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(ar){for(let or in handlers){let lr=handlers[or];ar.dom.addEventListener(or,ar.input.eventHandlers[or]=Ar=>{eventBelongsToView(ar,Ar)&&!runCustomHandler(ar,Ar)&&(ar.editable||!(Ar.type in editHandlers))&&lr(ar,Ar)},passiveHandlers[or]?{passive:!0}:void 0)}safari$1&&ar.dom.addEventListener("input",()=>null),ensureListeners(ar)}function setSelectionOrigin(ar,or){ar.input.lastSelectionOrigin=or,ar.input.lastSelectionTime=Date.now()}function destroyInput(ar){ar.domObserver.stop();for(let or in ar.input.eventHandlers)ar.dom.removeEventListener(or,ar.input.eventHandlers[or]);clearTimeout(ar.input.composingTimeout),clearTimeout(ar.input.lastIOSEnterFallbackTimeout)}function ensureListeners(ar){ar.someProp("handleDOMEvents",or=>{for(let lr in or)ar.input.eventHandlers[lr]||ar.dom.addEventListener(lr,ar.input.eventHandlers[lr]=Ar=>runCustomHandler(ar,Ar))})}function runCustomHandler(ar,or){return ar.someProp("handleDOMEvents",lr=>{let Ar=lr[or.type];return Ar?Ar(ar,or)||or.defaultPrevented:!1})}function eventBelongsToView(ar,or){if(!or.bubbles)return!0;if(or.defaultPrevented)return!1;for(let lr=or.target;lr!=ar.dom;lr=lr.parentNode)if(!lr||lr.nodeType==11||lr.pmViewDesc&&lr.pmViewDesc.stopEvent(or))return!1;return!0}function dispatchEvent$2(ar,or){!runCustomHandler(ar,or)&&handlers[or.type]&&(ar.editable||!(or.type in editHandlers))&&handlers[or.type](ar,or)}editHandlers.keydown=(ar,or)=>{let lr=or;if(ar.input.shiftKey=lr.keyCode==16||lr.shiftKey,!inOrNearComposition(ar,lr)&&(ar.input.lastKeyCode=lr.keyCode,ar.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&lr.keyCode==13)))if(lr.keyCode!=229&&ar.domObserver.forceFlush(),ios&&lr.keyCode==13&&!lr.ctrlKey&&!lr.altKey&&!lr.metaKey){let Ar=Date.now();ar.input.lastIOSEnter=Ar,ar.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{ar.input.lastIOSEnter==Ar&&(ar.someProp("handleKeyDown",cr=>cr(ar,keyEvent(13,"Enter"))),ar.input.lastIOSEnter=0)},200)}else ar.someProp("handleKeyDown",Ar=>Ar(ar,lr))||captureKeyDown(ar,lr)?lr.preventDefault():setSelectionOrigin(ar,"key")};editHandlers.keyup=(ar,or)=>{or.keyCode==16&&(ar.input.shiftKey=!1)};editHandlers.keypress=(ar,or)=>{let lr=or;if(inOrNearComposition(ar,lr)||!lr.charCode||lr.ctrlKey&&!lr.altKey||mac$2&&lr.metaKey)return;if(ar.someProp("handleKeyPress",cr=>cr(ar,lr))){lr.preventDefault();return}let Ar=ar.state.selection;if(!(Ar instanceof TextSelection)||!Ar.$from.sameParent(Ar.$to)){let cr=String.fromCharCode(lr.charCode);!/[\r\n]/.test(cr)&&!ar.someProp("handleTextInput",ur=>ur(ar,Ar.$from.pos,Ar.$to.pos,cr))&&ar.dispatch(ar.state.tr.insertText(cr).scrollIntoView()),lr.preventDefault()}};function eventCoords(ar){return{left:ar.clientX,top:ar.clientY}}function isNear(ar,or){let lr=or.x-ar.clientX,Ar=or.y-ar.clientY;return lr*lr+Ar*Ar<100}function runHandlerOnContext(ar,or,lr,Ar,cr){if(Ar==-1)return!1;let ur=ar.state.doc.resolve(Ar);for(let dr=ur.depth+1;dr>0;dr--)if(ar.someProp(or,hr=>dr>ur.depth?hr(ar,lr,ur.nodeAfter,ur.before(dr),cr,!0):hr(ar,lr,ur.node(dr),ur.before(dr),cr,!1)))return!0;return!1}function updateSelection(ar,or,lr){if(ar.focused||ar.focus(),ar.state.selection.eq(or))return;let Ar=ar.state.tr.setSelection(or);Ar.setMeta("pointer",!0),ar.dispatch(Ar)}function selectClickedLeaf(ar,or){if(or==-1)return!1;let lr=ar.state.doc.resolve(or),Ar=lr.nodeAfter;return Ar&&Ar.isAtom&&NodeSelection.isSelectable(Ar)?(updateSelection(ar,new NodeSelection(lr)),!0):!1}function selectClickedNode(ar,or){if(or==-1)return!1;let lr=ar.state.selection,Ar,cr;lr instanceof NodeSelection&&(Ar=lr.node);let ur=ar.state.doc.resolve(or);for(let dr=ur.depth+1;dr>0;dr--){let hr=dr>ur.depth?ur.nodeAfter:ur.node(dr);if(NodeSelection.isSelectable(hr)){Ar&&lr.$from.depth>0&&dr>=lr.$from.depth&&ur.before(lr.$from.depth+1)==lr.$from.pos?cr=ur.before(lr.$from.depth):cr=ur.before(dr);break}}return cr!=null?(updateSelection(ar,NodeSelection.create(ar.state.doc,cr)),!0):!1}function handleSingleClick(ar,or,lr,Ar,cr){return runHandlerOnContext(ar,"handleClickOn",or,lr,Ar)||ar.someProp("handleClick",ur=>ur(ar,or,Ar))||(cr?selectClickedNode(ar,lr):selectClickedLeaf(ar,lr))}function handleDoubleClick(ar,or,lr,Ar){return runHandlerOnContext(ar,"handleDoubleClickOn",or,lr,Ar)||ar.someProp("handleDoubleClick",cr=>cr(ar,or,Ar))}function handleTripleClick(ar,or,lr,Ar){return runHandlerOnContext(ar,"handleTripleClickOn",or,lr,Ar)||ar.someProp("handleTripleClick",cr=>cr(ar,or,Ar))||defaultTripleClick(ar,lr,Ar)}function defaultTripleClick(ar,or,lr){if(lr.button!=0)return!1;let Ar=ar.state.doc;if(or==-1)return Ar.inlineContent?(updateSelection(ar,TextSelection.create(Ar,0,Ar.content.size)),!0):!1;let cr=Ar.resolve(or);for(let ur=cr.depth+1;ur>0;ur--){let dr=ur>cr.depth?cr.nodeAfter:cr.node(ur),hr=cr.before(ur);if(dr.inlineContent)updateSelection(ar,TextSelection.create(Ar,hr+1,hr+1+dr.content.size));else if(NodeSelection.isSelectable(dr))updateSelection(ar,NodeSelection.create(Ar,hr));else continue;return!0}}function forceDOMFlush(ar){return endComposition(ar)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(ar,or)=>{let lr=or;ar.input.shiftKey=lr.shiftKey;let Ar=forceDOMFlush(ar),cr=Date.now(),ur="singleClick";cr-ar.input.lastClick.time<500&&isNear(lr,ar.input.lastClick)&&!lr[selectNodeModifier]&&ar.input.lastClick.button==lr.button&&(ar.input.lastClick.type=="singleClick"?ur="doubleClick":ar.input.lastClick.type=="doubleClick"&&(ur="tripleClick")),ar.input.lastClick={time:cr,x:lr.clientX,y:lr.clientY,type:ur,button:lr.button};let dr=ar.posAtCoords(eventCoords(lr));dr&&(ur=="singleClick"?(ar.input.mouseDown&&ar.input.mouseDown.done(),ar.input.mouseDown=new MouseDown(ar,dr,lr,!!Ar)):(ur=="doubleClick"?handleDoubleClick:handleTripleClick)(ar,dr.pos,dr.inside,lr)?lr.preventDefault():setSelectionOrigin(ar,"pointer"))};class MouseDown{constructor(or,lr,Ar,cr){this.view=or,this.pos=lr,this.event=Ar,this.flushed=cr,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=or.state.doc,this.selectNode=!!Ar[selectNodeModifier],this.allowDefault=Ar.shiftKey;let ur,dr;if(lr.inside>-1)ur=or.state.doc.nodeAt(lr.inside),dr=lr.inside;else{let pr=or.state.doc.resolve(lr.pos);ur=pr.parent,dr=pr.depth?pr.before():0}const hr=cr?null:Ar.target,fr=hr?or.docView.nearestDesc(hr,!0):null;this.target=fr&&fr.dom.nodeType==1?fr.dom:null;let{selection:gr}=or.state;(Ar.button==0&&ur.type.spec.draggable&&ur.type.spec.selectable!==!1||gr instanceof NodeSelection&&gr.from<=dr&&gr.to>dr)&&(this.mightDrag={node:ur,pos:dr,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),or.root.addEventListener("mouseup",this.up=this.up.bind(this)),or.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(or,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(or){if(this.done(),!this.view.dom.contains(or.target))return;let lr=this.pos;this.view.state.doc!=this.startDoc&&(lr=this.view.posAtCoords(eventCoords(or))),this.updateAllowDefault(or),this.allowDefault||!lr?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,lr.pos,lr.inside,or,this.selectNode)?or.preventDefault():or.button==0&&(this.flushed||safari$1&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(lr.pos-this.view.state.selection.from),Math.abs(lr.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(lr.pos))),or.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(or){this.updateAllowDefault(or),setSelectionOrigin(this.view,"pointer"),or.buttons==0&&this.done()}updateAllowDefault(or){!this.allowDefault&&(Math.abs(this.event.x-or.clientX)>4||Math.abs(this.event.y-or.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=ar=>{ar.input.lastTouch=Date.now(),forceDOMFlush(ar),setSelectionOrigin(ar,"pointer")};handlers.touchmove=ar=>{ar.input.lastTouch=Date.now(),setSelectionOrigin(ar,"pointer")};handlers.contextmenu=ar=>forceDOMFlush(ar);function inOrNearComposition(ar,or){return ar.composing?!0:safari$1&&Math.abs(or.timeStamp-ar.input.compositionEndedAt)<500?(ar.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=ar=>{if(!ar.composing){ar.domObserver.flush();let{state:or}=ar,lr=or.selection.$to;if(or.selection instanceof TextSelection&&(or.storedMarks||!lr.textOffset&&lr.parentOffset&&lr.nodeBefore.marks.some(Ar=>Ar.type.spec.inclusive===!1)))ar.markCursor=ar.state.storedMarks||lr.marks(),endComposition(ar,!0),ar.markCursor=null;else if(endComposition(ar,!or.selection.empty),gecko&&or.selection.empty&&lr.parentOffset&&!lr.textOffset&&lr.nodeBefore.marks.length){let Ar=ar.domSelectionRange();for(let cr=Ar.focusNode,ur=Ar.focusOffset;cr&&cr.nodeType==1&&ur!=0;){let dr=ur<0?cr.lastChild:cr.childNodes[ur-1];if(!dr)break;if(dr.nodeType==3){let hr=ar.domSelection();hr&&hr.collapse(dr,dr.nodeValue.length);break}else cr=dr,ur=-1}}ar.input.composing=!0}scheduleComposeEnd(ar,timeoutComposition)};editHandlers.compositionend=(ar,or)=>{ar.composing&&(ar.input.composing=!1,ar.input.compositionEndedAt=or.timeStamp,ar.input.compositionPendingChanges=ar.domObserver.pendingRecords().length?ar.input.compositionID:0,ar.input.compositionNode=null,ar.input.compositionPendingChanges&&Promise.resolve().then(()=>ar.domObserver.flush()),ar.input.compositionID++,scheduleComposeEnd(ar,20))};function scheduleComposeEnd(ar,or){clearTimeout(ar.input.composingTimeout),or>-1&&(ar.input.composingTimeout=setTimeout(()=>endComposition(ar),or))}function clearComposition(ar){for(ar.composing&&(ar.input.composing=!1,ar.input.compositionEndedAt=timestampFromCustomEvent());ar.input.compositionNodes.length>0;)ar.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(ar){let or=ar.domSelectionRange();if(!or.focusNode)return null;let lr=textNodeBefore$1(or.focusNode,or.focusOffset),Ar=textNodeAfter$1(or.focusNode,or.focusOffset);if(lr&&Ar&&lr!=Ar){let cr=Ar.pmViewDesc,ur=ar.domObserver.lastChangedTextNode;if(lr==ur||Ar==ur)return ur;if(!cr||!cr.isText(Ar.nodeValue))return Ar;if(ar.input.compositionNode==Ar){let dr=lr.pmViewDesc;if(!(!dr||!dr.isText(lr.nodeValue)))return Ar}}return lr||Ar}function timestampFromCustomEvent(){let ar=document.createEvent("Event");return ar.initEvent("event",!0,!0),ar.timeStamp}function endComposition(ar,or=!1){if(!(android&&ar.domObserver.flushingSoon>=0)){if(ar.domObserver.forceFlush(),clearComposition(ar),or||ar.docView&&ar.docView.dirty){let lr=selectionFromDOM(ar),Ar=ar.state.selection;return lr&&!lr.eq(Ar)?ar.dispatch(ar.state.tr.setSelection(lr)):(ar.markCursor||or)&&!Ar.$from.node(Ar.$from.sharedDepth(Ar.to)).inlineContent?ar.dispatch(ar.state.tr.deleteSelection()):ar.updateState(ar.state),!0}return!1}}function captureCopy(ar,or){if(!ar.dom.parentNode)return;let lr=ar.dom.parentNode.appendChild(document.createElement("div"));lr.appendChild(or),lr.style.cssText="position: fixed; left: -10000px; top: 10px";let Ar=getSelection(),cr=document.createRange();cr.selectNodeContents(or),ar.dom.blur(),Ar.removeAllRanges(),Ar.addRange(cr),setTimeout(()=>{lr.parentNode&&lr.parentNode.removeChild(lr),ar.focus()},50)}const brokenClipboardAPI=ie$2&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(ar,or)=>{let lr=or,Ar=ar.state.selection,cr=lr.type=="cut";if(Ar.empty)return;let ur=brokenClipboardAPI?null:lr.clipboardData,dr=Ar.content(),{dom:hr,text:fr}=serializeForClipboard(ar,dr);ur?(lr.preventDefault(),ur.clearData(),ur.setData("text/html",hr.innerHTML),ur.setData("text/plain",fr)):captureCopy(ar,hr),cr&&ar.dispatch(ar.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(ar){return ar.openStart==0&&ar.openEnd==0&&ar.content.childCount==1?ar.content.firstChild:null}function capturePaste(ar,or){if(!ar.dom.parentNode)return;let lr=ar.input.shiftKey||ar.state.selection.$from.parent.type.spec.code,Ar=ar.dom.parentNode.appendChild(document.createElement(lr?"textarea":"div"));lr||(Ar.contentEditable="true"),Ar.style.cssText="position: fixed; left: -10000px; top: 10px",Ar.focus();let cr=ar.input.shiftKey&&ar.input.lastKeyCode!=45;setTimeout(()=>{ar.focus(),Ar.parentNode&&Ar.parentNode.removeChild(Ar),lr?doPaste(ar,Ar.value,null,cr,or):doPaste(ar,Ar.textContent,Ar.innerHTML,cr,or)},50)}function doPaste(ar,or,lr,Ar,cr){let ur=parseFromClipboard(ar,or,lr,Ar,ar.state.selection.$from);if(ar.someProp("handlePaste",fr=>fr(ar,cr,ur||Slice.empty)))return!0;if(!ur)return!1;let dr=sliceSingleNode(ur),hr=dr?ar.state.tr.replaceSelectionWith(dr,Ar):ar.state.tr.replaceSelection(ur);return ar.dispatch(hr.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(ar){let or=ar.getData("text/plain")||ar.getData("Text");if(or)return or;let lr=ar.getData("text/uri-list");return lr?lr.replace(/\r?\n/g," "):""}editHandlers.paste=(ar,or)=>{let lr=or;if(ar.composing&&!android)return;let Ar=brokenClipboardAPI?null:lr.clipboardData,cr=ar.input.shiftKey&&ar.input.lastKeyCode!=45;Ar&&doPaste(ar,getText$1(Ar),Ar.getData("text/html"),cr,lr)?lr.preventDefault():capturePaste(ar,lr)};class Dragging{constructor(or,lr,Ar){this.slice=or,this.move=lr,this.node=Ar}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(ar,or){let lr=ar.someProp("dragCopies",Ar=>!Ar(or));return lr??!or[dragCopyModifier]}handlers.dragstart=(ar,or)=>{let lr=or,Ar=ar.input.mouseDown;if(Ar&&Ar.done(),!lr.dataTransfer)return;let cr=ar.state.selection,ur=cr.empty?null:ar.posAtCoords(eventCoords(lr)),dr;if(!(ur&&ur.pos>=cr.from&&ur.pos<=(cr instanceof NodeSelection?cr.to-1:cr.to))){if(Ar&&Ar.mightDrag)dr=NodeSelection.create(ar.state.doc,Ar.mightDrag.pos);else if(lr.target&&lr.target.nodeType==1){let mr=ar.docView.nearestDesc(lr.target,!0);mr&&mr.node.type.spec.draggable&&mr!=ar.docView&&(dr=NodeSelection.create(ar.state.doc,mr.posBefore))}}let hr=(dr||ar.state.selection).content(),{dom:fr,text:gr,slice:pr}=serializeForClipboard(ar,hr);(!lr.dataTransfer.files.length||!chrome||chrome_version>120)&&lr.dataTransfer.clearData(),lr.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",fr.innerHTML),lr.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||lr.dataTransfer.setData("text/plain",gr),ar.dragging=new Dragging(pr,dragMoves(ar,lr),dr)};handlers.dragend=ar=>{let or=ar.dragging;window.setTimeout(()=>{ar.dragging==or&&(ar.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(ar,or)=>or.preventDefault();editHandlers.drop=(ar,or)=>{let lr=or,Ar=ar.dragging;if(ar.dragging=null,!lr.dataTransfer)return;let cr=ar.posAtCoords(eventCoords(lr));if(!cr)return;let ur=ar.state.doc.resolve(cr.pos),dr=Ar&&Ar.slice;dr?ar.someProp("transformPasted",br=>{dr=br(dr,ar)}):dr=parseFromClipboard(ar,getText$1(lr.dataTransfer),brokenClipboardAPI?null:lr.dataTransfer.getData("text/html"),!1,ur);let hr=!!(Ar&&dragMoves(ar,lr));if(ar.someProp("handleDrop",br=>br(ar,lr,dr||Slice.empty,hr))){lr.preventDefault();return}if(!dr)return;lr.preventDefault();let fr=dr?dropPoint(ar.state.doc,ur.pos,dr):ur.pos;fr==null&&(fr=ur.pos);let gr=ar.state.tr;if(hr){let{node:br}=Ar;br?br.replace(gr):gr.deleteSelection()}let pr=gr.mapping.map(fr),mr=dr.openStart==0&&dr.openEnd==0&&dr.content.childCount==1,yr=gr.doc;if(mr?gr.replaceRangeWith(pr,pr,dr.content.firstChild):gr.replaceRange(pr,pr,dr),gr.doc.eq(yr))return;let vr=gr.doc.resolve(pr);if(mr&&NodeSelection.isSelectable(dr.content.firstChild)&&vr.nodeAfter&&vr.nodeAfter.sameMarkup(dr.content.firstChild))gr.setSelection(new NodeSelection(vr));else{let br=gr.mapping.map(fr);gr.mapping.maps[gr.mapping.maps.length-1].forEach((wr,Cr,Br,Sr)=>br=Sr),gr.setSelection(selectionBetween(ar,vr,gr.doc.resolve(br)))}ar.focus(),ar.dispatch(gr.setMeta("uiEvent","drop"))};handlers.focus=ar=>{ar.input.lastFocus=Date.now(),ar.focused||(ar.domObserver.stop(),ar.dom.classList.add("ProseMirror-focused"),ar.domObserver.start(),ar.focused=!0,setTimeout(()=>{ar.docView&&ar.hasFocus()&&!ar.domObserver.currentSelection.eq(ar.domSelectionRange())&&selectionToDOM(ar)},20))};handlers.blur=(ar,or)=>{let lr=or;ar.focused&&(ar.domObserver.stop(),ar.dom.classList.remove("ProseMirror-focused"),ar.domObserver.start(),lr.relatedTarget&&ar.dom.contains(lr.relatedTarget)&&ar.domObserver.currentSelection.clear(),ar.focused=!1)};handlers.beforeinput=(ar,or)=>{if(chrome&&android&&or.inputType=="deleteContentBackward"){ar.domObserver.flushSoon();let{domChangeCount:Ar}=ar.input;setTimeout(()=>{if(ar.input.domChangeCount!=Ar||(ar.dom.blur(),ar.focus(),ar.someProp("handleKeyDown",ur=>ur(ar,keyEvent(8,"Backspace")))))return;let{$cursor:cr}=ar.state.selection;cr&&cr.pos>0&&ar.dispatch(ar.state.tr.delete(cr.pos-1,cr.pos).scrollIntoView())},50)}};for(let ar in editHandlers)handlers[ar]=editHandlers[ar];function compareObjs(ar,or){if(ar==or)return!0;for(let lr in ar)if(ar[lr]!==or[lr])return!1;for(let lr in or)if(!(lr in ar))return!1;return!0}class WidgetType{constructor(or,lr){this.toDOM=or,this.spec=lr||noSpec,this.side=this.spec.side||0}map(or,lr,Ar,cr){let{pos:ur,deleted:dr}=or.mapResult(lr.from+cr,this.side<0?-1:1);return dr?null:new Decoration(ur-Ar,ur-Ar,this)}valid(){return!0}eq(or){return this==or||or instanceof WidgetType&&(this.spec.key&&this.spec.key==or.spec.key||this.toDOM==or.toDOM&&compareObjs(this.spec,or.spec))}destroy(or){this.spec.destroy&&this.spec.destroy(or)}}class InlineType{constructor(or,lr){this.attrs=or,this.spec=lr||noSpec}map(or,lr,Ar,cr){let ur=or.map(lr.from+cr,this.spec.inclusiveStart?-1:1)-Ar,dr=or.map(lr.to+cr,this.spec.inclusiveEnd?1:-1)-Ar;return ur>=dr?null:new Decoration(ur,dr,this)}valid(or,lr){return lr.from<lr.to}eq(or){return this==or||or instanceof InlineType&&compareObjs(this.attrs,or.attrs)&&compareObjs(this.spec,or.spec)}static is(or){return or.type instanceof InlineType}destroy(){}}class NodeType{constructor(or,lr){this.attrs=or,this.spec=lr||noSpec}map(or,lr,Ar,cr){let ur=or.mapResult(lr.from+cr,1);if(ur.deleted)return null;let dr=or.mapResult(lr.to+cr,-1);return dr.deleted||dr.pos<=ur.pos?null:new Decoration(ur.pos-Ar,dr.pos-Ar,this)}valid(or,lr){let{index:Ar,offset:cr}=or.content.findIndex(lr.from),ur;return cr==lr.from&&!(ur=or.child(Ar)).isText&&cr+ur.nodeSize==lr.to}eq(or){return this==or||or instanceof NodeType&&compareObjs(this.attrs,or.attrs)&&compareObjs(this.spec,or.spec)}destroy(){}}class Decoration{constructor(or,lr,Ar){this.from=or,this.to=lr,this.type=Ar}copy(or,lr){return new Decoration(or,lr,this.type)}eq(or,lr=0){return this.type.eq(or.type)&&this.from+lr==or.from&&this.to+lr==or.to}map(or,lr,Ar){return this.type.map(or,this,lr,Ar)}static widget(or,lr,Ar){return new Decoration(or,or,new WidgetType(lr,Ar))}static inline(or,lr,Ar,cr){return new Decoration(or,lr,new InlineType(Ar,cr))}static node(or,lr,Ar,cr){return new Decoration(or,lr,new NodeType(Ar,cr))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(or,lr){this.local=or.length?or:none,this.children=lr.length?lr:none}static create(or,lr){return lr.length?buildTree(lr,or,0,noSpec):empty}find(or,lr,Ar){let cr=[];return this.findInner(or??0,lr??1e9,cr,0,Ar),cr}findInner(or,lr,Ar,cr,ur){for(let dr=0;dr<this.local.length;dr++){let hr=this.local[dr];hr.from<=lr&&hr.to>=or&&(!ur||ur(hr.spec))&&Ar.push(hr.copy(hr.from+cr,hr.to+cr))}for(let dr=0;dr<this.children.length;dr+=3)if(this.children[dr]<lr&&this.children[dr+1]>or){let hr=this.children[dr]+1;this.children[dr+2].findInner(or-hr,lr-hr,Ar,cr+hr,ur)}}map(or,lr,Ar){return this==empty||or.maps.length==0?this:this.mapInner(or,lr,0,0,Ar||noSpec)}mapInner(or,lr,Ar,cr,ur){let dr;for(let hr=0;hr<this.local.length;hr++){let fr=this.local[hr].map(or,Ar,cr);fr&&fr.type.valid(lr,fr)?(dr||(dr=[])).push(fr):ur.onRemove&&ur.onRemove(this.local[hr].spec)}return this.children.length?mapChildren(this.children,dr||[],or,lr,Ar,cr,ur):dr?new DecorationSet(dr.sort(byPos),none):empty}add(or,lr){return lr.length?this==empty?DecorationSet.create(or,lr):this.addInner(or,lr,0):this}addInner(or,lr,Ar){let cr,ur=0;or.forEach((hr,fr)=>{let gr=fr+Ar,pr;if(pr=takeSpansForNode(lr,hr,gr)){for(cr||(cr=this.children.slice());ur<cr.length&&cr[ur]<fr;)ur+=3;cr[ur]==fr?cr[ur+2]=cr[ur+2].addInner(hr,pr,gr+1):cr.splice(ur,0,fr,fr+hr.nodeSize,buildTree(pr,hr,gr+1,noSpec)),ur+=3}});let dr=moveSpans(ur?withoutNulls(lr):lr,-Ar);for(let hr=0;hr<dr.length;hr++)dr[hr].type.valid(or,dr[hr])||dr.splice(hr--,1);return new DecorationSet(dr.length?this.local.concat(dr).sort(byPos):this.local,cr||this.children)}remove(or){return or.length==0||this==empty?this:this.removeInner(or,0)}removeInner(or,lr){let Ar=this.children,cr=this.local;for(let ur=0;ur<Ar.length;ur+=3){let dr,hr=Ar[ur]+lr,fr=Ar[ur+1]+lr;for(let pr=0,mr;pr<or.length;pr++)(mr=or[pr])&&mr.from>hr&&mr.to<fr&&(or[pr]=null,(dr||(dr=[])).push(mr));if(!dr)continue;Ar==this.children&&(Ar=this.children.slice());let gr=Ar[ur+2].removeInner(dr,hr+1);gr!=empty?Ar[ur+2]=gr:(Ar.splice(ur,3),ur-=3)}if(cr.length){for(let ur=0,dr;ur<or.length;ur++)if(dr=or[ur])for(let hr=0;hr<cr.length;hr++)cr[hr].eq(dr,lr)&&(cr==this.local&&(cr=this.local.slice()),cr.splice(hr--,1))}return Ar==this.children&&cr==this.local?this:cr.length||Ar.length?new DecorationSet(cr,Ar):empty}forChild(or,lr){if(this==empty)return this;if(lr.isLeaf)return DecorationSet.empty;let Ar,cr;for(let hr=0;hr<this.children.length;hr+=3)if(this.children[hr]>=or){this.children[hr]==or&&(Ar=this.children[hr+2]);break}let ur=or+1,dr=ur+lr.content.size;for(let hr=0;hr<this.local.length;hr++){let fr=this.local[hr];if(fr.from<dr&&fr.to>ur&&fr.type instanceof InlineType){let gr=Math.max(ur,fr.from)-ur,pr=Math.min(dr,fr.to)-ur;gr<pr&&(cr||(cr=[])).push(fr.copy(gr,pr))}}if(cr){let hr=new DecorationSet(cr.sort(byPos),none);return Ar?new DecorationGroup([hr,Ar]):hr}return Ar||empty}eq(or){if(this==or)return!0;if(!(or instanceof DecorationSet)||this.local.length!=or.local.length||this.children.length!=or.children.length)return!1;for(let lr=0;lr<this.local.length;lr++)if(!this.local[lr].eq(or.local[lr]))return!1;for(let lr=0;lr<this.children.length;lr+=3)if(this.children[lr]!=or.children[lr]||this.children[lr+1]!=or.children[lr+1]||!this.children[lr+2].eq(or.children[lr+2]))return!1;return!0}locals(or){return removeOverlap(this.localsInner(or))}localsInner(or){if(this==empty)return none;if(or.inlineContent||!this.local.some(InlineType.is))return this.local;let lr=[];for(let Ar=0;Ar<this.local.length;Ar++)this.local[Ar].type instanceof InlineType||lr.push(this.local[Ar]);return lr}forEachSet(or){or(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(or){this.members=or}map(or,lr){const Ar=this.members.map(cr=>cr.map(or,lr,noSpec));return DecorationGroup.from(Ar)}forChild(or,lr){if(lr.isLeaf)return DecorationSet.empty;let Ar=[];for(let cr=0;cr<this.members.length;cr++){let ur=this.members[cr].forChild(or,lr);ur!=empty&&(ur instanceof DecorationGroup?Ar=Ar.concat(ur.members):Ar.push(ur))}return DecorationGroup.from(Ar)}eq(or){if(!(or instanceof DecorationGroup)||or.members.length!=this.members.length)return!1;for(let lr=0;lr<this.members.length;lr++)if(!this.members[lr].eq(or.members[lr]))return!1;return!0}locals(or){let lr,Ar=!0;for(let cr=0;cr<this.members.length;cr++){let ur=this.members[cr].localsInner(or);if(ur.length)if(!lr)lr=ur;else{Ar&&(lr=lr.slice(),Ar=!1);for(let dr=0;dr<ur.length;dr++)lr.push(ur[dr])}}return lr?removeOverlap(Ar?lr:lr.sort(byPos)):none}static from(or){switch(or.length){case 0:return empty;case 1:return or[0];default:return new DecorationGroup(or.every(lr=>lr instanceof DecorationSet)?or:or.reduce((lr,Ar)=>lr.concat(Ar instanceof DecorationSet?Ar:Ar.members),[]))}}forEachSet(or){for(let lr=0;lr<this.members.length;lr++)this.members[lr].forEachSet(or)}}function mapChildren(ar,or,lr,Ar,cr,ur,dr){let hr=ar.slice();for(let gr=0,pr=ur;gr<lr.maps.length;gr++){let mr=0;lr.maps[gr].forEach((yr,vr,br,wr)=>{let Cr=wr-br-(vr-yr);for(let Br=0;Br<hr.length;Br+=3){let Sr=hr[Br+1];if(Sr<0||yr>Sr+pr-mr)continue;let Er=hr[Br]+pr-mr;vr>=Er?hr[Br+1]=yr<=Er?-2:-1:yr>=pr&&Cr&&(hr[Br]+=Cr,hr[Br+1]+=Cr)}mr+=Cr}),pr=lr.maps[gr].map(pr,-1)}let fr=!1;for(let gr=0;gr<hr.length;gr+=3)if(hr[gr+1]<0){if(hr[gr+1]==-2){fr=!0,hr[gr+1]=-1;continue}let pr=lr.map(ar[gr]+ur),mr=pr-cr;if(mr<0||mr>=Ar.content.size){fr=!0;continue}let yr=lr.map(ar[gr+1]+ur,-1),vr=yr-cr,{index:br,offset:wr}=Ar.content.findIndex(mr),Cr=Ar.maybeChild(br);if(Cr&&wr==mr&&wr+Cr.nodeSize==vr){let Br=hr[gr+2].mapInner(lr,Cr,pr+1,ar[gr]+ur+1,dr);Br!=empty?(hr[gr]=mr,hr[gr+1]=vr,hr[gr+2]=Br):(hr[gr+1]=-2,fr=!0)}else fr=!0}if(fr){let gr=mapAndGatherRemainingDecorations(hr,ar,or,lr,cr,ur,dr),pr=buildTree(gr,Ar,0,dr);or=pr.local;for(let mr=0;mr<hr.length;mr+=3)hr[mr+1]<0&&(hr.splice(mr,3),mr-=3);for(let mr=0,yr=0;mr<pr.children.length;mr+=3){let vr=pr.children[mr];for(;yr<hr.length&&hr[yr]<vr;)yr+=3;hr.splice(yr,0,pr.children[mr],pr.children[mr+1],pr.children[mr+2])}}return new DecorationSet(or.sort(byPos),hr)}function moveSpans(ar,or){if(!or||!ar.length)return ar;let lr=[];for(let Ar=0;Ar<ar.length;Ar++){let cr=ar[Ar];lr.push(new Decoration(cr.from+or,cr.to+or,cr.type))}return lr}function mapAndGatherRemainingDecorations(ar,or,lr,Ar,cr,ur,dr){function hr(fr,gr){for(let pr=0;pr<fr.local.length;pr++){let mr=fr.local[pr].map(Ar,cr,gr);mr?lr.push(mr):dr.onRemove&&dr.onRemove(fr.local[pr].spec)}for(let pr=0;pr<fr.children.length;pr+=3)hr(fr.children[pr+2],fr.children[pr]+gr+1)}for(let fr=0;fr<ar.length;fr+=3)ar[fr+1]==-1&&hr(ar[fr+2],or[fr]+ur+1);return lr}function takeSpansForNode(ar,or,lr){if(or.isLeaf)return null;let Ar=lr+or.nodeSize,cr=null;for(let ur=0,dr;ur<ar.length;ur++)(dr=ar[ur])&&dr.from>lr&&dr.to<Ar&&((cr||(cr=[])).push(dr),ar[ur]=null);return cr}function withoutNulls(ar){let or=[];for(let lr=0;lr<ar.length;lr++)ar[lr]!=null&&or.push(ar[lr]);return or}function buildTree(ar,or,lr,Ar){let cr=[],ur=!1;or.forEach((hr,fr)=>{let gr=takeSpansForNode(ar,hr,fr+lr);if(gr){ur=!0;let pr=buildTree(gr,hr,lr+fr+1,Ar);pr!=empty&&cr.push(fr,fr+hr.nodeSize,pr)}});let dr=moveSpans(ur?withoutNulls(ar):ar,-lr).sort(byPos);for(let hr=0;hr<dr.length;hr++)dr[hr].type.valid(or,dr[hr])||(Ar.onRemove&&Ar.onRemove(dr[hr].spec),dr.splice(hr--,1));return dr.length||cr.length?new DecorationSet(dr,cr):empty}function byPos(ar,or){return ar.from-or.from||ar.to-or.to}function removeOverlap(ar){let or=ar;for(let lr=0;lr<or.length-1;lr++){let Ar=or[lr];if(Ar.from!=Ar.to)for(let cr=lr+1;cr<or.length;cr++){let ur=or[cr];if(ur.from==Ar.from){ur.to!=Ar.to&&(or==ar&&(or=ar.slice()),or[cr]=ur.copy(ur.from,Ar.to),insertAhead(or,cr+1,ur.copy(Ar.to,ur.to)));continue}else{ur.from<Ar.to&&(or==ar&&(or=ar.slice()),or[lr]=Ar.copy(Ar.from,ur.from),insertAhead(or,cr,Ar.copy(ur.from,Ar.to)));break}}}return or}function insertAhead(ar,or,lr){for(;or<ar.length&&byPos(lr,ar[or])>0;)or++;ar.splice(or,0,lr)}function viewDecorations(ar){let or=[];return ar.someProp("decorations",lr=>{let Ar=lr(ar.state);Ar&&Ar!=empty&&or.push(Ar)}),ar.cursorWrapper&&or.push(DecorationSet.create(ar.state.doc,[ar.cursorWrapper.deco])),DecorationGroup.from(or)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$2&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(or){this.anchorNode=or.anchorNode,this.anchorOffset=or.anchorOffset,this.focusNode=or.focusNode,this.focusOffset=or.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(or){return or.anchorNode==this.anchorNode&&or.anchorOffset==this.anchorOffset&&or.focusNode==this.focusNode&&or.focusOffset==this.focusOffset}}class DOMObserver{constructor(or,lr){this.view=or,this.handleDOMChange=lr,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(Ar=>{for(let cr=0;cr<Ar.length;cr++)this.queue.push(Ar[cr]);ie$2&&ie_version<=11&&Ar.some(cr=>cr.type=="childList"&&cr.removedNodes.length||cr.type=="characterData"&&cr.oldValue.length>cr.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=Ar=>{this.queue.push({target:Ar.target,type:"characterData",oldValue:Ar.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let or=this.observer.takeRecords();if(or.length){for(let lr=0;lr<or.length;lr++)this.queue.push(or[lr]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$2&&ie_version<=11&&!this.view.state.selection.empty){let or=this.view.domSelectionRange();if(or.focusNode&&isEquivalentPosition(or.focusNode,or.focusOffset,or.anchorNode,or.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(or){if(!or.focusNode)return!0;let lr=new Set,Ar;for(let ur=or.focusNode;ur;ur=parentNode(ur))lr.add(ur);for(let ur=or.anchorNode;ur;ur=parentNode(ur))if(lr.has(ur)){Ar=ur;break}let cr=Ar&&this.view.docView.nearestDesc(Ar);if(cr&&cr.ignoreMutation({type:"selection",target:Ar.nodeType==3?Ar.parentNode:Ar}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let or of this.observer.takeRecords())this.queue.push(or);return this.queue}flush(){let{view:or}=this;if(!or.docView||this.flushingSoon>-1)return;let lr=this.pendingRecords();lr.length&&(this.queue=[]);let Ar=or.domSelectionRange(),cr=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(Ar)&&hasFocusAndSelection(or)&&!this.ignoreSelectionChange(Ar),ur=-1,dr=-1,hr=!1,fr=[];if(or.editable)for(let pr=0;pr<lr.length;pr++){let mr=this.registerMutation(lr[pr],fr);mr&&(ur=ur<0?mr.from:Math.min(mr.from,ur),dr=dr<0?mr.to:Math.max(mr.to,dr),mr.typeOver&&(hr=!0))}if(gecko&&fr.length){let pr=fr.filter(mr=>mr.nodeName=="BR");if(pr.length==2){let[mr,yr]=pr;mr.parentNode&&mr.parentNode.parentNode==yr.parentNode?yr.remove():mr.remove()}else{let{focusNode:mr}=this.currentSelection;for(let yr of pr){let vr=yr.parentNode;vr&&vr.nodeName=="LI"&&(!mr||blockParent(or,mr)!=vr)&&yr.remove()}}}let gr=null;ur<0&&cr&&or.input.lastFocus>Date.now()-200&&Math.max(or.input.lastTouch,or.input.lastClick.time)<Date.now()-300&&selectionCollapsed(Ar)&&(gr=selectionFromDOM(or))&&gr.eq(Selection.near(or.state.doc.resolve(0),1))?(or.input.lastFocus=0,selectionToDOM(or),this.currentSelection.set(Ar),or.scrollToSelection()):(ur>-1||cr)&&(ur>-1&&(or.docView.markDirty(ur,dr),checkCSS(or)),this.handleDOMChange(ur,dr,hr,fr),or.docView&&or.docView.dirty?or.updateState(or.state):this.currentSelection.eq(Ar)||selectionToDOM(or),this.currentSelection.set(Ar))}registerMutation(or,lr){if(lr.indexOf(or.target)>-1)return null;let Ar=this.view.docView.nearestDesc(or.target);if(or.type=="attributes"&&(Ar==this.view.docView||or.attributeName=="contenteditable"||or.attributeName=="style"&&!or.oldValue&&!or.target.getAttribute("style"))||!Ar||Ar.ignoreMutation(or))return null;if(or.type=="childList"){for(let pr=0;pr<or.addedNodes.length;pr++){let mr=or.addedNodes[pr];lr.push(mr),mr.nodeType==3&&(this.lastChangedTextNode=mr)}if(Ar.contentDOM&&Ar.contentDOM!=Ar.dom&&!Ar.contentDOM.contains(or.target))return{from:Ar.posBefore,to:Ar.posAfter};let cr=or.previousSibling,ur=or.nextSibling;if(ie$2&&ie_version<=11&&or.addedNodes.length)for(let pr=0;pr<or.addedNodes.length;pr++){let{previousSibling:mr,nextSibling:yr}=or.addedNodes[pr];(!mr||Array.prototype.indexOf.call(or.addedNodes,mr)<0)&&(cr=mr),(!yr||Array.prototype.indexOf.call(or.addedNodes,yr)<0)&&(ur=yr)}let dr=cr&&cr.parentNode==or.target?domIndex(cr)+1:0,hr=Ar.localPosFromDOM(or.target,dr,-1),fr=ur&&ur.parentNode==or.target?domIndex(ur):or.target.childNodes.length,gr=Ar.localPosFromDOM(or.target,fr,1);return{from:hr,to:gr}}else return or.type=="attributes"?{from:Ar.posAtStart-Ar.border,to:Ar.posAtEnd+Ar.border}:(this.lastChangedTextNode=or.target,{from:Ar.posAtStart,to:Ar.posAtEnd,typeOver:or.target.nodeValue==or.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(ar){if(!cssChecked.has(ar)&&(cssChecked.set(ar,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(ar.dom).whiteSpace)!==-1)){if(ar.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(ar,or){let lr=or.startContainer,Ar=or.startOffset,cr=or.endContainer,ur=or.endOffset,dr=ar.domAtPos(ar.state.selection.anchor);return isEquivalentPosition(dr.node,dr.offset,cr,ur)&&([lr,Ar,cr,ur]=[cr,ur,lr,Ar]),{anchorNode:lr,anchorOffset:Ar,focusNode:cr,focusOffset:ur}}function safariShadowSelectionRange(ar,or){if(or.getComposedRanges){let cr=or.getComposedRanges(ar.root)[0];if(cr)return rangeToSelectionRange(ar,cr)}let lr;function Ar(cr){cr.preventDefault(),cr.stopImmediatePropagation(),lr=cr.getTargetRanges()[0]}return ar.dom.addEventListener("beforeinput",Ar,!0),document.execCommand("indent"),ar.dom.removeEventListener("beforeinput",Ar,!0),lr?rangeToSelectionRange(ar,lr):null}function blockParent(ar,or){for(let lr=or.parentNode;lr&&lr!=ar.dom;lr=lr.parentNode){let Ar=ar.docView.nearestDesc(lr,!0);if(Ar&&Ar.node.isBlock)return lr}return null}function parseBetween(ar,or,lr){let{node:Ar,fromOffset:cr,toOffset:ur,from:dr,to:hr}=ar.docView.parseRange(or,lr),fr=ar.domSelectionRange(),gr,pr=fr.anchorNode;if(pr&&ar.dom.contains(pr.nodeType==1?pr:pr.parentNode)&&(gr=[{node:pr,offset:fr.anchorOffset}],selectionCollapsed(fr)||gr.push({node:fr.focusNode,offset:fr.focusOffset})),chrome&&ar.input.lastKeyCode===8)for(let Cr=ur;Cr>cr;Cr--){let Br=Ar.childNodes[Cr-1],Sr=Br.pmViewDesc;if(Br.nodeName=="BR"&&!Sr){ur=Cr;break}if(!Sr||Sr.size)break}let mr=ar.state.doc,yr=ar.someProp("domParser")||DOMParser.fromSchema(ar.state.schema),vr=mr.resolve(dr),br=null,wr=yr.parse(Ar,{topNode:vr.parent,topMatch:vr.parent.contentMatchAt(vr.index()),topOpen:!0,from:cr,to:ur,preserveWhitespace:vr.parent.type.whitespace=="pre"?"full":!0,findPositions:gr,ruleFromNode,context:vr});if(gr&&gr[0].pos!=null){let Cr=gr[0].pos,Br=gr[1]&&gr[1].pos;Br==null&&(Br=Cr),br={anchor:Cr+dr,head:Br+dr}}return{doc:wr,sel:br,from:dr,to:hr}}function ruleFromNode(ar){let or=ar.pmViewDesc;if(or)return or.parseRule();if(ar.nodeName=="BR"&&ar.parentNode){if(safari$1&&/^(ul|ol)$/i.test(ar.parentNode.nodeName)){let lr=document.createElement("div");return lr.appendChild(document.createElement("li")),{skip:lr}}else if(ar.parentNode.lastChild==ar||safari$1&&/^(tr|table)$/i.test(ar.parentNode.nodeName))return{ignore:!0}}else if(ar.nodeName=="IMG"&&ar.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(ar,or,lr,Ar,cr){let ur=ar.input.compositionPendingChanges||(ar.composing?ar.input.compositionID:0);if(ar.input.compositionPendingChanges=0,or<0){let _r=ar.input.lastSelectionTime>Date.now()-50?ar.input.lastSelectionOrigin:null,Hr=selectionFromDOM(ar,_r);if(Hr&&!ar.state.selection.eq(Hr)){if(chrome&&android&&ar.input.lastKeyCode===13&&Date.now()-100<ar.input.lastKeyCodeTime&&ar.someProp("handleKeyDown",Ur=>Ur(ar,keyEvent(13,"Enter"))))return;let Mr=ar.state.tr.setSelection(Hr);_r=="pointer"?Mr.setMeta("pointer",!0):_r=="key"&&Mr.scrollIntoView(),ur&&Mr.setMeta("composition",ur),ar.dispatch(Mr)}return}let dr=ar.state.doc.resolve(or),hr=dr.sharedDepth(lr);or=dr.before(hr+1),lr=ar.state.doc.resolve(lr).after(hr+1);let fr=ar.state.selection,gr=parseBetween(ar,or,lr),pr=ar.state.doc,mr=pr.slice(gr.from,gr.to),yr,vr;ar.input.lastKeyCode===8&&Date.now()-100<ar.input.lastKeyCodeTime?(yr=ar.state.selection.to,vr="end"):(yr=ar.state.selection.from,vr="start"),ar.input.lastKeyCode=null;let br=findDiff(mr.content,gr.doc.content,gr.from,yr,vr);if(br&&ar.input.domChangeCount++,(ios&&ar.input.lastIOSEnter>Date.now()-225||android)&&cr.some(_r=>_r.nodeType==1&&!isInline.test(_r.nodeName))&&(!br||br.endA>=br.endB)&&ar.someProp("handleKeyDown",_r=>_r(ar,keyEvent(13,"Enter")))){ar.input.lastIOSEnter=0;return}if(!br)if(Ar&&fr instanceof TextSelection&&!fr.empty&&fr.$head.sameParent(fr.$anchor)&&!ar.composing&&!(gr.sel&&gr.sel.anchor!=gr.sel.head))br={start:fr.from,endA:fr.to,endB:fr.to};else{if(gr.sel){let _r=resolveSelection(ar,ar.state.doc,gr.sel);if(_r&&!_r.eq(ar.state.selection)){let Hr=ar.state.tr.setSelection(_r);ur&&Hr.setMeta("composition",ur),ar.dispatch(Hr)}}return}ar.state.selection.from<ar.state.selection.to&&br.start==br.endB&&ar.state.selection instanceof TextSelection&&(br.start>ar.state.selection.from&&br.start<=ar.state.selection.from+2&&ar.state.selection.from>=gr.from?br.start=ar.state.selection.from:br.endA<ar.state.selection.to&&br.endA>=ar.state.selection.to-2&&ar.state.selection.to<=gr.to&&(br.endB+=ar.state.selection.to-br.endA,br.endA=ar.state.selection.to)),ie$2&&ie_version<=11&&br.endB==br.start+1&&br.endA==br.start&&br.start>gr.from&&gr.doc.textBetween(br.start-gr.from-1,br.start-gr.from+1)==" "&&(br.start--,br.endA--,br.endB--);let wr=gr.doc.resolveNoCache(br.start-gr.from),Cr=gr.doc.resolveNoCache(br.endB-gr.from),Br=pr.resolve(br.start),Sr=wr.sameParent(Cr)&&wr.parent.inlineContent&&Br.end()>=br.endA,Er;if((ios&&ar.input.lastIOSEnter>Date.now()-225&&(!Sr||cr.some(_r=>_r.nodeName=="DIV"||_r.nodeName=="P"))||!Sr&&wr.pos<gr.doc.content.size&&(!wr.sameParent(Cr)||!wr.parent.inlineContent)&&!/\S/.test(gr.doc.textBetween(wr.pos,Cr.pos,"",""))&&(Er=Selection.findFrom(gr.doc.resolve(wr.pos+1),1,!0))&&Er.head>wr.pos)&&ar.someProp("handleKeyDown",_r=>_r(ar,keyEvent(13,"Enter")))){ar.input.lastIOSEnter=0;return}if(ar.state.selection.anchor>br.start&&looksLikeBackspace(pr,br.start,br.endA,wr,Cr)&&ar.someProp("handleKeyDown",_r=>_r(ar,keyEvent(8,"Backspace")))){android&&chrome&&ar.domObserver.suppressSelectionUpdates();return}chrome&&br.endB==br.start&&(ar.input.lastChromeDelete=Date.now()),android&&!Sr&&wr.start()!=Cr.start()&&Cr.parentOffset==0&&wr.depth==Cr.depth&&gr.sel&&gr.sel.anchor==gr.sel.head&&gr.sel.head==br.endA&&(br.endB-=2,Cr=gr.doc.resolveNoCache(br.endB-gr.from),setTimeout(()=>{ar.someProp("handleKeyDown",function(_r){return _r(ar,keyEvent(13,"Enter"))})},20));let Tr=br.start,kr=br.endA,Or,Rr,Lr;if(Sr){if(wr.pos==Cr.pos)ie$2&&ie_version<=11&&wr.parentOffset==0&&(ar.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(ar),20)),Or=ar.state.tr.delete(Tr,kr),Rr=pr.resolve(br.start).marksAcross(pr.resolve(br.endA));else if(br.endA==br.endB&&(Lr=isMarkChange(wr.parent.content.cut(wr.parentOffset,Cr.parentOffset),Br.parent.content.cut(Br.parentOffset,br.endA-Br.start()))))Or=ar.state.tr,Lr.type=="add"?Or.addMark(Tr,kr,Lr.mark):Or.removeMark(Tr,kr,Lr.mark);else if(wr.parent.child(wr.index()).isText&&wr.index()==Cr.index()-(Cr.textOffset?0:1)){let _r=wr.parent.textBetween(wr.parentOffset,Cr.parentOffset);if(ar.someProp("handleTextInput",Hr=>Hr(ar,Tr,kr,_r)))return;Or=ar.state.tr.insertText(_r,Tr,kr)}}if(Or||(Or=ar.state.tr.replace(Tr,kr,gr.doc.slice(br.start-gr.from,br.endB-gr.from))),gr.sel){let _r=resolveSelection(ar,Or.doc,gr.sel);_r&&!(chrome&&ar.composing&&_r.empty&&(br.start!=br.endB||ar.input.lastChromeDelete<Date.now()-100)&&(_r.head==Tr||_r.head==Or.mapping.map(kr)-1)||ie$2&&_r.empty&&_r.head==Tr)&&Or.setSelection(_r)}Rr&&Or.ensureMarks(Rr),ur&&Or.setMeta("composition",ur),ar.dispatch(Or.scrollIntoView())}function resolveSelection(ar,or,lr){return Math.max(lr.anchor,lr.head)>or.content.size?null:selectionBetween(ar,or.resolve(lr.anchor),or.resolve(lr.head))}function isMarkChange(ar,or){let lr=ar.firstChild.marks,Ar=or.firstChild.marks,cr=lr,ur=Ar,dr,hr,fr;for(let pr=0;pr<Ar.length;pr++)cr=Ar[pr].removeFromSet(cr);for(let pr=0;pr<lr.length;pr++)ur=lr[pr].removeFromSet(ur);if(cr.length==1&&ur.length==0)hr=cr[0],dr="add",fr=pr=>pr.mark(hr.addToSet(pr.marks));else if(cr.length==0&&ur.length==1)hr=ur[0],dr="remove",fr=pr=>pr.mark(hr.removeFromSet(pr.marks));else return null;let gr=[];for(let pr=0;pr<or.childCount;pr++)gr.push(fr(or.child(pr)));if(Fragment.from(gr).eq(ar))return{mark:hr,type:dr}}function looksLikeBackspace(ar,or,lr,Ar,cr){if(lr-or<=cr.pos-Ar.pos||skipClosingAndOpening(Ar,!0,!1)<cr.pos)return!1;let ur=ar.resolve(or);if(!Ar.parent.isTextblock){let hr=ur.nodeAfter;return hr!=null&&lr==or+hr.nodeSize}if(ur.parentOffset<ur.parent.content.size||!ur.parent.isTextblock)return!1;let dr=ar.resolve(skipClosingAndOpening(ur,!0,!0));return!dr.parent.isTextblock||dr.pos>lr||skipClosingAndOpening(dr,!0,!1)<lr?!1:Ar.parent.content.cut(Ar.parentOffset).eq(dr.parent.content)}function skipClosingAndOpening(ar,or,lr){let Ar=ar.depth,cr=or?ar.end():ar.pos;for(;Ar>0&&(or||ar.indexAfter(Ar)==ar.node(Ar).childCount);)Ar--,cr++,or=!1;if(lr){let ur=ar.node(Ar).maybeChild(ar.indexAfter(Ar));for(;ur&&!ur.isLeaf;)ur=ur.firstChild,cr++}return cr}function findDiff(ar,or,lr,Ar,cr){let ur=ar.findDiffStart(or,lr);if(ur==null)return null;let{a:dr,b:hr}=ar.findDiffEnd(or,lr+ar.size,lr+or.size);if(cr=="end"){let fr=Math.max(0,ur-Math.min(dr,hr));Ar-=dr+fr-ur}if(dr<ur&&ar.size<or.size){let fr=Ar<=ur&&Ar>=dr?ur-Ar:0;ur-=fr,ur&&ur<or.size&&isSurrogatePair(or.textBetween(ur-1,ur+1))&&(ur+=fr?1:-1),hr=ur+(hr-dr),dr=ur}else if(hr<ur){let fr=Ar<=ur&&Ar>=hr?ur-Ar:0;ur-=fr,ur&&ur<ar.size&&isSurrogatePair(ar.textBetween(ur-1,ur+1))&&(ur+=fr?1:-1),dr=ur+(dr-hr),hr=ur}return{start:ur,endA:dr,endB:hr}}function isSurrogatePair(ar){if(ar.length!=2)return!1;let or=ar.charCodeAt(0),lr=ar.charCodeAt(1);return or>=56320&&or<=57343&&lr>=55296&&lr<=56319}class EditorView{constructor(or,lr){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=lr,this.state=lr.state,this.directPlugins=lr.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=or&&or.mount||document.createElement("div"),or&&(or.appendChild?or.appendChild(this.dom):typeof or=="function"?or(this.dom):or.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(Ar,cr,ur,dr)=>readDOMChange(this,Ar,cr,ur,dr)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let or=this._props;this._props={};for(let lr in or)this._props[lr]=or[lr];this._props.state=this.state}return this._props}update(or){or.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let lr=this._props;this._props=or,or.plugins&&(or.plugins.forEach(checkStateComponent),this.directPlugins=or.plugins),this.updateStateInner(or.state,lr)}setProps(or){let lr={};for(let Ar in this._props)lr[Ar]=this._props[Ar];lr.state=this.state;for(let Ar in or)lr[Ar]=or[Ar];this.update(lr)}updateState(or){this.updateStateInner(or,this._props)}updateStateInner(or,lr){var Ar;let cr=this.state,ur=!1,dr=!1;or.storedMarks&&this.composing&&(clearComposition(this),dr=!0),this.state=or;let hr=cr.plugins!=or.plugins||this._props.plugins!=lr.plugins;if(hr||this._props.plugins!=lr.plugins||this._props.nodeViews!=lr.nodeViews){let vr=buildNodeViews(this);changedNodeViews(vr,this.nodeViews)&&(this.nodeViews=vr,ur=!0)}(hr||lr.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let fr=viewDecorations(this),gr=computeDocDeco(this),pr=cr.plugins!=or.plugins&&!cr.doc.eq(or.doc)?"reset":or.scrollToSelection>cr.scrollToSelection?"to selection":"preserve",mr=ur||!this.docView.matchesNode(or.doc,gr,fr);(mr||!or.selection.eq(cr.selection))&&(dr=!0);let yr=pr=="preserve"&&dr&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(dr){this.domObserver.stop();let vr=mr&&(ie$2||chrome)&&!this.composing&&!cr.selection.empty&&!or.selection.empty&&selectionContextChanged(cr.selection,or.selection);if(mr){let br=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(ur||!this.docView.update(or.doc,gr,fr,this))&&(this.docView.updateOuterDeco(gr),this.docView.destroy(),this.docView=docViewDesc(or.doc,gr,fr,this.dom,this)),br&&!this.trackWrites&&(vr=!0)}vr||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,vr):(syncNodeSelection(this,or.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(cr),!((Ar=this.dragging)===null||Ar===void 0)&&Ar.node&&!cr.doc.eq(or.doc)&&this.updateDraggedNode(this.dragging,cr),pr=="reset"?this.dom.scrollTop=0:pr=="to selection"?this.scrollToSelection():yr&&resetScrollPos(yr)}scrollToSelection(){let or=this.domSelectionRange().focusNode;if(!(!or||!this.dom.contains(or.nodeType==1?or:or.parentNode))){if(!this.someProp("handleScrollToSelection",lr=>lr(this)))if(this.state.selection instanceof NodeSelection){let lr=this.docView.domAfterPos(this.state.selection.from);lr.nodeType==1&&scrollRectIntoView(this,lr.getBoundingClientRect(),or)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),or)}}destroyPluginViews(){let or;for(;or=this.pluginViews.pop();)or.destroy&&or.destroy()}updatePluginViews(or){if(!or||or.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let lr=0;lr<this.directPlugins.length;lr++){let Ar=this.directPlugins[lr];Ar.spec.view&&this.pluginViews.push(Ar.spec.view(this))}for(let lr=0;lr<this.state.plugins.length;lr++){let Ar=this.state.plugins[lr];Ar.spec.view&&this.pluginViews.push(Ar.spec.view(this))}}else for(let lr=0;lr<this.pluginViews.length;lr++){let Ar=this.pluginViews[lr];Ar.update&&Ar.update(this,or)}}updateDraggedNode(or,lr){let Ar=or.node,cr=-1;if(this.state.doc.nodeAt(Ar.from)==Ar.node)cr=Ar.from;else{let ur=Ar.from+(this.state.doc.content.size-lr.doc.content.size);(ur>0&&this.state.doc.nodeAt(ur))==Ar.node&&(cr=ur)}this.dragging=new Dragging(or.slice,or.move,cr<0?void 0:NodeSelection.create(this.state.doc,cr))}someProp(or,lr){let Ar=this._props&&this._props[or],cr;if(Ar!=null&&(cr=lr?lr(Ar):Ar))return cr;for(let dr=0;dr<this.directPlugins.length;dr++){let hr=this.directPlugins[dr].props[or];if(hr!=null&&(cr=lr?lr(hr):hr))return cr}let ur=this.state.plugins;if(ur)for(let dr=0;dr<ur.length;dr++){let hr=ur[dr].props[or];if(hr!=null&&(cr=lr?lr(hr):hr))return cr}}hasFocus(){if(ie$2){let or=this.root.activeElement;if(or==this.dom)return!0;if(!or||!this.dom.contains(or))return!1;for(;or&&this.dom!=or&&this.dom.contains(or);){if(or.contentEditable=="false")return!1;or=or.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let or=this._root;if(or==null){for(let lr=this.dom.parentNode;lr;lr=lr.parentNode)if(lr.nodeType==9||lr.nodeType==11&&lr.host)return lr.getSelection||(Object.getPrototypeOf(lr).getSelection=()=>lr.ownerDocument.getSelection()),this._root=lr}return or||document}updateRoot(){this._root=null}posAtCoords(or){return posAtCoords(this,or)}coordsAtPos(or,lr=1){return coordsAtPos(this,or,lr)}domAtPos(or,lr=0){return this.docView.domFromPos(or,lr)}nodeDOM(or){let lr=this.docView.descAt(or);return lr?lr.nodeDOM:null}posAtDOM(or,lr,Ar=-1){let cr=this.docView.posFromDOM(or,lr,Ar);if(cr==null)throw new RangeError("DOM position not inside the editor");return cr}endOfTextblock(or,lr){return endOfTextblock(this,lr||this.state,or)}pasteHTML(or,lr){return doPaste(this,"",or,!1,lr||new ClipboardEvent("paste"))}pasteText(or,lr){return doPaste(this,or,null,!0,lr||new ClipboardEvent("paste"))}serializeForClipboard(or){return serializeForClipboard(this,or)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(or){return dispatchEvent$2(this,or)}dispatch(or){let lr=this._props.dispatchTransaction;lr?lr.call(this,or):this.updateState(this.state.apply(or))}domSelectionRange(){let or=this.domSelection();return or?safari$1&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,or)||or:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function computeDocDeco(ar){let or=Object.create(null);return or.class="ProseMirror",or.contenteditable=String(ar.editable),ar.someProp("attributes",lr=>{if(typeof lr=="function"&&(lr=lr(ar.state)),lr)for(let Ar in lr)Ar=="class"?or.class+=" "+lr[Ar]:Ar=="style"?or.style=(or.style?or.style+";":"")+lr[Ar]:!or[Ar]&&Ar!="contenteditable"&&Ar!="nodeName"&&(or[Ar]=String(lr[Ar]))}),or.translate||(or.translate="no"),[Decoration.node(0,ar.state.doc.content.size,or)]}function updateCursorWrapper(ar){if(ar.markCursor){let or=document.createElement("img");or.className="ProseMirror-separator",or.setAttribute("mark-placeholder","true"),or.setAttribute("alt",""),ar.cursorWrapper={dom:or,deco:Decoration.widget(ar.state.selection.from,or,{raw:!0,marks:ar.markCursor})}}else ar.cursorWrapper=null}function getEditable(ar){return!ar.someProp("editable",or=>or(ar.state)===!1)}function selectionContextChanged(ar,or){let lr=Math.min(ar.$anchor.sharedDepth(ar.head),or.$anchor.sharedDepth(or.head));return ar.$anchor.start(lr)!=or.$anchor.start(lr)}function buildNodeViews(ar){let or=Object.create(null);function lr(Ar){for(let cr in Ar)Object.prototype.hasOwnProperty.call(or,cr)||(or[cr]=Ar[cr])}return ar.someProp("nodeViews",lr),ar.someProp("markViews",lr),or}function changedNodeViews(ar,or){let lr=0,Ar=0;for(let cr in ar){if(ar[cr]!=or[cr])return!0;lr++}for(let cr in or)Ar++;return lr!=Ar}function checkStateComponent(ar){if(ar.spec.state||ar.spec.filterTransaction||ar.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$2=0;i$2<10;i$2++)base[48+i$2]=base[96+i$2]=String(i$2);for(var i$2=1;i$2<=24;i$2++)base[i$2+111]="F"+i$2;for(var i$2=65;i$2<=90;i$2++)base[i$2]=String.fromCharCode(i$2+32),shift[i$2]=String.fromCharCode(i$2);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(ar){var or=mac$1&&ar.metaKey&&ar.shiftKey&&!ar.ctrlKey&&!ar.altKey||ie$1&&ar.shiftKey&&ar.key&&ar.key.length==1||ar.key=="Unidentified",lr=!or&&ar.key||(ar.shiftKey?shift:base)[ar.keyCode]||ar.key||"Unidentified";return lr=="Esc"&&(lr="Escape"),lr=="Del"&&(lr="Delete"),lr=="Left"&&(lr="ArrowLeft"),lr=="Up"&&(lr="ArrowUp"),lr=="Right"&&(lr="ArrowRight"),lr=="Down"&&(lr="ArrowDown"),lr}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(ar){let or=ar.split(/-(?!$)/),lr=or[or.length-1];lr=="Space"&&(lr=" ");let Ar,cr,ur,dr;for(let hr=0;hr<or.length-1;hr++){let fr=or[hr];if(/^(cmd|meta|m)$/i.test(fr))dr=!0;else if(/^a(lt)?$/i.test(fr))Ar=!0;else if(/^(c|ctrl|control)$/i.test(fr))cr=!0;else if(/^s(hift)?$/i.test(fr))ur=!0;else if(/^mod$/i.test(fr))mac?dr=!0:cr=!0;else throw new Error("Unrecognized modifier name: "+fr)}return Ar&&(lr="Alt-"+lr),cr&&(lr="Ctrl-"+lr),dr&&(lr="Meta-"+lr),ur&&(lr="Shift-"+lr),lr}function normalize(ar){let or=Object.create(null);for(let lr in ar)or[normalizeKeyName$1(lr)]=ar[lr];return or}function modifiers(ar,or,lr=!0){return or.altKey&&(ar="Alt-"+ar),or.ctrlKey&&(ar="Ctrl-"+ar),or.metaKey&&(ar="Meta-"+ar),lr&&or.shiftKey&&(ar="Shift-"+ar),ar}function keymap(ar){return new Plugin({props:{handleKeyDown:keydownHandler(ar)}})}function keydownHandler(ar){let or=normalize(ar);return function(lr,Ar){let cr=keyName(Ar),ur,dr=or[modifiers(cr,Ar)];if(dr&&dr(lr.state,lr.dispatch,lr))return!0;if(cr.length==1&&cr!=" "){if(Ar.shiftKey){let hr=or[modifiers(cr,Ar,!1)];if(hr&&hr(lr.state,lr.dispatch,lr))return!0}if((Ar.altKey||Ar.metaKey||Ar.ctrlKey)&&!(windows&&Ar.ctrlKey&&Ar.altKey)&&(ur=base[Ar.keyCode])&&ur!=cr){let hr=or[modifiers(ur,Ar)];if(hr&&hr(lr.state,lr.dispatch,lr))return!0}}return!1}}const deleteSelection$1=(ar,or)=>ar.selection.empty?!1:(or&&or(ar.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(ar,or){let{$cursor:lr}=ar.selection;return!lr||(or?!or.endOfTextblock("backward",ar):lr.parentOffset>0)?null:lr}const joinBackward$1=(ar,or,lr)=>{let Ar=atBlockStart(ar,lr);if(!Ar)return!1;let cr=findCutBefore(Ar);if(!cr){let dr=Ar.blockRange(),hr=dr&&liftTarget(dr);return hr==null?!1:(or&&or(ar.tr.lift(dr,hr).scrollIntoView()),!0)}let ur=cr.nodeBefore;if(deleteBarrier(ar,cr,or,-1))return!0;if(Ar.parent.content.size==0&&(textblockAt(ur,"end")||NodeSelection.isSelectable(ur)))for(let dr=Ar.depth;;dr--){let hr=replaceStep(ar.doc,Ar.before(dr),Ar.after(dr),Slice.empty);if(hr&&hr.slice.size<hr.to-hr.from){if(or){let fr=ar.tr.step(hr);fr.setSelection(textblockAt(ur,"end")?Selection.findFrom(fr.doc.resolve(fr.mapping.map(cr.pos,-1)),-1):NodeSelection.create(fr.doc,cr.pos-ur.nodeSize)),or(fr.scrollIntoView())}return!0}if(dr==1||Ar.node(dr-1).childCount>1)break}return ur.isAtom&&cr.depth==Ar.depth-1?(or&&or(ar.tr.delete(cr.pos-ur.nodeSize,cr.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(ar,or,lr)=>{let Ar=atBlockStart(ar,lr);if(!Ar)return!1;let cr=findCutBefore(Ar);return cr?joinTextblocksAround(ar,cr,or):!1},joinTextblockForward$1=(ar,or,lr)=>{let Ar=atBlockEnd(ar,lr);if(!Ar)return!1;let cr=findCutAfter(Ar);return cr?joinTextblocksAround(ar,cr,or):!1};function joinTextblocksAround(ar,or,lr){let Ar=or.nodeBefore,cr=Ar,ur=or.pos-1;for(;!cr.isTextblock;ur--){if(cr.type.spec.isolating)return!1;let pr=cr.lastChild;if(!pr)return!1;cr=pr}let dr=or.nodeAfter,hr=dr,fr=or.pos+1;for(;!hr.isTextblock;fr++){if(hr.type.spec.isolating)return!1;let pr=hr.firstChild;if(!pr)return!1;hr=pr}let gr=replaceStep(ar.doc,ur,fr,Slice.empty);if(!gr||gr.from!=ur||gr instanceof ReplaceStep&&gr.slice.size>=fr-ur)return!1;if(lr){let pr=ar.tr.step(gr);pr.setSelection(TextSelection.create(pr.doc,ur)),lr(pr.scrollIntoView())}return!0}function textblockAt(ar,or,lr=!1){for(let Ar=ar;Ar;Ar=or=="start"?Ar.firstChild:Ar.lastChild){if(Ar.isTextblock)return!0;if(lr&&Ar.childCount!=1)return!1}return!1}const selectNodeBackward$1=(ar,or,lr)=>{let{$head:Ar,empty:cr}=ar.selection,ur=Ar;if(!cr)return!1;if(Ar.parent.isTextblock){if(lr?!lr.endOfTextblock("backward",ar):Ar.parentOffset>0)return!1;ur=findCutBefore(Ar)}let dr=ur&&ur.nodeBefore;return!dr||!NodeSelection.isSelectable(dr)?!1:(or&&or(ar.tr.setSelection(NodeSelection.create(ar.doc,ur.pos-dr.nodeSize)).scrollIntoView()),!0)};function findCutBefore(ar){if(!ar.parent.type.spec.isolating)for(let or=ar.depth-1;or>=0;or--){if(ar.index(or)>0)return ar.doc.resolve(ar.before(or+1));if(ar.node(or).type.spec.isolating)break}return null}function atBlockEnd(ar,or){let{$cursor:lr}=ar.selection;return!lr||(or?!or.endOfTextblock("forward",ar):lr.parentOffset<lr.parent.content.size)?null:lr}const joinForward$1=(ar,or,lr)=>{let Ar=atBlockEnd(ar,lr);if(!Ar)return!1;let cr=findCutAfter(Ar);if(!cr)return!1;let ur=cr.nodeAfter;if(deleteBarrier(ar,cr,or,1))return!0;if(Ar.parent.content.size==0&&(textblockAt(ur,"start")||NodeSelection.isSelectable(ur))){let dr=replaceStep(ar.doc,Ar.before(),Ar.after(),Slice.empty);if(dr&&dr.slice.size<dr.to-dr.from){if(or){let hr=ar.tr.step(dr);hr.setSelection(textblockAt(ur,"start")?Selection.findFrom(hr.doc.resolve(hr.mapping.map(cr.pos)),1):NodeSelection.create(hr.doc,hr.mapping.map(cr.pos))),or(hr.scrollIntoView())}return!0}}return ur.isAtom&&cr.depth==Ar.depth-1?(or&&or(ar.tr.delete(cr.pos,cr.pos+ur.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(ar,or,lr)=>{let{$head:Ar,empty:cr}=ar.selection,ur=Ar;if(!cr)return!1;if(Ar.parent.isTextblock){if(lr?!lr.endOfTextblock("forward",ar):Ar.parentOffset<Ar.parent.content.size)return!1;ur=findCutAfter(Ar)}let dr=ur&&ur.nodeAfter;return!dr||!NodeSelection.isSelectable(dr)?!1:(or&&or(ar.tr.setSelection(NodeSelection.create(ar.doc,ur.pos)).scrollIntoView()),!0)};function findCutAfter(ar){if(!ar.parent.type.spec.isolating)for(let or=ar.depth-1;or>=0;or--){let lr=ar.node(or);if(ar.index(or)+1<lr.childCount)return ar.doc.resolve(ar.after(or+1));if(lr.type.spec.isolating)break}return null}const joinUp$1=(ar,or)=>{let lr=ar.selection,Ar=lr instanceof NodeSelection,cr;if(Ar){if(lr.node.isTextblock||!canJoin(ar.doc,lr.from))return!1;cr=lr.from}else if(cr=joinPoint(ar.doc,lr.from,-1),cr==null)return!1;if(or){let ur=ar.tr.join(cr);Ar&&ur.setSelection(NodeSelection.create(ur.doc,cr-ar.doc.resolve(cr).nodeBefore.nodeSize)),or(ur.scrollIntoView())}return!0},joinDown$1=(ar,or)=>{let lr=ar.selection,Ar;if(lr instanceof NodeSelection){if(lr.node.isTextblock||!canJoin(ar.doc,lr.to))return!1;Ar=lr.to}else if(Ar=joinPoint(ar.doc,lr.to,1),Ar==null)return!1;return or&&or(ar.tr.join(Ar).scrollIntoView()),!0},lift$1=(ar,or)=>{let{$from:lr,$to:Ar}=ar.selection,cr=lr.blockRange(Ar),ur=cr&&liftTarget(cr);return ur==null?!1:(or&&or(ar.tr.lift(cr,ur).scrollIntoView()),!0)},newlineInCode$1=(ar,or)=>{let{$head:lr,$anchor:Ar}=ar.selection;return!lr.parent.type.spec.code||!lr.sameParent(Ar)?!1:(or&&or(ar.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(ar){for(let or=0;or<ar.edgeCount;or++){let{type:lr}=ar.edge(or);if(lr.isTextblock&&!lr.hasRequiredAttrs())return lr}return null}const exitCode$1=(ar,or)=>{let{$head:lr,$anchor:Ar}=ar.selection;if(!lr.parent.type.spec.code||!lr.sameParent(Ar))return!1;let cr=lr.node(-1),ur=lr.indexAfter(-1),dr=defaultBlockAt$1(cr.contentMatchAt(ur));if(!dr||!cr.canReplaceWith(ur,ur,dr))return!1;if(or){let hr=lr.after(),fr=ar.tr.replaceWith(hr,hr,dr.createAndFill());fr.setSelection(Selection.near(fr.doc.resolve(hr),1)),or(fr.scrollIntoView())}return!0},createParagraphNear$1=(ar,or)=>{let lr=ar.selection,{$from:Ar,$to:cr}=lr;if(lr instanceof AllSelection||Ar.parent.inlineContent||cr.parent.inlineContent)return!1;let ur=defaultBlockAt$1(cr.parent.contentMatchAt(cr.indexAfter()));if(!ur||!ur.isTextblock)return!1;if(or){let dr=(!Ar.parentOffset&&cr.index()<cr.parent.childCount?Ar:cr).pos,hr=ar.tr.insert(dr,ur.createAndFill());hr.setSelection(TextSelection.create(hr.doc,dr+1)),or(hr.scrollIntoView())}return!0},liftEmptyBlock$1=(ar,or)=>{let{$cursor:lr}=ar.selection;if(!lr||lr.parent.content.size)return!1;if(lr.depth>1&&lr.after()!=lr.end(-1)){let ur=lr.before();if(canSplit(ar.doc,ur))return or&&or(ar.tr.split(ur).scrollIntoView()),!0}let Ar=lr.blockRange(),cr=Ar&&liftTarget(Ar);return cr==null?!1:(or&&or(ar.tr.lift(Ar,cr).scrollIntoView()),!0)};function splitBlockAs(ar){return(or,lr)=>{let{$from:Ar,$to:cr}=or.selection;if(or.selection instanceof NodeSelection&&or.selection.node.isBlock)return!Ar.parentOffset||!canSplit(or.doc,Ar.pos)?!1:(lr&&lr(or.tr.split(Ar.pos).scrollIntoView()),!0);if(!Ar.depth)return!1;let ur=[],dr,hr,fr=!1,gr=!1;for(let vr=Ar.depth;;vr--)if(Ar.node(vr).isBlock){fr=Ar.end(vr)==Ar.pos+(Ar.depth-vr),gr=Ar.start(vr)==Ar.pos-(Ar.depth-vr),hr=defaultBlockAt$1(Ar.node(vr-1).contentMatchAt(Ar.indexAfter(vr-1))),ur.unshift(fr&&hr?{type:hr}:null),dr=vr;break}else{if(vr==1)return!1;ur.unshift(null)}let pr=or.tr;(or.selection instanceof TextSelection||or.selection instanceof AllSelection)&&pr.deleteSelection();let mr=pr.mapping.map(Ar.pos),yr=canSplit(pr.doc,mr,ur.length,ur);if(yr||(ur[0]=hr?{type:hr}:null,yr=canSplit(pr.doc,mr,ur.length,ur)),!yr)return!1;if(pr.split(mr,ur.length,ur),!fr&&gr&&Ar.node(dr).type!=hr){let vr=pr.mapping.map(Ar.before(dr)),br=pr.doc.resolve(vr);hr&&Ar.node(dr-1).canReplaceWith(br.index(),br.index()+1,hr)&&pr.setNodeMarkup(pr.mapping.map(Ar.before(dr)),hr)}return lr&&lr(pr.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(ar,or)=>{let{$from:lr,to:Ar}=ar.selection,cr,ur=lr.sharedDepth(Ar);return ur==0?!1:(cr=lr.before(ur),or&&or(ar.tr.setSelection(NodeSelection.create(ar.doc,cr))),!0)};function joinMaybeClear(ar,or,lr){let Ar=or.nodeBefore,cr=or.nodeAfter,ur=or.index();return!Ar||!cr||!Ar.type.compatibleContent(cr.type)?!1:!Ar.content.size&&or.parent.canReplace(ur-1,ur)?(lr&&lr(ar.tr.delete(or.pos-Ar.nodeSize,or.pos).scrollIntoView()),!0):!or.parent.canReplace(ur,ur+1)||!(cr.isTextblock||canJoin(ar.doc,or.pos))?!1:(lr&&lr(ar.tr.join(or.pos).scrollIntoView()),!0)}function deleteBarrier(ar,or,lr,Ar){let cr=or.nodeBefore,ur=or.nodeAfter,dr,hr,fr=cr.type.spec.isolating||ur.type.spec.isolating;if(!fr&&joinMaybeClear(ar,or,lr))return!0;let gr=!fr&&or.parent.canReplace(or.index(),or.index()+1);if(gr&&(dr=(hr=cr.contentMatchAt(cr.childCount)).findWrapping(ur.type))&&hr.matchType(dr[0]||ur.type).validEnd){if(lr){let vr=or.pos+ur.nodeSize,br=Fragment.empty;for(let Br=dr.length-1;Br>=0;Br--)br=Fragment.from(dr[Br].create(null,br));br=Fragment.from(cr.copy(br));let wr=ar.tr.step(new ReplaceAroundStep(or.pos-1,vr,or.pos,vr,new Slice(br,1,0),dr.length,!0)),Cr=wr.doc.resolve(vr+2*dr.length);Cr.nodeAfter&&Cr.nodeAfter.type==cr.type&&canJoin(wr.doc,Cr.pos)&&wr.join(Cr.pos),lr(wr.scrollIntoView())}return!0}let pr=ur.type.spec.isolating||Ar>0&&fr?null:Selection.findFrom(or,1),mr=pr&&pr.$from.blockRange(pr.$to),yr=mr&&liftTarget(mr);if(yr!=null&&yr>=or.depth)return lr&&lr(ar.tr.lift(mr,yr).scrollIntoView()),!0;if(gr&&textblockAt(ur,"start",!0)&&textblockAt(cr,"end")){let vr=cr,br=[];for(;br.push(vr),!vr.isTextblock;)vr=vr.lastChild;let wr=ur,Cr=1;for(;!wr.isTextblock;wr=wr.firstChild)Cr++;if(vr.canReplace(vr.childCount,vr.childCount,wr.content)){if(lr){let Br=Fragment.empty;for(let Er=br.length-1;Er>=0;Er--)Br=Fragment.from(br[Er].copy(Br));let Sr=ar.tr.step(new ReplaceAroundStep(or.pos-br.length,or.pos+ur.nodeSize,or.pos+Cr,or.pos+ur.nodeSize-Cr,new Slice(Br,br.length,0),0,!0));lr(Sr.scrollIntoView())}return!0}}return!1}function selectTextblockSide(ar){return function(or,lr){let Ar=or.selection,cr=ar<0?Ar.$from:Ar.$to,ur=cr.depth;for(;cr.node(ur).isInline;){if(!ur)return!1;ur--}return cr.node(ur).isTextblock?(lr&&lr(or.tr.setSelection(TextSelection.create(or.doc,ar<0?cr.start(ur):cr.end(ur)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(ar,or=null){return function(lr,Ar){let{$from:cr,$to:ur}=lr.selection,dr=cr.blockRange(ur),hr=dr&&findWrapping(dr,ar,or);return hr?(Ar&&Ar(lr.tr.wrap(dr,hr).scrollIntoView()),!0):!1}}function setBlockType(ar,or=null){return function(lr,Ar){let cr=!1;for(let ur=0;ur<lr.selection.ranges.length&&!cr;ur++){let{$from:{pos:dr},$to:{pos:hr}}=lr.selection.ranges[ur];lr.doc.nodesBetween(dr,hr,(fr,gr)=>{if(cr)return!1;if(!(!fr.isTextblock||fr.hasMarkup(ar,or)))if(fr.type==ar)cr=!0;else{let pr=lr.doc.resolve(gr),mr=pr.index();cr=pr.parent.canReplaceWith(mr,mr+1,ar)}})}if(!cr)return!1;if(Ar){let ur=lr.tr;for(let dr=0;dr<lr.selection.ranges.length;dr++){let{$from:{pos:hr},$to:{pos:fr}}=lr.selection.ranges[dr];ur.setBlockType(hr,fr,ar,or)}Ar(ur.scrollIntoView())}return!0}}function chainCommands(...ar){return function(or,lr,Ar){for(let cr=0;cr<ar.length;cr++)if(ar[cr](or,lr,Ar))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(ar,or=null){return function(lr,Ar){let{$from:cr,$to:ur}=lr.selection,dr=cr.blockRange(ur);if(!dr)return!1;let hr=Ar?lr.tr:null;return wrapRangeInList(hr,dr,ar,or)?(Ar&&Ar(hr.scrollIntoView()),!0):!1}}function wrapRangeInList(ar,or,lr,Ar=null){let cr=!1,ur=or,dr=or.$from.doc;if(or.depth>=2&&or.$from.node(or.depth-1).type.compatibleContent(lr)&&or.startIndex==0){if(or.$from.index(or.depth-1)==0)return!1;let fr=dr.resolve(or.start-2);ur=new NodeRange(fr,fr,or.depth),or.endIndex<or.parent.childCount&&(or=new NodeRange(or.$from,dr.resolve(or.$to.end(or.depth)),or.depth)),cr=!0}let hr=findWrapping(ur,lr,Ar,or);return hr?(ar&&doWrapInList(ar,or,hr,cr,lr),!0):!1}function doWrapInList(ar,or,lr,Ar,cr){let ur=Fragment.empty;for(let pr=lr.length-1;pr>=0;pr--)ur=Fragment.from(lr[pr].type.create(lr[pr].attrs,ur));ar.step(new ReplaceAroundStep(or.start-(Ar?2:0),or.end,or.start,or.end,new Slice(ur,0,0),lr.length,!0));let dr=0;for(let pr=0;pr<lr.length;pr++)lr[pr].type==cr&&(dr=pr+1);let hr=lr.length-dr,fr=or.start+lr.length-(Ar?2:0),gr=or.parent;for(let pr=or.startIndex,mr=or.endIndex,yr=!0;pr<mr;pr++,yr=!1)!yr&&canSplit(ar.doc,fr,hr)&&(ar.split(fr,hr),fr+=2*hr),fr+=gr.child(pr).nodeSize;return ar}function liftListItem$1(ar){return function(or,lr){let{$from:Ar,$to:cr}=or.selection,ur=Ar.blockRange(cr,dr=>dr.childCount>0&&dr.firstChild.type==ar);return ur?lr?Ar.node(ur.depth-1).type==ar?liftToOuterList(or,lr,ar,ur):liftOutOfList(or,lr,ur):!0:!1}}function liftToOuterList(ar,or,lr,Ar){let cr=ar.tr,ur=Ar.end,dr=Ar.$to.end(Ar.depth);ur<dr&&(cr.step(new ReplaceAroundStep(ur-1,dr,ur,dr,new Slice(Fragment.from(lr.create(null,Ar.parent.copy())),1,0),1,!0)),Ar=new NodeRange(cr.doc.resolve(Ar.$from.pos),cr.doc.resolve(dr),Ar.depth));const hr=liftTarget(Ar);if(hr==null)return!1;cr.lift(Ar,hr);let fr=cr.doc.resolve(cr.mapping.map(ur,-1)-1);return canJoin(cr.doc,fr.pos)&&fr.nodeBefore.type==fr.nodeAfter.type&&cr.join(fr.pos),or(cr.scrollIntoView()),!0}function liftOutOfList(ar,or,lr){let Ar=ar.tr,cr=lr.parent;for(let vr=lr.end,br=lr.endIndex-1,wr=lr.startIndex;br>wr;br--)vr-=cr.child(br).nodeSize,Ar.delete(vr-1,vr+1);let ur=Ar.doc.resolve(lr.start),dr=ur.nodeAfter;if(Ar.mapping.map(lr.end)!=lr.start+ur.nodeAfter.nodeSize)return!1;let hr=lr.startIndex==0,fr=lr.endIndex==cr.childCount,gr=ur.node(-1),pr=ur.index(-1);if(!gr.canReplace(pr+(hr?0:1),pr+1,dr.content.append(fr?Fragment.empty:Fragment.from(cr))))return!1;let mr=ur.pos,yr=mr+dr.nodeSize;return Ar.step(new ReplaceAroundStep(mr-(hr?1:0),yr+(fr?1:0),mr+1,yr-1,new Slice((hr?Fragment.empty:Fragment.from(cr.copy(Fragment.empty))).append(fr?Fragment.empty:Fragment.from(cr.copy(Fragment.empty))),hr?0:1,fr?0:1),hr?0:1)),or(Ar.scrollIntoView()),!0}function sinkListItem$1(ar){return function(or,lr){let{$from:Ar,$to:cr}=or.selection,ur=Ar.blockRange(cr,gr=>gr.childCount>0&&gr.firstChild.type==ar);if(!ur)return!1;let dr=ur.startIndex;if(dr==0)return!1;let hr=ur.parent,fr=hr.child(dr-1);if(fr.type!=ar)return!1;if(lr){let gr=fr.lastChild&&fr.lastChild.type==hr.type,pr=Fragment.from(gr?ar.create():null),mr=new Slice(Fragment.from(ar.create(null,Fragment.from(hr.type.create(null,pr)))),gr?3:1,0),yr=ur.start,vr=ur.end;lr(or.tr.step(new ReplaceAroundStep(yr-(gr?3:1),vr,yr,vr,mr,1,!0)).scrollIntoView())}return!0}}function createChainableState(ar){const{state:or,transaction:lr}=ar;let{selection:Ar}=lr,{doc:cr}=lr,{storedMarks:ur}=lr;return{...or,apply:or.apply.bind(or),applyTransaction:or.applyTransaction.bind(or),plugins:or.plugins,schema:or.schema,reconfigure:or.reconfigure.bind(or),toJSON:or.toJSON.bind(or),get storedMarks(){return ur},get selection(){return Ar},get doc(){return cr},get tr(){return Ar=lr.selection,cr=lr.doc,ur=lr.storedMarks,lr}}}class CommandManager{constructor(or){this.editor=or.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=or.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:or,editor:lr,state:Ar}=this,{view:cr}=lr,{tr:ur}=Ar,dr=this.buildProps(ur);return Object.fromEntries(Object.entries(or).map(([hr,fr])=>[hr,(...pr)=>{const mr=fr(...pr)(dr);return!ur.getMeta("preventDispatch")&&!this.hasCustomState&&cr.dispatch(ur),mr}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(or,lr=!0){const{rawCommands:Ar,editor:cr,state:ur}=this,{view:dr}=cr,hr=[],fr=!!or,gr=or||ur.tr,pr=()=>(!fr&&lr&&!gr.getMeta("preventDispatch")&&!this.hasCustomState&&dr.dispatch(gr),hr.every(yr=>yr===!0)),mr={...Object.fromEntries(Object.entries(Ar).map(([yr,vr])=>[yr,(...wr)=>{const Cr=this.buildProps(gr,lr),Br=vr(...wr)(Cr);return hr.push(Br),mr}])),run:pr};return mr}createCan(or){const{rawCommands:lr,state:Ar}=this,cr=!1,ur=or||Ar.tr,dr=this.buildProps(ur,cr);return{...Object.fromEntries(Object.entries(lr).map(([fr,gr])=>[fr,(...pr)=>gr(...pr)({...dr,dispatch:void 0})])),chain:()=>this.createChain(ur,cr)}}buildProps(or,lr=!0){const{rawCommands:Ar,editor:cr,state:ur}=this,{view:dr}=cr,hr={tr:or,editor:cr,view:dr,state:createChainableState({state:ur,transaction:or}),dispatch:lr?()=>{}:void 0,chain:()=>this.createChain(or,lr),can:()=>this.createCan(or),get commands(){return Object.fromEntries(Object.entries(Ar).map(([fr,gr])=>[fr,(...pr)=>gr(...pr)(hr)]))}};return hr}}class EventEmitter{constructor(){this.callbacks={}}on(or,lr){return this.callbacks[or]||(this.callbacks[or]=[]),this.callbacks[or].push(lr),this}emit(or,...lr){const Ar=this.callbacks[or];return Ar&&Ar.forEach(cr=>cr.apply(this,lr)),this}off(or,lr){const Ar=this.callbacks[or];return Ar&&(lr?this.callbacks[or]=Ar.filter(cr=>cr!==lr):delete this.callbacks[or]),this}once(or,lr){const Ar=(...cr)=>{this.off(or,Ar),lr.apply(this,cr)};return this.on(or,Ar)}removeAllListeners(){this.callbacks={}}}function getExtensionField(ar,or,lr){return ar.config[or]===void 0&&ar.parent?getExtensionField(ar.parent,or,lr):typeof ar.config[or]=="function"?ar.config[or].bind({...lr,parent:ar.parent?getExtensionField(ar.parent,or,lr):null}):ar.config[or]}function splitExtensions(ar){const or=ar.filter(cr=>cr.type==="extension"),lr=ar.filter(cr=>cr.type==="node"),Ar=ar.filter(cr=>cr.type==="mark");return{baseExtensions:or,nodeExtensions:lr,markExtensions:Ar}}function getAttributesFromExtensions(ar){const or=[],{nodeExtensions:lr,markExtensions:Ar}=splitExtensions(ar),cr=[...lr,...Ar],ur={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return ar.forEach(dr=>{const hr={name:dr.name,options:dr.options,storage:dr.storage,extensions:cr},fr=getExtensionField(dr,"addGlobalAttributes",hr);if(!fr)return;fr().forEach(pr=>{pr.types.forEach(mr=>{Object.entries(pr.attributes).forEach(([yr,vr])=>{or.push({type:mr,name:yr,attribute:{...ur,...vr}})})})})}),cr.forEach(dr=>{const hr={name:dr.name,options:dr.options,storage:dr.storage},fr=getExtensionField(dr,"addAttributes",hr);if(!fr)return;const gr=fr();Object.entries(gr).forEach(([pr,mr])=>{const yr={...ur,...mr};typeof(yr==null?void 0:yr.default)=="function"&&(yr.default=yr.default()),yr!=null&&yr.isRequired&&(yr==null?void 0:yr.default)===void 0&&delete yr.default,or.push({type:dr.name,name:pr,attribute:yr})})}),or}function getNodeType(ar,or){if(typeof ar=="string"){if(!or.nodes[ar])throw Error(`There is no node type named '${ar}'. Maybe you forgot to add the extension?`);return or.nodes[ar]}return ar}function mergeAttributes(...ar){return ar.filter(or=>!!or).reduce((or,lr)=>{const Ar={...or};return Object.entries(lr).forEach(([cr,ur])=>{if(!Ar[cr]){Ar[cr]=ur;return}if(cr==="class"){const hr=ur?String(ur).split(" "):[],fr=Ar[cr]?Ar[cr].split(" "):[],gr=hr.filter(pr=>!fr.includes(pr));Ar[cr]=[...fr,...gr].join(" ")}else if(cr==="style"){const hr=ur?ur.split(";").map(pr=>pr.trim()).filter(Boolean):[],fr=Ar[cr]?Ar[cr].split(";").map(pr=>pr.trim()).filter(Boolean):[],gr=new Map;fr.forEach(pr=>{const[mr,yr]=pr.split(":").map(vr=>vr.trim());gr.set(mr,yr)}),hr.forEach(pr=>{const[mr,yr]=pr.split(":").map(vr=>vr.trim());gr.set(mr,yr)}),Ar[cr]=Array.from(gr.entries()).map(([pr,mr])=>`${pr}: ${mr}`).join("; ")}else Ar[cr]=ur}),Ar},{})}function getRenderedAttributes(ar,or){return or.filter(lr=>lr.type===ar.type.name).filter(lr=>lr.attribute.rendered).map(lr=>lr.attribute.renderHTML?lr.attribute.renderHTML(ar.attrs)||{}:{[lr.name]:ar.attrs[lr.name]}).reduce((lr,Ar)=>mergeAttributes(lr,Ar),{})}function isFunction(ar){return typeof ar=="function"}function callOrReturn(ar,or=void 0,...lr){return isFunction(ar)?or?ar.bind(or)(...lr):ar(...lr):ar}function isEmptyObject(ar={}){return Object.keys(ar).length===0&&ar.constructor===Object}function fromString(ar){return typeof ar!="string"?ar:ar.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(ar):ar==="true"?!0:ar==="false"?!1:ar}function injectExtensionAttributesToParseRule(ar,or){return"style"in ar?ar:{...ar,getAttrs:lr=>{const Ar=ar.getAttrs?ar.getAttrs(lr):ar.attrs;if(Ar===!1)return!1;const cr=or.reduce((ur,dr)=>{const hr=dr.attribute.parseHTML?dr.attribute.parseHTML(lr):fromString(lr.getAttribute(dr.name));return hr==null?ur:{...ur,[dr.name]:hr}},{});return{...Ar,...cr}}}}function cleanUpSchemaItem(ar){return Object.fromEntries(Object.entries(ar).filter(([or,lr])=>or==="attrs"&&isEmptyObject(lr)?!1:lr!=null))}function getSchemaByResolvedExtensions(ar,or){var lr;const Ar=getAttributesFromExtensions(ar),{nodeExtensions:cr,markExtensions:ur}=splitExtensions(ar),dr=(lr=cr.find(gr=>getExtensionField(gr,"topNode")))===null||lr===void 0?void 0:lr.name,hr=Object.fromEntries(cr.map(gr=>{const pr=Ar.filter(Br=>Br.type===gr.name),mr={name:gr.name,options:gr.options,storage:gr.storage,editor:or},yr=ar.reduce((Br,Sr)=>{const Er=getExtensionField(Sr,"extendNodeSchema",mr);return{...Br,...Er?Er(gr):{}}},{}),vr=cleanUpSchemaItem({...yr,content:callOrReturn(getExtensionField(gr,"content",mr)),marks:callOrReturn(getExtensionField(gr,"marks",mr)),group:callOrReturn(getExtensionField(gr,"group",mr)),inline:callOrReturn(getExtensionField(gr,"inline",mr)),atom:callOrReturn(getExtensionField(gr,"atom",mr)),selectable:callOrReturn(getExtensionField(gr,"selectable",mr)),draggable:callOrReturn(getExtensionField(gr,"draggable",mr)),code:callOrReturn(getExtensionField(gr,"code",mr)),whitespace:callOrReturn(getExtensionField(gr,"whitespace",mr)),linebreakReplacement:callOrReturn(getExtensionField(gr,"linebreakReplacement",mr)),defining:callOrReturn(getExtensionField(gr,"defining",mr)),isolating:callOrReturn(getExtensionField(gr,"isolating",mr)),attrs:Object.fromEntries(pr.map(Br=>{var Sr;return[Br.name,{default:(Sr=Br==null?void 0:Br.attribute)===null||Sr===void 0?void 0:Sr.default}]}))}),br=callOrReturn(getExtensionField(gr,"parseHTML",mr));br&&(vr.parseDOM=br.map(Br=>injectExtensionAttributesToParseRule(Br,pr)));const wr=getExtensionField(gr,"renderHTML",mr);wr&&(vr.toDOM=Br=>wr({node:Br,HTMLAttributes:getRenderedAttributes(Br,pr)}));const Cr=getExtensionField(gr,"renderText",mr);return Cr&&(vr.toText=Cr),[gr.name,vr]})),fr=Object.fromEntries(ur.map(gr=>{const pr=Ar.filter(Cr=>Cr.type===gr.name),mr={name:gr.name,options:gr.options,storage:gr.storage,editor:or},yr=ar.reduce((Cr,Br)=>{const Sr=getExtensionField(Br,"extendMarkSchema",mr);return{...Cr,...Sr?Sr(gr):{}}},{}),vr=cleanUpSchemaItem({...yr,inclusive:callOrReturn(getExtensionField(gr,"inclusive",mr)),excludes:callOrReturn(getExtensionField(gr,"excludes",mr)),group:callOrReturn(getExtensionField(gr,"group",mr)),spanning:callOrReturn(getExtensionField(gr,"spanning",mr)),code:callOrReturn(getExtensionField(gr,"code",mr)),attrs:Object.fromEntries(pr.map(Cr=>{var Br;return[Cr.name,{default:(Br=Cr==null?void 0:Cr.attribute)===null||Br===void 0?void 0:Br.default}]}))}),br=callOrReturn(getExtensionField(gr,"parseHTML",mr));br&&(vr.parseDOM=br.map(Cr=>injectExtensionAttributesToParseRule(Cr,pr)));const wr=getExtensionField(gr,"renderHTML",mr);return wr&&(vr.toDOM=Cr=>wr({mark:Cr,HTMLAttributes:getRenderedAttributes(Cr,pr)})),[gr.name,vr]}));return new Schema({topNode:dr,nodes:hr,marks:fr})}function getSchemaTypeByName(ar,or){return or.nodes[ar]||or.marks[ar]||null}function isExtensionRulesEnabled(ar,or){return Array.isArray(or)?or.some(lr=>(typeof lr=="string"?lr:lr.name)===ar.name):or}function getHTMLFromFragment(ar,or){const lr=DOMSerializer.fromSchema(or).serializeFragment(ar),cr=document.implementation.createHTMLDocument().createElement("div");return cr.appendChild(lr),cr.innerHTML}const getTextContentFromNodes=(ar,or=500)=>{let lr="";const Ar=ar.parentOffset;return ar.parent.nodesBetween(Math.max(0,Ar-or),Ar,(cr,ur,dr,hr)=>{var fr,gr;const pr=((gr=(fr=cr.type.spec).toText)===null||gr===void 0?void 0:gr.call(fr,{node:cr,pos:ur,parent:dr,index:hr}))||cr.textContent||"%leaf%";lr+=cr.isAtom&&!cr.isText?pr:pr.slice(0,Math.max(0,Ar-ur))}),lr};function isRegExp(ar){return Object.prototype.toString.call(ar)==="[object RegExp]"}class InputRule{constructor(or){this.find=or.find,this.handler=or.handler}}const inputRuleMatcherHandler=(ar,or)=>{if(isRegExp(or))return or.exec(ar);const lr=or(ar);if(!lr)return null;const Ar=[lr.text];return Ar.index=lr.index,Ar.input=ar,Ar.data=lr.data,lr.replaceWith&&(lr.text.includes(lr.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),Ar.push(lr.replaceWith)),Ar};function run$1$1(ar){var or;const{editor:lr,from:Ar,to:cr,text:ur,rules:dr,plugin:hr}=ar,{view:fr}=lr;if(fr.composing)return!1;const gr=fr.state.doc.resolve(Ar);if(gr.parent.type.spec.code||!((or=gr.nodeBefore||gr.nodeAfter)===null||or===void 0)&&or.marks.find(yr=>yr.type.spec.code))return!1;let pr=!1;const mr=getTextContentFromNodes(gr)+ur;return dr.forEach(yr=>{if(pr)return;const vr=inputRuleMatcherHandler(mr,yr.find);if(!vr)return;const br=fr.state.tr,wr=createChainableState({state:fr.state,transaction:br}),Cr={from:Ar-(vr[0].length-ur.length),to:cr},{commands:Br,chain:Sr,can:Er}=new CommandManager({editor:lr,state:wr});yr.handler({state:wr,range:Cr,match:vr,commands:Br,chain:Sr,can:Er})===null||!br.steps.length||(br.setMeta(hr,{transform:br,from:Ar,to:cr,text:ur}),fr.dispatch(br),pr=!0)}),pr}function inputRulesPlugin(ar){const{editor:or,rules:lr}=ar,Ar=new Plugin({state:{init(){return null},apply(cr,ur,dr){const hr=cr.getMeta(Ar);if(hr)return hr;const fr=cr.getMeta("applyInputRules");return!!fr&&setTimeout(()=>{let{text:pr}=fr;typeof pr=="string"?pr=pr:pr=getHTMLFromFragment(Fragment.from(pr),dr.schema);const{from:mr}=fr,yr=mr+pr.length;run$1$1({editor:or,from:mr,to:yr,text:pr,rules:lr,plugin:Ar})}),cr.selectionSet||cr.docChanged?null:ur}},props:{handleTextInput(cr,ur,dr,hr){return run$1$1({editor:or,from:ur,to:dr,text:hr,rules:lr,plugin:Ar})},handleDOMEvents:{compositionend:cr=>(setTimeout(()=>{const{$cursor:ur}=cr.state.selection;ur&&run$1$1({editor:or,from:ur.pos,to:ur.pos,text:"",rules:lr,plugin:Ar})}),!1)},handleKeyDown(cr,ur){if(ur.key!=="Enter")return!1;const{$cursor:dr}=cr.state.selection;return dr?run$1$1({editor:or,from:dr.pos,to:dr.pos,text:`
`,rules:lr,plugin:Ar}):!1}},isInputRules:!0});return Ar}function getType(ar){return Object.prototype.toString.call(ar).slice(8,-1)}function isPlainObject(ar){return getType(ar)!=="Object"?!1:ar.constructor===Object&&Object.getPrototypeOf(ar)===Object.prototype}function mergeDeep(ar,or){const lr={...ar};return isPlainObject(ar)&&isPlainObject(or)&&Object.keys(or).forEach(Ar=>{isPlainObject(or[Ar])&&isPlainObject(ar[Ar])?lr[Ar]=mergeDeep(ar[Ar],or[Ar]):lr[Ar]=or[Ar]}),lr}class Mark{constructor(or={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...or},this.name=this.config.name,or.defaultOptions&&Object.keys(or.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(or={}){return new Mark(or)}configure(or={}){const lr=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,or)});return lr.name=this.name,lr.parent=this.parent,lr}extend(or={}){const lr=new Mark(or);return lr.parent=this,this.child=lr,lr.name=or.name?or.name:lr.parent.name,or.defaultOptions&&Object.keys(or.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${lr.name}".`),lr.options=callOrReturn(getExtensionField(lr,"addOptions",{name:lr.name})),lr.storage=callOrReturn(getExtensionField(lr,"addStorage",{name:lr.name,options:lr.options})),lr}static handleExit({editor:or,mark:lr}){const{tr:Ar}=or.state,cr=or.state.selection.$from;if(cr.pos===cr.end()){const dr=cr.marks();if(!!!dr.find(gr=>(gr==null?void 0:gr.type.name)===lr.name))return!1;const fr=dr.find(gr=>(gr==null?void 0:gr.type.name)===lr.name);return fr&&Ar.removeStoredMark(fr),Ar.insertText(" ",cr.pos),or.view.dispatch(Ar),!0}return!1}}function isNumber(ar){return typeof ar=="number"}class PasteRule{constructor(or){this.find=or.find,this.handler=or.handler}}const pasteRuleMatcherHandler=(ar,or,lr)=>{if(isRegExp(or))return[...ar.matchAll(or)];const Ar=or(ar,lr);return Ar?Ar.map(cr=>{const ur=[cr.text];return ur.index=cr.index,ur.input=ar,ur.data=cr.data,cr.replaceWith&&(cr.text.includes(cr.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),ur.push(cr.replaceWith)),ur}):[]};function run$2(ar){const{editor:or,state:lr,from:Ar,to:cr,rule:ur,pasteEvent:dr,dropEvent:hr}=ar,{commands:fr,chain:gr,can:pr}=new CommandManager({editor:or,state:lr}),mr=[];return lr.doc.nodesBetween(Ar,cr,(vr,br)=>{if(!vr.isTextblock||vr.type.spec.code)return;const wr=Math.max(Ar,br),Cr=Math.min(cr,br+vr.content.size),Br=vr.textBetween(wr-br,Cr-br,void 0,"");pasteRuleMatcherHandler(Br,ur.find,dr).forEach(Er=>{if(Er.index===void 0)return;const Tr=wr+Er.index+1,kr=Tr+Er[0].length,Or={from:lr.tr.mapping.map(Tr),to:lr.tr.mapping.map(kr)},Rr=ur.handler({state:lr,range:Or,match:Er,commands:fr,chain:gr,can:pr,pasteEvent:dr,dropEvent:hr});mr.push(Rr)})}),mr.every(vr=>vr!==null)}let tiptapDragFromOtherEditor=null;const createClipboardPasteEvent=ar=>{var or;const lr=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(or=lr.clipboardData)===null||or===void 0||or.setData("text/html",ar),lr};function pasteRulesPlugin(ar){const{editor:or,rules:lr}=ar;let Ar=null,cr=!1,ur=!1,dr=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,hr;try{hr=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{hr=null}const fr=({state:pr,from:mr,to:yr,rule:vr,pasteEvt:br})=>{const wr=pr.tr,Cr=createChainableState({state:pr,transaction:wr});if(!(!run$2({editor:or,state:Cr,from:Math.max(mr-1,0),to:yr.b-1,rule:vr,pasteEvent:br,dropEvent:hr})||!wr.steps.length)){try{hr=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{hr=null}return dr=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,wr}};return lr.map(pr=>new Plugin({view(mr){const yr=br=>{var wr;Ar=!((wr=mr.dom.parentElement)===null||wr===void 0)&&wr.contains(br.target)?mr.dom.parentElement:null,Ar&&(tiptapDragFromOtherEditor=or)},vr=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",yr),window.addEventListener("dragend",vr),{destroy(){window.removeEventListener("dragstart",yr),window.removeEventListener("dragend",vr)}}},props:{handleDOMEvents:{drop:(mr,yr)=>{if(ur=Ar===mr.dom.parentElement,hr=yr,!ur){const vr=tiptapDragFromOtherEditor;vr&&setTimeout(()=>{const br=vr.state.selection;br&&vr.commands.deleteRange({from:br.from,to:br.to})},10)}return!1},paste:(mr,yr)=>{var vr;const br=(vr=yr.clipboardData)===null||vr===void 0?void 0:vr.getData("text/html");return dr=yr,cr=!!(br!=null&&br.includes("data-pm-slice")),!1}}},appendTransaction:(mr,yr,vr)=>{const br=mr[0],wr=br.getMeta("uiEvent")==="paste"&&!cr,Cr=br.getMeta("uiEvent")==="drop"&&!ur,Br=br.getMeta("applyPasteRules"),Sr=!!Br;if(!wr&&!Cr&&!Sr)return;if(Sr){let{text:kr}=Br;typeof kr=="string"?kr=kr:kr=getHTMLFromFragment(Fragment.from(kr),vr.schema);const{from:Or}=Br,Rr=Or+kr.length,Lr=createClipboardPasteEvent(kr);return fr({rule:pr,state:vr,from:Or,to:{b:Rr},pasteEvt:Lr})}const Er=yr.doc.content.findDiffStart(vr.doc.content),Tr=yr.doc.content.findDiffEnd(vr.doc.content);if(!(!isNumber(Er)||!Tr||Er===Tr.b))return fr({rule:pr,state:vr,from:Er,to:Tr,pasteEvt:dr})}}))}function findDuplicates(ar){const or=ar.filter((lr,Ar)=>ar.indexOf(lr)!==Ar);return Array.from(new Set(or))}class ExtensionManager{constructor(or,lr){this.splittableMarks=[],this.editor=lr,this.extensions=ExtensionManager.resolve(or),this.schema=getSchemaByResolvedExtensions(this.extensions,lr),this.setupExtensions()}static resolve(or){const lr=ExtensionManager.sort(ExtensionManager.flatten(or)),Ar=findDuplicates(lr.map(cr=>cr.name));return Ar.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${Ar.map(cr=>`'${cr}'`).join(", ")}]. This can lead to issues.`),lr}static flatten(or){return or.map(lr=>{const Ar={name:lr.name,options:lr.options,storage:lr.storage},cr=getExtensionField(lr,"addExtensions",Ar);return cr?[lr,...this.flatten(cr())]:lr}).flat(10)}static sort(or){return or.sort((Ar,cr)=>{const ur=getExtensionField(Ar,"priority")||100,dr=getExtensionField(cr,"priority")||100;return ur>dr?-1:ur<dr?1:0})}get commands(){return this.extensions.reduce((or,lr)=>{const Ar={name:lr.name,options:lr.options,storage:lr.storage,editor:this.editor,type:getSchemaTypeByName(lr.name,this.schema)},cr=getExtensionField(lr,"addCommands",Ar);return cr?{...or,...cr()}:or},{})}get plugins(){const{editor:or}=this,lr=ExtensionManager.sort([...this.extensions].reverse()),Ar=[],cr=[],ur=lr.map(dr=>{const hr={name:dr.name,options:dr.options,storage:dr.storage,editor:or,type:getSchemaTypeByName(dr.name,this.schema)},fr=[],gr=getExtensionField(dr,"addKeyboardShortcuts",hr);let pr={};if(dr.type==="mark"&&getExtensionField(dr,"exitable",hr)&&(pr.ArrowRight=()=>Mark.handleExit({editor:or,mark:dr})),gr){const wr=Object.fromEntries(Object.entries(gr()).map(([Cr,Br])=>[Cr,()=>Br({editor:or})]));pr={...pr,...wr}}const mr=keymap(pr);fr.push(mr);const yr=getExtensionField(dr,"addInputRules",hr);isExtensionRulesEnabled(dr,or.options.enableInputRules)&&yr&&Ar.push(...yr());const vr=getExtensionField(dr,"addPasteRules",hr);isExtensionRulesEnabled(dr,or.options.enablePasteRules)&&vr&&cr.push(...vr());const br=getExtensionField(dr,"addProseMirrorPlugins",hr);if(br){const wr=br();fr.push(...wr)}return fr}).flat();return[inputRulesPlugin({editor:or,rules:Ar}),...pasteRulesPlugin({editor:or,rules:cr}),...ur]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:or}=this,{nodeExtensions:lr}=splitExtensions(this.extensions);return Object.fromEntries(lr.filter(Ar=>!!getExtensionField(Ar,"addNodeView")).map(Ar=>{const cr=this.attributes.filter(fr=>fr.type===Ar.name),ur={name:Ar.name,options:Ar.options,storage:Ar.storage,editor:or,type:getNodeType(Ar.name,this.schema)},dr=getExtensionField(Ar,"addNodeView",ur);if(!dr)return[];const hr=(fr,gr,pr,mr,yr)=>{const vr=getRenderedAttributes(fr,cr);return dr()({node:fr,view:gr,getPos:pr,decorations:mr,innerDecorations:yr,editor:or,extension:Ar,HTMLAttributes:vr})};return[Ar.name,hr]}))}setupExtensions(){this.extensions.forEach(or=>{var lr;this.editor.extensionStorage[or.name]=or.storage;const Ar={name:or.name,options:or.options,storage:or.storage,editor:this.editor,type:getSchemaTypeByName(or.name,this.schema)};or.type==="mark"&&(!((lr=callOrReturn(getExtensionField(or,"keepOnSplit",Ar)))!==null&&lr!==void 0)||lr)&&this.splittableMarks.push(or.name);const cr=getExtensionField(or,"onBeforeCreate",Ar),ur=getExtensionField(or,"onCreate",Ar),dr=getExtensionField(or,"onUpdate",Ar),hr=getExtensionField(or,"onSelectionUpdate",Ar),fr=getExtensionField(or,"onTransaction",Ar),gr=getExtensionField(or,"onFocus",Ar),pr=getExtensionField(or,"onBlur",Ar),mr=getExtensionField(or,"onDestroy",Ar);cr&&this.editor.on("beforeCreate",cr),ur&&this.editor.on("create",ur),dr&&this.editor.on("update",dr),hr&&this.editor.on("selectionUpdate",hr),fr&&this.editor.on("transaction",fr),gr&&this.editor.on("focus",gr),pr&&this.editor.on("blur",pr),mr&&this.editor.on("destroy",mr)})}}class Extension{constructor(or={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...or},this.name=this.config.name,or.defaultOptions&&Object.keys(or.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(or={}){return new Extension(or)}configure(or={}){const lr=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,or)});return lr.name=this.name,lr.parent=this.parent,lr}extend(or={}){const lr=new Extension({...this.config,...or});return lr.parent=this,this.child=lr,lr.name=or.name?or.name:lr.parent.name,or.defaultOptions&&Object.keys(or.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${lr.name}".`),lr.options=callOrReturn(getExtensionField(lr,"addOptions",{name:lr.name})),lr.storage=callOrReturn(getExtensionField(lr,"addStorage",{name:lr.name,options:lr.options})),lr}}function getTextBetween(ar,or,lr){const{from:Ar,to:cr}=or,{blockSeparator:ur=`

`,textSerializers:dr={}}=lr||{};let hr="";return ar.nodesBetween(Ar,cr,(fr,gr,pr,mr)=>{var yr;fr.isBlock&&gr>Ar&&(hr+=ur);const vr=dr==null?void 0:dr[fr.type.name];if(vr)return pr&&(hr+=vr({node:fr,pos:gr,parent:pr,index:mr,range:or})),!1;fr.isText&&(hr+=(yr=fr==null?void 0:fr.text)===null||yr===void 0?void 0:yr.slice(Math.max(Ar,gr)-gr,cr-gr))}),hr}function getTextSerializersFromSchema(ar){return Object.fromEntries(Object.entries(ar.nodes).filter(([,or])=>or.spec.toText).map(([or,lr])=>[or,lr.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:ar}=this,{state:or,schema:lr}=ar,{doc:Ar,selection:cr}=or,{ranges:ur}=cr,dr=Math.min(...ur.map(pr=>pr.$from.pos)),hr=Math.max(...ur.map(pr=>pr.$to.pos)),fr=getTextSerializersFromSchema(lr);return getTextBetween(Ar,{from:dr,to:hr},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:fr})}}})]}}),blur=()=>({editor:ar,view:or})=>(requestAnimationFrame(()=>{var lr;ar.isDestroyed||(or.dom.blur(),(lr=window==null?void 0:window.getSelection())===null||lr===void 0||lr.removeAllRanges())}),!0),clearContent=(ar=!1)=>({commands:or})=>or.setContent("",ar),clearNodes=()=>({state:ar,tr:or,dispatch:lr})=>{const{selection:Ar}=or,{ranges:cr}=Ar;return lr&&cr.forEach(({$from:ur,$to:dr})=>{ar.doc.nodesBetween(ur.pos,dr.pos,(hr,fr)=>{if(hr.type.isText)return;const{doc:gr,mapping:pr}=or,mr=gr.resolve(pr.map(fr)),yr=gr.resolve(pr.map(fr+hr.nodeSize)),vr=mr.blockRange(yr);if(!vr)return;const br=liftTarget(vr);if(hr.type.isTextblock){const{defaultType:wr}=mr.parent.contentMatchAt(mr.index());or.setNodeMarkup(vr.start,wr)}(br||br===0)&&or.lift(vr,br)})}),!0},command=ar=>or=>ar(or),createParagraphNear=()=>({state:ar,dispatch:or})=>createParagraphNear$1(ar,or),cut=(ar,or)=>({editor:lr,tr:Ar})=>{const{state:cr}=lr,ur=cr.doc.slice(ar.from,ar.to);Ar.deleteRange(ar.from,ar.to);const dr=Ar.mapping.map(or);return Ar.insert(dr,ur.content),Ar.setSelection(new TextSelection(Ar.doc.resolve(dr-1))),!0},deleteCurrentNode=()=>({tr:ar,dispatch:or})=>{const{selection:lr}=ar,Ar=lr.$anchor.node();if(Ar.content.size>0)return!1;const cr=ar.selection.$anchor;for(let ur=cr.depth;ur>0;ur-=1)if(cr.node(ur).type===Ar.type){if(or){const hr=cr.before(ur),fr=cr.after(ur);ar.delete(hr,fr).scrollIntoView()}return!0}return!1},deleteNode=ar=>({tr:or,state:lr,dispatch:Ar})=>{const cr=getNodeType(ar,lr.schema),ur=or.selection.$anchor;for(let dr=ur.depth;dr>0;dr-=1)if(ur.node(dr).type===cr){if(Ar){const fr=ur.before(dr),gr=ur.after(dr);or.delete(fr,gr).scrollIntoView()}return!0}return!1},deleteRange=ar=>({tr:or,dispatch:lr})=>{const{from:Ar,to:cr}=ar;return lr&&or.delete(Ar,cr),!0},deleteSelection=()=>({state:ar,dispatch:or})=>deleteSelection$1(ar,or),enter=()=>({commands:ar})=>ar.keyboardShortcut("Enter"),exitCode=()=>({state:ar,dispatch:or})=>exitCode$1(ar,or);function objectIncludes(ar,or,lr={strict:!0}){const Ar=Object.keys(or);return Ar.length?Ar.every(cr=>lr.strict?or[cr]===ar[cr]:isRegExp(or[cr])?or[cr].test(ar[cr]):or[cr]===ar[cr]):!0}function findMarkInSet(ar,or,lr={}){return ar.find(Ar=>Ar.type===or&&objectIncludes(Object.fromEntries(Object.keys(lr).map(cr=>[cr,Ar.attrs[cr]])),lr))}function isMarkInSet(ar,or,lr={}){return!!findMarkInSet(ar,or,lr)}function getMarkRange(ar,or,lr){var Ar;if(!ar||!or)return;let cr=ar.parent.childAfter(ar.parentOffset);if((!cr.node||!cr.node.marks.some(pr=>pr.type===or))&&(cr=ar.parent.childBefore(ar.parentOffset)),!cr.node||!cr.node.marks.some(pr=>pr.type===or)||(lr=lr||((Ar=cr.node.marks[0])===null||Ar===void 0?void 0:Ar.attrs),!findMarkInSet([...cr.node.marks],or,lr)))return;let dr=cr.index,hr=ar.start()+cr.offset,fr=dr+1,gr=hr+cr.node.nodeSize;for(;dr>0&&isMarkInSet([...ar.parent.child(dr-1).marks],or,lr);)dr-=1,hr-=ar.parent.child(dr).nodeSize;for(;fr<ar.parent.childCount&&isMarkInSet([...ar.parent.child(fr).marks],or,lr);)gr+=ar.parent.child(fr).nodeSize,fr+=1;return{from:hr,to:gr}}function getMarkType(ar,or){if(typeof ar=="string"){if(!or.marks[ar])throw Error(`There is no mark type named '${ar}'. Maybe you forgot to add the extension?`);return or.marks[ar]}return ar}const extendMarkRange=(ar,or={})=>({tr:lr,state:Ar,dispatch:cr})=>{const ur=getMarkType(ar,Ar.schema),{doc:dr,selection:hr}=lr,{$from:fr,from:gr,to:pr}=hr;if(cr){const mr=getMarkRange(fr,ur,or);if(mr&&mr.from<=gr&&mr.to>=pr){const yr=TextSelection.create(dr,mr.from,mr.to);lr.setSelection(yr)}}return!0},first=ar=>or=>{const lr=typeof ar=="function"?ar(or):ar;for(let Ar=0;Ar<lr.length;Ar+=1)if(lr[Ar](or))return!0;return!1};function isTextSelection(ar){return ar instanceof TextSelection}function minMax(ar=0,or=0,lr=0){return Math.min(Math.max(ar,or),lr)}function resolveFocusPosition(ar,or=null){if(!or)return null;const lr=Selection.atStart(ar),Ar=Selection.atEnd(ar);if(or==="start"||or===!0)return lr;if(or==="end")return Ar;const cr=lr.from,ur=Ar.to;return or==="all"?TextSelection.create(ar,minMax(0,cr,ur),minMax(ar.content.size,cr,ur)):TextSelection.create(ar,minMax(or,cr,ur),minMax(or,cr,ur))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus=(ar=null,or={})=>({editor:lr,view:Ar,tr:cr,dispatch:ur})=>{or={scrollIntoView:!0,...or};const dr=()=>{(isiOS()||isAndroid())&&Ar.dom.focus(),requestAnimationFrame(()=>{lr.isDestroyed||(Ar.focus(),or!=null&&or.scrollIntoView&&lr.commands.scrollIntoView())})};if(Ar.hasFocus()&&ar===null||ar===!1)return!0;if(ur&&ar===null&&!isTextSelection(lr.state.selection))return dr(),!0;const hr=resolveFocusPosition(cr.doc,ar)||lr.state.selection,fr=lr.state.selection.eq(hr);return ur&&(fr||cr.setSelection(hr),fr&&cr.storedMarks&&cr.setStoredMarks(cr.storedMarks),dr()),!0},forEach=(ar,or)=>lr=>ar.every((Ar,cr)=>or(Ar,{...lr,index:cr})),insertContent=(ar,or)=>({tr:lr,commands:Ar})=>Ar.insertContentAt({from:lr.selection.from,to:lr.selection.to},ar,or),removeWhitespaces=ar=>{const or=ar.childNodes;for(let lr=or.length-1;lr>=0;lr-=1){const Ar=or[lr];Ar.nodeType===3&&Ar.nodeValue&&/^(\n\s\s|\n)$/.test(Ar.nodeValue)?ar.removeChild(Ar):Ar.nodeType===1&&removeWhitespaces(Ar)}return ar};function elementFromString(ar){const or=`<body>${ar}</body>`,lr=new window.DOMParser().parseFromString(or,"text/html").body;return removeWhitespaces(lr)}function createNodeFromContent(ar,or,lr){if(ar instanceof Node$2||ar instanceof Fragment)return ar;lr={slice:!0,parseOptions:{},...lr};const Ar=typeof ar=="object"&&ar!==null,cr=typeof ar=="string";if(Ar)try{if(Array.isArray(ar)&&ar.length>0)return Fragment.fromArray(ar.map(hr=>or.nodeFromJSON(hr)));const dr=or.nodeFromJSON(ar);return lr.errorOnInvalidContent&&dr.check(),dr}catch(ur){if(lr.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:ur});return console.warn("[tiptap warn]: Invalid content.","Passed value:",ar,"Error:",ur),createNodeFromContent("",or,lr)}if(cr){if(lr.errorOnInvalidContent){let dr=!1,hr="";const fr=new Schema({topNode:or.spec.topNode,marks:or.spec.marks,nodes:or.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:gr=>(dr=!0,hr=typeof gr=="string"?gr:gr.outerHTML,null)}]}})});if(lr.slice?DOMParser.fromSchema(fr).parseSlice(elementFromString(ar),lr.parseOptions):DOMParser.fromSchema(fr).parse(elementFromString(ar),lr.parseOptions),lr.errorOnInvalidContent&&dr)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${hr}`)})}const ur=DOMParser.fromSchema(or);return lr.slice?ur.parseSlice(elementFromString(ar),lr.parseOptions).content:ur.parse(elementFromString(ar),lr.parseOptions)}return createNodeFromContent("",or,lr)}function selectionToInsertionEnd(ar,or,lr){const Ar=ar.steps.length-1;if(Ar<or)return;const cr=ar.steps[Ar];if(!(cr instanceof ReplaceStep||cr instanceof ReplaceAroundStep))return;const ur=ar.mapping.maps[Ar];let dr=0;ur.forEach((hr,fr,gr,pr)=>{dr===0&&(dr=pr)}),ar.setSelection(Selection.near(ar.doc.resolve(dr),lr))}const isFragment=ar=>!("type"in ar),insertContentAt=(ar,or,lr)=>({tr:Ar,dispatch:cr,editor:ur})=>{var dr;if(cr){lr={parseOptions:ur.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...lr};let hr;try{hr=createNodeFromContent(or,ur.schema,{parseOptions:{preserveWhitespace:"full",...lr.parseOptions},errorOnInvalidContent:(dr=lr.errorOnInvalidContent)!==null&&dr!==void 0?dr:ur.options.enableContentCheck})}catch(br){return ur.emit("contentError",{editor:ur,error:br,disableCollaboration:()=>{ur.storage.collaboration&&(ur.storage.collaboration.isDisabled=!0)}}),!1}let{from:fr,to:gr}=typeof ar=="number"?{from:ar,to:ar}:{from:ar.from,to:ar.to},pr=!0,mr=!0;if((isFragment(hr)?hr:[hr]).forEach(br=>{br.check(),pr=pr?br.isText&&br.marks.length===0:!1,mr=mr?br.isBlock:!1}),fr===gr&&mr){const{parent:br}=Ar.doc.resolve(fr);br.isTextblock&&!br.type.spec.code&&!br.childCount&&(fr-=1,gr+=1)}let vr;if(pr){if(Array.isArray(or))vr=or.map(br=>br.text||"").join("");else if(or instanceof Fragment){let br="";or.forEach(wr=>{wr.text&&(br+=wr.text)}),vr=br}else typeof or=="object"&&or&&or.text?vr=or.text:vr=or;Ar.insertText(vr,fr,gr)}else vr=hr,Ar.replaceWith(fr,gr,vr);lr.updateSelection&&selectionToInsertionEnd(Ar,Ar.steps.length-1,-1),lr.applyInputRules&&Ar.setMeta("applyInputRules",{from:fr,text:vr}),lr.applyPasteRules&&Ar.setMeta("applyPasteRules",{from:fr,text:vr})}return!0},joinUp=()=>({state:ar,dispatch:or})=>joinUp$1(ar,or),joinDown=()=>({state:ar,dispatch:or})=>joinDown$1(ar,or),joinBackward=()=>({state:ar,dispatch:or})=>joinBackward$1(ar,or),joinForward=()=>({state:ar,dispatch:or})=>joinForward$1(ar,or),joinItemBackward=()=>({state:ar,dispatch:or,tr:lr})=>{try{const Ar=joinPoint(ar.doc,ar.selection.$from.pos,-1);return Ar==null?!1:(lr.join(Ar,2),or&&or(lr),!0)}catch{return!1}},joinItemForward=()=>({state:ar,dispatch:or,tr:lr})=>{try{const Ar=joinPoint(ar.doc,ar.selection.$from.pos,1);return Ar==null?!1:(lr.join(Ar,2),or&&or(lr),!0)}catch{return!1}},joinTextblockBackward=()=>({state:ar,dispatch:or})=>joinTextblockBackward$1(ar,or),joinTextblockForward=()=>({state:ar,dispatch:or})=>joinTextblockForward$1(ar,or);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(ar){const or=ar.split(/-(?!$)/);let lr=or[or.length-1];lr==="Space"&&(lr=" ");let Ar,cr,ur,dr;for(let hr=0;hr<or.length-1;hr+=1){const fr=or[hr];if(/^(cmd|meta|m)$/i.test(fr))dr=!0;else if(/^a(lt)?$/i.test(fr))Ar=!0;else if(/^(c|ctrl|control)$/i.test(fr))cr=!0;else if(/^s(hift)?$/i.test(fr))ur=!0;else if(/^mod$/i.test(fr))isiOS()||isMacOS()?dr=!0:cr=!0;else throw new Error(`Unrecognized modifier name: ${fr}`)}return Ar&&(lr=`Alt-${lr}`),cr&&(lr=`Ctrl-${lr}`),dr&&(lr=`Meta-${lr}`),ur&&(lr=`Shift-${lr}`),lr}const keyboardShortcut=ar=>({editor:or,view:lr,tr:Ar,dispatch:cr})=>{const ur=normalizeKeyName(ar).split(/-(?!$)/),dr=ur.find(gr=>!["Alt","Ctrl","Meta","Shift"].includes(gr)),hr=new KeyboardEvent("keydown",{key:dr==="Space"?" ":dr,altKey:ur.includes("Alt"),ctrlKey:ur.includes("Ctrl"),metaKey:ur.includes("Meta"),shiftKey:ur.includes("Shift"),bubbles:!0,cancelable:!0}),fr=or.captureTransaction(()=>{lr.someProp("handleKeyDown",gr=>gr(lr,hr))});return fr==null||fr.steps.forEach(gr=>{const pr=gr.map(Ar.mapping);pr&&cr&&Ar.maybeStep(pr)}),!0};function isNodeActive(ar,or,lr={}){const{from:Ar,to:cr,empty:ur}=ar.selection,dr=or?getNodeType(or,ar.schema):null,hr=[];ar.doc.nodesBetween(Ar,cr,(mr,yr)=>{if(mr.isText)return;const vr=Math.max(Ar,yr),br=Math.min(cr,yr+mr.nodeSize);hr.push({node:mr,from:vr,to:br})});const fr=cr-Ar,gr=hr.filter(mr=>dr?dr.name===mr.node.type.name:!0).filter(mr=>objectIncludes(mr.node.attrs,lr,{strict:!1}));return ur?!!gr.length:gr.reduce((mr,yr)=>mr+yr.to-yr.from,0)>=fr}const lift=(ar,or={})=>({state:lr,dispatch:Ar})=>{const cr=getNodeType(ar,lr.schema);return isNodeActive(lr,cr,or)?lift$1(lr,Ar):!1},liftEmptyBlock=()=>({state:ar,dispatch:or})=>liftEmptyBlock$1(ar,or),liftListItem=ar=>({state:or,dispatch:lr})=>{const Ar=getNodeType(ar,or.schema);return liftListItem$1(Ar)(or,lr)},newlineInCode=()=>({state:ar,dispatch:or})=>newlineInCode$1(ar,or);function getSchemaTypeNameByName(ar,or){return or.nodes[ar]?"node":or.marks[ar]?"mark":null}function deleteProps(ar,or){const lr=typeof or=="string"?[or]:or;return Object.keys(ar).reduce((Ar,cr)=>(lr.includes(cr)||(Ar[cr]=ar[cr]),Ar),{})}const resetAttributes=(ar,or)=>({tr:lr,state:Ar,dispatch:cr})=>{let ur=null,dr=null;const hr=getSchemaTypeNameByName(typeof ar=="string"?ar:ar.name,Ar.schema);return hr?(hr==="node"&&(ur=getNodeType(ar,Ar.schema)),hr==="mark"&&(dr=getMarkType(ar,Ar.schema)),cr&&lr.selection.ranges.forEach(fr=>{Ar.doc.nodesBetween(fr.$from.pos,fr.$to.pos,(gr,pr)=>{ur&&ur===gr.type&&lr.setNodeMarkup(pr,void 0,deleteProps(gr.attrs,or)),dr&&gr.marks.length&&gr.marks.forEach(mr=>{dr===mr.type&&lr.addMark(pr,pr+gr.nodeSize,dr.create(deleteProps(mr.attrs,or)))})})}),!0):!1},scrollIntoView=()=>({tr:ar,dispatch:or})=>(or&&ar.scrollIntoView(),!0),selectAll=()=>({tr:ar,dispatch:or})=>{if(or){const lr=new AllSelection(ar.doc);ar.setSelection(lr)}return!0},selectNodeBackward=()=>({state:ar,dispatch:or})=>selectNodeBackward$1(ar,or),selectNodeForward=()=>({state:ar,dispatch:or})=>selectNodeForward$1(ar,or),selectParentNode=()=>({state:ar,dispatch:or})=>selectParentNode$1(ar,or),selectTextblockEnd=()=>({state:ar,dispatch:or})=>selectTextblockEnd$1(ar,or),selectTextblockStart=()=>({state:ar,dispatch:or})=>selectTextblockStart$1(ar,or);function createDocument(ar,or,lr={},Ar={}){return createNodeFromContent(ar,or,{slice:!1,parseOptions:lr,errorOnInvalidContent:Ar.errorOnInvalidContent})}const setContent=(ar,or=!1,lr={},Ar={})=>({editor:cr,tr:ur,dispatch:dr,commands:hr})=>{var fr,gr;const{doc:pr}=ur;if(lr.preserveWhitespace!=="full"){const mr=createDocument(ar,cr.schema,lr,{errorOnInvalidContent:(fr=Ar.errorOnInvalidContent)!==null&&fr!==void 0?fr:cr.options.enableContentCheck});return dr&&ur.replaceWith(0,pr.content.size,mr).setMeta("preventUpdate",!or),!0}return dr&&ur.setMeta("preventUpdate",!or),hr.insertContentAt({from:0,to:pr.content.size},ar,{parseOptions:lr,errorOnInvalidContent:(gr=Ar.errorOnInvalidContent)!==null&&gr!==void 0?gr:cr.options.enableContentCheck})};function getMarkAttributes(ar,or){const lr=getMarkType(or,ar.schema),{from:Ar,to:cr,empty:ur}=ar.selection,dr=[];ur?(ar.storedMarks&&dr.push(...ar.storedMarks),dr.push(...ar.selection.$head.marks())):ar.doc.nodesBetween(Ar,cr,fr=>{dr.push(...fr.marks)});const hr=dr.find(fr=>fr.type.name===lr.name);return hr?{...hr.attrs}:{}}function combineTransactionSteps(ar,or){const lr=new Transform(ar);return or.forEach(Ar=>{Ar.steps.forEach(cr=>{lr.step(cr)})}),lr}function defaultBlockAt(ar){for(let or=0;or<ar.edgeCount;or+=1){const{type:lr}=ar.edge(or);if(lr.isTextblock&&!lr.hasRequiredAttrs())return lr}return null}function findChildrenInRange(ar,or,lr){const Ar=[];return ar.nodesBetween(or.from,or.to,(cr,ur)=>{lr(cr)&&Ar.push({node:cr,pos:ur})}),Ar}function findParentNodeClosestToPos(ar,or){for(let lr=ar.depth;lr>0;lr-=1){const Ar=ar.node(lr);if(or(Ar))return{pos:lr>0?ar.before(lr):0,start:ar.start(lr),depth:lr,node:Ar}}}function findParentNode(ar){return or=>findParentNodeClosestToPos(or.$from,ar)}function getText(ar,or){const lr={from:0,to:ar.content.size};return getTextBetween(ar,lr,or)}function getNodeAttributes(ar,or){const lr=getNodeType(or,ar.schema),{from:Ar,to:cr}=ar.selection,ur=[];ar.doc.nodesBetween(Ar,cr,hr=>{ur.push(hr)});const dr=ur.reverse().find(hr=>hr.type.name===lr.name);return dr?{...dr.attrs}:{}}function getAttributes(ar,or){const lr=getSchemaTypeNameByName(typeof or=="string"?or:or.name,ar.schema);return lr==="node"?getNodeAttributes(ar,or):lr==="mark"?getMarkAttributes(ar,or):{}}function removeDuplicates(ar,or=JSON.stringify){const lr={};return ar.filter(Ar=>{const cr=or(Ar);return Object.prototype.hasOwnProperty.call(lr,cr)?!1:lr[cr]=!0})}function simplifyChangedRanges(ar){const or=removeDuplicates(ar);return or.length===1?or:or.filter((lr,Ar)=>!or.filter((ur,dr)=>dr!==Ar).some(ur=>lr.oldRange.from>=ur.oldRange.from&&lr.oldRange.to<=ur.oldRange.to&&lr.newRange.from>=ur.newRange.from&&lr.newRange.to<=ur.newRange.to))}function getChangedRanges(ar){const{mapping:or,steps:lr}=ar,Ar=[];return or.maps.forEach((cr,ur)=>{const dr=[];if(cr.ranges.length)cr.forEach((hr,fr)=>{dr.push({from:hr,to:fr})});else{const{from:hr,to:fr}=lr[ur];if(hr===void 0||fr===void 0)return;dr.push({from:hr,to:fr})}dr.forEach(({from:hr,to:fr})=>{const gr=or.slice(ur).map(hr,-1),pr=or.slice(ur).map(fr),mr=or.invert().map(gr,-1),yr=or.invert().map(pr);Ar.push({oldRange:{from:mr,to:yr},newRange:{from:gr,to:pr}})})}),simplifyChangedRanges(Ar)}function getMarksBetween(ar,or,lr){const Ar=[];return ar===or?lr.resolve(ar).marks().forEach(cr=>{const ur=lr.resolve(ar),dr=getMarkRange(ur,cr.type);dr&&Ar.push({mark:cr,...dr})}):lr.nodesBetween(ar,or,(cr,ur)=>{!cr||(cr==null?void 0:cr.nodeSize)===void 0||Ar.push(...cr.marks.map(dr=>({from:ur,to:ur+cr.nodeSize,mark:dr})))}),Ar}function getSplittedAttributes(ar,or,lr){return Object.fromEntries(Object.entries(lr).filter(([Ar])=>{const cr=ar.find(ur=>ur.type===or&&ur.name===Ar);return cr?cr.attribute.keepOnSplit:!1}))}function isMarkActive(ar,or,lr={}){const{empty:Ar,ranges:cr}=ar.selection,ur=or?getMarkType(or,ar.schema):null;if(Ar)return!!(ar.storedMarks||ar.selection.$from.marks()).filter(mr=>ur?ur.name===mr.type.name:!0).find(mr=>objectIncludes(mr.attrs,lr,{strict:!1}));let dr=0;const hr=[];if(cr.forEach(({$from:mr,$to:yr})=>{const vr=mr.pos,br=yr.pos;ar.doc.nodesBetween(vr,br,(wr,Cr)=>{if(!wr.isText&&!wr.marks.length)return;const Br=Math.max(vr,Cr),Sr=Math.min(br,Cr+wr.nodeSize),Er=Sr-Br;dr+=Er,hr.push(...wr.marks.map(Tr=>({mark:Tr,from:Br,to:Sr})))})}),dr===0)return!1;const fr=hr.filter(mr=>ur?ur.name===mr.mark.type.name:!0).filter(mr=>objectIncludes(mr.mark.attrs,lr,{strict:!1})).reduce((mr,yr)=>mr+yr.to-yr.from,0),gr=hr.filter(mr=>ur?mr.mark.type!==ur&&mr.mark.type.excludes(ur):!0).reduce((mr,yr)=>mr+yr.to-yr.from,0);return(fr>0?fr+gr:fr)>=dr}function isActive(ar,or,lr={}){if(!or)return isNodeActive(ar,null,lr)||isMarkActive(ar,null,lr);const Ar=getSchemaTypeNameByName(or,ar.schema);return Ar==="node"?isNodeActive(ar,or,lr):Ar==="mark"?isMarkActive(ar,or,lr):!1}function isList(ar,or){const{nodeExtensions:lr}=splitExtensions(or),Ar=lr.find(dr=>dr.name===ar);if(!Ar)return!1;const cr={name:Ar.name,options:Ar.options,storage:Ar.storage},ur=callOrReturn(getExtensionField(Ar,"group",cr));return typeof ur!="string"?!1:ur.split(" ").includes("list")}function isNodeEmpty(ar,{checkChildren:or=!0,ignoreWhitespace:lr=!1}={}){var Ar;if(lr){if(ar.type.name==="hardBreak")return!0;if(ar.isText)return/^\s*$/m.test((Ar=ar.text)!==null&&Ar!==void 0?Ar:"")}if(ar.isText)return!ar.text;if(ar.isAtom||ar.isLeaf)return!1;if(ar.content.childCount===0)return!0;if(or){let cr=!0;return ar.content.forEach(ur=>{cr!==!1&&(isNodeEmpty(ur,{ignoreWhitespace:lr,checkChildren:or})||(cr=!1))}),cr}return!1}function isNodeSelection(ar){return ar instanceof NodeSelection}function canSetMark(ar,or,lr){var Ar;const{selection:cr}=or;let ur=null;if(isTextSelection(cr)&&(ur=cr.$cursor),ur){const hr=(Ar=ar.storedMarks)!==null&&Ar!==void 0?Ar:ur.marks();return!!lr.isInSet(hr)||!hr.some(fr=>fr.type.excludes(lr))}const{ranges:dr}=cr;return dr.some(({$from:hr,$to:fr})=>{let gr=hr.depth===0?ar.doc.inlineContent&&ar.doc.type.allowsMarkType(lr):!1;return ar.doc.nodesBetween(hr.pos,fr.pos,(pr,mr,yr)=>{if(gr)return!1;if(pr.isInline){const vr=!yr||yr.type.allowsMarkType(lr),br=!!lr.isInSet(pr.marks)||!pr.marks.some(wr=>wr.type.excludes(lr));gr=vr&&br}return!gr}),gr})}const setMark=(ar,or={})=>({tr:lr,state:Ar,dispatch:cr})=>{const{selection:ur}=lr,{empty:dr,ranges:hr}=ur,fr=getMarkType(ar,Ar.schema);if(cr)if(dr){const gr=getMarkAttributes(Ar,fr);lr.addStoredMark(fr.create({...gr,...or}))}else hr.forEach(gr=>{const pr=gr.$from.pos,mr=gr.$to.pos;Ar.doc.nodesBetween(pr,mr,(yr,vr)=>{const br=Math.max(vr,pr),wr=Math.min(vr+yr.nodeSize,mr);yr.marks.find(Br=>Br.type===fr)?yr.marks.forEach(Br=>{fr===Br.type&&lr.addMark(br,wr,fr.create({...Br.attrs,...or}))}):lr.addMark(br,wr,fr.create(or))})});return canSetMark(Ar,lr,fr)},setMeta=(ar,or)=>({tr:lr})=>(lr.setMeta(ar,or),!0),setNode=(ar,or={})=>({state:lr,dispatch:Ar,chain:cr})=>{const ur=getNodeType(ar,lr.schema);let dr;return lr.selection.$anchor.sameParent(lr.selection.$head)&&(dr=lr.selection.$anchor.parent.attrs),ur.isTextblock?cr().command(({commands:hr})=>setBlockType(ur,{...dr,...or})(lr)?!0:hr.clearNodes()).command(({state:hr})=>setBlockType(ur,{...dr,...or})(hr,Ar)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=ar=>({tr:or,dispatch:lr})=>{if(lr){const{doc:Ar}=or,cr=minMax(ar,0,Ar.content.size),ur=NodeSelection.create(Ar,cr);or.setSelection(ur)}return!0},setTextSelection=ar=>({tr:or,dispatch:lr})=>{if(lr){const{doc:Ar}=or,{from:cr,to:ur}=typeof ar=="number"?{from:ar,to:ar}:ar,dr=TextSelection.atStart(Ar).from,hr=TextSelection.atEnd(Ar).to,fr=minMax(cr,dr,hr),gr=minMax(ur,dr,hr),pr=TextSelection.create(Ar,fr,gr);or.setSelection(pr)}return!0},sinkListItem=ar=>({state:or,dispatch:lr})=>{const Ar=getNodeType(ar,or.schema);return sinkListItem$1(Ar)(or,lr)};function ensureMarks(ar,or){const lr=ar.storedMarks||ar.selection.$to.parentOffset&&ar.selection.$from.marks();if(lr){const Ar=lr.filter(cr=>or==null?void 0:or.includes(cr.type.name));ar.tr.ensureMarks(Ar)}}const splitBlock=({keepMarks:ar=!0}={})=>({tr:or,state:lr,dispatch:Ar,editor:cr})=>{const{selection:ur,doc:dr}=or,{$from:hr,$to:fr}=ur,gr=cr.extensionManager.attributes,pr=getSplittedAttributes(gr,hr.node().type.name,hr.node().attrs);if(ur instanceof NodeSelection&&ur.node.isBlock)return!hr.parentOffset||!canSplit(dr,hr.pos)?!1:(Ar&&(ar&&ensureMarks(lr,cr.extensionManager.splittableMarks),or.split(hr.pos).scrollIntoView()),!0);if(!hr.parent.isBlock)return!1;const mr=fr.parentOffset===fr.parent.content.size,yr=hr.depth===0?void 0:defaultBlockAt(hr.node(-1).contentMatchAt(hr.indexAfter(-1)));let vr=mr&&yr?[{type:yr,attrs:pr}]:void 0,br=canSplit(or.doc,or.mapping.map(hr.pos),1,vr);if(!vr&&!br&&canSplit(or.doc,or.mapping.map(hr.pos),1,yr?[{type:yr}]:void 0)&&(br=!0,vr=yr?[{type:yr,attrs:pr}]:void 0),Ar){if(br&&(ur instanceof TextSelection&&or.deleteSelection(),or.split(or.mapping.map(hr.pos),1,vr),yr&&!mr&&!hr.parentOffset&&hr.parent.type!==yr)){const wr=or.mapping.map(hr.before()),Cr=or.doc.resolve(wr);hr.node(-1).canReplaceWith(Cr.index(),Cr.index()+1,yr)&&or.setNodeMarkup(or.mapping.map(hr.before()),yr)}ar&&ensureMarks(lr,cr.extensionManager.splittableMarks),or.scrollIntoView()}return br},splitListItem=(ar,or={})=>({tr:lr,state:Ar,dispatch:cr,editor:ur})=>{var dr;const hr=getNodeType(ar,Ar.schema),{$from:fr,$to:gr}=Ar.selection,pr=Ar.selection.node;if(pr&&pr.isBlock||fr.depth<2||!fr.sameParent(gr))return!1;const mr=fr.node(-1);if(mr.type!==hr)return!1;const yr=ur.extensionManager.attributes;if(fr.parent.content.size===0&&fr.node(-1).childCount===fr.indexAfter(-1)){if(fr.depth===2||fr.node(-3).type!==hr||fr.index(-2)!==fr.node(-2).childCount-1)return!1;if(cr){let Br=Fragment.empty;const Sr=fr.index(-1)?1:fr.index(-2)?2:3;for(let Lr=fr.depth-Sr;Lr>=fr.depth-3;Lr-=1)Br=Fragment.from(fr.node(Lr).copy(Br));const Er=fr.indexAfter(-1)<fr.node(-2).childCount?1:fr.indexAfter(-2)<fr.node(-3).childCount?2:3,Tr={...getSplittedAttributes(yr,fr.node().type.name,fr.node().attrs),...or},kr=((dr=hr.contentMatch.defaultType)===null||dr===void 0?void 0:dr.createAndFill(Tr))||void 0;Br=Br.append(Fragment.from(hr.createAndFill(null,kr)||void 0));const Or=fr.before(fr.depth-(Sr-1));lr.replace(Or,fr.after(-Er),new Slice(Br,4-Sr,0));let Rr=-1;lr.doc.nodesBetween(Or,lr.doc.content.size,(Lr,_r)=>{if(Rr>-1)return!1;Lr.isTextblock&&Lr.content.size===0&&(Rr=_r+1)}),Rr>-1&&lr.setSelection(TextSelection.near(lr.doc.resolve(Rr))),lr.scrollIntoView()}return!0}const vr=gr.pos===fr.end()?mr.contentMatchAt(0).defaultType:null,br={...getSplittedAttributes(yr,mr.type.name,mr.attrs),...or},wr={...getSplittedAttributes(yr,fr.node().type.name,fr.node().attrs),...or};lr.delete(fr.pos,gr.pos);const Cr=vr?[{type:hr,attrs:br},{type:vr,attrs:wr}]:[{type:hr,attrs:br}];if(!canSplit(lr.doc,fr.pos,2))return!1;if(cr){const{selection:Br,storedMarks:Sr}=Ar,{splittableMarks:Er}=ur.extensionManager,Tr=Sr||Br.$to.parentOffset&&Br.$from.marks();if(lr.split(fr.pos,2,Cr).scrollIntoView(),!Tr||!cr)return!0;const kr=Tr.filter(Or=>Er.includes(Or.type.name));lr.ensureMarks(kr)}return!0},joinListBackwards=(ar,or)=>{const lr=findParentNode(dr=>dr.type===or)(ar.selection);if(!lr)return!0;const Ar=ar.doc.resolve(Math.max(0,lr.pos-1)).before(lr.depth);if(Ar===void 0)return!0;const cr=ar.doc.nodeAt(Ar);return lr.node.type===(cr==null?void 0:cr.type)&&canJoin(ar.doc,lr.pos)&&ar.join(lr.pos),!0},joinListForwards=(ar,or)=>{const lr=findParentNode(dr=>dr.type===or)(ar.selection);if(!lr)return!0;const Ar=ar.doc.resolve(lr.start).after(lr.depth);if(Ar===void 0)return!0;const cr=ar.doc.nodeAt(Ar);return lr.node.type===(cr==null?void 0:cr.type)&&canJoin(ar.doc,Ar)&&ar.join(Ar),!0},toggleList=(ar,or,lr,Ar={})=>({editor:cr,tr:ur,state:dr,dispatch:hr,chain:fr,commands:gr,can:pr})=>{const{extensions:mr,splittableMarks:yr}=cr.extensionManager,vr=getNodeType(ar,dr.schema),br=getNodeType(or,dr.schema),{selection:wr,storedMarks:Cr}=dr,{$from:Br,$to:Sr}=wr,Er=Br.blockRange(Sr),Tr=Cr||wr.$to.parentOffset&&wr.$from.marks();if(!Er)return!1;const kr=findParentNode(Or=>isList(Or.type.name,mr))(wr);if(Er.depth>=1&&kr&&Er.depth-kr.depth<=1){if(kr.node.type===vr)return gr.liftListItem(br);if(isList(kr.node.type.name,mr)&&vr.validContent(kr.node.content)&&hr)return fr().command(()=>(ur.setNodeMarkup(kr.pos,vr),!0)).command(()=>joinListBackwards(ur,vr)).command(()=>joinListForwards(ur,vr)).run()}return!lr||!Tr||!hr?fr().command(()=>pr().wrapInList(vr,Ar)?!0:gr.clearNodes()).wrapInList(vr,Ar).command(()=>joinListBackwards(ur,vr)).command(()=>joinListForwards(ur,vr)).run():fr().command(()=>{const Or=pr().wrapInList(vr,Ar),Rr=Tr.filter(Lr=>yr.includes(Lr.type.name));return ur.ensureMarks(Rr),Or?!0:gr.clearNodes()}).wrapInList(vr,Ar).command(()=>joinListBackwards(ur,vr)).command(()=>joinListForwards(ur,vr)).run()},toggleMark=(ar,or={},lr={})=>({state:Ar,commands:cr})=>{const{extendEmptyMarkRange:ur=!1}=lr,dr=getMarkType(ar,Ar.schema);return isMarkActive(Ar,dr,or)?cr.unsetMark(dr,{extendEmptyMarkRange:ur}):cr.setMark(dr,or)},toggleNode=(ar,or,lr={})=>({state:Ar,commands:cr})=>{const ur=getNodeType(ar,Ar.schema),dr=getNodeType(or,Ar.schema),hr=isNodeActive(Ar,ur,lr);let fr;return Ar.selection.$anchor.sameParent(Ar.selection.$head)&&(fr=Ar.selection.$anchor.parent.attrs),hr?cr.setNode(dr,fr):cr.setNode(ur,{...fr,...lr})},toggleWrap=(ar,or={})=>({state:lr,commands:Ar})=>{const cr=getNodeType(ar,lr.schema);return isNodeActive(lr,cr,or)?Ar.lift(cr):Ar.wrapIn(cr,or)},undoInputRule=()=>({state:ar,dispatch:or})=>{const lr=ar.plugins;for(let Ar=0;Ar<lr.length;Ar+=1){const cr=lr[Ar];let ur;if(cr.spec.isInputRules&&(ur=cr.getState(ar))){if(or){const dr=ar.tr,hr=ur.transform;for(let fr=hr.steps.length-1;fr>=0;fr-=1)dr.step(hr.steps[fr].invert(hr.docs[fr]));if(ur.text){const fr=dr.doc.resolve(ur.from).marks();dr.replaceWith(ur.from,ur.to,ar.schema.text(ur.text,fr))}else dr.delete(ur.from,ur.to)}return!0}}return!1},unsetAllMarks=()=>({tr:ar,dispatch:or})=>{const{selection:lr}=ar,{empty:Ar,ranges:cr}=lr;return Ar||or&&cr.forEach(ur=>{ar.removeMark(ur.$from.pos,ur.$to.pos)}),!0},unsetMark=(ar,or={})=>({tr:lr,state:Ar,dispatch:cr})=>{var ur;const{extendEmptyMarkRange:dr=!1}=or,{selection:hr}=lr,fr=getMarkType(ar,Ar.schema),{$from:gr,empty:pr,ranges:mr}=hr;if(!cr)return!0;if(pr&&dr){let{from:yr,to:vr}=hr;const br=(ur=gr.marks().find(Cr=>Cr.type===fr))===null||ur===void 0?void 0:ur.attrs,wr=getMarkRange(gr,fr,br);wr&&(yr=wr.from,vr=wr.to),lr.removeMark(yr,vr,fr)}else mr.forEach(yr=>{lr.removeMark(yr.$from.pos,yr.$to.pos,fr)});return lr.removeStoredMark(fr),!0},updateAttributes=(ar,or={})=>({tr:lr,state:Ar,dispatch:cr})=>{let ur=null,dr=null;const hr=getSchemaTypeNameByName(typeof ar=="string"?ar:ar.name,Ar.schema);return hr?(hr==="node"&&(ur=getNodeType(ar,Ar.schema)),hr==="mark"&&(dr=getMarkType(ar,Ar.schema)),cr&&lr.selection.ranges.forEach(fr=>{const gr=fr.$from.pos,pr=fr.$to.pos;let mr,yr,vr,br;lr.selection.empty?Ar.doc.nodesBetween(gr,pr,(wr,Cr)=>{ur&&ur===wr.type&&(vr=Math.max(Cr,gr),br=Math.min(Cr+wr.nodeSize,pr),mr=Cr,yr=wr)}):Ar.doc.nodesBetween(gr,pr,(wr,Cr)=>{Cr<gr&&ur&&ur===wr.type&&(vr=Math.max(Cr,gr),br=Math.min(Cr+wr.nodeSize,pr),mr=Cr,yr=wr),Cr>=gr&&Cr<=pr&&(ur&&ur===wr.type&&lr.setNodeMarkup(Cr,void 0,{...wr.attrs,...or}),dr&&wr.marks.length&&wr.marks.forEach(Br=>{if(dr===Br.type){const Sr=Math.max(Cr,gr),Er=Math.min(Cr+wr.nodeSize,pr);lr.addMark(Sr,Er,dr.create({...Br.attrs,...or}))}}))}),yr&&(mr!==void 0&&lr.setNodeMarkup(mr,void 0,{...yr.attrs,...or}),dr&&yr.marks.length&&yr.marks.forEach(wr=>{dr===wr.type&&lr.addMark(vr,br,dr.create({...wr.attrs,...or}))}))}),!0):!1},wrapIn=(ar,or={})=>({state:lr,dispatch:Ar})=>{const cr=getNodeType(ar,lr.schema);return wrapIn$1(cr,or)(lr,Ar)},wrapInList=(ar,or={})=>({state:lr,dispatch:Ar})=>{const cr=getNodeType(ar,lr.schema);return wrapInList$1(cr,or)(lr,Ar)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus,forEach,insertContent,insertContentAt,joinBackward,joinDown,joinForward,joinItemBackward,joinItemForward,joinTextblockBackward,joinTextblockForward,joinUp,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(ar,or,lr,Ar)=>{this.editor.emit("drop",{editor:this.editor,event:or,slice:lr,moved:Ar})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:ar}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(or,lr)=>{ar.isFocused=!0;const Ar=ar.state.tr.setMeta("focus",{event:lr}).setMeta("addToHistory",!1);return or.dispatch(Ar),!1},blur:(or,lr)=>{ar.isFocused=!1;const Ar=ar.state.tr.setMeta("blur",{event:lr}).setMeta("addToHistory",!1);return or.dispatch(Ar),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const ar=()=>this.editor.commands.first(({commands:dr})=>[()=>dr.undoInputRule(),()=>dr.command(({tr:hr})=>{const{selection:fr,doc:gr}=hr,{empty:pr,$anchor:mr}=fr,{pos:yr,parent:vr}=mr,br=mr.parent.isTextblock&&yr>0?hr.doc.resolve(yr-1):mr,wr=br.parent.type.spec.isolating,Cr=mr.pos-mr.parentOffset,Br=wr&&br.parent.childCount===1?Cr===mr.pos:Selection.atStart(gr).from===yr;return!pr||!vr.type.isTextblock||vr.textContent.length||!Br||Br&&mr.parent.type.name==="paragraph"?!1:dr.clearNodes()}),()=>dr.deleteSelection(),()=>dr.joinBackward(),()=>dr.selectNodeBackward()]),or=()=>this.editor.commands.first(({commands:dr})=>[()=>dr.deleteSelection(),()=>dr.deleteCurrentNode(),()=>dr.joinForward(),()=>dr.selectNodeForward()]),Ar={Enter:()=>this.editor.commands.first(({commands:dr})=>[()=>dr.newlineInCode(),()=>dr.createParagraphNear(),()=>dr.liftEmptyBlock(),()=>dr.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:ar,"Mod-Backspace":ar,"Shift-Backspace":ar,Delete:or,"Mod-Delete":or,"Mod-a":()=>this.editor.commands.selectAll()},cr={...Ar},ur={...Ar,"Ctrl-h":ar,"Alt-Backspace":ar,"Ctrl-d":or,"Ctrl-Alt-Backspace":or,"Alt-Delete":or,"Alt-d":or,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?ur:cr},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(ar,or,lr)=>{if(ar.some(wr=>wr.getMeta("composition")))return;const Ar=ar.some(wr=>wr.docChanged)&&!or.doc.eq(lr.doc),cr=ar.some(wr=>wr.getMeta("preventClearDocument"));if(!Ar||cr)return;const{empty:ur,from:dr,to:hr}=or.selection,fr=Selection.atStart(or.doc).from,gr=Selection.atEnd(or.doc).to;if(ur||!(dr===fr&&hr===gr)||!isNodeEmpty(lr.doc))return;const yr=lr.tr,vr=createChainableState({state:lr,transaction:yr}),{commands:br}=new CommandManager({editor:this.editor,state:vr});if(br.clearNodes(),!!yr.steps.length)return yr}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(ar,or,lr)=>{this.editor.emit("paste",{editor:this.editor,event:or,slice:lr})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class NodePos{get name(){return this.node.type.name}constructor(or,lr,Ar=!1,cr=null){this.currentNode=null,this.actualDepth=null,this.isBlock=Ar,this.resolvedPos=or,this.editor=lr,this.currentNode=cr}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var or;return(or=this.actualDepth)!==null&&or!==void 0?or:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(or){let lr=this.from,Ar=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}lr=this.from+1,Ar=this.to-1}this.editor.commands.insertContentAt({from:lr,to:Ar},or)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const or=this.resolvedPos.start(this.resolvedPos.depth-1),lr=this.resolvedPos.doc.resolve(or);return new NodePos(lr,this.editor)}get before(){let or=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return or.depth!==this.depth&&(or=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(or,this.editor)}get after(){let or=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return or.depth!==this.depth&&(or=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(or,this.editor)}get children(){const or=[];return this.node.content.forEach((lr,Ar)=>{const cr=lr.isBlock&&!lr.isTextblock,ur=lr.isAtom&&!lr.isText,dr=this.pos+Ar+(ur?0:1),hr=this.resolvedPos.doc.resolve(dr);if(!cr&&hr.depth<=this.depth)return;const fr=new NodePos(hr,this.editor,cr,cr?lr:null);cr&&(fr.actualDepth=this.depth+1),or.push(new NodePos(hr,this.editor,cr,cr?lr:null))}),or}get firstChild(){return this.children[0]||null}get lastChild(){const or=this.children;return or[or.length-1]||null}closest(or,lr={}){let Ar=null,cr=this.parent;for(;cr&&!Ar;){if(cr.node.type.name===or)if(Object.keys(lr).length>0){const ur=cr.node.attrs,dr=Object.keys(lr);for(let hr=0;hr<dr.length;hr+=1){const fr=dr[hr];if(ur[fr]!==lr[fr])break}}else Ar=cr;cr=cr.parent}return Ar}querySelector(or,lr={}){return this.querySelectorAll(or,lr,!0)[0]||null}querySelectorAll(or,lr={},Ar=!1){let cr=[];if(!this.children||this.children.length===0)return cr;const ur=Object.keys(lr);return this.children.forEach(dr=>{Ar&&cr.length>0||(dr.node.type.name===or&&ur.every(fr=>lr[fr]===dr.node.attrs[fr])&&cr.push(dr),!(Ar&&cr.length>0)&&(cr=cr.concat(dr.querySelectorAll(or,lr,Ar))))}),cr}setAttribute(or){const{tr:lr}=this.editor.state;lr.setNodeMarkup(this.from,void 0,{...this.node.attrs,...or}),this.editor.view.dispatch(lr)}}const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(ar,or,lr){const Ar=document.querySelector("style[data-tiptap-style]");if(Ar!==null)return Ar;const cr=document.createElement("style");return or&&cr.setAttribute("nonce",or),cr.setAttribute("data-tiptap-style",""),cr.innerHTML=ar,document.getElementsByTagName("head")[0].appendChild(cr),cr}let Editor$1=class extends EventEmitter{constructor(or={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:lr})=>{throw lr},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(or),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:lr,slice:Ar,moved:cr})=>this.options.onDrop(lr,Ar,cr)),this.on("paste",({event:lr,slice:Ar})=>this.options.onPaste(lr,Ar)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(or={}){this.options={...this.options,...or},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(or,lr=!0){this.setOptions({editable:or}),lr&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(or,lr){const Ar=isFunction(lr)?lr(or,[...this.state.plugins]):[...this.state.plugins,or],cr=this.state.reconfigure({plugins:Ar});return this.view.updateState(cr),cr}unregisterPlugin(or){if(this.isDestroyed)return;const lr=this.state.plugins;let Ar=lr;if([].concat(or).forEach(ur=>{const dr=typeof ur=="string"?`${ur}$`:ur.key;Ar=Ar.filter(hr=>!hr.key.startsWith(dr))}),lr.length===Ar.length)return;const cr=this.state.reconfigure({plugins:Ar});return this.view.updateState(cr),cr}createExtensionManager(){var or,lr;const cr=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(lr=(or=this.options.coreExtensionOptions)===null||or===void 0?void 0:or.clipboardTextSerializer)===null||lr===void 0?void 0:lr.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste].filter(ur=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[ur.name]!==!1:!0):[],...this.options.extensions].filter(ur=>["extension","node","mark"].includes(ur==null?void 0:ur.type));this.extensionManager=new ExtensionManager(cr,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var or;let lr;try{lr=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(dr){if(!(dr instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(dr.message))throw dr;this.emit("contentError",{editor:this,error:dr,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(hr=>hr.name!=="collaboration"),this.createExtensionManager()}}),lr=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const Ar=resolveFocusPosition(lr,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(or=this.options.editorProps)===null||or===void 0?void 0:or.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:lr,selection:Ar||void 0})});const cr=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(cr),this.createNodeViews(),this.prependClass();const ur=this.view.dom;ur.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(or){this.isCapturingTransaction=!0,or(),this.isCapturingTransaction=!1;const lr=this.capturedTransaction;return this.capturedTransaction=null,lr}dispatchTransaction(or){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=or;return}or.steps.forEach(dr=>{var hr;return(hr=this.capturedTransaction)===null||hr===void 0?void 0:hr.step(dr)});return}const lr=this.state.apply(or),Ar=!this.state.selection.eq(lr.selection);this.emit("beforeTransaction",{editor:this,transaction:or,nextState:lr}),this.view.updateState(lr),this.emit("transaction",{editor:this,transaction:or}),Ar&&this.emit("selectionUpdate",{editor:this,transaction:or});const cr=or.getMeta("focus"),ur=or.getMeta("blur");cr&&this.emit("focus",{editor:this,event:cr.event,transaction:or}),ur&&this.emit("blur",{editor:this,event:ur.event,transaction:or}),!(!or.docChanged||or.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:or})}getAttributes(or){return getAttributes(this.state,or)}isActive(or,lr){const Ar=typeof or=="string"?or:null,cr=typeof or=="string"?lr:or;return isActive(this.state,Ar,cr)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(or){const{blockSeparator:lr=`

`,textSerializers:Ar={}}=or||{};return getText(this.state.doc,{blockSeparator:lr,textSerializers:{...getTextSerializersFromSchema(this.schema),...Ar}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const or=this.view.dom;or&&or.editor&&delete or.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var or;return!(!((or=this.view)===null||or===void 0)&&or.docView)}$node(or,lr){var Ar;return((Ar=this.$doc)===null||Ar===void 0?void 0:Ar.querySelector(or,lr))||null}$nodes(or,lr){var Ar;return((Ar=this.$doc)===null||Ar===void 0?void 0:Ar.querySelectorAll(or,lr))||null}$pos(or){const lr=this.state.doc.resolve(or);return new NodePos(lr,this)}get $doc(){return this.$pos(0)}};function markInputRule(ar){return new InputRule({find:ar.find,handler:({state:or,range:lr,match:Ar})=>{const cr=callOrReturn(ar.getAttributes,void 0,Ar);if(cr===!1||cr===null)return null;const{tr:ur}=or,dr=Ar[Ar.length-1],hr=Ar[0];if(dr){const fr=hr.search(/\S/),gr=lr.from+hr.indexOf(dr),pr=gr+dr.length;if(getMarksBetween(lr.from,lr.to,or.doc).filter(vr=>vr.mark.type.excluded.find(wr=>wr===ar.type&&wr!==vr.mark.type)).filter(vr=>vr.to>gr).length)return null;pr<lr.to&&ur.delete(pr,lr.to),gr>lr.from&&ur.delete(lr.from+fr,gr);const yr=lr.from+fr+dr.length;ur.addMark(lr.from+fr,yr,ar.type.create(cr||{})),ur.removeStoredMark(ar.type)}}})}function nodeInputRule(ar){return new InputRule({find:ar.find,handler:({state:or,range:lr,match:Ar})=>{const cr=callOrReturn(ar.getAttributes,void 0,Ar)||{},{tr:ur}=or,dr=lr.from;let hr=lr.to;const fr=ar.type.create(cr);if(Ar[1]){const gr=Ar[0].lastIndexOf(Ar[1]);let pr=dr+gr;pr>hr?pr=hr:hr=pr+Ar[1].length;const mr=Ar[0][Ar[0].length-1];ur.insertText(mr,dr+Ar[0].length-1),ur.replaceWith(pr,hr,fr)}else if(Ar[0]){const gr=ar.type.isInline?dr:dr-1;ur.insert(gr,ar.type.create(cr)).delete(ur.mapping.map(dr),ur.mapping.map(hr))}ur.scrollIntoView()}})}function textblockTypeInputRule(ar){return new InputRule({find:ar.find,handler:({state:or,range:lr,match:Ar})=>{const cr=or.doc.resolve(lr.from),ur=callOrReturn(ar.getAttributes,void 0,Ar)||{};if(!cr.node(-1).canReplaceWith(cr.index(-1),cr.indexAfter(-1),ar.type))return null;or.tr.delete(lr.from,lr.to).setBlockType(lr.from,lr.from,ar.type,ur)}})}function wrappingInputRule(ar){return new InputRule({find:ar.find,handler:({state:or,range:lr,match:Ar,chain:cr})=>{const ur=callOrReturn(ar.getAttributes,void 0,Ar)||{},dr=or.tr.delete(lr.from,lr.to),fr=dr.doc.resolve(lr.from).blockRange(),gr=fr&&findWrapping(fr,ar.type,ur);if(!gr)return null;if(dr.wrap(fr,gr),ar.keepMarks&&ar.editor){const{selection:mr,storedMarks:yr}=or,{splittableMarks:vr}=ar.editor.extensionManager,br=yr||mr.$to.parentOffset&&mr.$from.marks();if(br){const wr=br.filter(Cr=>vr.includes(Cr.type.name));dr.ensureMarks(wr)}}if(ar.keepAttributes){const mr=ar.type.name==="bulletList"||ar.type.name==="orderedList"?"listItem":"taskList";cr().updateAttributes(mr,ur).run()}const pr=dr.doc.resolve(lr.from-1).nodeBefore;pr&&pr.type===ar.type&&canJoin(dr.doc,lr.from-1)&&(!ar.joinPredicate||ar.joinPredicate(Ar,pr))&&dr.join(lr.from-1)}})}let Node$1=class Hf{constructor(or={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...or},this.name=this.config.name,or.defaultOptions&&Object.keys(or.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(or={}){return new Hf(or)}configure(or={}){const lr=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,or)});return lr.name=this.name,lr.parent=this.parent,lr}extend(or={}){const lr=new Hf(or);return lr.parent=this,this.child=lr,lr.name=or.name?or.name:lr.parent.name,or.defaultOptions&&Object.keys(or.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${lr.name}".`),lr.options=callOrReturn(getExtensionField(lr,"addOptions",{name:lr.name})),lr.storage=callOrReturn(getExtensionField(lr,"addStorage",{name:lr.name,options:lr.options})),lr}};function markPasteRule(ar){return new PasteRule({find:ar.find,handler:({state:or,range:lr,match:Ar,pasteEvent:cr})=>{const ur=callOrReturn(ar.getAttributes,void 0,Ar,cr);if(ur===!1||ur===null)return null;const{tr:dr}=or,hr=Ar[Ar.length-1],fr=Ar[0];let gr=lr.to;if(hr){const pr=fr.search(/\S/),mr=lr.from+fr.indexOf(hr),yr=mr+hr.length;if(getMarksBetween(lr.from,lr.to,or.doc).filter(br=>br.mark.type.excluded.find(Cr=>Cr===ar.type&&Cr!==br.mark.type)).filter(br=>br.to>mr).length)return null;yr<lr.to&&dr.delete(yr,lr.to),mr>lr.from&&dr.delete(lr.from+pr,mr),gr=lr.from+pr+hr.length,dr.addMark(lr.from+pr,gr,ar.type.create(ur||{})),dr.removeStoredMark(ar.type)}}})}function useDebouncedRef(ar){return customRef((or,lr)=>({get(){return or(),ar},set(Ar){ar=Ar,requestAnimationFrame(()=>{requestAnimationFrame(()=>{lr()})})}}))}class Editor extends Editor$1{constructor(or={}){return super(or),this.contentComponent=null,this.appContext=null,this.reactiveState=useDebouncedRef(this.view.state),this.reactiveExtensionStorage=useDebouncedRef(this.extensionStorage),this.on("beforeTransaction",({nextState:lr})=>{this.reactiveState.value=lr,this.reactiveExtensionStorage.value=this.extensionStorage}),markRaw(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(or,lr){const Ar=super.registerPlugin(or,lr);return this.reactiveState&&(this.reactiveState.value=Ar),Ar}unregisterPlugin(or){const lr=super.unregisterPlugin(or);return this.reactiveState&&lr&&(this.reactiveState.value=lr),lr}}const EditorContent=defineComponent({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(ar){const or=ref(),lr=getCurrentInstance();return watchEffect(()=>{const Ar=ar.editor;Ar&&Ar.options.element&&or.value&&nextTick(()=>{if(!or.value||!Ar.options.element.firstChild)return;const cr=unref(or.value);or.value.append(...Ar.options.element.childNodes),Ar.contentComponent=lr.ctx._,lr&&(Ar.appContext={...lr.appContext,provides:lr.provides}),Ar.setOptions({element:cr}),Ar.createNodeViews()})}),onBeforeUnmount(()=>{const Ar=ar.editor;Ar&&(Ar.contentComponent=null,Ar.appContext=null)}),{rootEl:or}},render(){return h$2("div",{ref:ar=>{this.rootEl=ar}})}}),inputRegex$7=/^\s*>\s$/,Blockquote=Node$1.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:ar}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setBlockquote:()=>({commands:ar})=>ar.wrapIn(this.name),toggleBlockquote:()=>({commands:ar})=>ar.toggleWrap(this.name),unsetBlockquote:()=>({commands:ar})=>ar.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$7,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:ar=>ar.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:ar=>ar.type.name===this.name},{style:"font-weight",getAttrs:ar=>/^(bold(er)?|[5-9]\d{2,})$/.test(ar)&&null}]},renderHTML({HTMLAttributes:ar}){return["strong",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setBold:()=>({commands:ar})=>ar.setMark(this.name),toggleBold:()=>({commands:ar})=>ar.toggleMark(this.name),unsetBold:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItemName$1="listItem",TextStyleName$1="textStyle",inputRegex$6=/^\s*([-+*])\s$/,BulletList=Node$1.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:ar}){return["ul",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{toggleBulletList:()=>({commands:ar,chain:or})=>this.options.keepAttributes?or().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName$1,this.editor.getAttributes(TextStyleName$1)).run():ar.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let ar=wrappingInputRule({find:inputRegex$6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(ar=wrappingInputRule({find:inputRegex$6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName$1),editor:this.editor})),[ar]}}),inputRegex$5=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex$2=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:ar}){return["code",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setCode:()=>({commands:ar})=>ar.setMark(this.name),toggleCode:()=>({commands:ar})=>ar.toggleMark(this.name),unsetCode:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$5,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$2,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node$1.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:ar=>{var or;const{languageClassPrefix:lr}=this.options,ur=[...((or=ar.firstElementChild)===null||or===void 0?void 0:or.classList)||[]].filter(dr=>dr.startsWith(lr)).map(dr=>dr.replace(lr,""))[0];return ur||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:ar,HTMLAttributes:or}){return["pre",mergeAttributes(this.options.HTMLAttributes,or),["code",{class:ar.attrs.language?this.options.languageClassPrefix+ar.attrs.language:null},0]]},addCommands(){return{setCodeBlock:ar=>({commands:or})=>or.setNode(this.name,ar),toggleCodeBlock:ar=>({commands:or})=>or.toggleNode(this.name,"paragraph",ar)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:ar,$anchor:or}=this.editor.state.selection,lr=or.pos===1;return!ar||or.parent.type.name!==this.name?!1:lr||!or.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:ar})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:or}=ar,{selection:lr}=or,{$from:Ar,empty:cr}=lr;if(!cr||Ar.parent.type!==this.type)return!1;const ur=Ar.parentOffset===Ar.parent.nodeSize-2,dr=Ar.parent.textContent.endsWith(`

`);return!ur||!dr?!1:ar.chain().command(({tr:hr})=>(hr.delete(Ar.pos-2,Ar.pos),!0)).exitCode().run()},ArrowDown:({editor:ar})=>{if(!this.options.exitOnArrowDown)return!1;const{state:or}=ar,{selection:lr,doc:Ar}=or,{$from:cr,empty:ur}=lr;if(!ur||cr.parent.type!==this.type||!(cr.parentOffset===cr.parent.nodeSize-2))return!1;const hr=cr.after();return hr===void 0?!1:Ar.nodeAt(hr)?ar.commands.command(({tr:gr})=>(gr.setSelection(Selection.near(Ar.resolve(hr))),!0)):ar.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:ar=>({language:ar[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:ar=>({language:ar[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(ar,or)=>{if(!or.clipboardData||this.editor.isActive(this.type.name))return!1;const lr=or.clipboardData.getData("text/plain"),Ar=or.clipboardData.getData("vscode-editor-data"),cr=Ar?JSON.parse(Ar):void 0,ur=cr==null?void 0:cr.mode;if(!lr||!ur)return!1;const{tr:dr,schema:hr}=ar.state,fr=hr.text(lr.replace(/\r\n?/g,`
`));return dr.replaceSelectionWith(this.type.create({language:ur},fr)),dr.selection.$from.parent.type!==this.type&&dr.setSelection(TextSelection.near(dr.doc.resolve(Math.max(0,dr.selection.from-2)))),dr.setMeta("paste",!0),ar.dispatch(dr),!0}}})]}}),Document=Node$1.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(ar={}){return new Plugin({view(or){return new DropCursorView(or,ar)}})}class DropCursorView{constructor(or,lr){var Ar;this.editorView=or,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(Ar=lr.width)!==null&&Ar!==void 0?Ar:1,this.color=lr.color===!1?void 0:lr.color||"black",this.class=lr.class,this.handlers=["dragover","dragend","drop","dragleave"].map(cr=>{let ur=dr=>{this[cr](dr)};return or.dom.addEventListener(cr,ur),{name:cr,handler:ur}})}destroy(){this.handlers.forEach(({name:or,handler:lr})=>this.editorView.dom.removeEventListener(or,lr))}update(or,lr){this.cursorPos!=null&&lr.doc!=or.state.doc&&(this.cursorPos>or.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(or){or!=this.cursorPos&&(this.cursorPos=or,or==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let or=this.editorView.state.doc.resolve(this.cursorPos),lr=!or.parent.inlineContent,Ar,cr=this.editorView.dom,ur=cr.getBoundingClientRect(),dr=ur.width/cr.offsetWidth,hr=ur.height/cr.offsetHeight;if(lr){let mr=or.nodeBefore,yr=or.nodeAfter;if(mr||yr){let vr=this.editorView.nodeDOM(this.cursorPos-(mr?mr.nodeSize:0));if(vr){let br=vr.getBoundingClientRect(),wr=mr?br.bottom:br.top;mr&&yr&&(wr=(wr+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let Cr=this.width/2*hr;Ar={left:br.left,right:br.right,top:wr-Cr,bottom:wr+Cr}}}}if(!Ar){let mr=this.editorView.coordsAtPos(this.cursorPos),yr=this.width/2*dr;Ar={left:mr.left-yr,right:mr.left+yr,top:mr.top,bottom:mr.bottom}}let fr=this.editorView.dom.offsetParent;this.element||(this.element=fr.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",lr),this.element.classList.toggle("prosemirror-dropcursor-inline",!lr);let gr,pr;if(!fr||fr==document.body&&getComputedStyle(fr).position=="static")gr=-pageXOffset,pr=-pageYOffset;else{let mr=fr.getBoundingClientRect(),yr=mr.width/fr.offsetWidth,vr=mr.height/fr.offsetHeight;gr=mr.left-fr.scrollLeft*yr,pr=mr.top-fr.scrollTop*vr}this.element.style.left=(Ar.left-gr)/dr+"px",this.element.style.top=(Ar.top-pr)/hr+"px",this.element.style.width=(Ar.right-Ar.left)/dr+"px",this.element.style.height=(Ar.bottom-Ar.top)/hr+"px"}scheduleRemoval(or){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),or)}dragover(or){if(!this.editorView.editable)return;let lr=this.editorView.posAtCoords({left:or.clientX,top:or.clientY}),Ar=lr&&lr.inside>=0&&this.editorView.state.doc.nodeAt(lr.inside),cr=Ar&&Ar.type.spec.disableDropCursor,ur=typeof cr=="function"?cr(this.editorView,lr,or):cr;if(lr&&!ur){let dr=lr.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let hr=dropPoint(this.editorView.state.doc,dr,this.editorView.dragging.slice);hr!=null&&(dr=hr)}this.setCursor(dr),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(or){this.editorView.dom.contains(or.relatedTarget)||this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(or){super(or,or)}map(or,lr){let Ar=or.resolve(lr.map(this.head));return GapCursor.valid(Ar)?new GapCursor(Ar):Selection.near(Ar)}content(){return Slice.empty}eq(or){return or instanceof GapCursor&&or.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(or,lr){if(typeof lr.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(or.resolve(lr.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(or){let lr=or.parent;if(lr.isTextblock||!closedBefore(or)||!closedAfter(or))return!1;let Ar=lr.type.spec.allowGapCursor;if(Ar!=null)return Ar;let cr=lr.contentMatchAt(or.index()).defaultType;return cr&&cr.isTextblock}static findGapCursorFrom(or,lr,Ar=!1){e:for(;;){if(!Ar&&GapCursor.valid(or))return or;let cr=or.pos,ur=null;for(let dr=or.depth;;dr--){let hr=or.node(dr);if(lr>0?or.indexAfter(dr)<hr.childCount:or.index(dr)>0){ur=hr.child(lr>0?or.indexAfter(dr):or.index(dr)-1);break}else if(dr==0)return null;cr+=lr;let fr=or.doc.resolve(cr);if(GapCursor.valid(fr))return fr}for(;;){let dr=lr>0?ur.firstChild:ur.lastChild;if(!dr){if(ur.isAtom&&!ur.isText&&!NodeSelection.isSelectable(ur)){or=or.doc.resolve(cr+ur.nodeSize*lr),Ar=!1;continue e}break}ur=dr,cr+=lr;let hr=or.doc.resolve(cr);if(GapCursor.valid(hr))return hr}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(or){this.pos=or}map(or){return new GapBookmark(or.map(this.pos))}resolve(or){let lr=or.resolve(this.pos);return GapCursor.valid(lr)?new GapCursor(lr):Selection.near(lr)}}function closedBefore(ar){for(let or=ar.depth;or>=0;or--){let lr=ar.index(or),Ar=ar.node(or);if(lr==0){if(Ar.type.spec.isolating)return!0;continue}for(let cr=Ar.child(lr-1);;cr=cr.lastChild){if(cr.childCount==0&&!cr.inlineContent||cr.isAtom||cr.type.spec.isolating)return!0;if(cr.inlineContent)return!1}}return!0}function closedAfter(ar){for(let or=ar.depth;or>=0;or--){let lr=ar.indexAfter(or),Ar=ar.node(or);if(lr==Ar.childCount){if(Ar.type.spec.isolating)return!0;continue}for(let cr=Ar.child(lr);;cr=cr.firstChild){if(cr.childCount==0&&!cr.inlineContent||cr.isAtom||cr.type.spec.isolating)return!0;if(cr.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(ar,or,lr){return or.pos==lr.pos&&GapCursor.valid(lr)?new GapCursor(lr):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(ar,or){const lr=ar=="vert"?or>0?"down":"up":or>0?"right":"left";return function(Ar,cr,ur){let dr=Ar.selection,hr=or>0?dr.$to:dr.$from,fr=dr.empty;if(dr instanceof TextSelection){if(!ur.endOfTextblock(lr)||hr.depth==0)return!1;fr=!1,hr=Ar.doc.resolve(or>0?hr.after():hr.before())}let gr=GapCursor.findGapCursorFrom(hr,or,fr);return gr?(cr&&cr(Ar.tr.setSelection(new GapCursor(gr))),!0):!1}}function handleClick(ar,or,lr){if(!ar||!ar.editable)return!1;let Ar=ar.state.doc.resolve(or);if(!GapCursor.valid(Ar))return!1;let cr=ar.posAtCoords({left:lr.clientX,top:lr.clientY});return cr&&cr.inside>-1&&NodeSelection.isSelectable(ar.state.doc.nodeAt(cr.inside))?!1:(ar.dispatch(ar.state.tr.setSelection(new GapCursor(Ar))),!0)}function beforeinput(ar,or){if(or.inputType!="insertCompositionText"||!(ar.state.selection instanceof GapCursor))return!1;let{$from:lr}=ar.state.selection,Ar=lr.parent.contentMatchAt(lr.index()).findWrapping(ar.state.schema.nodes.text);if(!Ar)return!1;let cr=Fragment.empty;for(let dr=Ar.length-1;dr>=0;dr--)cr=Fragment.from(Ar[dr].createAndFill(null,cr));let ur=ar.state.tr.replace(lr.pos,lr.pos,new Slice(cr,0,0));return ur.setSelection(TextSelection.near(ur.doc.resolve(lr.pos+1))),ar.dispatch(ur),!1}function drawGapCursor(ar){if(!(ar.selection instanceof GapCursor))return null;let or=document.createElement("div");return or.className="ProseMirror-gapcursor",DecorationSet.create(ar.doc,[Decoration.widget(ar.selection.head,or,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(ar){var or;const lr={name:ar.name,options:ar.options,storage:ar.storage};return{allowGapCursor:(or=callOrReturn(getExtensionField(ar,"allowGapCursor",lr)))!==null&&or!==void 0?or:null}}}),HardBreak=Node$1.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:ar}){return["br",mergeAttributes(this.options.HTMLAttributes,ar)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:ar,chain:or,state:lr,editor:Ar})=>ar.first([()=>ar.exitCode(),()=>ar.command(()=>{const{selection:cr,storedMarks:ur}=lr;if(cr.$from.parent.type.spec.isolating)return!1;const{keepMarks:dr}=this.options,{splittableMarks:hr}=Ar.extensionManager,fr=ur||cr.$to.parentOffset&&cr.$from.marks();return or().insertContent({type:this.name}).command(({tr:gr,dispatch:pr})=>{if(pr&&fr&&dr){const mr=fr.filter(yr=>hr.includes(yr.type.name));gr.ensureMarks(mr)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node$1.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(ar=>({tag:`h${ar}`,attrs:{level:ar}}))},renderHTML({node:ar,HTMLAttributes:or}){return[`h${this.options.levels.includes(ar.attrs.level)?ar.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,or),0]},addCommands(){return{setHeading:ar=>({commands:or})=>this.options.levels.includes(ar.level)?or.setNode(this.name,ar):!1,toggleHeading:ar=>({commands:or})=>this.options.levels.includes(ar.level)?or.toggleNode(this.name,"paragraph",ar):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((ar,or)=>({...ar,[`Mod-Alt-${or}`]:()=>this.editor.commands.toggleHeading({level:or})}),{})},addInputRules(){return this.options.levels.map(ar=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${ar}})\\s$`),type:this.type,getAttributes:{level:ar}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(or){return or.length?(or=RopeSequence.from(or),!this.length&&or||or.length<GOOD_LEAF_SIZE&&this.leafAppend(or)||this.length<GOOD_LEAF_SIZE&&or.leafPrepend(this)||this.appendInner(or)):this};RopeSequence.prototype.prepend=function(or){return or.length?RopeSequence.from(or).append(this):this};RopeSequence.prototype.appendInner=function(or){return new Append(this,or)};RopeSequence.prototype.slice=function(or,lr){return or===void 0&&(or=0),lr===void 0&&(lr=this.length),or>=lr?RopeSequence.empty:this.sliceInner(Math.max(0,or),Math.min(this.length,lr))};RopeSequence.prototype.get=function(or){if(!(or<0||or>=this.length))return this.getInner(or)};RopeSequence.prototype.forEach=function(or,lr,Ar){lr===void 0&&(lr=0),Ar===void 0&&(Ar=this.length),lr<=Ar?this.forEachInner(or,lr,Ar,0):this.forEachInvertedInner(or,lr,Ar,0)};RopeSequence.prototype.map=function(or,lr,Ar){lr===void 0&&(lr=0),Ar===void 0&&(Ar=this.length);var cr=[];return this.forEach(function(ur,dr){return cr.push(or(ur,dr))},lr,Ar),cr};RopeSequence.from=function(or){return or instanceof RopeSequence?or:or&&or.length?new Leaf(or):RopeSequence.empty};var Leaf=function(ar){function or(Ar){ar.call(this),this.values=Ar}ar&&(or.__proto__=ar),or.prototype=Object.create(ar&&ar.prototype),or.prototype.constructor=or;var lr={length:{configurable:!0},depth:{configurable:!0}};return or.prototype.flatten=function(){return this.values},or.prototype.sliceInner=function(cr,ur){return cr==0&&ur==this.length?this:new or(this.values.slice(cr,ur))},or.prototype.getInner=function(cr){return this.values[cr]},or.prototype.forEachInner=function(cr,ur,dr,hr){for(var fr=ur;fr<dr;fr++)if(cr(this.values[fr],hr+fr)===!1)return!1},or.prototype.forEachInvertedInner=function(cr,ur,dr,hr){for(var fr=ur-1;fr>=dr;fr--)if(cr(this.values[fr],hr+fr)===!1)return!1},or.prototype.leafAppend=function(cr){if(this.length+cr.length<=GOOD_LEAF_SIZE)return new or(this.values.concat(cr.flatten()))},or.prototype.leafPrepend=function(cr){if(this.length+cr.length<=GOOD_LEAF_SIZE)return new or(cr.flatten().concat(this.values))},lr.length.get=function(){return this.values.length},lr.depth.get=function(){return 0},Object.defineProperties(or.prototype,lr),or}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(ar){function or(lr,Ar){ar.call(this),this.left=lr,this.right=Ar,this.length=lr.length+Ar.length,this.depth=Math.max(lr.depth,Ar.depth)+1}return ar&&(or.__proto__=ar),or.prototype=Object.create(ar&&ar.prototype),or.prototype.constructor=or,or.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},or.prototype.getInner=function(Ar){return Ar<this.left.length?this.left.get(Ar):this.right.get(Ar-this.left.length)},or.prototype.forEachInner=function(Ar,cr,ur,dr){var hr=this.left.length;if(cr<hr&&this.left.forEachInner(Ar,cr,Math.min(ur,hr),dr)===!1||ur>hr&&this.right.forEachInner(Ar,Math.max(cr-hr,0),Math.min(this.length,ur)-hr,dr+hr)===!1)return!1},or.prototype.forEachInvertedInner=function(Ar,cr,ur,dr){var hr=this.left.length;if(cr>hr&&this.right.forEachInvertedInner(Ar,cr-hr,Math.max(ur,hr)-hr,dr+hr)===!1||ur<hr&&this.left.forEachInvertedInner(Ar,Math.min(cr,hr),ur,dr)===!1)return!1},or.prototype.sliceInner=function(Ar,cr){if(Ar==0&&cr==this.length)return this;var ur=this.left.length;return cr<=ur?this.left.slice(Ar,cr):Ar>=ur?this.right.slice(Ar-ur,cr-ur):this.left.slice(Ar,ur).append(this.right.slice(0,cr-ur))},or.prototype.leafAppend=function(Ar){var cr=this.right.leafAppend(Ar);if(cr)return new or(this.left,cr)},or.prototype.leafPrepend=function(Ar){var cr=this.left.leafPrepend(Ar);if(cr)return new or(cr,this.right)},or.prototype.appendInner=function(Ar){return this.left.depth>=Math.max(this.right.depth,Ar.depth)+1?new or(this.left,new or(this.right,Ar)):new or(this,Ar)},or}(RopeSequence);const max_empty_items=500;class Branch{constructor(or,lr){this.items=or,this.eventCount=lr}popEvent(or,lr){if(this.eventCount==0)return null;let Ar=this.items.length;for(;;Ar--)if(this.items.get(Ar-1).selection){--Ar;break}let cr,ur;lr&&(cr=this.remapping(Ar,this.items.length),ur=cr.maps.length);let dr=or.tr,hr,fr,gr=[],pr=[];return this.items.forEach((mr,yr)=>{if(!mr.step){cr||(cr=this.remapping(Ar,yr+1),ur=cr.maps.length),ur--,pr.push(mr);return}if(cr){pr.push(new Item(mr.map));let vr=mr.step.map(cr.slice(ur)),br;vr&&dr.maybeStep(vr).doc&&(br=dr.mapping.maps[dr.mapping.maps.length-1],gr.push(new Item(br,void 0,void 0,gr.length+pr.length))),ur--,br&&cr.appendMap(br,ur)}else dr.maybeStep(mr.step);if(mr.selection)return hr=cr?mr.selection.map(cr.slice(ur)):mr.selection,fr=new Branch(this.items.slice(0,Ar).append(pr.reverse().concat(gr)),this.eventCount-1),!1},this.items.length,0),{remaining:fr,transform:dr,selection:hr}}addTransform(or,lr,Ar,cr){let ur=[],dr=this.eventCount,hr=this.items,fr=!cr&&hr.length?hr.get(hr.length-1):null;for(let pr=0;pr<or.steps.length;pr++){let mr=or.steps[pr].invert(or.docs[pr]),yr=new Item(or.mapping.maps[pr],mr,lr),vr;(vr=fr&&fr.merge(yr))&&(yr=vr,pr?ur.pop():hr=hr.slice(0,hr.length-1)),ur.push(yr),lr&&(dr++,lr=void 0),cr||(fr=yr)}let gr=dr-Ar.depth;return gr>DEPTH_OVERFLOW&&(hr=cutOffEvents(hr,gr),dr-=gr),new Branch(hr.append(ur),dr)}remapping(or,lr){let Ar=new Mapping;return this.items.forEach((cr,ur)=>{let dr=cr.mirrorOffset!=null&&ur-cr.mirrorOffset>=or?Ar.maps.length-cr.mirrorOffset:void 0;Ar.appendMap(cr.map,dr)},or,lr),Ar}addMaps(or){return this.eventCount==0?this:new Branch(this.items.append(or.map(lr=>new Item(lr))),this.eventCount)}rebased(or,lr){if(!this.eventCount)return this;let Ar=[],cr=Math.max(0,this.items.length-lr),ur=or.mapping,dr=or.steps.length,hr=this.eventCount;this.items.forEach(yr=>{yr.selection&&hr--},cr);let fr=lr;this.items.forEach(yr=>{let vr=ur.getMirror(--fr);if(vr==null)return;dr=Math.min(dr,vr);let br=ur.maps[vr];if(yr.step){let wr=or.steps[vr].invert(or.docs[vr]),Cr=yr.selection&&yr.selection.map(ur.slice(fr+1,vr));Cr&&hr++,Ar.push(new Item(br,wr,Cr))}else Ar.push(new Item(br))},cr);let gr=[];for(let yr=lr;yr<dr;yr++)gr.push(new Item(ur.maps[yr]));let pr=this.items.slice(0,cr).append(gr).append(Ar),mr=new Branch(pr,hr);return mr.emptyItemCount()>max_empty_items&&(mr=mr.compress(this.items.length-Ar.length)),mr}emptyItemCount(){let or=0;return this.items.forEach(lr=>{lr.step||or++}),or}compress(or=this.items.length){let lr=this.remapping(0,or),Ar=lr.maps.length,cr=[],ur=0;return this.items.forEach((dr,hr)=>{if(hr>=or)cr.push(dr),dr.selection&&ur++;else if(dr.step){let fr=dr.step.map(lr.slice(Ar)),gr=fr&&fr.getMap();if(Ar--,gr&&lr.appendMap(gr,Ar),fr){let pr=dr.selection&&dr.selection.map(lr.slice(Ar));pr&&ur++;let mr=new Item(gr.invert(),fr,pr),yr,vr=cr.length-1;(yr=cr.length&&cr[vr].merge(mr))?cr[vr]=yr:cr.push(mr)}}else dr.map&&Ar--},this.items.length,0),new Branch(RopeSequence.from(cr.reverse()),ur)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(ar,or){let lr;return ar.forEach((Ar,cr)=>{if(Ar.selection&&or--==0)return lr=cr,!1}),ar.slice(lr)}class Item{constructor(or,lr,Ar,cr){this.map=or,this.step=lr,this.selection=Ar,this.mirrorOffset=cr}merge(or){if(this.step&&or.step&&!or.selection){let lr=or.step.merge(this.step);if(lr)return new Item(lr.getMap().invert(),lr,this.selection)}}}class HistoryState{constructor(or,lr,Ar,cr,ur){this.done=or,this.undone=lr,this.prevRanges=Ar,this.prevTime=cr,this.prevComposition=ur}}const DEPTH_OVERFLOW=20;function applyTransaction(ar,or,lr,Ar){let cr=lr.getMeta(historyKey),ur;if(cr)return cr.historyState;lr.getMeta(closeHistoryKey)&&(ar=new HistoryState(ar.done,ar.undone,null,0,-1));let dr=lr.getMeta("appendedTransaction");if(lr.steps.length==0)return ar;if(dr&&dr.getMeta(historyKey))return dr.getMeta(historyKey).redo?new HistoryState(ar.done.addTransform(lr,void 0,Ar,mustPreserveItems(or)),ar.undone,rangesFor(lr.mapping.maps),ar.prevTime,ar.prevComposition):new HistoryState(ar.done,ar.undone.addTransform(lr,void 0,Ar,mustPreserveItems(or)),null,ar.prevTime,ar.prevComposition);if(lr.getMeta("addToHistory")!==!1&&!(dr&&dr.getMeta("addToHistory")===!1)){let hr=lr.getMeta("composition"),fr=ar.prevTime==0||!dr&&ar.prevComposition!=hr&&(ar.prevTime<(lr.time||0)-Ar.newGroupDelay||!isAdjacentTo(lr,ar.prevRanges)),gr=dr?mapRanges(ar.prevRanges,lr.mapping):rangesFor(lr.mapping.maps);return new HistoryState(ar.done.addTransform(lr,fr?or.selection.getBookmark():void 0,Ar,mustPreserveItems(or)),Branch.empty,gr,lr.time,hr??ar.prevComposition)}else return(ur=lr.getMeta("rebased"))?new HistoryState(ar.done.rebased(lr,ur),ar.undone.rebased(lr,ur),mapRanges(ar.prevRanges,lr.mapping),ar.prevTime,ar.prevComposition):new HistoryState(ar.done.addMaps(lr.mapping.maps),ar.undone.addMaps(lr.mapping.maps),mapRanges(ar.prevRanges,lr.mapping),ar.prevTime,ar.prevComposition)}function isAdjacentTo(ar,or){if(!or)return!1;if(!ar.docChanged)return!0;let lr=!1;return ar.mapping.maps[0].forEach((Ar,cr)=>{for(let ur=0;ur<or.length;ur+=2)Ar<=or[ur+1]&&cr>=or[ur]&&(lr=!0)}),lr}function rangesFor(ar){let or=[];for(let lr=ar.length-1;lr>=0&&or.length==0;lr--)ar[lr].forEach((Ar,cr,ur,dr)=>or.push(ur,dr));return or}function mapRanges(ar,or){if(!ar)return null;let lr=[];for(let Ar=0;Ar<ar.length;Ar+=2){let cr=or.map(ar[Ar],1),ur=or.map(ar[Ar+1],-1);cr<=ur&&lr.push(cr,ur)}return lr}function histTransaction(ar,or,lr){let Ar=mustPreserveItems(or),cr=historyKey.get(or).spec.config,ur=(lr?ar.undone:ar.done).popEvent(or,Ar);if(!ur)return null;let dr=ur.selection.resolve(ur.transform.doc),hr=(lr?ar.done:ar.undone).addTransform(ur.transform,or.selection.getBookmark(),cr,Ar),fr=new HistoryState(lr?hr:ur.remaining,lr?ur.remaining:hr,null,0,-1);return ur.transform.setSelection(dr).setMeta(historyKey,{redo:lr,historyState:fr})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(ar){let or=ar.plugins;if(cachedPreserveItemsPlugins!=or){cachedPreserveItems=!1,cachedPreserveItemsPlugins=or;for(let lr=0;lr<or.length;lr++)if(or[lr].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history$1(ar={}){return ar={depth:ar.depth||100,newGroupDelay:ar.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(or,lr,Ar){return applyTransaction(lr,Ar,or,ar)}},config:ar,props:{handleDOMEvents:{beforeinput(or,lr){let Ar=lr.inputType,cr=Ar=="historyUndo"?undo:Ar=="historyRedo"?redo:null;return cr?(lr.preventDefault(),cr(or.state,or.dispatch)):!1}}}})}function buildCommand(ar,or){return(lr,Ar)=>{let cr=historyKey.getState(lr);if(!cr||(ar?cr.undone:cr.done).eventCount==0)return!1;if(Ar){let ur=histTransaction(cr,lr,ar);ur&&Ar(or?ur.scrollIntoView():ur)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0),History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:ar,dispatch:or})=>undo(ar,or),redo:()=>({state:ar,dispatch:or})=>redo(ar,or)}},addProseMirrorPlugins(){return[history$1(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HorizontalRule=Node$1.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:ar}){return["hr",mergeAttributes(this.options.HTMLAttributes,ar)]},addCommands(){return{setHorizontalRule:()=>({chain:ar,state:or})=>{const{selection:lr}=or,{$from:Ar,$to:cr}=lr,ur=ar();return Ar.parentOffset===0?ur.insertContentAt({from:Math.max(Ar.pos-1,0),to:cr.pos},{type:this.name}):isNodeSelection(lr)?ur.insertContentAt(cr.pos,{type:this.name}):ur.insertContent({type:this.name}),ur.command(({tr:dr,dispatch:hr})=>{var fr;if(hr){const{$to:gr}=dr.selection,pr=gr.end();if(gr.nodeAfter)gr.nodeAfter.isTextblock?dr.setSelection(TextSelection.create(dr.doc,gr.pos+1)):gr.nodeAfter.isBlock?dr.setSelection(NodeSelection.create(dr.doc,gr.pos)):dr.setSelection(TextSelection.create(dr.doc,gr.pos));else{const mr=(fr=gr.parent.type.contentMatch.defaultType)===null||fr===void 0?void 0:fr.create();mr&&(dr.insert(pr,mr),dr.setSelection(TextSelection.create(dr.doc,pr+1)))}dr.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:ar=>ar.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:ar=>ar.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:ar}){return["em",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setItalic:()=>({commands:ar})=>ar.setMark(this.name),toggleItalic:()=>({commands:ar})=>ar.toggleMark(this.name),unsetItalic:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem=Node$1.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:ar}){return["li",mergeAttributes(this.options.HTMLAttributes,ar),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItemName="listItem",TextStyleName="textStyle",inputRegex$4=/^(\d+)\.\s$/,OrderedList=Node$1.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:ar=>ar.hasAttribute("start")?parseInt(ar.getAttribute("start")||"",10):1},type:{default:null,parseHTML:ar=>ar.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:ar}){const{start:or,...lr}=ar;return or===1?["ol",mergeAttributes(this.options.HTMLAttributes,lr),0]:["ol",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{toggleOrderedList:()=>({commands:ar,chain:or})=>this.options.keepAttributes?or().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():ar.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let ar=wrappingInputRule({find:inputRegex$4,type:this.type,getAttributes:or=>({start:+or[1]}),joinPredicate:(or,lr)=>lr.childCount+lr.attrs.start===+or[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(ar=wrappingInputRule({find:inputRegex$4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:or=>({start:+or[1],...this.editor.getAttributes(TextStyleName)}),joinPredicate:(or,lr)=>lr.childCount+lr.attrs.start===+or[1],editor:this.editor})),[ar]}}),Paragraph=Node$1.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:ar}){return["p",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setParagraph:()=>({commands:ar})=>ar.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$3=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:ar=>ar.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:ar}){return["s",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setStrike:()=>({commands:ar})=>ar.setMark(this.name),toggleStrike:()=>({commands:ar})=>ar.toggleMark(this.name),unsetStrike:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$3,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),Text$1=Node$1.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){const ar=[];return this.options.bold!==!1&&ar.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&ar.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&ar.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&ar.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&ar.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&ar.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&ar.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&ar.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&ar.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&ar.push(Heading.configure(this.options.heading)),this.options.history!==!1&&ar.push(History.configure(this.options.history)),this.options.horizontalRule!==!1&&ar.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&ar.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&ar.push(ListItem.configure(this.options.listItem)),this.options.orderedList!==!1&&ar.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&ar.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&ar.push(Strike.configure(this.options.strike)),this.options.text!==!1&&ar.push(Text$1.configure(this.options.text)),ar}}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:ar=>ar.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:ar}){return["u",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setUnderline:()=>({commands:ar})=>ar.setMark(this.name),toggleUnderline:()=>({commands:ar})=>ar.toggleMark(this.name),unsetUnderline:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Subscript=Mark.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(ar){return ar!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:ar}){return["sub",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setSubscript:()=>({commands:ar})=>ar.setMark(this.name),toggleSubscript:()=>({commands:ar})=>ar.toggleMark(this.name),unsetSubscript:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Superscript=Mark.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(ar){return ar!=="super"?!1:null}}]},renderHTML({HTMLAttributes:ar}){return["sup",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setSuperscript:()=>({commands:ar})=>ar.setMark(this.name),toggleSuperscript:()=>({commands:ar})=>ar.toggleMark(this.name),unsetSuperscript:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),TextAlign=Extension.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:ar=>{const or=ar.style.textAlign;return this.options.alignments.includes(or)?or:this.options.defaultAlignment},renderHTML:ar=>ar.textAlign?{style:`text-align: ${ar.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:ar=>({commands:or})=>this.options.alignments.includes(ar)?this.options.types.map(lr=>or.updateAttributes(lr,{textAlign:ar})).every(lr=>lr):!1,unsetTextAlign:()=>({commands:ar})=>this.options.types.map(or=>ar.resetAttributes(or,"textAlign")).every(or=>or),toggleTextAlign:ar=>({editor:or,commands:lr})=>this.options.alignments.includes(ar)?or.isActive({textAlign:ar})?lr.unsetTextAlign():lr.setTextAlign(ar):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),mergeNestedSpanStyles=ar=>{if(!ar.children.length)return;const or=ar.querySelectorAll("span");or&&or.forEach(lr=>{var Ar,cr;const ur=lr.getAttribute("style"),dr=(cr=(Ar=lr.parentElement)===null||Ar===void 0?void 0:Ar.closest("span"))===null||cr===void 0?void 0:cr.getAttribute("style");lr.setAttribute("style",`${dr};${ur}`)})},TextStyle=Mark.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:ar=>ar.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&mergeNestedSpanStyles(ar),{}):!1}]},renderHTML({HTMLAttributes:ar}){return["span",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:ar})=>{const{selection:or}=ar;return ar.doc.nodesBetween(or.from,or.to,(lr,Ar)=>{if(lr.isTextblock)return!0;lr.marks.filter(cr=>cr.type===this.type).some(cr=>Object.values(cr.attrs).some(ur=>!!ur))||ar.removeMark(Ar,Ar+lr.nodeSize,this.type)}),!0}}}}),FontFamily=Extension.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:ar=>ar.style.fontFamily,renderHTML:ar=>ar.fontFamily?{style:`font-family: ${ar.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:ar=>({chain:or})=>or().setMark("textStyle",{fontFamily:ar}).run(),unsetFontFamily:()=>({chain:ar})=>ar().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),inputRegex$2=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image$1=Node$1.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:ar}){return["img",mergeAttributes(this.options.HTMLAttributes,ar)]},addCommands(){return{setImage:ar=>({commands:or})=>or.insertContent({type:this.name,attrs:ar})}},addInputRules(){return[nodeInputRule({find:inputRegex$2,type:this.type,getAttributes:ar=>{const[,,or,lr,Ar]=ar;return{src:lr,alt:or,title:Ar}}})]}}),encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",assign=(ar,or)=>{for(const lr in or)ar[lr]=or[lr];return ar},numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(ar,or){return ar in or||(or[ar]=[]),or[ar]}function addToGroups(ar,or,lr){or[numeric]&&(or[asciinumeric]=!0,or[alphanumeric]=!0),or[ascii]&&(or[asciinumeric]=!0,or[alpha]=!0),or[asciinumeric]&&(or[alphanumeric]=!0),or[alpha]&&(or[alphanumeric]=!0),or[alphanumeric]&&(or[domain]=!0),or[emoji]&&(or[domain]=!0);for(const Ar in or){const cr=registerGroup(Ar,lr);cr.indexOf(ar)<0&&cr.push(ar)}}function flagsForToken(ar,or){const lr={};for(const Ar in or)or[Ar].indexOf(ar)>=0&&(lr[Ar]=!0);return lr}function State(ar=null){this.j={},this.jr=[],this.jd=null,this.t=ar}State.groups={};State.prototype={accepts(){return!!this.t},go(ar){const or=this,lr=or.j[ar];if(lr)return lr;for(let Ar=0;Ar<or.jr.length;Ar++){const cr=or.jr[Ar][0],ur=or.jr[Ar][1];if(ur&&cr.test(ar))return ur}return or.jd},has(ar,or=!1){return or?ar in this.j:!!this.go(ar)},ta(ar,or,lr,Ar){for(let cr=0;cr<ar.length;cr++)this.tt(ar[cr],or,lr,Ar)},tr(ar,or,lr,Ar){Ar=Ar||State.groups;let cr;return or&&or.j?cr=or:(cr=new State(or),lr&&Ar&&addToGroups(or,lr,Ar)),this.jr.push([ar,cr]),cr},ts(ar,or,lr,Ar){let cr=this;const ur=ar.length;if(!ur)return cr;for(let dr=0;dr<ur-1;dr++)cr=cr.tt(ar[dr]);return cr.tt(ar[ur-1],or,lr,Ar)},tt(ar,or,lr,Ar){Ar=Ar||State.groups;const cr=this;if(or&&or.j)return cr.j[ar]=or,or;const ur=or;let dr,hr=cr.go(ar);if(hr?(dr=new State,assign(dr.j,hr.j),dr.jr.push.apply(dr.jr,hr.jr),dr.jd=hr.jd,dr.t=hr.t):dr=new State,ur){if(Ar)if(dr.t&&typeof dr.t=="string"){const fr=assign(flagsForToken(dr.t,Ar),lr);addToGroups(ur,fr,Ar)}else lr&&addToGroups(ur,lr,Ar);dr.t=ur}return cr.j[ar]=dr,dr}};const ta=(ar,or,lr,Ar,cr)=>ar.ta(or,lr,Ar,cr),tr=(ar,or,lr,Ar,cr)=>ar.tr(or,lr,Ar,cr),ts=(ar,or,lr,Ar,cr)=>ar.ts(or,lr,Ar,cr),tt$1=(ar,or,lr,Ar,cr)=>ar.tt(or,lr,Ar,cr),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=new RegExp("\\p{L}","u"),EMOJI=new RegExp("\\p{Emoji}","u"),DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(ar=[]){const or={};State.groups=or;const lr=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt$1(lr,"'",APOSTROPHE),tt$1(lr,"{",OPENBRACE),tt$1(lr,"}",CLOSEBRACE),tt$1(lr,"[",OPENBRACKET),tt$1(lr,"]",CLOSEBRACKET),tt$1(lr,"(",OPENPAREN),tt$1(lr,")",CLOSEPAREN),tt$1(lr,"<",OPENANGLEBRACKET),tt$1(lr,">",CLOSEANGLEBRACKET),tt$1(lr,"",FULLWIDTHLEFTPAREN),tt$1(lr,"",FULLWIDTHRIGHTPAREN),tt$1(lr,"",LEFTCORNERBRACKET),tt$1(lr,"",RIGHTCORNERBRACKET),tt$1(lr,"",LEFTWHITECORNERBRACKET),tt$1(lr,"",RIGHTWHITECORNERBRACKET),tt$1(lr,"",FULLWIDTHLESSTHAN),tt$1(lr,"",FULLWIDTHGREATERTHAN),tt$1(lr,"&",AMPERSAND),tt$1(lr,"*",ASTERISK),tt$1(lr,"@",AT),tt$1(lr,"`",BACKTICK),tt$1(lr,"^",CARET),tt$1(lr,":",COLON),tt$1(lr,",",COMMA),tt$1(lr,"$",DOLLAR),tt$1(lr,".",DOT),tt$1(lr,"=",EQUALS),tt$1(lr,"!",EXCLAMATION),tt$1(lr,"-",HYPHEN),tt$1(lr,"%",PERCENT),tt$1(lr,"|",PIPE),tt$1(lr,"+",PLUS),tt$1(lr,"#",POUND),tt$1(lr,"?",QUERY),tt$1(lr,'"',QUOTE),tt$1(lr,"/",SLASH),tt$1(lr,";",SEMI),tt$1(lr,"~",TILDE),tt$1(lr,"_",UNDERSCORE),tt$1(lr,"\\",BACKSLASH),tt$1(lr,"",FULLWIDTHMIDDLEDOT);const Ar=tr(lr,DIGIT,NUM,{[numeric]:!0});tr(Ar,DIGIT,Ar);const cr=tr(Ar,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),ur=tr(Ar,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),dr=tr(lr,ASCII_LETTER,WORD,{[ascii]:!0});tr(dr,DIGIT,cr),tr(dr,ASCII_LETTER,dr),tr(cr,DIGIT,cr),tr(cr,ASCII_LETTER,cr);const hr=tr(lr,LETTER,UWORD,{[alpha]:!0});tr(hr,ASCII_LETTER),tr(hr,DIGIT,ur),tr(hr,LETTER,hr),tr(ur,DIGIT,ur),tr(ur,ASCII_LETTER),tr(ur,LETTER,ur);const fr=tt$1(lr,LF,NL,{[whitespace]:!0}),gr=tt$1(lr,CR,WS,{[whitespace]:!0}),pr=tr(lr,SPACE,WS,{[whitespace]:!0});tt$1(lr,OBJECT_REPLACEMENT,pr),tt$1(gr,LF,fr),tt$1(gr,OBJECT_REPLACEMENT,pr),tr(gr,SPACE,pr),tt$1(pr,CR),tt$1(pr,LF),tr(pr,SPACE,pr),tt$1(pr,OBJECT_REPLACEMENT,pr);const mr=tr(lr,EMOJI,EMOJI$1,{[emoji]:!0});tt$1(mr,"#"),tr(mr,EMOJI,mr),tt$1(mr,EMOJI_VARIATION,mr);const yr=tt$1(mr,EMOJI_JOINER);tt$1(yr,"#"),tr(yr,EMOJI,mr);const vr=[[ASCII_LETTER,dr],[DIGIT,cr]],br=[[ASCII_LETTER,null],[LETTER,hr],[DIGIT,ur]];for(let wr=0;wr<tlds.length;wr++)fastts(lr,tlds[wr],TLD,WORD,vr);for(let wr=0;wr<utlds.length;wr++)fastts(lr,utlds[wr],UTLD,UWORD,br);addToGroups(TLD,{tld:!0,ascii:!0},or),addToGroups(UTLD,{utld:!0,alpha:!0},or),fastts(lr,"file",SCHEME,WORD,vr),fastts(lr,"mailto",SCHEME,WORD,vr),fastts(lr,"http",SLASH_SCHEME,WORD,vr),fastts(lr,"https",SLASH_SCHEME,WORD,vr),fastts(lr,"ftp",SLASH_SCHEME,WORD,vr),fastts(lr,"ftps",SLASH_SCHEME,WORD,vr),addToGroups(SCHEME,{scheme:!0,ascii:!0},or),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},or),ar=ar.sort((wr,Cr)=>wr[0]>Cr[0]?1:-1);for(let wr=0;wr<ar.length;wr++){const Cr=ar[wr][0],Sr=ar[wr][1]?{[scheme]:!0}:{[slashscheme]:!0};Cr.indexOf("-")>=0?Sr[domain]=!0:ASCII_LETTER.test(Cr)?DIGIT.test(Cr)?Sr[asciinumeric]=!0:Sr[ascii]=!0:Sr[numeric]=!0,ts(lr,Cr,Cr,Sr)}return ts(lr,"localhost",LOCALHOST,{ascii:!0}),lr.jd=new State(SYM),{start:lr,tokens:assign({groups:or},tk)}}function run$1(ar,or){const lr=stringToArray(or.replace(/[A-Z]/g,hr=>hr.toLowerCase())),Ar=lr.length,cr=[];let ur=0,dr=0;for(;dr<Ar;){let hr=ar,fr=null,gr=0,pr=null,mr=-1,yr=-1;for(;dr<Ar&&(fr=hr.go(lr[dr]));)hr=fr,hr.accepts()?(mr=0,yr=0,pr=hr):mr>=0&&(mr+=lr[dr].length,yr++),gr+=lr[dr].length,ur+=lr[dr].length,dr++;ur-=mr,dr-=yr,gr-=mr,cr.push({t:pr.t,v:or.slice(ur-gr,ur),s:ur-gr,e:ur})}return cr}function stringToArray(ar){const or=[],lr=ar.length;let Ar=0;for(;Ar<lr;){let cr=ar.charCodeAt(Ar),ur,dr=cr<55296||cr>56319||Ar+1===lr||(ur=ar.charCodeAt(Ar+1))<56320||ur>57343?ar[Ar]:ar.slice(Ar,Ar+2);or.push(dr),Ar+=dr.length}return or}function fastts(ar,or,lr,Ar,cr){let ur;const dr=or.length;for(let hr=0;hr<dr-1;hr++){const fr=or[hr];ar.j[fr]?ur=ar.j[fr]:(ur=new State(Ar),ur.jr=cr.slice(),ar.j[fr]=ur),ar=ur}return ur=new State(lr),ur.jr=cr.slice(),ar.j[or[dr-1]]=ur,ur}function decodeTlds(ar){const or=[],lr=[];let Ar=0,cr="0123456789";for(;Ar<ar.length;){let ur=0;for(;cr.indexOf(ar[Ar+ur])>=0;)ur++;if(ur>0){or.push(lr.join(""));for(let dr=parseInt(ar.substring(Ar,Ar+ur),10);dr>0;dr--)lr.pop();Ar+=ur}else lr.push(ar[Ar]),Ar++}return or}const defaults$1={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(ar,or=null){let lr=assign({},defaults$1);ar&&(lr=assign(lr,ar instanceof Options?ar.o:ar));const Ar=lr.ignoreTags,cr=[];for(let ur=0;ur<Ar.length;ur++)cr.push(Ar[ur].toUpperCase());this.o=lr,or&&(this.defaultRender=or),this.ignoreTags=cr}Options.prototype={o:defaults$1,ignoreTags:[],defaultRender(ar){return ar},check(ar){return this.get("validate",ar.toString(),ar)},get(ar,or,lr){const Ar=or!=null;let cr=this.o[ar];return cr&&(typeof cr=="object"?(cr=lr.t in cr?cr[lr.t]:defaults$1[ar],typeof cr=="function"&&Ar&&(cr=cr(or,lr))):typeof cr=="function"&&Ar&&(cr=cr(or,lr.t,lr)),cr)},getObj(ar,or,lr){let Ar=this.o[ar];return typeof Ar=="function"&&or!=null&&(Ar=Ar(or,lr.t,lr)),Ar},render(ar){const or=ar.render(this);return(this.get("render",null,ar)||this.defaultRender)(or,ar.t,ar)}};function noop(ar){return ar}function MultiToken(ar,or){this.t="token",this.v=ar,this.tk=or}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(ar){return this.toString()},toFormattedString(ar){const or=this.toString(),lr=ar.get("truncate",or,this),Ar=ar.get("format",or,this);return lr&&Ar.length>lr?Ar.substring(0,lr)+"":Ar},toFormattedHref(ar){return ar.get("formatHref",this.toHref(ar.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(ar=defaults$1.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(ar),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(ar){return{type:this.t,value:this.toFormattedString(ar),isLink:this.isLink,href:this.toFormattedHref(ar),start:this.startIndex(),end:this.endIndex()}},validate(ar){return ar.get("validate",this.toString(),this)},render(ar){const or=this,lr=this.toHref(ar.get("defaultProtocol")),Ar=ar.get("formatHref",lr,this),cr=ar.get("tagName",lr,or),ur=this.toFormattedString(ar),dr={},hr=ar.get("className",lr,or),fr=ar.get("target",lr,or),gr=ar.get("rel",lr,or),pr=ar.getObj("attributes",lr,or),mr=ar.getObj("events",lr,or);return dr.href=Ar,hr&&(dr.class=hr),fr&&(dr.target=fr),gr&&(dr.rel=gr),pr&&assign(dr,pr),{tagName:cr,attributes:dr,content:ur,eventListeners:mr}}};function createTokenClass(ar,or){class lr extends MultiToken{constructor(cr,ur){super(cr,ur),this.t=ar}}for(const Ar in or)lr.prototype[Ar]=or[Ar];return lr.t=ar,lr}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(ar=defaults$1.defaultProtocol){return this.hasProtocol()?this.v:`${ar}://${this.v}`},hasProtocol(){const ar=this.tk;return ar.length>=2&&ar[0].t!==LOCALHOST&&ar[1].t===COLON}}),makeState=ar=>new State(ar);function init$1({groups:ar}){const or=ar.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),lr=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],Ar=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],cr=makeState(),ur=tt$1(cr,TILDE);ta(ur,Ar,ur),ta(ur,ar.domain,ur);const dr=makeState(),hr=makeState(),fr=makeState();ta(cr,ar.domain,dr),ta(cr,ar.scheme,hr),ta(cr,ar.slashscheme,fr),ta(dr,Ar,ur),ta(dr,ar.domain,dr);const gr=tt$1(dr,AT);tt$1(ur,AT,gr),tt$1(hr,AT,gr),tt$1(fr,AT,gr);const pr=tt$1(ur,DOT);ta(pr,Ar,ur),ta(pr,ar.domain,ur);const mr=makeState();ta(gr,ar.domain,mr),ta(mr,ar.domain,mr);const yr=tt$1(mr,DOT);ta(yr,ar.domain,mr);const vr=makeState(Email);ta(yr,ar.tld,vr),ta(yr,ar.utld,vr),tt$1(gr,LOCALHOST,vr);const br=tt$1(mr,HYPHEN);tt$1(br,HYPHEN,br),ta(br,ar.domain,mr),ta(vr,ar.domain,mr),tt$1(vr,DOT,yr),tt$1(vr,HYPHEN,br);const wr=tt$1(vr,COLON);ta(wr,ar.numeric,Email);const Cr=tt$1(dr,HYPHEN),Br=tt$1(dr,DOT);tt$1(Cr,HYPHEN,Cr),ta(Cr,ar.domain,dr),ta(Br,Ar,ur),ta(Br,ar.domain,dr);const Sr=makeState(Url);ta(Br,ar.tld,Sr),ta(Br,ar.utld,Sr),ta(Sr,ar.domain,dr),ta(Sr,Ar,ur),tt$1(Sr,DOT,Br),tt$1(Sr,HYPHEN,Cr),tt$1(Sr,AT,gr);const Er=tt$1(Sr,COLON),Tr=makeState(Url);ta(Er,ar.numeric,Tr);const kr=makeState(Url),Or=makeState();ta(kr,or,kr),ta(kr,lr,Or),ta(Or,or,kr),ta(Or,lr,Or),tt$1(Sr,SLASH,kr),tt$1(Tr,SLASH,kr);const Rr=tt$1(hr,COLON),Lr=tt$1(fr,COLON),_r=tt$1(Lr,SLASH),Hr=tt$1(_r,SLASH);ta(hr,ar.domain,dr),tt$1(hr,DOT,Br),tt$1(hr,HYPHEN,Cr),ta(fr,ar.domain,dr),tt$1(fr,DOT,Br),tt$1(fr,HYPHEN,Cr),ta(Rr,ar.domain,kr),tt$1(Rr,SLASH,kr),tt$1(Rr,QUERY,kr),ta(Hr,ar.domain,kr),ta(Hr,or,kr),tt$1(Hr,SLASH,kr);const Mr=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let Ur=0;Ur<Mr.length;Ur++){const[Kr,Xr]=Mr[Ur],Yr=tt$1(kr,Kr);tt$1(Or,Kr,Yr),tt$1(Yr,Xr,kr);const Zr=makeState(Url);ta(Yr,or,Zr);const ns=makeState();ta(Yr,lr),ta(Zr,or,Zr),ta(Zr,lr,ns),ta(ns,or,Zr),ta(ns,lr,ns),tt$1(Zr,Xr,kr),tt$1(ns,Xr,kr)}return tt$1(cr,LOCALHOST,Sr),tt$1(cr,NL,Nl),{start:cr,tokens:tk}}function run(ar,or,lr){let Ar=lr.length,cr=0,ur=[],dr=[];for(;cr<Ar;){let hr=ar,fr=null,gr=null,pr=0,mr=null,yr=-1;for(;cr<Ar&&!(fr=hr.go(lr[cr].t));)dr.push(lr[cr++]);for(;cr<Ar&&(gr=fr||hr.go(lr[cr].t));)fr=null,hr=gr,hr.accepts()?(yr=0,mr=hr):yr>=0&&yr++,cr++,pr++;if(yr<0)cr-=pr,cr<Ar&&(dr.push(lr[cr]),cr++);else{dr.length>0&&(ur.push(initMultiToken(Text,or,dr)),dr=[]),cr-=yr,pr-=yr;const vr=mr.t,br=lr.slice(cr-pr,cr);ur.push(initMultiToken(vr,or,br))}}return dr.length>0&&ur.push(initMultiToken(Text,or,dr)),ur}function initMultiToken(ar,or,lr){const Ar=lr[0].s,cr=lr[lr.length-1].e,ur=or.slice(Ar,cr);return new ar(ur,lr)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(ar,or=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${ar}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(ar))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([ar,or])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let ar=0;ar<INIT.tokenQueue.length;ar++)INIT.tokenQueue[ar][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let ar=0;ar<INIT.pluginQueue.length;ar++)INIT.pluginQueue[ar][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(ar){return INIT.initialized||init(),run(INIT.parser.start,ar,run$1(INIT.scanner.start,ar))}tokenize.scan=run$1;function find$1(ar,or=null,lr=null){if(or&&typeof or=="object"){if(lr)throw Error(`linkifyjs: Invalid link type ${or}; must be a string`);lr=or,or=null}const Ar=new Options(lr),cr=tokenize(ar),ur=[];for(let dr=0;dr<cr.length;dr++){const hr=cr[dr];hr.isLink&&(!or||hr.t===or)&&Ar.check(hr)&&ur.push(hr.toFormattedObject(Ar))}return ur}function isValidLinkStructure(ar){return ar.length===1?ar[0].isLink:ar.length===3&&ar[1].isLink?["()","[]"].includes(ar[0].value+ar[2].value):!1}function autolink(ar){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(or,lr,Ar)=>{const cr=or.some(gr=>gr.docChanged)&&!lr.doc.eq(Ar.doc),ur=or.some(gr=>gr.getMeta("preventAutolink"));if(!cr||ur)return;const{tr:dr}=Ar,hr=combineTransactionSteps(lr.doc,[...or]);if(getChangedRanges(hr).forEach(({newRange:gr})=>{const pr=findChildrenInRange(Ar.doc,gr,vr=>vr.isTextblock);let mr,yr;if(pr.length>1?(mr=pr[0],yr=Ar.doc.textBetween(mr.pos,mr.pos+mr.node.nodeSize,void 0," ")):pr.length&&Ar.doc.textBetween(gr.from,gr.to," "," ").endsWith(" ")&&(mr=pr[0],yr=Ar.doc.textBetween(mr.pos,gr.to,void 0," ")),mr&&yr){const vr=yr.split(" ").filter(Br=>Br!=="");if(vr.length<=0)return!1;const br=vr[vr.length-1],wr=mr.pos+yr.lastIndexOf(br);if(!br)return!1;const Cr=tokenize(br).map(Br=>Br.toObject(ar.defaultProtocol));if(!isValidLinkStructure(Cr))return!1;Cr.filter(Br=>Br.isLink).map(Br=>({...Br,from:wr+Br.start+1,to:wr+Br.end+1})).filter(Br=>Ar.schema.marks.code?!Ar.doc.rangeHasMark(Br.from,Br.to,Ar.schema.marks.code):!0).filter(Br=>ar.validate(Br.value)).filter(Br=>ar.shouldAutoLink(Br.value)).forEach(Br=>{getMarksBetween(Br.from,Br.to,Ar.doc).some(Sr=>Sr.mark.type===ar.type)||dr.addMark(Br.from,Br.to,ar.type.create({href:Br.href}))})}}),!!dr.steps.length)return dr}})}function clickHandler(ar){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(or,lr,Ar)=>{var cr,ur;if(Ar.button!==0||!or.editable)return!1;let dr=Ar.target;const hr=[];for(;dr.nodeName!=="DIV";)hr.push(dr),dr=dr.parentNode;if(!hr.find(yr=>yr.nodeName==="A"))return!1;const fr=getAttributes(or.state,ar.type.name),gr=Ar.target,pr=(cr=gr==null?void 0:gr.href)!==null&&cr!==void 0?cr:fr.href,mr=(ur=gr==null?void 0:gr.target)!==null&&ur!==void 0?ur:fr.target;return gr&&pr?(window.open(pr,mr),!0):!1}}})}function pasteHandler(ar){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(or,lr,Ar)=>{const{state:cr}=or,{selection:ur}=cr,{empty:dr}=ur;if(dr)return!1;let hr="";Ar.content.forEach(gr=>{hr+=gr.textContent});const fr=find$1(hr,{defaultProtocol:ar.defaultProtocol}).find(gr=>gr.isLink&&gr.value===hr);return!hr||!fr?!1:ar.editor.commands.setMark(ar.type,{href:fr.href})}}})}const ATTR_WHITESPACE=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function isAllowedUri(ar,or){const lr=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return or&&or.forEach(Ar=>{const cr=typeof Ar=="string"?Ar:Ar.scheme;cr&&lr.push(cr)}),!ar||ar.replace(ATTR_WHITESPACE,"").match(new RegExp(`^(?:(?:${lr.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(ar=>{if(typeof ar=="string"){registerCustomProtocol(ar);return}registerCustomProtocol(ar.scheme,ar.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(ar,or)=>!!isAllowedUri(ar,or.protocols),validate:ar=>!!ar,shouldAutoLink:ar=>!!ar}},addAttributes(){return{href:{default:null,parseHTML(ar){return ar.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:ar=>{const or=ar.getAttribute("href");return!or||!this.options.isAllowedUri(or,{defaultValidate:lr=>!!isAllowedUri(lr,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:ar}){return this.options.isAllowedUri(ar.href,{defaultValidate:or=>!!isAllowedUri(or,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,ar),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...ar,href:""}),0]},addCommands(){return{setLink:ar=>({chain:or})=>{const{href:lr}=ar;return this.options.isAllowedUri(lr,{defaultValidate:Ar=>!!isAllowedUri(Ar,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?or().setMark(this.name,ar).setMeta("preventAutolink",!0).run():!1},toggleLink:ar=>({chain:or})=>{const{href:lr}=ar;return this.options.isAllowedUri(lr,{defaultValidate:Ar=>!!isAllowedUri(Ar,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?or().toggleMark(this.name,ar,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:ar})=>ar().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:ar=>{const or=[];if(ar){const{protocols:lr,defaultProtocol:Ar}=this.options,cr=find$1(ar).filter(ur=>ur.isLink&&this.options.isAllowedUri(ur.value,{defaultValidate:dr=>!!isAllowedUri(dr,lr),protocols:lr,defaultProtocol:Ar}));cr.length&&cr.forEach(ur=>or.push({text:ur.value,data:{href:ur.href},index:ur.start}))}return or},type:this.type,getAttributes:ar=>{var or;return{href:(or=ar.data)===null||or===void 0?void 0:or.href}}})]},addProseMirrorPlugins(){const ar=[],{protocols:or,defaultProtocol:lr}=this.options;return this.options.autolink&&ar.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:Ar=>this.options.isAllowedUri(Ar,{defaultValidate:cr=>!!isAllowedUri(cr,or),protocols:or,defaultProtocol:lr}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&ar.push(clickHandler({type:this.type})),this.options.linkOnPaste&&ar.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),ar}}),TaskList=Node$1.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:ar}){return["ul",mergeAttributes(this.options.HTMLAttributes,ar,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:ar})=>ar.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),inputRegex$1=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node$1.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:ar=>{const or=ar.getAttribute("data-checked");return or===""||or==="true"},renderHTML:ar=>({"data-checked":ar.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:ar,HTMLAttributes:or}){return["li",mergeAttributes(this.options.HTMLAttributes,or,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:ar.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const ar={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...ar,Tab:()=>this.editor.commands.sinkListItem(this.name)}:ar},addNodeView(){return({node:ar,HTMLAttributes:or,getPos:lr,editor:Ar})=>{const cr=document.createElement("li"),ur=document.createElement("label"),dr=document.createElement("span"),hr=document.createElement("input"),fr=document.createElement("div");return ur.contentEditable="false",hr.type="checkbox",hr.addEventListener("mousedown",gr=>gr.preventDefault()),hr.addEventListener("change",gr=>{if(!Ar.isEditable&&!this.options.onReadOnlyChecked){hr.checked=!hr.checked;return}const{checked:pr}=gr.target;Ar.isEditable&&typeof lr=="function"&&Ar.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:mr})=>{const yr=lr();if(typeof yr!="number")return!1;const vr=mr.doc.nodeAt(yr);return mr.setNodeMarkup(yr,void 0,{...vr==null?void 0:vr.attrs,checked:pr}),!0}).run(),!Ar.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(ar,pr)||(hr.checked=!hr.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([gr,pr])=>{cr.setAttribute(gr,pr)}),cr.dataset.checked=ar.attrs.checked,hr.checked=ar.attrs.checked,ur.append(hr,dr),cr.append(ur,fr),Object.entries(or).forEach(([gr,pr])=>{cr.setAttribute(gr,pr)}),{dom:cr,contentDOM:fr,update:gr=>gr.type!==this.type?!1:(cr.dataset.checked=gr.attrs.checked,hr.checked=gr.attrs.checked,!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:ar=>({checked:ar[ar.length-1]==="x"})})]}}),inputRegex=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,pasteRegex=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Highlight=Mark.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:ar=>ar.getAttribute("data-color")||ar.style.backgroundColor,renderHTML:ar=>ar.color?{"data-color":ar.color,style:`background-color: ${ar.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:ar}){return["mark",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setHighlight:ar=>({commands:or})=>or.setMark(this.name,ar),toggleHighlight:ar=>({commands:or})=>or.toggleMark(this.name,ar),unsetHighlight:()=>({commands:ar})=>ar.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Color=Extension.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:ar=>{var or;return(or=ar.style.color)===null||or===void 0?void 0:or.replace(/['"]+/g,"")},renderHTML:ar=>ar.color?{style:`color: ${ar.color}`}:{}}}}]},addCommands(){return{setColor:ar=>({chain:or})=>or().setMark("textStyle",{color:ar}).run(),unsetColor:()=>({chain:ar})=>ar().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),FontSize=Mark.create({name:"fontSize",addOptions(){return{types:["textStyle"],HTMLAttributes:{}}},addAttributes(){return{fontSize:{default:null,parseHTML:ar=>{var or;return(or=ar.style.fontSize)==null?void 0:or.replace(/['"]+/g,"")},renderHTML:ar=>ar.fontSize?{style:`font-size: ${ar.fontSize}`}:{}}}},parseHTML(){return[{style:"font-size"}]},renderHTML({HTMLAttributes:ar}){return["span",mergeAttributes(this.options.HTMLAttributes,ar),0]},addCommands(){return{setFontSize:ar=>({chain:or})=>or().setMark(this.name,{fontSize:ar}).run(),unsetFontSize:()=>({chain:ar})=>ar().unsetMark(this.name).run()}}}),_hoisted_1$d={key:0,class:"fixed inset-0 z-[9999] overflow-y-auto"},_hoisted_2$b={class:"flex min-h-screen items-center justify-center p-4 text-center"},_hoisted_3$b={class:"sm:flex sm:items-start"},_hoisted_4$a=["innerHTML"],_hoisted_5$9={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},_hoisted_6$9={class:"mt-2"},_hoisted_7$9={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_8$9={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},_sfc_main$d={__name:"AlertModal",props:{show:{type:Boolean,default:!1},title:{type:String,required:!0},message:{type:String,required:!0},type:{type:String,default:"info",validator:ar=>["info","success","warning","error"].includes(ar)}},emits:["close","confirm"],setup(ar,{emit:or}){const lr=or,Ar={info:`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>`,success:`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>`,warning:`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
  </svg>`,error:`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
  </svg>`},cr={info:{bg:"bg-blue-50 dark:bg-blue-900/50",text:"text-blue-800 dark:text-blue-200",border:"border-blue-200 dark:border-blue-800",button:"bg-blue-600 hover:bg-blue-700 text-white"},success:{bg:"bg-green-50 dark:bg-green-900/50",text:"text-green-800 dark:text-green-200",border:"border-green-200 dark:border-green-800",button:"bg-green-600 hover:bg-green-700 text-white"},warning:{bg:"bg-yellow-50 dark:bg-yellow-900/50",text:"text-yellow-800 dark:text-yellow-200",border:"border-yellow-200 dark:border-yellow-800",button:"bg-yellow-600 hover:bg-yellow-700 text-white"},error:{bg:"bg-red-50 dark:bg-red-900/50",text:"text-red-800 dark:text-red-200",border:"border-red-200 dark:border-red-800",button:"bg-red-600 hover:bg-red-700 text-white"}},ur=()=>{lr("close")},dr=()=>{lr("confirm"),ur()};return(hr,fr)=>ar.show?(openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:ur}),createBaseVNode("div",{class:normalizeClass(["relative transform overflow-hidden rounded-lg bg-white dark:bg-slate-800 px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",[cr[ar.type].border,"z-[10000]"]])},[createBaseVNode("div",_hoisted_3$b,[createBaseVNode("div",{class:normalizeClass(["mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10",cr[ar.type].bg])},[createBaseVNode("div",{innerHTML:Ar[ar.type],class:normalizeClass(cr[ar.type].text)},null,10,_hoisted_4$a)],2),createBaseVNode("div",_hoisted_5$9,[createBaseVNode("h3",{class:normalizeClass(["text-lg font-medium leading-6",cr[ar.type].text])},toDisplayString(ar.title),3),createBaseVNode("div",_hoisted_6$9,[createBaseVNode("p",_hoisted_7$9,toDisplayString(ar.message),1)])])]),createBaseVNode("div",_hoisted_8$9,[createBaseVNode("button",{type:"button",class:normalizeClass(["inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold shadow-sm sm:ml-3 sm:w-auto",cr[ar.type].button]),onClick:dr}," Aceptar ",2),createBaseVNode("button",{type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md bg-white dark:bg-slate-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-slate-600 sm:mt-0 sm:w-auto",onClick:ur}," Cancelar ")])],2)])])):createCommentVNode("",!0)}},matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(ar,or,lr,Ar="")=>{const cr=ar.split(":");if(ar.slice(0,1)==="@"){if(cr.length<2||cr.length>3)return null;Ar=cr.shift().slice(1)}if(cr.length>3||!cr.length)return null;if(cr.length>1){const hr=cr.pop(),fr=cr.pop(),gr={provider:cr.length>0?cr[0]:Ar,prefix:fr,name:hr};return or&&!validateIconName(gr)?null:gr}const ur=cr[0],dr=ur.split("-");if(dr.length>1){const hr={provider:Ar,prefix:dr.shift(),name:dr.join("-")};return or&&!validateIconName(hr)?null:hr}if(lr&&Ar===""){const hr={provider:Ar,prefix:"",name:ur};return or&&!validateIconName(hr,lr)?null:hr}return null},validateIconName=(ar,or)=>ar?!!((or&&ar.prefix===""||ar.prefix)&&ar.name):!1,defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1});function mergeIconTransformations(ar,or){const lr={};!ar.hFlip!=!or.hFlip&&(lr.hFlip=!0),!ar.vFlip!=!or.vFlip&&(lr.vFlip=!0);const Ar=((ar.rotate||0)+(or.rotate||0))%4;return Ar&&(lr.rotate=Ar),lr}function mergeIconData(ar,or){const lr=mergeIconTransformations(ar,or);for(const Ar in defaultExtendedIconProps)Ar in defaultIconTransformations?Ar in ar&&!(Ar in lr)&&(lr[Ar]=defaultIconTransformations[Ar]):Ar in or?lr[Ar]=or[Ar]:Ar in ar&&(lr[Ar]=ar[Ar]);return lr}function getIconsTree(ar,or){const lr=ar.icons,Ar=ar.aliases||Object.create(null),cr=Object.create(null);function ur(dr){if(lr[dr])return cr[dr]=[];if(!(dr in cr)){cr[dr]=null;const hr=Ar[dr]&&Ar[dr].parent,fr=hr&&ur(hr);fr&&(cr[dr]=[hr].concat(fr))}return cr[dr]}return Object.keys(lr).concat(Object.keys(Ar)).forEach(ur),cr}function internalGetIconData(ar,or,lr){const Ar=ar.icons,cr=ar.aliases||Object.create(null);let ur={};function dr(hr){ur=mergeIconData(Ar[hr]||cr[hr],ur)}return dr(or),lr.forEach(dr),mergeIconData(ar,ur)}function parseIconSet(ar,or){const lr=[];if(typeof ar!="object"||typeof ar.icons!="object")return lr;ar.not_found instanceof Array&&ar.not_found.forEach(cr=>{or(cr,null),lr.push(cr)});const Ar=getIconsTree(ar);for(const cr in Ar){const ur=Ar[cr];ur&&(or(cr,internalGetIconData(ar,cr,ur)),lr.push(cr))}return lr}const optionalPropertyDefaults={provider:"",aliases:{},not_found:{},...defaultIconDimensions};function checkOptionalProps(ar,or){for(const lr in or)if(lr in ar&&typeof ar[lr]!=typeof or[lr])return!1;return!0}function quicklyValidateIconSet(ar){if(typeof ar!="object"||ar===null)return null;const or=ar;if(typeof or.prefix!="string"||!ar.icons||typeof ar.icons!="object"||!checkOptionalProps(ar,optionalPropertyDefaults))return null;const lr=or.icons;for(const cr in lr){const ur=lr[cr];if(!cr||typeof ur.body!="string"||!checkOptionalProps(ur,defaultExtendedIconProps))return null}const Ar=or.aliases||Object.create(null);for(const cr in Ar){const ur=Ar[cr],dr=ur.parent;if(!cr||typeof dr!="string"||!lr[dr]&&!Ar[dr]||!checkOptionalProps(ur,defaultExtendedIconProps))return null}return or}const dataStorage=Object.create(null);function newStorage(ar,or){return{provider:ar,prefix:or,icons:Object.create(null),missing:new Set}}function getStorage(ar,or){const lr=dataStorage[ar]||(dataStorage[ar]=Object.create(null));return lr[or]||(lr[or]=newStorage(ar,or))}function addIconSet(ar,or){return quicklyValidateIconSet(or)?parseIconSet(or,(lr,Ar)=>{Ar?ar.icons[lr]=Ar:ar.missing.add(lr)}):[]}function addIconToStorage(ar,or,lr){try{if(typeof lr.body=="string")return ar.icons[or]={...lr},!0}catch{}return!1}let simpleNames=!1;function allowSimpleNames(ar){return typeof ar=="boolean"&&(simpleNames=ar),simpleNames}function getIconData(ar){const or=typeof ar=="string"?stringToIcon(ar,!0,simpleNames):ar;if(or){const lr=getStorage(or.provider,or.prefix),Ar=or.name;return lr.icons[Ar]||(lr.missing.has(Ar)?null:void 0)}}function addIcon(ar,or){const lr=stringToIcon(ar,!0,simpleNames);if(!lr)return!1;const Ar=getStorage(lr.provider,lr.prefix);return or?addIconToStorage(Ar,lr.name,or):(Ar.missing.add(lr.name),!0)}function addCollection(ar,or){if(typeof ar!="object")return!1;if(typeof or!="string"&&(or=ar.provider||""),simpleNames&&!or&&!ar.prefix){let cr=!1;return quicklyValidateIconSet(ar)&&(ar.prefix="",parseIconSet(ar,(ur,dr)=>{addIcon(ur,dr)&&(cr=!0)})),cr}const lr=ar.prefix;if(!validateIconName({prefix:lr,name:"a"}))return!1;const Ar=getStorage(or,lr);return!!addIconSet(Ar,ar)}const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(ar,or,lr){if(or===1)return ar;if(lr=lr||100,typeof ar=="number")return Math.ceil(ar*or*lr)/lr;if(typeof ar!="string")return ar;const Ar=ar.split(unitsSplit);if(Ar===null||!Ar.length)return ar;const cr=[];let ur=Ar.shift(),dr=unitsTest.test(ur);for(;;){if(dr){const hr=parseFloat(ur);isNaN(hr)?cr.push(ur):cr.push(Math.ceil(hr*or*lr)/lr)}else cr.push(ur);if(ur=Ar.shift(),ur===void 0)return cr.join("");dr=!dr}}function splitSVGDefs(ar,or="defs"){let lr="";const Ar=ar.indexOf("<"+or);for(;Ar>=0;){const cr=ar.indexOf(">",Ar),ur=ar.indexOf("</"+or);if(cr===-1||ur===-1)break;const dr=ar.indexOf(">",ur);if(dr===-1)break;lr+=ar.slice(cr+1,ur).trim(),ar=ar.slice(0,Ar).trim()+ar.slice(dr+1)}return{defs:lr,content:ar}}function mergeDefsAndContent(ar,or){return ar?"<defs>"+ar+"</defs>"+or:or}function wrapSVGContent(ar,or,lr){const Ar=splitSVGDefs(ar);return mergeDefsAndContent(Ar.defs,or+Ar.content+lr)}const isUnsetKeyword=ar=>ar==="unset"||ar==="undefined"||ar==="none";function iconToSVG(ar,or){const lr={...defaultIconProps,...ar},Ar={...defaultIconCustomisations,...or},cr={left:lr.left,top:lr.top,width:lr.width,height:lr.height};let ur=lr.body;[lr,Ar].forEach(wr=>{const Cr=[],Br=wr.hFlip,Sr=wr.vFlip;let Er=wr.rotate;Br?Sr?Er+=2:(Cr.push("translate("+(cr.width+cr.left).toString()+" "+(0-cr.top).toString()+")"),Cr.push("scale(-1 1)"),cr.top=cr.left=0):Sr&&(Cr.push("translate("+(0-cr.left).toString()+" "+(cr.height+cr.top).toString()+")"),Cr.push("scale(1 -1)"),cr.top=cr.left=0);let Tr;switch(Er<0&&(Er-=Math.floor(Er/4)*4),Er=Er%4,Er){case 1:Tr=cr.height/2+cr.top,Cr.unshift("rotate(90 "+Tr.toString()+" "+Tr.toString()+")");break;case 2:Cr.unshift("rotate(180 "+(cr.width/2+cr.left).toString()+" "+(cr.height/2+cr.top).toString()+")");break;case 3:Tr=cr.width/2+cr.left,Cr.unshift("rotate(-90 "+Tr.toString()+" "+Tr.toString()+")");break}Er%2===1&&(cr.left!==cr.top&&(Tr=cr.left,cr.left=cr.top,cr.top=Tr),cr.width!==cr.height&&(Tr=cr.width,cr.width=cr.height,cr.height=Tr)),Cr.length&&(ur=wrapSVGContent(ur,'<g transform="'+Cr.join(" ")+'">',"</g>"))});const dr=Ar.width,hr=Ar.height,fr=cr.width,gr=cr.height;let pr,mr;dr===null?(mr=hr===null?"1em":hr==="auto"?gr:hr,pr=calculateSize(mr,fr/gr)):(pr=dr==="auto"?fr:dr,mr=hr===null?calculateSize(pr,gr/fr):hr==="auto"?gr:hr);const yr={},vr=(wr,Cr)=>{isUnsetKeyword(Cr)||(yr[wr]=Cr.toString())};vr("width",pr),vr("height",mr);const br=[cr.left,cr.top,fr,gr];return yr.viewBox=br.join(" "),{attributes:yr,viewBox:br,body:ur}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(ar,or=randomPrefix){const lr=[];let Ar;for(;Ar=regex.exec(ar);)lr.push(Ar[1]);if(!lr.length)return ar;const cr="suffix"+(Math.random()*16777216|Date.now()).toString(16);return lr.forEach(ur=>{const dr=typeof or=="function"?or(ur):or+(counter++).toString(),hr=ur.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");ar=ar.replace(new RegExp('([#;"])('+hr+')([")]|\\.[a-z])',"g"),"$1"+dr+cr+"$3")}),ar=ar.replace(new RegExp(cr,"g"),""),ar}const storage=Object.create(null);function setAPIModule(ar,or){storage[ar]=or}function getAPIModule(ar){return storage[ar]||storage[""]}function createAPIConfig(ar){let or;if(typeof ar.resources=="string")or=[ar.resources];else if(or=ar.resources,!(or instanceof Array)||!or.length)return null;return{resources:or,path:ar.path||"/",maxURL:ar.maxURL||500,rotate:ar.rotate||750,timeout:ar.timeout||5e3,random:ar.random===!0,index:ar.index||0,dataAfterTimeout:ar.dataAfterTimeout!==!1}}const configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(ar,or){const lr=createAPIConfig(or);return lr===null?!1:(configStorage[ar]=lr,!0)}function getAPIConfig(ar){return configStorage[ar]}const detectFetch=()=>{let ar;try{if(ar=fetch,typeof ar=="function")return ar}catch{}};let fetchModule=detectFetch();function calculateMaxLength(ar,or){const lr=getAPIConfig(ar);if(!lr)return 0;let Ar;if(!lr.maxURL)Ar=0;else{let cr=0;lr.resources.forEach(dr=>{cr=Math.max(cr,dr.length)});const ur=or+".json?icons=";Ar=lr.maxURL-cr-lr.path.length-ur.length}return Ar}function shouldAbort(ar){return ar===404}const prepare=(ar,or,lr)=>{const Ar=[],cr=calculateMaxLength(ar,or),ur="icons";let dr={type:ur,provider:ar,prefix:or,icons:[]},hr=0;return lr.forEach((fr,gr)=>{hr+=fr.length+1,hr>=cr&&gr>0&&(Ar.push(dr),dr={type:ur,provider:ar,prefix:or,icons:[]},hr=fr.length),dr.icons.push(fr)}),Ar.push(dr),Ar};function getPath(ar){if(typeof ar=="string"){const or=getAPIConfig(ar);if(or)return or.path}return"/"}const send=(ar,or,lr)=>{if(!fetchModule){lr("abort",424);return}let Ar=getPath(or.provider);switch(or.type){case"icons":{const ur=or.prefix,hr=or.icons.join(","),fr=new URLSearchParams({icons:hr});Ar+=ur+".json?"+fr.toString();break}case"custom":{const ur=or.uri;Ar+=ur.slice(0,1)==="/"?ur.slice(1):ur;break}default:lr("abort",400);return}let cr=503;fetchModule(ar+Ar).then(ur=>{const dr=ur.status;if(dr!==200){setTimeout(()=>{lr(shouldAbort(dr)?"abort":"next",dr)});return}return cr=501,ur.json()}).then(ur=>{if(typeof ur!="object"||ur===null){setTimeout(()=>{ur===404?lr("abort",ur):lr("next",cr)});return}setTimeout(()=>{lr("success",ur)})}).catch(()=>{lr("next",cr)})},fetchAPIModule={prepare,send};function sortIcons(ar){const or={loaded:[],missing:[],pending:[]},lr=Object.create(null);ar.sort((cr,ur)=>cr.provider!==ur.provider?cr.provider.localeCompare(ur.provider):cr.prefix!==ur.prefix?cr.prefix.localeCompare(ur.prefix):cr.name.localeCompare(ur.name));let Ar={provider:"",prefix:"",name:""};return ar.forEach(cr=>{if(Ar.name===cr.name&&Ar.prefix===cr.prefix&&Ar.provider===cr.provider)return;Ar=cr;const ur=cr.provider,dr=cr.prefix,hr=cr.name,fr=lr[ur]||(lr[ur]=Object.create(null)),gr=fr[dr]||(fr[dr]=getStorage(ur,dr));let pr;hr in gr.icons?pr=or.loaded:dr===""||gr.missing.has(hr)?pr=or.missing:pr=or.pending;const mr={provider:ur,prefix:dr,name:hr};pr.push(mr)}),or}function removeCallback(ar,or){ar.forEach(lr=>{const Ar=lr.loaderCallbacks;Ar&&(lr.loaderCallbacks=Ar.filter(cr=>cr.id!==or))})}function updateCallbacks(ar){ar.pendingCallbacksFlag||(ar.pendingCallbacksFlag=!0,setTimeout(()=>{ar.pendingCallbacksFlag=!1;const or=ar.loaderCallbacks?ar.loaderCallbacks.slice(0):[];if(!or.length)return;let lr=!1;const Ar=ar.provider,cr=ar.prefix;or.forEach(ur=>{const dr=ur.icons,hr=dr.pending.length;dr.pending=dr.pending.filter(fr=>{if(fr.prefix!==cr)return!0;const gr=fr.name;if(ar.icons[gr])dr.loaded.push({provider:Ar,prefix:cr,name:gr});else if(ar.missing.has(gr))dr.missing.push({provider:Ar,prefix:cr,name:gr});else return lr=!0,!0;return!1}),dr.pending.length!==hr&&(lr||removeCallback([ar],ur.id),ur.callback(dr.loaded.slice(0),dr.missing.slice(0),dr.pending.slice(0),ur.abort))})}))}let idCounter=0;function storeCallback(ar,or,lr){const Ar=idCounter++,cr=removeCallback.bind(null,lr,Ar);if(!or.pending.length)return cr;const ur={id:Ar,icons:or,callback:ar,abort:cr};return lr.forEach(dr=>{(dr.loaderCallbacks||(dr.loaderCallbacks=[])).push(ur)}),cr}function listToIcons(ar,or=!0,lr=!1){const Ar=[];return ar.forEach(cr=>{const ur=typeof cr=="string"?stringToIcon(cr,or,lr):cr;ur&&Ar.push(ur)}),Ar}var defaultConfig={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(ar,or,lr,Ar){const cr=ar.resources.length,ur=ar.random?Math.floor(Math.random()*cr):ar.index;let dr;if(ar.random){let Or=ar.resources.slice(0);for(dr=[];Or.length>1;){const Rr=Math.floor(Math.random()*Or.length);dr.push(Or[Rr]),Or=Or.slice(0,Rr).concat(Or.slice(Rr+1))}dr=dr.concat(Or)}else dr=ar.resources.slice(ur).concat(ar.resources.slice(0,ur));const hr=Date.now();let fr="pending",gr=0,pr,mr=null,yr=[],vr=[];typeof Ar=="function"&&vr.push(Ar);function br(){mr&&(clearTimeout(mr),mr=null)}function wr(){fr==="pending"&&(fr="aborted"),br(),yr.forEach(Or=>{Or.status==="pending"&&(Or.status="aborted")}),yr=[]}function Cr(Or,Rr){Rr&&(vr=[]),typeof Or=="function"&&vr.push(Or)}function Br(){return{startTime:hr,payload:or,status:fr,queriesSent:gr,queriesPending:yr.length,subscribe:Cr,abort:wr}}function Sr(){fr="failed",vr.forEach(Or=>{Or(void 0,pr)})}function Er(){yr.forEach(Or=>{Or.status==="pending"&&(Or.status="aborted")}),yr=[]}function Tr(Or,Rr,Lr){const _r=Rr!=="success";switch(yr=yr.filter(Hr=>Hr!==Or),fr){case"pending":break;case"failed":if(_r||!ar.dataAfterTimeout)return;break;default:return}if(Rr==="abort"){pr=Lr,Sr();return}if(_r){pr=Lr,yr.length||(dr.length?kr():Sr());return}if(br(),Er(),!ar.random){const Hr=ar.resources.indexOf(Or.resource);Hr!==-1&&Hr!==ar.index&&(ar.index=Hr)}fr="completed",vr.forEach(Hr=>{Hr(Lr)})}function kr(){if(fr!=="pending")return;br();const Or=dr.shift();if(Or===void 0){if(yr.length){mr=setTimeout(()=>{br(),fr==="pending"&&(Er(),Sr())},ar.timeout);return}Sr();return}const Rr={status:"pending",resource:Or,callback:(Lr,_r)=>{Tr(Rr,Lr,_r)}};yr.push(Rr),gr++,mr=setTimeout(kr,ar.rotate),lr(Or,or,Rr.callback)}return setTimeout(kr),Br}function initRedundancy(ar){const or={...defaultConfig,...ar};let lr=[];function Ar(){lr=lr.filter(hr=>hr().status==="pending")}function cr(hr,fr,gr){const pr=sendQuery(or,hr,fr,(mr,yr)=>{Ar(),gr&&gr(mr,yr)});return lr.push(pr),pr}function ur(hr){return lr.find(fr=>hr(fr))||null}return{query:cr,find:ur,setIndex:hr=>{or.index=hr},getIndex:()=>or.index,cleanup:Ar}}function emptyCallback$1(){}const redundancyCache=Object.create(null);function getRedundancyCache(ar){if(!redundancyCache[ar]){const or=getAPIConfig(ar);if(!or)return;const lr=initRedundancy(or),Ar={config:or,redundancy:lr};redundancyCache[ar]=Ar}return redundancyCache[ar]}function sendAPIQuery(ar,or,lr){let Ar,cr;if(typeof ar=="string"){const ur=getAPIModule(ar);if(!ur)return lr(void 0,424),emptyCallback$1;cr=ur.send;const dr=getRedundancyCache(ar);dr&&(Ar=dr.redundancy)}else{const ur=createAPIConfig(ar);if(ur){Ar=initRedundancy(ur);const dr=ar.resources?ar.resources[0]:"",hr=getAPIModule(dr);hr&&(cr=hr.send)}}return!Ar||!cr?(lr(void 0,424),emptyCallback$1):Ar.query(or,cr,lr)().abort}function emptyCallback(){}function loadedNewIcons(ar){ar.iconsLoaderFlag||(ar.iconsLoaderFlag=!0,setTimeout(()=>{ar.iconsLoaderFlag=!1,updateCallbacks(ar)}))}function checkIconNamesForAPI(ar){const or=[],lr=[];return ar.forEach(Ar=>{(Ar.match(matchIconName)?or:lr).push(Ar)}),{valid:or,invalid:lr}}function parseLoaderResponse(ar,or,lr){function Ar(){const cr=ar.pendingIcons;or.forEach(ur=>{cr&&cr.delete(ur),ar.icons[ur]||ar.missing.add(ur)})}if(lr&&typeof lr=="object")try{if(!addIconSet(ar,lr).length){Ar();return}}catch(cr){console.error(cr)}Ar(),loadedNewIcons(ar)}function parsePossiblyAsyncResponse(ar,or){ar instanceof Promise?ar.then(lr=>{or(lr)}).catch(()=>{or(null)}):or(ar)}function loadNewIcons(ar,or){ar.iconsToLoad?ar.iconsToLoad=ar.iconsToLoad.concat(or).sort():ar.iconsToLoad=or,ar.iconsQueueFlag||(ar.iconsQueueFlag=!0,setTimeout(()=>{ar.iconsQueueFlag=!1;const{provider:lr,prefix:Ar}=ar,cr=ar.iconsToLoad;if(delete ar.iconsToLoad,!cr||!cr.length)return;const ur=ar.loadIcon;if(ar.loadIcons&&(cr.length>1||!ur)){parsePossiblyAsyncResponse(ar.loadIcons(cr,Ar,lr),pr=>{parseLoaderResponse(ar,cr,pr)});return}if(ur){cr.forEach(pr=>{const mr=ur(pr,Ar,lr);parsePossiblyAsyncResponse(mr,yr=>{const vr=yr?{prefix:Ar,icons:{[pr]:yr}}:null;parseLoaderResponse(ar,[pr],vr)})});return}const{valid:dr,invalid:hr}=checkIconNamesForAPI(cr);if(hr.length&&parseLoaderResponse(ar,hr,null),!dr.length)return;const fr=Ar.match(matchIconName)?getAPIModule(lr):null;if(!fr){parseLoaderResponse(ar,dr,null);return}fr.prepare(lr,Ar,dr).forEach(pr=>{sendAPIQuery(lr,pr,mr=>{parseLoaderResponse(ar,pr.icons,mr)})})}))}const loadIcons=(ar,or)=>{const lr=listToIcons(ar,!0,allowSimpleNames()),Ar=sortIcons(lr);if(!Ar.pending.length){let fr=!0;return or&&setTimeout(()=>{fr&&or(Ar.loaded,Ar.missing,Ar.pending,emptyCallback)}),()=>{fr=!1}}const cr=Object.create(null),ur=[];let dr,hr;return Ar.pending.forEach(fr=>{const{provider:gr,prefix:pr}=fr;if(pr===hr&&gr===dr)return;dr=gr,hr=pr,ur.push(getStorage(gr,pr));const mr=cr[gr]||(cr[gr]=Object.create(null));mr[pr]||(mr[pr]=[])}),Ar.pending.forEach(fr=>{const{provider:gr,prefix:pr,name:mr}=fr,yr=getStorage(gr,pr),vr=yr.pendingIcons||(yr.pendingIcons=new Set);vr.has(mr)||(vr.add(mr),cr[gr][pr].push(mr))}),ur.forEach(fr=>{const gr=cr[fr.provider][fr.prefix];gr.length&&loadNewIcons(fr,gr)}),or?storeCallback(or,Ar,ur):emptyCallback};function mergeCustomisations(ar,or){const lr={...ar};for(const Ar in or){const cr=or[Ar],ur=typeof cr;Ar in defaultIconSizeCustomisations?(cr===null||cr&&(ur==="string"||ur==="number"))&&(lr[Ar]=cr):ur===typeof lr[Ar]&&(lr[Ar]=Ar==="rotate"?cr%4:cr)}return lr}const separator=/[\s,]+/;function flipFromString(ar,or){or.split(separator).forEach(lr=>{switch(lr.trim()){case"horizontal":ar.hFlip=!0;break;case"vertical":ar.vFlip=!0;break}})}function rotateFromString(ar,or=0){const lr=ar.replace(/^-?[0-9.]*/,"");function Ar(cr){for(;cr<0;)cr+=4;return cr%4}if(lr===""){const cr=parseInt(ar);return isNaN(cr)?0:Ar(cr)}else if(lr!==ar){let cr=0;switch(lr){case"%":cr=25;break;case"deg":cr=90}if(cr){let ur=parseFloat(ar.slice(0,ar.length-lr.length));return isNaN(ur)?0:(ur=ur/cr,ur%1===0?Ar(ur):0)}}return or}function iconToHTML(ar,or){let lr=ar.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const Ar in or)lr+=" "+Ar+'="'+or[Ar]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+lr+">"+ar+"</svg>"}function encodeSVGforURL(ar){return ar.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData(ar){return"data:image/svg+xml,"+encodeSVGforURL(ar)}function svgToURL(ar){return'url("'+svgToData(ar)+'")'}const defaultExtendedIconCustomisations={...defaultIconCustomisations,inline:!1},svgDefaults={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps={display:"inline-block"},monotoneProps={backgroundColor:"currentColor"},coloredProps={backgroundColor:"transparent"},propsToAdd={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo={webkitMask:monotoneProps,mask:monotoneProps,background:coloredProps};for(const ar in propsToAddTo){const or=propsToAddTo[ar];for(const lr in propsToAdd)or[ar+lr]=propsToAdd[lr]}const customisationAliases={};["horizontal","vertical"].forEach(ar=>{const or=ar.slice(0,1)+"Flip";customisationAliases[ar+"-flip"]=or,customisationAliases[ar.slice(0,1)+"-flip"]=or,customisationAliases[ar+"Flip"]=or});function fixSize(ar){return ar+(ar.match(/^[-0-9.]+$/)?"px":"")}const render=(ar,or)=>{const lr=mergeCustomisations(defaultExtendedIconCustomisations,or),Ar={...svgDefaults},cr=or.mode||"svg",ur={},dr=or.style,hr=typeof dr=="object"&&!(dr instanceof Array)?dr:{};for(let wr in or){const Cr=or[wr];if(Cr!==void 0)switch(wr){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":lr[wr]=Cr===!0||Cr==="true"||Cr===1;break;case"flip":typeof Cr=="string"&&flipFromString(lr,Cr);break;case"color":ur.color=Cr;break;case"rotate":typeof Cr=="string"?lr[wr]=rotateFromString(Cr):typeof Cr=="number"&&(lr[wr]=Cr);break;case"ariaHidden":case"aria-hidden":Cr!==!0&&Cr!=="true"&&delete Ar["aria-hidden"];break;default:{const Br=customisationAliases[wr];Br?(Cr===!0||Cr==="true"||Cr===1)&&(lr[Br]=!0):defaultExtendedIconCustomisations[wr]===void 0&&(Ar[wr]=Cr)}}}const fr=iconToSVG(ar,lr),gr=fr.attributes;if(lr.inline&&(ur.verticalAlign="-0.125em"),cr==="svg"){Ar.style={...ur,...hr},Object.assign(Ar,gr);let wr=0,Cr=or.id;return typeof Cr=="string"&&(Cr=Cr.replace(/-/g,"_")),Ar.innerHTML=replaceIDs(fr.body,Cr?()=>Cr+"ID"+wr++:"iconifyVue"),h$2("svg",Ar)}const{body:pr,width:mr,height:yr}=ar,vr=cr==="mask"||(cr==="bg"?!1:pr.indexOf("currentColor")!==-1),br=iconToHTML(pr,{...gr,width:mr+"",height:yr+""});return Ar.style={...ur,"--svg":svgToURL(br),width:fixSize(gr.width),height:fixSize(gr.height),...commonProps,...vr?monotoneProps:coloredProps,...hr},h$2("span",Ar)};allowSimpleNames(!0);setAPIModule("",fetchAPIModule);if(typeof document<"u"&&typeof window<"u"){const ar=window;if(ar.IconifyPreload!==void 0){const or=ar.IconifyPreload,lr="Invalid IconifyPreload syntax.";typeof or=="object"&&or!==null&&(or instanceof Array?or:[or]).forEach(Ar=>{try{(typeof Ar!="object"||Ar===null||Ar instanceof Array||typeof Ar.icons!="object"||typeof Ar.prefix!="string"||!addCollection(Ar))&&console.error(lr)}catch{console.error(lr)}})}if(ar.IconifyProviders!==void 0){const or=ar.IconifyProviders;if(typeof or=="object"&&or!==null)for(let lr in or){const Ar="IconifyProviders["+lr+"] is invalid.";try{const cr=or[lr];if(typeof cr!="object"||!cr||cr.resources===void 0)continue;addAPIProvider(lr,cr)||console.error(Ar)}catch{console.error(Ar)}}}}const emptyIcon={...defaultIconProps,body:""},Icon=defineComponent((ar,{emit:or})=>{const lr=ref(null);function Ar(){var gr,pr;lr.value&&((pr=(gr=lr.value).abort)==null||pr.call(gr),lr.value=null)}const cr=ref(!!ar.ssr),ur=ref(""),dr=shallowRef(null);function hr(){const gr=ar.icon;if(typeof gr=="object"&&gr!==null&&typeof gr.body=="string")return ur.value="",{data:gr};let pr;if(typeof gr!="string"||(pr=stringToIcon(gr,!1,!0))===null)return null;let mr=getIconData(pr);if(!mr){const br=lr.value;return(!br||br.name!==gr)&&(mr===null?lr.value={name:gr}:lr.value={name:gr,abort:loadIcons([pr],fr)}),null}Ar(),ur.value!==gr&&(ur.value=gr,nextTick(()=>{or("load",gr)}));const yr=ar.customise;if(yr){mr=Object.assign({},mr);const br=yr(mr.body,pr.name,pr.prefix,pr.provider);typeof br=="string"&&(mr.body=br)}const vr=["iconify"];return pr.prefix!==""&&vr.push("iconify--"+pr.prefix),pr.provider!==""&&vr.push("iconify--"+pr.provider),{data:mr,classes:vr}}function fr(){var pr;const gr=hr();gr?gr.data!==((pr=dr.value)==null?void 0:pr.data)&&(dr.value=gr):dr.value=null}return cr.value?fr():onMounted(()=>{cr.value=!0,fr()}),watch(()=>ar.icon,fr),onUnmounted(Ar),()=>{const gr=dr.value;if(!gr)return render(emptyIcon,ar);let pr=ar;return gr.classes&&(pr={...ar,class:gr.classes.join(" ")}),render({...defaultIconProps,...gr.data},pr)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ar){return ar&&ar.__esModule&&Object.prototype.hasOwnProperty.call(ar,"default")?ar.default:ar}function getAugmentedNamespace(ar){if(ar.__esModule)return ar;var or=ar.default;if(typeof or=="function"){var lr=function Ar(){return this instanceof Ar?Reflect.construct(or,arguments,this.constructor):or.apply(this,arguments)};lr.prototype=or.prototype}else lr={};return Object.defineProperty(lr,"__esModule",{value:!0}),Object.keys(ar).forEach(function(Ar){var cr=Object.getOwnPropertyDescriptor(ar,Ar);Object.defineProperty(lr,Ar,cr.get?cr:{enumerable:!0,get:function(){return ar[Ar]}})}),lr}var html2pdf$1={exports:{}};const scriptRel="modulepreload",assetsURL=function(ar){return"/Focus-App/"+ar},seen={},__vitePreload=function(or,lr,Ar){let cr=Promise.resolve();if(lr&&lr.length>0){document.getElementsByTagName("link");const dr=document.querySelector("meta[property=csp-nonce]"),hr=(dr==null?void 0:dr.nonce)||(dr==null?void 0:dr.getAttribute("nonce"));cr=Promise.allSettled(lr.map(fr=>{if(fr=assetsURL(fr),fr in seen)return;seen[fr]=!0;const gr=fr.endsWith(".css"),pr=gr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${fr}"]${pr}`))return;const mr=document.createElement("link");if(mr.rel=gr?"stylesheet":scriptRel,gr||(mr.as="script"),mr.crossOrigin="",mr.href=fr,hr&&mr.setAttribute("nonce",hr),document.head.appendChild(mr),gr)return new Promise((yr,vr)=>{mr.addEventListener("load",yr),mr.addEventListener("error",()=>vr(new Error(`Unable to preload CSS for ${fr}`)))})}))}function ur(dr){const hr=new Event("vite:preloadError",{cancelable:!0});if(hr.payload=dr,window.dispatchEvent(hr),!hr.defaultPrevented)throw dr}return cr.then(dr=>{for(const hr of dr||[])hr.status==="rejected"&&ur(hr.reason);return or().catch(ur)})};function _typeof$1(ar){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(or){return typeof or}:function(or){return or&&typeof Symbol=="function"&&or.constructor===Symbol&&or!==Symbol.prototype?"symbol":typeof or},_typeof$1(ar)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(ar,or){for(var lr=new u16(31),Ar=0;Ar<31;++Ar)lr[Ar]=or+=1<<ar[Ar-1];for(var cr=new i32(lr[30]),Ar=1;Ar<30;++Ar)for(var ur=lr[Ar];ur<lr[Ar+1];++ur)cr[ur]=ur-lr[Ar]<<5|Ar;return{b:lr,r:cr}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(ar,or,lr){for(var Ar=ar.length,cr=0,ur=new u16(or);cr<Ar;++cr)ar[cr]&&++ur[ar[cr]-1];var dr=new u16(or);for(cr=1;cr<or;++cr)dr[cr]=dr[cr-1]+ur[cr-1]<<1;var hr;if(lr){hr=new u16(1<<or);var fr=15-or;for(cr=0;cr<Ar;++cr)if(ar[cr])for(var gr=cr<<4|ar[cr],pr=or-ar[cr],mr=dr[ar[cr]-1]++<<pr,yr=mr|(1<<pr)-1;mr<=yr;++mr)hr[rev[mr]>>fr]=gr}else for(hr=new u16(Ar),cr=0;cr<Ar;++cr)ar[cr]&&(hr[cr]=rev[dr[ar[cr]-1]++]>>15-ar[cr]);return hr},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(ar){for(var or=ar[0],lr=1;lr<ar.length;++lr)ar[lr]>or&&(or=ar[lr]);return or},bits=function(ar,or,lr){var Ar=or/8|0;return(ar[Ar]|ar[Ar+1]<<8)>>(or&7)&lr},bits16=function(ar,or){var lr=or/8|0;return(ar[lr]|ar[lr+1]<<8|ar[lr+2]<<16)>>(or&7)},shft=function(ar){return(ar+7)/8|0},slc=function(ar,or,lr){return(lr==null||lr>ar.length)&&(lr=ar.length),new u8(ar.subarray(or,lr))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(ar,or,lr){var Ar=new Error(or||ec[ar]);if(Ar.code=ar,Error.captureStackTrace&&Error.captureStackTrace(Ar,err),!lr)throw Ar;return Ar},inflt=function(ar,or,lr,Ar){var cr=ar.length,ur=0;if(!cr||or.f&&!or.l)return lr||new u8(0);var dr=!lr,hr=dr||or.i!=2,fr=or.i;dr&&(lr=new u8(cr*3));var gr=function(Ts){var Ds=lr.length;if(Ts>Ds){var us=new u8(Math.max(Ds*2,Ts));us.set(lr),lr=us}},pr=or.f||0,mr=or.p||0,yr=or.b||0,vr=or.l,br=or.d,wr=or.m,Cr=or.n,Br=cr*8;do{if(!vr){pr=bits(ar,mr,1);var Sr=bits(ar,mr+1,3);if(mr+=3,Sr)if(Sr==1)vr=flrm,br=fdrm,wr=9,Cr=5;else if(Sr==2){var Or=bits(ar,mr,31)+257,Rr=bits(ar,mr+10,15)+4,Lr=Or+bits(ar,mr+5,31)+1;mr+=14;for(var _r=new u8(Lr),Hr=new u8(19),Mr=0;Mr<Rr;++Mr)Hr[clim[Mr]]=bits(ar,mr+Mr*3,7);mr+=Rr*3;for(var Ur=max(Hr),Kr=(1<<Ur)-1,Xr=hMap(Hr,Ur,1),Mr=0;Mr<Lr;){var Yr=Xr[bits(ar,mr,Kr)];mr+=Yr&15;var Er=Yr>>4;if(Er<16)_r[Mr++]=Er;else{var Zr=0,ns=0;for(Er==16?(ns=3+bits(ar,mr,3),mr+=2,Zr=_r[Mr-1]):Er==17?(ns=3+bits(ar,mr,7),mr+=3):Er==18&&(ns=11+bits(ar,mr,127),mr+=7);ns--;)_r[Mr++]=Zr}}var As=_r.subarray(0,Or),is=_r.subarray(Or);wr=max(As),Cr=max(is),vr=hMap(As,wr,1),br=hMap(is,Cr,1)}else err(1);else{var Er=shft(mr)+4,Tr=ar[Er-4]|ar[Er-3]<<8,kr=Er+Tr;if(kr>cr){fr&&err(0);break}hr&&gr(yr+Tr),lr.set(ar.subarray(Er,kr),yr),or.b=yr+=Tr,or.p=mr=kr*8,or.f=pr;continue}if(mr>Br){fr&&err(0);break}}hr&&gr(yr+131072);for(var gs=(1<<wr)-1,Os=(1<<Cr)-1,Vr=mr;;Vr=mr){var Zr=vr[bits16(ar,mr)&gs],Qr=Zr>>4;if(mr+=Zr&15,mr>Br){fr&&err(0);break}if(Zr||err(2),Qr<256)lr[yr++]=Qr;else if(Qr==256){Vr=mr,vr=null;break}else{var $r=Qr-254;if(Qr>264){var Mr=Qr-257,zr=fleb[Mr];$r=bits(ar,mr,(1<<zr)-1)+fl[Mr],mr+=zr}var cs=br[bits16(ar,mr)&Os],Jr=cs>>4;cs||err(3),mr+=cs&15;var is=fd[Jr];if(Jr>3){var zr=fdeb[Jr];is+=bits16(ar,mr)&(1<<zr)-1,mr+=zr}if(mr>Br){fr&&err(0);break}hr&&gr(yr+131072);var ls=yr+$r;if(yr<is){var hs=ur-is,bs=Math.min(is,ls);for(hs+yr<0&&err(3);yr<bs;++yr)lr[yr]=Ar[hs+yr]}for(;yr<ls;++yr)lr[yr]=lr[yr-is]}}or.l=vr,or.p=Vr,or.b=yr,or.f=pr,vr&&(pr=1,or.m=wr,or.d=br,or.n=Cr)}while(!pr);return yr!=lr.length&&dr?slc(lr,0,yr):lr.subarray(0,yr)},wbits=function(ar,or,lr){lr<<=or&7;var Ar=or/8|0;ar[Ar]|=lr,ar[Ar+1]|=lr>>8},wbits16=function(ar,or,lr){lr<<=or&7;var Ar=or/8|0;ar[Ar]|=lr,ar[Ar+1]|=lr>>8,ar[Ar+2]|=lr>>16},hTree=function(ar,or){for(var lr=[],Ar=0;Ar<ar.length;++Ar)ar[Ar]&&lr.push({s:Ar,f:ar[Ar]});var cr=lr.length,ur=lr.slice();if(!cr)return{t:et$1,l:0};if(cr==1){var dr=new u8(lr[0].s+1);return dr[lr[0].s]=1,{t:dr,l:1}}lr.sort(function(kr,Or){return kr.f-Or.f}),lr.push({s:-1,f:25001});var hr=lr[0],fr=lr[1],gr=0,pr=1,mr=2;for(lr[0]={s:-1,f:hr.f+fr.f,l:hr,r:fr};pr!=cr-1;)hr=lr[lr[gr].f<lr[mr].f?gr++:mr++],fr=lr[gr!=pr&&lr[gr].f<lr[mr].f?gr++:mr++],lr[pr++]={s:-1,f:hr.f+fr.f,l:hr,r:fr};for(var yr=ur[0].s,Ar=1;Ar<cr;++Ar)ur[Ar].s>yr&&(yr=ur[Ar].s);var vr=new u16(yr+1),br=ln(lr[pr-1],vr,0);if(br>or){var Ar=0,wr=0,Cr=br-or,Br=1<<Cr;for(ur.sort(function(Or,Rr){return vr[Rr.s]-vr[Or.s]||Or.f-Rr.f});Ar<cr;++Ar){var Sr=ur[Ar].s;if(vr[Sr]>or)wr+=Br-(1<<br-vr[Sr]),vr[Sr]=or;else break}for(wr>>=Cr;wr>0;){var Er=ur[Ar].s;vr[Er]<or?wr-=1<<or-vr[Er]++-1:++Ar}for(;Ar>=0&&wr;--Ar){var Tr=ur[Ar].s;vr[Tr]==or&&(--vr[Tr],++wr)}br=or}return{t:new u8(vr),l:br}},ln=function(ar,or,lr){return ar.s==-1?Math.max(ln(ar.l,or,lr+1),ln(ar.r,or,lr+1)):or[ar.s]=lr},lc=function(ar){for(var or=ar.length;or&&!ar[--or];);for(var lr=new u16(++or),Ar=0,cr=ar[0],ur=1,dr=function(fr){lr[Ar++]=fr},hr=1;hr<=or;++hr)if(ar[hr]==cr&&hr!=or)++ur;else{if(!cr&&ur>2){for(;ur>138;ur-=138)dr(32754);ur>2&&(dr(ur>10?ur-11<<5|28690:ur-3<<5|12305),ur=0)}else if(ur>3){for(dr(cr),--ur;ur>6;ur-=6)dr(8304);ur>2&&(dr(ur-3<<5|8208),ur=0)}for(;ur--;)dr(cr);ur=1,cr=ar[hr]}return{c:lr.subarray(0,Ar),n:or}},clen=function(ar,or){for(var lr=0,Ar=0;Ar<or.length;++Ar)lr+=ar[Ar]*or[Ar];return lr},wfblk=function(ar,or,lr){var Ar=lr.length,cr=shft(or+2);ar[cr]=Ar&255,ar[cr+1]=Ar>>8,ar[cr+2]=ar[cr]^255,ar[cr+3]=ar[cr+1]^255;for(var ur=0;ur<Ar;++ur)ar[cr+ur+4]=lr[ur];return(cr+4+Ar)*8},wblk=function(ar,or,lr,Ar,cr,ur,dr,hr,fr,gr,pr){wbits(or,pr++,lr),++cr[256];for(var mr=hTree(cr,15),yr=mr.t,vr=mr.l,br=hTree(ur,15),wr=br.t,Cr=br.l,Br=lc(yr),Sr=Br.c,Er=Br.n,Tr=lc(wr),kr=Tr.c,Or=Tr.n,Rr=new u16(19),Lr=0;Lr<Sr.length;++Lr)++Rr[Sr[Lr]&31];for(var Lr=0;Lr<kr.length;++Lr)++Rr[kr[Lr]&31];for(var _r=hTree(Rr,7),Hr=_r.t,Mr=_r.l,Ur=19;Ur>4&&!Hr[clim[Ur-1]];--Ur);var Kr=gr+5<<3,Xr=clen(cr,flt)+clen(ur,fdt)+dr,Yr=clen(cr,yr)+clen(ur,wr)+dr+14+3*Ur+clen(Rr,Hr)+2*Rr[16]+3*Rr[17]+7*Rr[18];if(fr>=0&&Kr<=Xr&&Kr<=Yr)return wfblk(or,pr,ar.subarray(fr,fr+gr));var Zr,ns,As,is;if(wbits(or,pr,1+(Yr<Xr)),pr+=2,Yr<Xr){Zr=hMap(yr,vr,0),ns=yr,As=hMap(wr,Cr,0),is=wr;var gs=hMap(Hr,Mr,0);wbits(or,pr,Er-257),wbits(or,pr+5,Or-1),wbits(or,pr+10,Ur-4),pr+=14;for(var Lr=0;Lr<Ur;++Lr)wbits(or,pr+3*Lr,Hr[clim[Lr]]);pr+=3*Ur;for(var Os=[Sr,kr],Vr=0;Vr<2;++Vr)for(var Qr=Os[Vr],Lr=0;Lr<Qr.length;++Lr){var $r=Qr[Lr]&31;wbits(or,pr,gs[$r]),pr+=Hr[$r],$r>15&&(wbits(or,pr,Qr[Lr]>>5&127),pr+=Qr[Lr]>>12)}}else Zr=flm,ns=flt,As=fdm,is=fdt;for(var Lr=0;Lr<hr;++Lr){var zr=Ar[Lr];if(zr>255){var $r=zr>>18&31;wbits16(or,pr,Zr[$r+257]),pr+=ns[$r+257],$r>7&&(wbits(or,pr,zr>>23&31),pr+=fleb[$r]);var cs=zr&31;wbits16(or,pr,As[cs]),pr+=is[cs],cs>3&&(wbits16(or,pr,zr>>5&8191),pr+=fdeb[cs])}else wbits16(or,pr,Zr[zr]),pr+=ns[zr]}return wbits16(or,pr,Zr[256]),pr+ns[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(ar,or,lr,Ar,cr,ur){var dr=ur.z||ar.length,hr=new u8(Ar+dr+5*(1+Math.ceil(dr/7e3))+cr),fr=hr.subarray(Ar,hr.length-cr),gr=ur.l,pr=(ur.r||0)&7;if(or){pr&&(fr[0]=ur.r>>3);for(var mr=deo[or-1],yr=mr>>13,vr=mr&8191,br=(1<<lr)-1,wr=ur.p||new u16(32768),Cr=ur.h||new u16(br+1),Br=Math.ceil(lr/3),Sr=2*Br,Er=function(ps){return(ar[ps]^ar[ps+1]<<Br^ar[ps+2]<<Sr)&br},Tr=new i32(25e3),kr=new u16(288),Or=new u16(32),Rr=0,Lr=0,_r=ur.i||0,Hr=0,Mr=ur.w||0,Ur=0;_r+2<dr;++_r){var Kr=Er(_r),Xr=_r&32767,Yr=Cr[Kr];if(wr[Xr]=Yr,Cr[Kr]=Xr,Mr<=_r){var Zr=dr-_r;if((Rr>7e3||Hr>24576)&&(Zr>423||!gr)){pr=wblk(ar,fr,0,Tr,kr,Or,Lr,Hr,Ur,_r-Ur,pr),Hr=Rr=Lr=0,Ur=_r;for(var ns=0;ns<286;++ns)kr[ns]=0;for(var ns=0;ns<30;++ns)Or[ns]=0}var As=2,is=0,gs=vr,Os=Xr-Yr&32767;if(Zr>2&&Kr==Er(_r-Os))for(var Vr=Math.min(yr,Zr)-1,Qr=Math.min(32767,_r),$r=Math.min(258,Zr);Os<=Qr&&--gs&&Xr!=Yr;){if(ar[_r+As]==ar[_r+As-Os]){for(var zr=0;zr<$r&&ar[_r+zr]==ar[_r+zr-Os];++zr);if(zr>As){if(As=zr,is=Os,zr>Vr)break;for(var cs=Math.min(Os,zr-2),Jr=0,ns=0;ns<cs;++ns){var ls=_r-Os+ns&32767,hs=wr[ls],bs=ls-hs&32767;bs>Jr&&(Jr=bs,Yr=ls)}}}Xr=Yr,Yr=wr[Xr],Os+=Xr-Yr&32767}if(is){Tr[Hr++]=268435456|revfl[As]<<18|revfd[is];var Ts=revfl[As]&31,Ds=revfd[is]&31;Lr+=fleb[Ts]+fdeb[Ds],++kr[257+Ts],++Or[Ds],Mr=_r+As,++Rr}else Tr[Hr++]=ar[_r],++kr[ar[_r]]}}for(_r=Math.max(_r,Mr);_r<dr;++_r)Tr[Hr++]=ar[_r],++kr[ar[_r]];pr=wblk(ar,fr,gr,Tr,kr,Or,Lr,Hr,Ur,_r-Ur,pr),gr||(ur.r=pr&7|fr[pr/8|0]<<3,pr-=7,ur.h=Cr,ur.p=wr,ur.i=_r,ur.w=Mr)}else{for(var _r=ur.w||0;_r<dr+gr;_r+=65535){var us=_r+65535;us>=dr&&(fr[pr/8|0]=gr,us=dr),pr=wfblk(fr,pr+1,ar.subarray(_r,us))}ur.i=dr}return slc(hr,0,Ar+shft(pr)+cr)},adler=function(){var ar=1,or=0;return{p:function(lr){for(var Ar=ar,cr=or,ur=lr.length|0,dr=0;dr!=ur;){for(var hr=Math.min(dr+2655,ur);dr<hr;++dr)cr+=Ar+=lr[dr];Ar=(Ar&65535)+15*(Ar>>16),cr=(cr&65535)+15*(cr>>16)}ar=Ar,or=cr},d:function(){return ar%=65521,or%=65521,(ar&255)<<24|(ar&65280)<<8|(or&255)<<8|or>>8}}},dopt=function(ar,or,lr,Ar,cr){if(!cr&&(cr={l:1},or.dictionary)){var ur=or.dictionary.subarray(-32768),dr=new u8(ur.length+ar.length);dr.set(ur),dr.set(ar,ur.length),ar=dr,cr.w=ur.length}return dflt(ar,or.level==null?6:or.level,or.mem==null?cr.l?Math.ceil(Math.max(8,Math.min(13,Math.log(ar.length)))*1.5):20:12+or.mem,lr,Ar,cr)},wbytes=function(ar,or,lr){for(;lr;++or)ar[or]=lr,lr>>>=8},zlh=function(ar,or){var lr=or.level,Ar=lr==0?0:lr<6?1:lr==9?3:2;if(ar[0]=120,ar[1]=Ar<<6|(or.dictionary&&32),ar[1]|=31-(ar[0]<<8|ar[1])%31,or.dictionary){var cr=adler();cr.p(or.dictionary),wbytes(ar,2,cr.d())}},zls=function(ar,or){return((ar[0]&15)!=8||ar[0]>>4>7||(ar[0]<<8|ar[1])%31)&&err(6,"invalid zlib data"),(ar[1]>>5&1)==1&&err(6,"invalid zlib data: "+(ar[1]&32?"need":"unexpected")+" dictionary"),(ar[1]>>3&4)+2};function zlibSync(ar,or){or||(or={});var lr=adler();lr.p(ar);var Ar=dopt(ar,or,or.dictionary?6:2,4);return zlh(Ar,or),wbytes(Ar,Ar.length-4,lr.d()),Ar}function unzlibSync(ar,or){return inflt(ar.subarray(zls(ar),-4),{i:2},or,or)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch{}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(ar){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(ar){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(ar))}};function o(ar,or,lr){var Ar=new XMLHttpRequest;Ar.open("GET",ar),Ar.responseType="blob",Ar.onload=function(){l(Ar.response,or,lr)},Ar.onerror=function(){a.error("could not download file")},Ar.send()}function s(ar){var or=new XMLHttpRequest;or.open("HEAD",ar,!1);try{or.send()}catch{}return or.status>=200&&or.status<=299}function c(ar){try{ar.dispatchEvent(new MouseEvent("click"))}catch{var or=document.createEvent("MouseEvents");or.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ar.dispatchEvent(or)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof$1(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(ar,or,lr){var Ar=n.URL||n.webkitURL,cr=document.createElement("a");or=or||ar.name||"download",cr.download=or,cr.rel="noopener",typeof ar=="string"?(cr.href=ar,cr.origin!==location.origin?s(cr.href)?o(ar,or,lr):c(cr,cr.target="_blank"):c(cr)):(cr.href=Ar.createObjectURL(ar),setTimeout(function(){Ar.revokeObjectURL(cr.href)},4e4),setTimeout(function(){c(cr)},0))}:"msSaveOrOpenBlob"in navigator?function(ar,or,lr){if(or=or||ar.name||"download",typeof ar=="string")if(s(ar))o(ar,or,lr);else{var Ar=document.createElement("a");Ar.href=ar,Ar.target="_blank",setTimeout(function(){c(Ar)})}else navigator.msSaveOrOpenBlob(function(cr,ur){return ur===void 0?ur={autoBom:!1}:_typeof$1(ur)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),ur={autoBom:!ur}),ur.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(cr.type)?new Blob(["\uFEFF",cr],{type:cr.type}):cr}(ar,lr),or)}:function(ar,or,lr,Ar){if((Ar=Ar||open("","_blank"))&&(Ar.document.title=Ar.document.body.innerText="downloading..."),typeof ar=="string")return o(ar,or,lr);var cr=ar.type==="application/octet-stream",ur=/constructor/i.test(n.HTMLElement)||n.safari,dr=/CriOS\/[\d]+/.test(navigator.userAgent);if((dr||cr&&ur)&&(typeof FileReader>"u"?"undefined":_typeof$1(FileReader))==="object"){var hr=new FileReader;hr.onloadend=function(){var pr=hr.result;pr=dr?pr:pr.replace(/^data:[^;]*;/,"data:attachment/file;"),Ar?Ar.location.href=pr:location=pr,Ar=null},hr.readAsDataURL(ar)}else{var fr=n.URL||n.webkitURL,gr=fr.createObjectURL(ar);Ar?Ar.location=gr:location.href=gr,Ar=null,setTimeout(function(){fr.revokeObjectURL(gr)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(ar){var or;ar=ar||"",this.ok=!1,ar.charAt(0)=="#"&&(ar=ar.substr(1,6)),ar={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[ar=(ar=ar.replace(/ /g,"")).toLowerCase()]||ar;for(var lr=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(hr){return[parseInt(hr[1]),parseInt(hr[2]),parseInt(hr[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(hr){return[parseInt(hr[1],16),parseInt(hr[2],16),parseInt(hr[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(hr){return[parseInt(hr[1]+hr[1],16),parseInt(hr[2]+hr[2],16),parseInt(hr[3]+hr[3],16)]}}],Ar=0;Ar<lr.length;Ar++){var cr=lr[Ar].re,ur=lr[Ar].process,dr=cr.exec(ar);dr&&(or=ur(dr),this.r=or[0],this.g=or[1],this.b=or[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var hr=this.r.toString(16),fr=this.g.toString(16),gr=this.b.toString(16);return hr.length==1&&(hr="0"+hr),fr.length==1&&(fr="0"+fr),gr.length==1&&(gr="0"+gr),"#"+hr+fr+gr}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(ar,or){var lr=ar[0],Ar=ar[1],cr=ar[2],ur=ar[3];lr=g(lr,Ar,cr,ur,or[0],7,-680876936),ur=g(ur,lr,Ar,cr,or[1],12,-389564586),cr=g(cr,ur,lr,Ar,or[2],17,606105819),Ar=g(Ar,cr,ur,lr,or[3],22,-1044525330),lr=g(lr,Ar,cr,ur,or[4],7,-176418897),ur=g(ur,lr,Ar,cr,or[5],12,1200080426),cr=g(cr,ur,lr,Ar,or[6],17,-1473231341),Ar=g(Ar,cr,ur,lr,or[7],22,-45705983),lr=g(lr,Ar,cr,ur,or[8],7,1770035416),ur=g(ur,lr,Ar,cr,or[9],12,-1958414417),cr=g(cr,ur,lr,Ar,or[10],17,-42063),Ar=g(Ar,cr,ur,lr,or[11],22,-1990404162),lr=g(lr,Ar,cr,ur,or[12],7,1804603682),ur=g(ur,lr,Ar,cr,or[13],12,-40341101),cr=g(cr,ur,lr,Ar,or[14],17,-1502002290),lr=m(lr,Ar=g(Ar,cr,ur,lr,or[15],22,1236535329),cr,ur,or[1],5,-165796510),ur=m(ur,lr,Ar,cr,or[6],9,-1069501632),cr=m(cr,ur,lr,Ar,or[11],14,643717713),Ar=m(Ar,cr,ur,lr,or[0],20,-373897302),lr=m(lr,Ar,cr,ur,or[5],5,-701558691),ur=m(ur,lr,Ar,cr,or[10],9,38016083),cr=m(cr,ur,lr,Ar,or[15],14,-660478335),Ar=m(Ar,cr,ur,lr,or[4],20,-405537848),lr=m(lr,Ar,cr,ur,or[9],5,568446438),ur=m(ur,lr,Ar,cr,or[14],9,-1019803690),cr=m(cr,ur,lr,Ar,or[3],14,-187363961),Ar=m(Ar,cr,ur,lr,or[8],20,1163531501),lr=m(lr,Ar,cr,ur,or[13],5,-1444681467),ur=m(ur,lr,Ar,cr,or[2],9,-51403784),cr=m(cr,ur,lr,Ar,or[7],14,1735328473),lr=v(lr,Ar=m(Ar,cr,ur,lr,or[12],20,-1926607734),cr,ur,or[5],4,-378558),ur=v(ur,lr,Ar,cr,or[8],11,-2022574463),cr=v(cr,ur,lr,Ar,or[11],16,1839030562),Ar=v(Ar,cr,ur,lr,or[14],23,-35309556),lr=v(lr,Ar,cr,ur,or[1],4,-1530992060),ur=v(ur,lr,Ar,cr,or[4],11,1272893353),cr=v(cr,ur,lr,Ar,or[7],16,-155497632),Ar=v(Ar,cr,ur,lr,or[10],23,-1094730640),lr=v(lr,Ar,cr,ur,or[13],4,681279174),ur=v(ur,lr,Ar,cr,or[0],11,-358537222),cr=v(cr,ur,lr,Ar,or[3],16,-722521979),Ar=v(Ar,cr,ur,lr,or[6],23,76029189),lr=v(lr,Ar,cr,ur,or[9],4,-640364487),ur=v(ur,lr,Ar,cr,or[12],11,-421815835),cr=v(cr,ur,lr,Ar,or[15],16,530742520),lr=b(lr,Ar=v(Ar,cr,ur,lr,or[2],23,-995338651),cr,ur,or[0],6,-198630844),ur=b(ur,lr,Ar,cr,or[7],10,1126891415),cr=b(cr,ur,lr,Ar,or[14],15,-1416354905),Ar=b(Ar,cr,ur,lr,or[5],21,-57434055),lr=b(lr,Ar,cr,ur,or[12],6,1700485571),ur=b(ur,lr,Ar,cr,or[3],10,-1894986606),cr=b(cr,ur,lr,Ar,or[10],15,-1051523),Ar=b(Ar,cr,ur,lr,or[1],21,-2054922799),lr=b(lr,Ar,cr,ur,or[8],6,1873313359),ur=b(ur,lr,Ar,cr,or[15],10,-30611744),cr=b(cr,ur,lr,Ar,or[6],15,-1560198380),Ar=b(Ar,cr,ur,lr,or[13],21,1309151649),lr=b(lr,Ar,cr,ur,or[4],6,-145523070),ur=b(ur,lr,Ar,cr,or[11],10,-1120210379),cr=b(cr,ur,lr,Ar,or[2],15,718787259),Ar=b(Ar,cr,ur,lr,or[9],21,-343485551),ar[0]=_(lr,ar[0]),ar[1]=_(Ar,ar[1]),ar[2]=_(cr,ar[2]),ar[3]=_(ur,ar[3])}function p(ar,or,lr,Ar,cr,ur){return or=_(_(or,ar),_(Ar,ur)),_(or<<cr|or>>>32-cr,lr)}function g(ar,or,lr,Ar,cr,ur,dr){return p(or&lr|~or&Ar,ar,or,cr,ur,dr)}function m(ar,or,lr,Ar,cr,ur,dr){return p(or&Ar|lr&~Ar,ar,or,cr,ur,dr)}function v(ar,or,lr,Ar,cr,ur,dr){return p(or^lr^Ar,ar,or,cr,ur,dr)}function b(ar,or,lr,Ar,cr,ur,dr){return p(lr^(or|~Ar),ar,or,cr,ur,dr)}function y(ar){var or,lr=ar.length,Ar=[1732584193,-271733879,-1732584194,271733878];for(or=64;or<=ar.length;or+=64)d(Ar,w(ar.substring(or-64,or)));ar=ar.substring(or-64);var cr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(or=0;or<ar.length;or++)cr[or>>2]|=ar.charCodeAt(or)<<(or%4<<3);if(cr[or>>2]|=128<<(or%4<<3),or>55)for(d(Ar,cr),or=0;or<16;or++)cr[or]=0;return cr[14]=8*lr,d(Ar,cr),Ar}function w(ar){var or,lr=[];for(or=0;or<64;or+=4)lr[or>>2]=ar.charCodeAt(or)+(ar.charCodeAt(or+1)<<8)+(ar.charCodeAt(or+2)<<16)+(ar.charCodeAt(or+3)<<24);return lr}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(ar){for(var or="",lr=0;lr<4;lr++)or+=N[ar>>8*lr+4&15]+N[ar>>8*lr&15];return or}function A(ar){return String.fromCharCode((255&ar)>>0,(65280&ar)>>8,(16711680&ar)>>16,(4278190080&ar)>>24)}function x(ar){return y(ar).map(A).join("")}var S=function(ar){for(var or=0;or<ar.length;or++)ar[or]=L(ar[or]);return ar.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(ar,or){if(S){var lr=(65535&ar)+(65535&or);return(ar>>16)+(or>>16)+(lr>>16)<<16|65535&lr}return ar+or&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(ar,or){var lr,Ar,cr,ur;if(ar!==lr){for(var dr=(cr=ar,ur=1+(256/ar.length>>0),new Array(ur+1).join(cr)),hr=[],fr=0;fr<256;fr++)hr[fr]=fr;var gr=0;for(fr=0;fr<256;fr++){var pr=hr[fr];gr=(gr+pr+dr.charCodeAt(fr))%256,hr[fr]=hr[gr],hr[gr]=pr}lr=ar,Ar=hr}else hr=Ar;var mr=or.length,yr=0,vr=0,br="";for(fr=0;fr<mr;fr++)vr=(vr+(pr=hr[yr=(yr+1)%256]))%256,hr[yr]=hr[vr],hr[vr]=pr,dr=hr[(hr[yr]+hr[vr])%256],br+=String.fromCharCode(or.charCodeAt(fr)^dr);return br}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(ar,or,lr,Ar){this.v=1,this.r=2;var cr=192;ar.forEach(function(hr){if(k.perm!==void 0)throw new Error("Invalid permission: "+hr);cr+=k[hr]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ur=(or+this.padding).substr(0,32),dr=(lr+this.padding).substr(0,32);this.O=this.processOwnerPassword(ur,dr),this.P=-(1+(255^cr)),this.encryptionKey=x(ur+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Ar)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(ar){if(/[^\u0000-\u00ff]/.test(ar))throw new Error("Invalid PDF Name Object: "+ar+", Only accept ASCII characters.");for(var or="",lr=ar.length,Ar=0;Ar<lr;Ar++){var cr=ar.charCodeAt(Ar);cr<33||cr===35||cr===37||cr===40||cr===41||cr===47||cr===60||cr===62||cr===91||cr===93||cr===123||cr===125||cr>126?or+="#"+("0"+cr.toString(16)).slice(-2):or+=ar[Ar]}return or}function C(ar){if(_typeof$1(ar)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var or={};this.subscribe=function(lr,Ar,cr){if(cr=cr||!1,typeof lr!="string"||typeof Ar!="function"||typeof cr!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");or.hasOwnProperty(lr)||(or[lr]={});var ur=Math.random().toString(35);return or[lr][ur]=[Ar,!!cr],ur},this.unsubscribe=function(lr){for(var Ar in or)if(or[Ar][lr])return delete or[Ar][lr],Object.keys(or[Ar]).length===0&&delete or[Ar],!0;return!1},this.publish=function(lr){if(or.hasOwnProperty(lr)){var Ar=Array.prototype.slice.call(arguments,1),cr=[];for(var ur in or[lr]){var dr=or[lr][ur];try{dr[0].apply(ar,Ar)}catch(hr){n.console&&a.error("jsPDF PubSub Error",hr.message,hr)}dr[1]&&cr.push(ur)}cr.length&&cr.forEach(this.unsubscribe)}},this.getTopics=function(){return or}}function j(ar){if(!(this instanceof j))return new j(ar);var or="opacity,stroke-opacity".split(",");for(var lr in ar)ar.hasOwnProperty(lr)&&or.indexOf(lr)>=0&&(this[lr]=ar[lr]);this.id="",this.objectNumber=-1}function O(ar,or){this.gState=ar,this.matrix=or,this.id="",this.objectNumber=-1}function B(ar,or,lr,Ar,cr){if(!(this instanceof B))return new B(ar,or,lr,Ar,cr);this.type=ar==="axial"?2:3,this.coords=or,this.colors=lr,O.call(this,Ar,cr)}function M(ar,or,lr,Ar,cr){if(!(this instanceof M))return new M(ar,or,lr,Ar,cr);this.boundingBox=ar,this.xStep=or,this.yStep=lr,this.stream="",this.cloneIndex=0,O.call(this,Ar,cr)}function E(ar){var or,lr=typeof arguments[0]=="string"?arguments[0]:"p",Ar=arguments[1],cr=arguments[2],ur=arguments[3],dr=[],hr=1,fr=16,gr="S",pr=null;_typeof$1(ar=ar||{})==="object"&&(lr=ar.orientation,Ar=ar.unit||Ar,cr=ar.format||cr,ur=ar.compress||ar.compressPdf||ur,(pr=ar.encryption||null)!==null&&(pr.userPassword=pr.userPassword||"",pr.ownerPassword=pr.ownerPassword||"",pr.userPermissions=pr.userPermissions||[]),hr=typeof ar.userUnit=="number"?Math.abs(ar.userUnit):1,ar.precision!==void 0&&(or=ar.precision),ar.floatPrecision!==void 0&&(fr=ar.floatPrecision),gr=ar.defaultPathOperation||"S"),dr=ar.filters||(ur===!0?["FlateEncode"]:dr),Ar=Ar||"mm",lr=(""+(lr||"P")).toLowerCase();var mr=ar.putOnlyUsedFonts||!1,yr={},vr={internal:{},__private__:{}};vr.__private__.PubSub=C;var br="1.3",wr=vr.__private__.getPdfVersion=function(){return br};vr.__private__.setPdfVersion=function(jr){br=jr};var Cr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};vr.__private__.getPageFormats=function(){return Cr};var Br=vr.__private__.getPageFormat=function(jr){return Cr[jr]};cr=cr||"a4";var Sr={COMPAT:"compat",ADVANCED:"advanced"},Er=Sr.COMPAT;function Tr(){this.saveGraphicsState(),ss(new Zs(Bs,0,0,-Bs,0,Pl()*Bs).toString()+" cm"),this.setFontSize(this.getFontSize()/Bs),gr="n",Er=Sr.ADVANCED}function kr(){this.restoreGraphicsState(),gr="S",Er=Sr.COMPAT}var Or=vr.__private__.combineFontStyleAndFontWeight=function(jr,ys){if(jr=="bold"&&ys=="normal"||jr=="bold"&&ys==400||jr=="normal"&&ys=="italic"||jr=="bold"&&ys=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ys&&(jr=ys==400||ys==="normal"?jr==="italic"?"italic":"normal":ys!=700&&ys!=="bold"||jr!=="normal"?(ys==700?"bold":ys)+""+jr:"bold"),jr};vr.advancedAPI=function(jr){var ys=Er===Sr.COMPAT;return ys&&Tr.call(this),typeof jr!="function"||(jr(this),ys&&kr.call(this)),this},vr.compatAPI=function(jr){var ys=Er===Sr.ADVANCED;return ys&&kr.call(this),typeof jr!="function"||(jr(this),ys&&Tr.call(this)),this},vr.isAdvancedAPI=function(){return Er===Sr.ADVANCED};var Rr,Lr=function(jr){if(Er!==Sr.ADVANCED)throw new Error(jr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_r=vr.roundToPrecision=vr.__private__.roundToPrecision=function(jr,ys){var Gs=or||ys;if(isNaN(jr)||isNaN(Gs))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return jr.toFixed(Gs).replace(/0+$/,"")};Rr=vr.hpf=vr.__private__.hpf=typeof fr=="number"?function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.hpf");return _r(jr,fr)}:fr==="smart"?function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.hpf");return _r(jr,jr>-1&&jr<1?16:5)}:function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.hpf");return _r(jr,16)};var Hr=vr.f2=vr.__private__.f2=function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.f2");return _r(jr,2)},Mr=vr.__private__.f3=function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.f3");return _r(jr,3)},Ur=vr.scale=vr.__private__.scale=function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.scale");return Er===Sr.COMPAT?jr*Bs:Er===Sr.ADVANCED?jr:void 0},Kr=function(jr){return Er===Sr.COMPAT?Pl()-jr:Er===Sr.ADVANCED?jr:void 0},Xr=function(jr){return Ur(Kr(jr))};vr.__private__.setPrecision=vr.setPrecision=function(jr){typeof parseInt(jr,10)=="number"&&(or=parseInt(jr,10))};var Yr,Zr="00000000000000000000000000000000",ns=vr.__private__.getFileId=function(){return Zr},As=vr.__private__.setFileId=function(jr){return Zr=jr!==void 0&&/^[a-fA-F0-9]{32}$/.test(jr)?jr.toUpperCase():Zr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),pr!==null&&(ua=new I(pr.userPermissions,pr.userPassword,pr.ownerPassword,Zr)),Zr};vr.setFileId=function(jr){return As(jr),this},vr.getFileId=function(){return ns()};var is=vr.__private__.convertDateToPDFDate=function(jr){var ys=jr.getTimezoneOffset(),Gs=ys<0?"+":"-",ti=Math.floor(Math.abs(ys/60)),gi=Math.abs(ys%60),ki=[Gs,$r(ti),"'",$r(gi),"'"].join("");return["D:",jr.getFullYear(),$r(jr.getMonth()+1),$r(jr.getDate()),$r(jr.getHours()),$r(jr.getMinutes()),$r(jr.getSeconds()),ki].join("")},gs=vr.__private__.convertPDFDateToDate=function(jr){var ys=parseInt(jr.substr(2,4),10),Gs=parseInt(jr.substr(6,2),10)-1,ti=parseInt(jr.substr(8,2),10),gi=parseInt(jr.substr(10,2),10),ki=parseInt(jr.substr(12,2),10),Ui=parseInt(jr.substr(14,2),10);return new Date(ys,Gs,ti,gi,ki,Ui,0)},Os=vr.__private__.setCreationDate=function(jr){var ys;if(jr===void 0&&(jr=new Date),jr instanceof Date)ys=is(jr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(jr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ys=jr}return Yr=ys},Vr=vr.__private__.getCreationDate=function(jr){var ys=Yr;return jr==="jsDate"&&(ys=gs(Yr)),ys};vr.setCreationDate=function(jr){return Os(jr),this},vr.getCreationDate=function(jr){return Vr(jr)};var Qr,$r=vr.__private__.padd2=function(jr){return("0"+parseInt(jr)).slice(-2)},zr=vr.__private__.padd2Hex=function(jr){return("00"+(jr=jr.toString())).substr(jr.length)},cs=0,Jr=[],ls=[],hs=0,bs=[],Ts=[],Ds=!1,us=ls,ps=function(){cs=0,hs=0,ls=[],Jr=[],bs=[],Qi=Di(),ji=Di()};vr.__private__.setCustomOutputDestination=function(jr){Ds=!0,us=jr};var ms=function(jr){Ds||(us=jr)};vr.__private__.resetCustomOutputDestination=function(){Ds=!1,us=ls};var ss=vr.__private__.out=function(jr){return jr=jr.toString(),hs+=jr.length+1,us.push(jr),us},ks=vr.__private__.write=function(jr){return ss(arguments.length===1?jr.toString():Array.prototype.join.call(arguments," "))},as=vr.__private__.getArrayBuffer=function(jr){for(var ys=jr.length,Gs=new ArrayBuffer(ys),ti=new Uint8Array(Gs);ys--;)ti[ys]=jr.charCodeAt(ys);return Gs},fs=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];vr.__private__.getStandardFonts=function(){return fs};var ws=ar.fontSize||16;vr.__private__.setFontSize=vr.setFontSize=function(jr){return ws=Er===Sr.ADVANCED?jr/Bs:jr,this};var Is,Ps=vr.__private__.getFontSize=vr.getFontSize=function(){return Er===Sr.COMPAT?ws:ws*Bs},Ws=ar.R2L||!1;vr.__private__.setR2L=vr.setR2L=function(jr){return Ws=jr,this},vr.__private__.getR2L=vr.getR2L=function(){return Ws};var Ks,Fs=vr.__private__.setZoomMode=function(jr){var ys=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(jr))Is=jr;else if(isNaN(jr)){if(ys.indexOf(jr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+jr+'" is not recognized.');Is=jr}else Is=parseInt(jr,10)};vr.__private__.getZoomMode=function(){return Is};var ni,li=vr.__private__.setPageMode=function(jr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(jr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+jr+'" is not recognized.');Ks=jr};vr.__private__.getPageMode=function(){return Ks};var Si=vr.__private__.setLayoutMode=function(jr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(jr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+jr+'" is not recognized.');ni=jr};vr.__private__.getLayoutMode=function(){return ni},vr.__private__.setDisplayMode=vr.setDisplayMode=function(jr,ys,Gs){return Fs(jr),Si(ys),li(Gs),this};var Us={title:"",subject:"",author:"",keywords:"",creator:""};vr.__private__.getDocumentProperty=function(jr){if(Object.keys(Us).indexOf(jr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Us[jr]},vr.__private__.getDocumentProperties=function(){return Us},vr.__private__.setDocumentProperties=vr.setProperties=vr.setDocumentProperties=function(jr){for(var ys in Us)Us.hasOwnProperty(ys)&&jr[ys]&&(Us[ys]=jr[ys]);return this},vr.__private__.setDocumentProperty=function(jr,ys){if(Object.keys(Us).indexOf(jr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Us[jr]=ys};var Cs,Bs,$s,qs,bi,zs={},Vs={},Ys=[],fi={},Pi={},Ei={},Rs={},Js=null,oi=0,hi=[],Bi=new C(vr),Ii=ar.hotfixes||[],Ms={},_s={},Xs=[],Zs=function jr(ys,Gs,ti,gi,ki,Ui){if(!(this instanceof jr))return new jr(ys,Gs,ti,gi,ki,Ui);isNaN(ys)&&(ys=1),isNaN(Gs)&&(Gs=0),isNaN(ti)&&(ti=0),isNaN(gi)&&(gi=1),isNaN(ki)&&(ki=0),isNaN(Ui)&&(Ui=0),this._matrix=[ys,Gs,ti,gi,ki,Ui]};Object.defineProperty(Zs.prototype,"sx",{get:function(){return this._matrix[0]},set:function(jr){this._matrix[0]=jr}}),Object.defineProperty(Zs.prototype,"shy",{get:function(){return this._matrix[1]},set:function(jr){this._matrix[1]=jr}}),Object.defineProperty(Zs.prototype,"shx",{get:function(){return this._matrix[2]},set:function(jr){this._matrix[2]=jr}}),Object.defineProperty(Zs.prototype,"sy",{get:function(){return this._matrix[3]},set:function(jr){this._matrix[3]=jr}}),Object.defineProperty(Zs.prototype,"tx",{get:function(){return this._matrix[4]},set:function(jr){this._matrix[4]=jr}}),Object.defineProperty(Zs.prototype,"ty",{get:function(){return this._matrix[5]},set:function(jr){this._matrix[5]=jr}}),Object.defineProperty(Zs.prototype,"a",{get:function(){return this._matrix[0]},set:function(jr){this._matrix[0]=jr}}),Object.defineProperty(Zs.prototype,"b",{get:function(){return this._matrix[1]},set:function(jr){this._matrix[1]=jr}}),Object.defineProperty(Zs.prototype,"c",{get:function(){return this._matrix[2]},set:function(jr){this._matrix[2]=jr}}),Object.defineProperty(Zs.prototype,"d",{get:function(){return this._matrix[3]},set:function(jr){this._matrix[3]=jr}}),Object.defineProperty(Zs.prototype,"e",{get:function(){return this._matrix[4]},set:function(jr){this._matrix[4]=jr}}),Object.defineProperty(Zs.prototype,"f",{get:function(){return this._matrix[5]},set:function(jr){this._matrix[5]=jr}}),Object.defineProperty(Zs.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zs.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zs.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zs.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zs.prototype.join=function(jr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Rr).join(jr)},Zs.prototype.multiply=function(jr){var ys=jr.sx*this.sx+jr.shy*this.shx,Gs=jr.sx*this.shy+jr.shy*this.sy,ti=jr.shx*this.sx+jr.sy*this.shx,gi=jr.shx*this.shy+jr.sy*this.sy,ki=jr.tx*this.sx+jr.ty*this.shx+this.tx,Ui=jr.tx*this.shy+jr.ty*this.sy+this.ty;return new Zs(ys,Gs,ti,gi,ki,Ui)},Zs.prototype.decompose=function(){var jr=this.sx,ys=this.shy,Gs=this.shx,ti=this.sy,gi=this.tx,ki=this.ty,Ui=Math.sqrt(jr*jr+ys*ys),Wi=(jr/=Ui)*Gs+(ys/=Ui)*ti;Gs-=jr*Wi,ti-=ys*Wi;var no=Math.sqrt(Gs*Gs+ti*ti);return Wi/=no,jr*(ti/=no)<ys*(Gs/=no)&&(jr=-jr,ys=-ys,Wi=-Wi,Ui=-Ui),{scale:new Zs(Ui,0,0,no,0,0),translate:new Zs(1,0,0,1,gi,ki),rotate:new Zs(jr,ys,-ys,jr,0,0),skew:new Zs(1,0,Wi,1,0,0)}},Zs.prototype.toString=function(jr){return this.join(" ")},Zs.prototype.inversed=function(){var jr=this.sx,ys=this.shy,Gs=this.shx,ti=this.sy,gi=this.tx,ki=this.ty,Ui=1/(jr*ti-ys*Gs),Wi=ti*Ui,no=-ys*Ui,ao=-Gs*Ui,lo=jr*Ui;return new Zs(Wi,no,ao,lo,-Wi*gi-ao*ki,-no*gi-lo*ki)},Zs.prototype.applyToPoint=function(jr){var ys=jr.x*this.sx+jr.y*this.shx+this.tx,Gs=jr.x*this.shy+jr.y*this.sy+this.ty;return new vA(ys,Gs)},Zs.prototype.applyToRectangle=function(jr){var ys=this.applyToPoint(jr),Gs=this.applyToPoint(new vA(jr.x+jr.w,jr.y+jr.h));return new HA(ys.x,ys.y,Gs.x-ys.x,Gs.y-ys.y)},Zs.prototype.clone=function(){var jr=this.sx,ys=this.shy,Gs=this.shx,ti=this.sy,gi=this.tx,ki=this.ty;return new Zs(jr,ys,Gs,ti,gi,ki)},vr.Matrix=Zs;var pi=vr.matrixMult=function(jr,ys){return ys.multiply(jr)},wi=new Zs(1,0,0,1,0,0);vr.unitMatrix=vr.identityMatrix=wi;var Ci=function(jr,ys){if(!Pi[jr]){var Gs=(ys instanceof B?"Sh":"P")+(Object.keys(fi).length+1).toString(10);ys.id=Gs,Pi[jr]=Gs,fi[Gs]=ys,Bi.publish("addPattern",ys)}};vr.ShadingPattern=B,vr.TilingPattern=M,vr.addShadingPattern=function(jr,ys){return Lr("addShadingPattern()"),Ci(jr,ys),this},vr.beginTilingPattern=function(jr){Lr("beginTilingPattern()"),Ic(jr.boundingBox[0],jr.boundingBox[1],jr.boundingBox[2]-jr.boundingBox[0],jr.boundingBox[3]-jr.boundingBox[1],jr.matrix)},vr.endTilingPattern=function(jr,ys){Lr("endTilingPattern()"),ys.stream=Ts[Qr].join(`
`),Ci(jr,ys),Bi.publish("endTilingPattern",ys),Xs.pop().restore()};var Fi=vr.__private__.newObject=function(){var jr=Di();return Mi(jr,!0),jr},Di=vr.__private__.newObjectDeferred=function(){return cs++,Jr[cs]=function(){return hs},cs},Mi=function(jr,ys){return ys=typeof ys=="boolean"&&ys,Jr[jr]=hs,ys&&ss(jr+" 0 obj"),jr},Yi=vr.__private__.newAdditionalObject=function(){var jr={objId:Di(),content:""};return bs.push(jr),jr},Qi=Di(),ji=Di(),Gi=vr.__private__.decodeColorString=function(jr){var ys=jr.split(" ");if(ys.length!==2||ys[1]!=="g"&&ys[1]!=="G")ys.length===5&&(ys[4]==="k"||ys[4]==="K")&&(ys=[(1-ys[0])*(1-ys[3]),(1-ys[1])*(1-ys[3]),(1-ys[2])*(1-ys[3]),"r"]);else{var Gs=parseFloat(ys[0]);ys=[Gs,Gs,Gs,"r"]}for(var ti="#",gi=0;gi<3;gi++)ti+=("0"+Math.floor(255*parseFloat(ys[gi])).toString(16)).slice(-2);return ti},eo=vr.__private__.encodeColorString=function(jr){var ys;typeof jr=="string"&&(jr={ch1:jr});var Gs=jr.ch1,ti=jr.ch2,gi=jr.ch3,ki=jr.ch4,Ui=jr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Gs=="string"&&Gs.charAt(0)!=="#"){var Wi=new f(Gs);if(Wi.ok)Gs=Wi.toHex();else if(!/^\d*\.?\d*$/.test(Gs))throw new Error('Invalid color "'+Gs+'" passed to jsPDF.encodeColorString.')}if(typeof Gs=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Gs)&&(Gs="#"+Gs[1]+Gs[1]+Gs[2]+Gs[2]+Gs[3]+Gs[3]),typeof Gs=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Gs)){var no=parseInt(Gs.substr(1),16);Gs=no>>16&255,ti=no>>8&255,gi=255&no}if(ti===void 0||ki===void 0&&Gs===ti&&ti===gi)if(typeof Gs=="string")ys=Gs+" "+Ui[0];else switch(jr.precision){case 2:ys=Hr(Gs/255)+" "+Ui[0];break;case 3:default:ys=Mr(Gs/255)+" "+Ui[0]}else if(ki===void 0||_typeof$1(ki)==="object"){if(ki&&!isNaN(ki.a)&&ki.a===0)return ys=["1.","1.","1.",Ui[1]].join(" ");if(typeof Gs=="string")ys=[Gs,ti,gi,Ui[1]].join(" ");else switch(jr.precision){case 2:ys=[Hr(Gs/255),Hr(ti/255),Hr(gi/255),Ui[1]].join(" ");break;default:case 3:ys=[Mr(Gs/255),Mr(ti/255),Mr(gi/255),Ui[1]].join(" ")}}else if(typeof Gs=="string")ys=[Gs,ti,gi,ki,Ui[2]].join(" ");else switch(jr.precision){case 2:ys=[Hr(Gs),Hr(ti),Hr(gi),Hr(ki),Ui[2]].join(" ");break;case 3:default:ys=[Mr(Gs),Mr(ti),Mr(gi),Mr(ki),Ui[2]].join(" ")}return ys},so=vr.__private__.getFilters=function(){return dr},co=vr.__private__.putStream=function(jr){var ys=(jr=jr||{}).data||"",Gs=jr.filters||so(),ti=jr.alreadyAppliedFilters||[],gi=jr.addLength1||!1,ki=ys.length,Ui=jr.objectId,Wi=function(da){return da};if(pr!==null&&Ui===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");pr!==null&&(Wi=ua.encryptor(Ui,0));var no={};Gs===!0&&(Gs=["FlateEncode"]);var ao=jr.additionalKeyValues||[],lo=(no=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(ys,Gs):{data:ys,reverseChain:[]}).reverseChain+(Array.isArray(ti)?ti.join(" "):ti.toString());if(no.data.length!==0&&(ao.push({key:"Length",value:no.data.length}),gi===!0&&ao.push({key:"Length1",value:ki})),lo.length!=0)if(lo.split("/").length-1==1)ao.push({key:"Filter",value:lo});else{ao.push({key:"Filter",value:"["+lo+"]"});for(var go=0;go<ao.length;go+=1)if(ao[go].key==="DecodeParms"){for(var Io=[],No=0;No<no.reverseChain.split("/").length-1;No+=1)Io.push("null");Io.push(ao[go].value),ao[go].value="["+Io.join(" ")+"]"}}ss("<<");for(var oo=0;oo<ao.length;oo++)ss("/"+ao[oo].key+" "+ao[oo].value);ss(">>"),no.data.length!==0&&(ss("stream"),ss(Wi(no.data)),ss("endstream"))},xo=vr.__private__.putPage=function(jr){var ys=jr.number,Gs=jr.data,ti=jr.objId,gi=jr.contentsObjId;Mi(ti,!0),ss("<</Type /Page"),ss("/Parent "+jr.rootDictionaryObjId+" 0 R"),ss("/Resources "+jr.resourceDictionaryObjId+" 0 R"),ss("/MediaBox ["+parseFloat(Rr(jr.mediaBox.bottomLeftX))+" "+parseFloat(Rr(jr.mediaBox.bottomLeftY))+" "+Rr(jr.mediaBox.topRightX)+" "+Rr(jr.mediaBox.topRightY)+"]"),jr.cropBox!==null&&ss("/CropBox ["+Rr(jr.cropBox.bottomLeftX)+" "+Rr(jr.cropBox.bottomLeftY)+" "+Rr(jr.cropBox.topRightX)+" "+Rr(jr.cropBox.topRightY)+"]"),jr.bleedBox!==null&&ss("/BleedBox ["+Rr(jr.bleedBox.bottomLeftX)+" "+Rr(jr.bleedBox.bottomLeftY)+" "+Rr(jr.bleedBox.topRightX)+" "+Rr(jr.bleedBox.topRightY)+"]"),jr.trimBox!==null&&ss("/TrimBox ["+Rr(jr.trimBox.bottomLeftX)+" "+Rr(jr.trimBox.bottomLeftY)+" "+Rr(jr.trimBox.topRightX)+" "+Rr(jr.trimBox.topRightY)+"]"),jr.artBox!==null&&ss("/ArtBox ["+Rr(jr.artBox.bottomLeftX)+" "+Rr(jr.artBox.bottomLeftY)+" "+Rr(jr.artBox.topRightX)+" "+Rr(jr.artBox.topRightY)+"]"),typeof jr.userUnit=="number"&&jr.userUnit!==1&&ss("/UserUnit "+jr.userUnit),Bi.publish("putPage",{objId:ti,pageContext:hi[ys],pageNumber:ys,page:Gs}),ss("/Contents "+gi+" 0 R"),ss(">>"),ss("endobj");var ki=Gs.join(`
`);return Er===Sr.ADVANCED&&(ki+=`
Q`),Mi(gi,!0),co({data:ki,filters:so(),objectId:gi}),ss("endobj"),ti},vo=vr.__private__.putPages=function(){var jr,ys,Gs=[];for(jr=1;jr<=oi;jr++)hi[jr].objId=Di(),hi[jr].contentsObjId=Di();for(jr=1;jr<=oi;jr++)Gs.push(xo({number:jr,data:Ts[jr],objId:hi[jr].objId,contentsObjId:hi[jr].contentsObjId,mediaBox:hi[jr].mediaBox,cropBox:hi[jr].cropBox,bleedBox:hi[jr].bleedBox,trimBox:hi[jr].trimBox,artBox:hi[jr].artBox,userUnit:hi[jr].userUnit,rootDictionaryObjId:Qi,resourceDictionaryObjId:ji}));Mi(Qi,!0),ss("<</Type /Pages");var ti="/Kids [";for(ys=0;ys<oi;ys++)ti+=Gs[ys]+" 0 R ";ss(ti+"]"),ss("/Count "+oi),ss(">>"),ss("endobj"),Bi.publish("postPutPages")},la=function(jr){Bi.publish("putFont",{font:jr,out:ss,newObject:Fi,putStream:co}),jr.isAlreadyPutted!==!0&&(jr.objectNumber=Fi(),ss("<<"),ss("/Type /Font"),ss("/BaseFont /"+F(jr.postScriptName)),ss("/Subtype /Type1"),typeof jr.encoding=="string"&&ss("/Encoding /"+jr.encoding),ss("/FirstChar 32"),ss("/LastChar 255"),ss(">>"),ss("endobj"))},pa=function(){for(var jr in zs)zs.hasOwnProperty(jr)&&(mr===!1||mr===!0&&yr.hasOwnProperty(jr))&&la(zs[jr])},ga=function(jr){jr.objectNumber=Fi();var ys=[];ys.push({key:"Type",value:"/XObject"}),ys.push({key:"Subtype",value:"/Form"}),ys.push({key:"BBox",value:"["+[Rr(jr.x),Rr(jr.y),Rr(jr.x+jr.width),Rr(jr.y+jr.height)].join(" ")+"]"}),ys.push({key:"Matrix",value:"["+jr.matrix.toString()+"]"});var Gs=jr.pages[1].join(`
`);co({data:Gs,additionalKeyValues:ys,objectId:jr.objectNumber}),ss("endobj")},Al=function(){for(var jr in Ms)Ms.hasOwnProperty(jr)&&ga(Ms[jr])},dc=function(jr,ys){var Gs,ti=[],gi=1/(ys-1);for(Gs=0;Gs<1;Gs+=gi)ti.push(Gs);if(ti.push(1),jr[0].offset!=0){var ki={offset:0,color:jr[0].color};jr.unshift(ki)}if(jr[jr.length-1].offset!=1){var Ui={offset:1,color:jr[jr.length-1].color};jr.push(Ui)}for(var Wi="",no=0,ao=0;ao<ti.length;ao++){for(Gs=ti[ao];Gs>jr[no+1].offset;)no++;var lo=jr[no].offset,go=(Gs-lo)/(jr[no+1].offset-lo),Io=jr[no].color,No=jr[no+1].color;Wi+=zr(Math.round((1-go)*Io[0]+go*No[0]).toString(16))+zr(Math.round((1-go)*Io[1]+go*No[1]).toString(16))+zr(Math.round((1-go)*Io[2]+go*No[2]).toString(16))}return Wi.trim()},du=function(jr,ys){ys||(ys=21);var Gs=Fi(),ti=dc(jr.colors,ys),gi=[];gi.push({key:"FunctionType",value:"0"}),gi.push({key:"Domain",value:"[0.0 1.0]"}),gi.push({key:"Size",value:"["+ys+"]"}),gi.push({key:"BitsPerSample",value:"8"}),gi.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gi.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),co({data:ti,additionalKeyValues:gi,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Gs}),ss("endobj"),jr.objectNumber=Fi(),ss("<< /ShadingType "+jr.type),ss("/ColorSpace /DeviceRGB");var ki="/Coords ["+Rr(parseFloat(jr.coords[0]))+" "+Rr(parseFloat(jr.coords[1]))+" ";jr.type===2?ki+=Rr(parseFloat(jr.coords[2]))+" "+Rr(parseFloat(jr.coords[3])):ki+=Rr(parseFloat(jr.coords[2]))+" "+Rr(parseFloat(jr.coords[3]))+" "+Rr(parseFloat(jr.coords[4]))+" "+Rr(parseFloat(jr.coords[5])),ss(ki+="]"),jr.matrix&&ss("/Matrix ["+jr.matrix.toString()+"]"),ss("/Function "+Gs+" 0 R"),ss("/Extend [true true]"),ss(">>"),ss("endobj")},fu=function(jr,ys){var Gs=Di(),ti=Fi();ys.push({resourcesOid:Gs,objectOid:ti}),jr.objectNumber=ti;var gi=[];gi.push({key:"Type",value:"/Pattern"}),gi.push({key:"PatternType",value:"1"}),gi.push({key:"PaintType",value:"1"}),gi.push({key:"TilingType",value:"1"}),gi.push({key:"BBox",value:"["+jr.boundingBox.map(Rr).join(" ")+"]"}),gi.push({key:"XStep",value:Rr(jr.xStep)}),gi.push({key:"YStep",value:Rr(jr.yStep)}),gi.push({key:"Resources",value:Gs+" 0 R"}),jr.matrix&&gi.push({key:"Matrix",value:"["+jr.matrix.toString()+"]"}),co({data:jr.stream,additionalKeyValues:gi,objectId:jr.objectNumber}),ss("endobj")},el=function(jr){var ys;for(ys in fi)fi.hasOwnProperty(ys)&&(fi[ys]instanceof B?du(fi[ys]):fi[ys]instanceof M&&fu(fi[ys],jr))},DA=function(jr){for(var ys in jr.objectNumber=Fi(),ss("<<"),jr)switch(ys){case"opacity":ss("/ca "+Hr(jr[ys]));break;case"stroke-opacity":ss("/CA "+Hr(jr[ys]))}ss(">>"),ss("endobj")},dA=function(){var jr;for(jr in Ei)Ei.hasOwnProperty(jr)&&DA(Ei[jr])},fA=function(){for(var jr in ss("/XObject <<"),Ms)Ms.hasOwnProperty(jr)&&Ms[jr].objectNumber>=0&&ss("/"+jr+" "+Ms[jr].objectNumber+" 0 R");Bi.publish("putXobjectDict"),ss(">>")},Vl=function(){ua.oid=Fi(),ss("<<"),ss("/Filter /Standard"),ss("/V "+ua.v),ss("/R "+ua.r),ss("/U <"+ua.toHexString(ua.U)+">"),ss("/O <"+ua.toHexString(ua.O)+">"),ss("/P "+ua.P),ss(">>"),ss("endobj")},fc=function(){for(var jr in ss("/Font <<"),zs)zs.hasOwnProperty(jr)&&(mr===!1||mr===!0&&yr.hasOwnProperty(jr))&&ss("/"+jr+" "+zs[jr].objectNumber+" 0 R");ss(">>")},hu=function(){if(Object.keys(fi).length>0){for(var jr in ss("/Shading <<"),fi)fi.hasOwnProperty(jr)&&fi[jr]instanceof B&&fi[jr].objectNumber>=0&&ss("/"+jr+" "+fi[jr].objectNumber+" 0 R");Bi.publish("putShadingPatternDict"),ss(">>")}},cl=function(jr){if(Object.keys(fi).length>0){for(var ys in ss("/Pattern <<"),fi)fi.hasOwnProperty(ys)&&fi[ys]instanceof vr.TilingPattern&&fi[ys].objectNumber>=0&&fi[ys].objectNumber<jr&&ss("/"+ys+" "+fi[ys].objectNumber+" 0 R");Bi.publish("putTilingPatternDict"),ss(">>")}},Kl=function(){if(Object.keys(Ei).length>0){var jr;for(jr in ss("/ExtGState <<"),Ei)Ei.hasOwnProperty(jr)&&Ei[jr].objectNumber>=0&&ss("/"+jr+" "+Ei[jr].objectNumber+" 0 R");Bi.publish("putGStateDict"),ss(">>")}},$o=function(jr){Mi(jr.resourcesOid,!0),ss("<<"),ss("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fc(),hu(),cl(jr.objectOid),Kl(),fA(),ss(">>"),ss("endobj")},hc=function(){var jr=[];pa(),dA(),Al(),el(jr),Bi.publish("putResources"),jr.forEach($o),$o({resourcesOid:ji,objectOid:Number.MAX_SAFE_INTEGER}),Bi.publish("postPutResources")},pc=function(){Bi.publish("putAdditionalObjects");for(var jr=0;jr<bs.length;jr++){var ys=bs[jr];Mi(ys.objId,!0),ss(ys.content),ss("endobj")}Bi.publish("postPutAdditionalObjects")},Gl=function(jr){Vs[jr.fontName]=Vs[jr.fontName]||{},Vs[jr.fontName][jr.fontStyle]=jr.id},Cl=function(jr,ys,Gs,ti,gi){var ki={id:"F"+(Object.keys(zs).length+1).toString(10),postScriptName:jr,fontName:ys,fontStyle:Gs,encoding:ti,isStandardFont:gi||!1,metadata:{}};return Bi.publish("addFont",{font:ki,instance:this}),zs[ki.id]=ki,Gl(ki),ki.id},Wl=function(jr){for(var ys=0,Gs=fs.length;ys<Gs;ys++){var ti=Cl.call(this,jr[ys][0],jr[ys][1],jr[ys][2],fs[ys][3],!0);mr===!1&&(yr[ti]=!0);var gi=jr[ys][0].split("-");Gl({id:ti,fontName:gi[0],fontStyle:gi[1]||""})}Bi.publish("addFonts",{fonts:zs,dictionary:Vs})},Wa=function(jr){return jr.foo=function(){try{return jr.apply(this,arguments)}catch(ti){var ys=ti.stack||"";~ys.indexOf(" at ")&&(ys=ys.split(" at ")[1]);var Gs="Error in function "+ys.split(`
`)[0].split("<")[0]+": "+ti.message;if(!n.console)throw new Error(Gs);n.console.error(Gs,ti),n.alert&&alert(Gs)}},jr.foo.bar=jr,jr.foo},qo=function(jr,ys){var Gs,ti,gi,ki,Ui,Wi,no,ao,lo;if(gi=(ys=ys||{}).sourceEncoding||"Unicode",Ui=ys.outputEncoding,(ys.autoencode||Ui)&&zs[Cs].metadata&&zs[Cs].metadata[gi]&&zs[Cs].metadata[gi].encoding&&(ki=zs[Cs].metadata[gi].encoding,!Ui&&zs[Cs].encoding&&(Ui=zs[Cs].encoding),!Ui&&ki.codePages&&(Ui=ki.codePages[0]),typeof Ui=="string"&&(Ui=ki[Ui]),Ui)){for(no=!1,Wi=[],Gs=0,ti=jr.length;Gs<ti;Gs++)(ao=Ui[jr.charCodeAt(Gs)])?Wi.push(String.fromCharCode(ao)):Wi.push(jr[Gs]),Wi[Gs].charCodeAt(0)>>8&&(no=!0);jr=Wi.join("")}for(Gs=jr.length;no===void 0&&Gs!==0;)jr.charCodeAt(Gs-1)>>8&&(no=!0),Gs--;if(!no)return jr;for(Wi=ys.noBOM?[]:[254,255],Gs=0,ti=jr.length;Gs<ti;Gs++){if((lo=(ao=jr.charCodeAt(Gs))>>8)>>8)throw new Error("Character at position "+Gs+" of string '"+jr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wi.push(lo),Wi.push(ao-(lo<<8))}return String.fromCharCode.apply(void 0,Wi)},wa=vr.__private__.pdfEscape=vr.pdfEscape=function(jr,ys){return qo(jr,ys).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},UA=vr.__private__.beginPage=function(jr){Ts[++oi]=[],hi[oi]={objId:0,contentsObjId:0,userUnit:Number(hr),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(jr[0]),topRightY:Number(jr[1])}},mc(oi),ms(Ts[Qr])},gc=function(jr,ys){var Gs,ti,gi;switch(lr=ys||lr,typeof jr=="string"&&(Gs=Br(jr.toLowerCase()),Array.isArray(Gs)&&(ti=Gs[0],gi=Gs[1])),Array.isArray(jr)&&(ti=jr[0]*Bs,gi=jr[1]*Bs),isNaN(ti)&&(ti=cr[0],gi=cr[1]),(ti>14400||gi>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ti=Math.min(14400,ti),gi=Math.min(14400,gi)),cr=[ti,gi],lr.substr(0,1)){case"l":gi>ti&&(cr=[gi,ti]);break;case"p":ti>gi&&(cr=[gi,ti])}UA(cr),Fc(pA),ss(Ca),Yl!==0&&ss(Yl+" J"),jA!==0&&ss(jA+" j"),Bi.publish("addPage",{pageNumber:oi})},pu=function(jr){jr>0&&jr<=oi&&(Ts.splice(jr,1),hi.splice(jr,1),oi--,Qr>oi&&(Qr=oi),this.setPage(Qr))},mc=function(jr){jr>0&&jr<=oi&&(Qr=jr)},gu=vr.__private__.getNumberOfPages=vr.getNumberOfPages=function(){return Ts.length-1},vc=function(jr,ys,Gs){var ti,gi=void 0;return Gs=Gs||{},jr=jr!==void 0?jr:zs[Cs].fontName,ys=ys!==void 0?ys:zs[Cs].fontStyle,ti=jr.toLowerCase(),Vs[ti]!==void 0&&Vs[ti][ys]!==void 0?gi=Vs[ti][ys]:Vs[jr]!==void 0&&Vs[jr][ys]!==void 0?gi=Vs[jr][ys]:Gs.disableWarning===!1&&a.warn("Unable to look up font label for font '"+jr+"', '"+ys+"'. Refer to getFontList() for available fonts."),gi||Gs.noFallback||(gi=Vs.times[ys])==null&&(gi=Vs.times.normal),gi},mu=vr.__private__.putInfo=function(){var jr=Fi(),ys=function(ti){return ti};for(var Gs in pr!==null&&(ys=ua.encryptor(jr,0)),ss("<<"),ss("/Producer ("+wa(ys("jsPDF "+E.version))+")"),Us)Us.hasOwnProperty(Gs)&&Us[Gs]&&ss("/"+Gs.substr(0,1).toUpperCase()+Gs.substr(1)+" ("+wa(ys(Us[Gs]))+")");ss("/CreationDate ("+wa(ys(Yr))+")"),ss(">>"),ss("endobj")},Sl=vr.__private__.putCatalog=function(jr){var ys=(jr=jr||{}).rootDictionaryObjId||Qi;switch(Fi(),ss("<<"),ss("/Type /Catalog"),ss("/Pages "+ys+" 0 R"),Is||(Is="fullwidth"),Is){case"fullwidth":ss("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ss("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ss("/OpenAction [3 0 R /Fit]");break;case"original":ss("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Gs=""+Is;Gs.substr(Gs.length-1)==="%"&&(Is=parseInt(Is)/100),typeof Is=="number"&&ss("/OpenAction [3 0 R /XYZ null null "+Hr(Is)+"]")}switch(ni||(ni="continuous"),ni){case"continuous":ss("/PageLayout /OneColumn");break;case"single":ss("/PageLayout /SinglePage");break;case"two":case"twoleft":ss("/PageLayout /TwoColumnLeft");break;case"tworight":ss("/PageLayout /TwoColumnRight")}Ks&&ss("/PageMode /"+Ks),Bi.publish("putCatalog"),ss(">>"),ss("endobj")},vu=vr.__private__.putTrailer=function(){ss("trailer"),ss("<<"),ss("/Size "+(cs+1)),ss("/Root "+cs+" 0 R"),ss("/Info "+(cs-1)+" 0 R"),pr!==null&&ss("/Encrypt "+ua.oid+" 0 R"),ss("/ID [ <"+Zr+"> <"+Zr+"> ]"),ss(">>")},yc=vr.__private__.putHeader=function(){ss("%PDF-"+br),ss("%")},yu=vr.__private__.putXRef=function(){var jr="0000000000";ss("xref"),ss("0 "+(cs+1)),ss("0000000000 65535 f ");for(var ys=1;ys<=cs;ys++)typeof Jr[ys]=="function"?ss((jr+Jr[ys]()).slice(-10)+" 00000 n "):Jr[ys]!==void 0?ss((jr+Jr[ys]).slice(-10)+" 00000 n "):ss("0000000000 00000 n ")},ul=vr.__private__.buildDocument=function(){ps(),ms(ls),Bi.publish("buildDocument"),yc(),vo(),pc(),hc(),pr!==null&&Vl(),mu(),Sl();var jr=hs;return yu(),vu(),ss("startxref"),ss(""+jr),ss("%%EOF"),ms(Ts[Qr]),ls.join(`
`)},zl=vr.__private__.getBlob=function(jr){return new Blob([as(jr)],{type:"application/pdf"})},xl=vr.output=vr.__private__.output=Wa(function(jr,ys){switch(typeof(ys=ys||{})=="string"?ys={filename:ys}:ys.filename=ys.filename||"generated.pdf",jr){case void 0:return ul();case"save":vr.save(ys.filename);break;case"arraybuffer":return as(ul());case"blob":return zl(ul());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(zl(ul()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Gs="",ti=ul();try{Gs=h(ti)}catch{Gs=h(unescape(encodeURIComponent(ti)))}return"data:application/pdf;filename="+ys.filename+";base64,"+Gs;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var gi="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ki=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ys.pdfObjectUrl&&(gi=ys.pdfObjectUrl,ki="");var Ui='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+gi+'"'+ki+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ys)+");<\/script></body></html>",Wi=n.open();return Wi!==null&&Wi.document.write(Ui),Wi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var no='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ys.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ys.filename+'" width="500px" height="400px" /></body></html>',ao=n.open();if(ao!==null){ao.document.write(no);var lo=this;ao.document.documentElement.querySelector("#pdfViewer").onload=function(){ao.document.title=ys.filename,ao.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lo.output("bloburl"))}}return ao}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var go='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ys)+'"></iframe></body></html>',Io=n.open();if(Io!==null&&(Io.document.write(go),Io.document.title=ys.filename),Io||typeof safari>"u")return Io;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",ys);default:return null}}),tl=function(jr){return Array.isArray(Ii)===!0&&Ii.indexOf(jr)>-1};switch(Ar){case"pt":Bs=1;break;case"mm":Bs=72/25.4;break;case"cm":Bs=72/2.54;break;case"in":Bs=72;break;case"px":Bs=tl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Bs=12;break;case"ex":Bs=6;break;default:if(typeof Ar!="number")throw new Error("Invalid unit: "+Ar);Bs=Ar}var ua=null;Os(),As();var bu=function(jr){return pr!==null?ua.encryptor(jr,0):function(ys){return ys}},bc=vr.__private__.getPageInfo=vr.getPageInfo=function(jr){if(isNaN(jr)||jr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hi[jr].objId,pageNumber:jr,pageContext:hi[jr]}},io=vr.__private__.getPageInfoByObjId=function(jr){if(isNaN(jr)||jr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ys in hi)if(hi[ys].objId===jr)break;return bc(ys)},wu=vr.__private__.getCurrentPageInfo=vr.getCurrentPageInfo=function(){return{objId:hi[Qr].objId,pageNumber:Qr,pageContext:hi[Qr]}};vr.addPage=function(){return gc.apply(this,arguments),this},vr.setPage=function(){return mc.apply(this,arguments),ms.call(this,Ts[Qr]),this},vr.insertPage=function(jr){return this.addPage(),this.movePage(Qr,jr),this},vr.movePage=function(jr,ys){var Gs,ti;if(jr>ys){Gs=Ts[jr],ti=hi[jr];for(var gi=jr;gi>ys;gi--)Ts[gi]=Ts[gi-1],hi[gi]=hi[gi-1];Ts[ys]=Gs,hi[ys]=ti,this.setPage(ys)}else if(jr<ys){Gs=Ts[jr],ti=hi[jr];for(var ki=jr;ki<ys;ki++)Ts[ki]=Ts[ki+1],hi[ki]=hi[ki+1];Ts[ys]=Gs,hi[ys]=ti,this.setPage(ys)}return this},vr.deletePage=function(){return pu.apply(this,arguments),this},vr.__private__.text=vr.text=function(jr,ys,Gs,ti,gi){var ki,Ui,Wi,no,ao,lo,go,Io,No,oo=(ti=ti||{}).scope||this;if(typeof jr=="number"&&typeof ys=="number"&&(typeof Gs=="string"||Array.isArray(Gs))){var da=Gs;Gs=ys,ys=jr,jr=da}if(arguments[3]instanceof Zs?(Lr("The transform parameter of text() with a Matrix value"),No=gi):(Wi=arguments[4],no=arguments[5],_typeof$1(go=arguments[3])==="object"&&go!==null||(typeof Wi=="string"&&(no=Wi,Wi=null),typeof go=="string"&&(no=go,go=null),typeof go=="number"&&(Wi=go,go=null),ti={flags:go,angle:Wi,align:no})),isNaN(ys)||isNaN(Gs)||jr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(jr.length===0)return oo;var Yo="",Da=!1,ra=typeof ti.lineHeightFactor=="number"?ti.lineHeightFactor:Fl,Zo=oo.internal.scaleFactor;function Nc(Po){return Po=Po.split("	").join(Array(ti.TabLen||9).join(" ")),wa(Po,go)}function Ua(Po){for(var _o,zo=Po.concat(),Qo=[],yl=zo.length;yl--;)typeof(_o=zo.shift())=="string"?Qo.push(_o):Array.isArray(Po)&&(_o.length===1||_o[1]===void 0&&_o[2]===void 0)?Qo.push(_o[0]):Qo.push([_o[0],_o[1],_o[2]]);return Qo}function Ro(Po,_o){var zo;if(typeof Po=="string")zo=_o(Po)[0];else if(Array.isArray(Po)){for(var Qo,yl,WA=Po.concat(),Ll=[],Pc=WA.length;Pc--;)typeof(Qo=WA.shift())=="string"?Ll.push(_o(Qo)[0]):Array.isArray(Qo)&&typeof Qo[0]=="string"&&(yl=_o(Qo[0],Qo[1],Qo[2]),Ll.push([yl[0],yl[1],yl[2]]));zo=Ll}return zo}var Jl=!1,Vo=!0;if(typeof jr=="string")Jl=!0;else if(Array.isArray(jr)){var Zl=jr.concat();Ui=[];for(var ka,Ko=Zl.length;Ko--;)(typeof(ka=Zl.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(Vo=!1);Jl=Vo}if(Jl===!1)throw new Error('Type of text must be string or Array. "'+jr+'" is not recognized.');typeof jr=="string"&&(jr=jr.match(/[\r?\n]/)?jr.split(/\r\n|\r|\n/g):[jr]);var Bo=ws/oo.internal.scaleFactor,eA=Bo*(ra-1);switch(ti.baseline){case"bottom":Gs-=eA;break;case"top":Gs+=Bo-eA;break;case"hanging":Gs+=Bo-2*eA;break;case"middle":Gs+=Bo/2-eA}if((lo=ti.maxWidth||0)>0&&(typeof jr=="string"?jr=oo.splitTextToSize(jr,lo):Object.prototype.toString.call(jr)==="[object Array]"&&(jr=jr.reduce(function(Po,_o){return Po.concat(oo.splitTextToSize(_o,lo))},[]))),ki={text:jr,x:ys,y:Gs,options:ti,mutex:{pdfEscape:wa,activeFontKey:Cs,fonts:zs,activeFontSize:ws}},Bi.publish("preProcessText",ki),jr=ki.text,Wi=(ti=ki.options).angle,!(No instanceof Zs)&&Wi&&typeof Wi=="number"){Wi*=Math.PI/180,ti.rotationDirection===0&&(Wi=-Wi),Er===Sr.ADVANCED&&(Wi=-Wi);var tA=Math.cos(Wi),bA=Math.sin(Wi);No=new Zs(tA,bA,-bA,tA,0,0)}else Wi&&Wi instanceof Zs&&(No=Wi);Er!==Sr.ADVANCED||No||(No=wi),(ao=ti.charSpace||Ta)!==void 0&&(Yo+=Rr(Ur(ao))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Io=ti.horizontalScale)!==void 0&&(Yo+=Rr(100*Io)+` Tz
`),ti.lang;var ma=-1,wA=ti.renderingMode!==void 0?ti.renderingMode:ti.stroke,BA=oo.internal.getCurrentPageInfo().pageContext;switch(wA){case 0:case!1:case"fill":ma=0;break;case 1:case!0:case"stroke":ma=1;break;case 2:case"fillThenStroke":ma=2;break;case 3:case"invisible":ma=3;break;case 4:case"fillAndAddForClipping":ma=4;break;case 5:case"strokeAndAddPathForClipping":ma=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ma=6;break;case 7:case"addToPathForClipping":ma=7}var GA=BA.usedRenderingMode!==void 0?BA.usedRenderingMode:-1;ma!==-1?Yo+=ma+` Tr
`:GA!==-1&&(Yo+=`0 Tr
`),ma!==-1&&(BA.usedRenderingMode=ma),no=ti.align||"left";var Do,Ia=ws*ra,za=oo.internal.pageSize.getWidth(),Go=zs[Cs];ao=ti.charSpace||Ta,lo=ti.maxWidth||0,go=Object.assign({autoencode:!0,noBOM:!0},ti.flags);var va=[],_l=function(Po){return oo.getStringUnitWidth(Po,{font:Go,charSpace:ao,fontSize:ws,doKerning:!1})*ws/Zo};if(Object.prototype.toString.call(jr)==="[object Array]"){var ya;Ui=Ua(jr),no!=="left"&&(Do=Ui.map(_l));var Aa,pl=0;if(no==="right"){ys-=Do[0],jr=[],Ko=Ui.length;for(var gl=0;gl<Ko;gl++)gl===0?(Aa=rl(ys),ya=hl(Gs)):(Aa=Ur(pl-Do[gl]),ya=-Ia),jr.push([Ui[gl],Aa,ya]),pl=Do[gl]}else if(no==="center"){ys-=Do[0]/2,jr=[],Ko=Ui.length;for(var Na=0;Na<Ko;Na++)Na===0?(Aa=rl(ys),ya=hl(Gs)):(Aa=Ur((pl-Do[Na])/2),ya=-Ia),jr.push([Ui[Na],Aa,ya]),pl=Do[Na]}else if(no==="left"){jr=[],Ko=Ui.length;for(var Sa=0;Sa<Ko;Sa++)jr.push(Ui[Sa])}else if(no==="justify"&&Go.encoding==="Identity-H"){jr=[],Ko=Ui.length,lo=lo!==0?lo:za;for(var ml=0,Wo=0;Wo<Ko;Wo++)if(ya=Wo===0?hl(Gs):-Ia,Aa=Wo===0?rl(ys):ml,Wo<Ko-1){var Ol=Ur((lo-Do[Wo])/(Ui[Wo].split(" ").length-1)),fa=Ui[Wo].split(" ");jr.push([fa[0]+" ",Aa,ya]),ml=0;for(var Qa=1;Qa<fa.length;Qa++){var CA=(_l(fa[Qa-1]+" "+fa[Qa])-_l(fa[Qa]))*Zo+Ol;Qa==fa.length-1?jr.push([fa[Qa],CA,0]):jr.push([fa[Qa]+" ",CA,0]),ml-=CA}}else jr.push([Ui[Wo],Aa,ya]);jr.push(["",ml,0])}else{if(no!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(jr=[],Ko=Ui.length,lo=lo!==0?lo:za,Wo=0;Wo<Ko;Wo++)ya=Wo===0?hl(Gs):-Ia,Aa=Wo===0?rl(ys):0,Wo<Ko-1?va.push(Rr(Ur((lo-Do[Wo])/(Ui[Wo].split(" ").length-1)))):va.push(0),jr.push([Ui[Wo],Aa,ya])}}var xa=typeof ti.R2L=="boolean"?ti.R2L:Ws;xa===!0&&(jr=Ro(jr,function(Po,_o,zo){return[Po.split("").reverse().join(""),_o,zo]})),ki={text:jr,x:ys,y:Gs,options:ti,mutex:{pdfEscape:wa,activeFontKey:Cs,fonts:zs,activeFontSize:ws}},Bi.publish("postProcessText",ki),jr=ki.text,Da=ki.mutex.isHex||!1;var SA=zs[Cs].encoding;SA!=="WinAnsiEncoding"&&SA!=="StandardEncoding"||(jr=Ro(jr,function(Po,_o,zo){return[Nc(Po),_o,zo]})),Ui=Ua(jr),jr=[];for(var nA,rA,Xa,sA=0,iA=1,Ml=Array.isArray(Ui[0])?iA:sA,vl="",xA=function(Po,_o,zo){var Qo="";return zo instanceof Zs?(zo=typeof ti.angle=="number"?pi(zo,new Zs(1,0,0,1,Po,_o)):pi(new Zs(1,0,0,1,Po,_o),zo),Er===Sr.ADVANCED&&(zo=pi(new Zs(1,0,0,-1,0,0),zo)),Qo=zo.join(" ")+` Tm
`):Qo=Rr(Po)+" "+Rr(_o)+` Td
`,Qo},Pa=0;Pa<Ui.length;Pa++){switch(vl="",Ml){case iA:Xa=(Da?"<":"(")+Ui[Pa][0]+(Da?">":")"),nA=parseFloat(Ui[Pa][1]),rA=parseFloat(Ui[Pa][2]);break;case sA:Xa=(Da?"<":"(")+Ui[Pa]+(Da?">":")"),nA=rl(ys),rA=hl(Gs)}va!==void 0&&va[Pa]!==void 0&&(vl=va[Pa]+` Tw
`),Pa===0?jr.push(vl+xA(nA,rA,No)+Xa):Ml===sA?jr.push(vl+Xa):Ml===iA&&jr.push(vl+xA(nA,rA,No)+Xa)}jr=Ml===sA?jr.join(` Tj
T* `):jr.join(` Tj
`),jr+=` Tj
`;var Oa=`BT
/`;return Oa+=Cs+" "+ws+` Tf
`,Oa+=Rr(ws*ra)+` TL
`,Oa+=Il+`
`,Oa+=Yo,Oa+=jr,ss(Oa+="ET"),yr[Cs]=!0,oo};var Bu=vr.__private__.clip=vr.clip=function(jr){return ss(jr==="evenodd"?"W*":"W"),this};vr.clipEvenOdd=function(){return Bu("evenodd")},vr.__private__.discardPath=vr.discardPath=function(){return ss("n"),this};var nl=vr.__private__.isValidStyle=function(jr){var ys=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(jr)!==-1&&(ys=!0),ys};vr.__private__.setDefaultPathOperation=vr.setDefaultPathOperation=function(jr){return nl(jr)&&(gr=jr),this};var wc=vr.__private__.getStyle=vr.getStyle=function(jr){var ys=gr;switch(jr){case"D":case"S":ys="S";break;case"F":ys="f";break;case"FD":case"DF":ys="B";break;case"f":case"f*":case"B":case"B*":ys=jr}return ys},Bc=vr.close=function(){return ss("h"),this};vr.stroke=function(){return ss("S"),this},vr.fill=function(jr){return hA("f",jr),this},vr.fillEvenOdd=function(jr){return hA("f*",jr),this},vr.fillStroke=function(jr){return hA("B",jr),this},vr.fillStrokeEvenOdd=function(jr){return hA("B*",jr),this};var hA=function(jr,ys){_typeof$1(ys)==="object"?Sc(ys,jr):ss(jr)},Ba=function(jr){jr===null||Er===Sr.ADVANCED&&jr===void 0||(jr=wc(jr),ss(jr))};function Cc(jr,ys,Gs,ti,gi){var ki=new M(ys||this.boundingBox,Gs||this.xStep,ti||this.yStep,this.gState,gi||this.matrix);ki.stream=this.stream;var Ui=jr+"$$"+this.cloneIndex+++"$$";return Ci(Ui,ki),ki}var Sc=function(jr,ys){var Gs=Pi[jr.key],ti=fi[Gs];if(ti instanceof B)ss("q"),ss(xc(ys)),ti.gState&&vr.setGState(ti.gState),ss(jr.matrix.toString()+" cm"),ss("/"+Gs+" sh"),ss("Q");else if(ti instanceof M){var gi=new Zs(1,0,0,-1,0,Pl());jr.matrix&&(gi=gi.multiply(jr.matrix||wi),Gs=Cc.call(ti,jr.key,jr.boundingBox,jr.xStep,jr.yStep,gi).id),ss("q"),ss("/Pattern cs"),ss("/"+Gs+" scn"),ti.gState&&vr.setGState(ti.gState),ss(ys),ss("Q")}},xc=function(jr){switch(jr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},QA=vr.moveTo=function(jr,ys){return ss(Rr(Ur(jr))+" "+Rr(Xr(ys))+" m"),this},Xl=vr.lineTo=function(jr,ys){return ss(Rr(Ur(jr))+" "+Rr(Xr(ys))+" l"),this},El=vr.curveTo=function(jr,ys,Gs,ti,gi,ki){return ss([Rr(Ur(jr)),Rr(Xr(ys)),Rr(Ur(Gs)),Rr(Xr(ti)),Rr(Ur(gi)),Rr(Xr(ki)),"c"].join(" ")),this};vr.__private__.line=vr.line=function(jr,ys,Gs,ti,gi){if(isNaN(jr)||isNaN(ys)||isNaN(Gs)||isNaN(ti)||!nl(gi))throw new Error("Invalid arguments passed to jsPDF.line");return Er===Sr.COMPAT?this.lines([[Gs-jr,ti-ys]],jr,ys,[1,1],gi||"S"):this.lines([[Gs-jr,ti-ys]],jr,ys,[1,1]).stroke()},vr.__private__.lines=vr.lines=function(jr,ys,Gs,ti,gi,ki){var Ui,Wi,no,ao,lo,go,Io,No,oo,da,Yo,Da;if(typeof jr=="number"&&(Da=Gs,Gs=ys,ys=jr,jr=Da),ti=ti||[1,1],ki=ki||!1,isNaN(ys)||isNaN(Gs)||!Array.isArray(jr)||!Array.isArray(ti)||!nl(gi)||typeof ki!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(QA(ys,Gs),Ui=ti[0],Wi=ti[1],ao=jr.length,da=ys,Yo=Gs,no=0;no<ao;no++)(lo=jr[no]).length===2?(da=lo[0]*Ui+da,Yo=lo[1]*Wi+Yo,Xl(da,Yo)):(go=lo[0]*Ui+da,Io=lo[1]*Wi+Yo,No=lo[2]*Ui+da,oo=lo[3]*Wi+Yo,da=lo[4]*Ui+da,Yo=lo[5]*Wi+Yo,El(go,Io,No,oo,da,Yo));return ki&&Bc(),Ba(gi),this},vr.path=function(jr){for(var ys=0;ys<jr.length;ys++){var Gs=jr[ys],ti=Gs.c;switch(Gs.op){case"m":QA(ti[0],ti[1]);break;case"l":Xl(ti[0],ti[1]);break;case"c":El.apply(this,ti);break;case"h":Bc()}}return this},vr.__private__.rect=vr.rect=function(jr,ys,Gs,ti,gi){if(isNaN(jr)||isNaN(ys)||isNaN(Gs)||isNaN(ti)||!nl(gi))throw new Error("Invalid arguments passed to jsPDF.rect");return Er===Sr.COMPAT&&(ti=-ti),ss([Rr(Ur(jr)),Rr(Xr(ys)),Rr(Ur(Gs)),Rr(Ur(ti)),"re"].join(" ")),Ba(gi),this},vr.__private__.triangle=vr.triangle=function(jr,ys,Gs,ti,gi,ki,Ui){if(isNaN(jr)||isNaN(ys)||isNaN(Gs)||isNaN(ti)||isNaN(gi)||isNaN(ki)||!nl(Ui))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Gs-jr,ti-ys],[gi-Gs,ki-ti],[jr-gi,ys-ki]],jr,ys,[1,1],Ui,!0),this},vr.__private__.roundedRect=vr.roundedRect=function(jr,ys,Gs,ti,gi,ki,Ui){if(isNaN(jr)||isNaN(ys)||isNaN(Gs)||isNaN(ti)||isNaN(gi)||isNaN(ki)||!nl(Ui))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wi=4/3*(Math.SQRT2-1);return gi=Math.min(gi,.5*Gs),ki=Math.min(ki,.5*ti),this.lines([[Gs-2*gi,0],[gi*Wi,0,gi,ki-ki*Wi,gi,ki],[0,ti-2*ki],[0,ki*Wi,-gi*Wi,ki,-gi,ki],[2*gi-Gs,0],[-gi*Wi,0,-gi,-ki*Wi,-gi,-ki],[0,2*ki-ti],[0,-ki*Wi,gi*Wi,-ki,gi,-ki]],jr+gi,ys,[1,1],Ui,!0),this},vr.__private__.ellipse=vr.ellipse=function(jr,ys,Gs,ti,gi){if(isNaN(jr)||isNaN(ys)||isNaN(Gs)||isNaN(ti)||!nl(gi))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ki=4/3*(Math.SQRT2-1)*Gs,Ui=4/3*(Math.SQRT2-1)*ti;return QA(jr+Gs,ys),El(jr+Gs,ys-Ui,jr+ki,ys-ti,jr,ys-ti),El(jr-ki,ys-ti,jr-Gs,ys-Ui,jr-Gs,ys),El(jr-Gs,ys+Ui,jr-ki,ys+ti,jr,ys+ti),El(jr+ki,ys+ti,jr+Gs,ys+Ui,jr+Gs,ys),Ba(gi),this},vr.__private__.circle=vr.circle=function(jr,ys,Gs,ti){if(isNaN(jr)||isNaN(ys)||isNaN(Gs)||!nl(ti))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(jr,ys,Gs,Gs,ti)},vr.setFont=function(jr,ys,Gs){return Gs&&(ys=Or(ys,Gs)),Cs=vc(jr,ys,{disableWarning:!1}),this};var Ec=vr.__private__.getFont=vr.getFont=function(){return zs[vc.apply(vr,arguments)]};vr.__private__.getFontList=vr.getFontList=function(){var jr,ys,Gs={};for(jr in Vs)if(Vs.hasOwnProperty(jr))for(ys in Gs[jr]=[],Vs[jr])Vs[jr].hasOwnProperty(ys)&&Gs[jr].push(ys);return Gs},vr.addFont=function(jr,ys,Gs,ti,gi){var ki=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ki.indexOf(arguments[3])!==-1?gi=arguments[3]:arguments[3]&&ki.indexOf(arguments[3])==-1&&(Gs=Or(Gs,ti)),gi=gi||"Identity-H",Cl.call(this,jr,ys,Gs,gi)};var Fl,pA=ar.lineWidth||.200025,gA=vr.__private__.getLineWidth=vr.getLineWidth=function(){return pA},Fc=vr.__private__.setLineWidth=vr.setLineWidth=function(jr){return pA=jr,ss(Rr(Ur(jr))+" w"),this};vr.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(jr,ys){if(jr=jr||[],ys=ys||0,isNaN(ys)||!Array.isArray(jr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return jr=jr.map(function(Gs){return Rr(Ur(Gs))}).join(" "),ys=Rr(Ur(ys)),ss("["+jr+"] "+ys+" d"),this};var Jo=vr.__private__.getLineHeight=vr.getLineHeight=function(){return ws*Fl};vr.__private__.getLineHeight=vr.getLineHeight=function(){return ws*Fl};var Tc=vr.__private__.setLineHeightFactor=vr.setLineHeightFactor=function(jr){return typeof(jr=jr||1.15)=="number"&&(Fl=jr),this},dl=vr.__private__.getLineHeightFactor=vr.getLineHeightFactor=function(){return Fl};Tc(ar.lineHeight);var rl=vr.__private__.getHorizontalCoordinate=function(jr){return Ur(jr)},hl=vr.__private__.getVerticalCoordinate=function(jr){return Er===Sr.ADVANCED?jr:hi[Qr].mediaBox.topRightY-hi[Qr].mediaBox.bottomLeftY-Ur(jr)},Cu=vr.__private__.getHorizontalCoordinateString=vr.getHorizontalCoordinateString=function(jr){return Rr(rl(jr))},Tl=vr.__private__.getVerticalCoordinateString=vr.getVerticalCoordinateString=function(jr){return Rr(hl(jr))},Ca=ar.strokeColor||"0 G";vr.__private__.getStrokeColor=vr.getDrawColor=function(){return Gi(Ca)},vr.__private__.setStrokeColor=vr.setDrawColor=function(jr,ys,Gs,ti){return Ca=eo({ch1:jr,ch2:ys,ch3:Gs,ch4:ti,pdfColorType:"draw",precision:2}),ss(Ca),this};var kl=ar.fillColor||"0 g";vr.__private__.getFillColor=vr.getFillColor=function(){return Gi(kl)},vr.__private__.setFillColor=vr.setFillColor=function(jr,ys,Gs,ti){return kl=eo({ch1:jr,ch2:ys,ch3:Gs,ch4:ti,pdfColorType:"fill",precision:2}),ss(kl),this};var Il=ar.textColor||"0 g",Su=vr.__private__.getTextColor=vr.getTextColor=function(){return Gi(Il)};vr.__private__.setTextColor=vr.setTextColor=function(jr,ys,Gs,ti){return Il=eo({ch1:jr,ch2:ys,ch3:Gs,ch4:ti,pdfColorType:"text",precision:3}),this};var Ta=ar.charSpace,mA=vr.__private__.getCharSpace=vr.getCharSpace=function(){return parseFloat(Ta||0)};vr.__private__.setCharSpace=vr.setCharSpace=function(jr){if(isNaN(jr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ta=jr,this};var Yl=0;vr.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},vr.__private__.setLineCap=vr.setLineCap=function(jr){var ys=vr.CapJoinStyles[jr];if(ys===void 0)throw new Error("Line cap style of '"+jr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=ys,ss(ys+" J"),this};var jA=0;vr.__private__.setLineJoin=vr.setLineJoin=function(jr){var ys=vr.CapJoinStyles[jr];if(ys===void 0)throw new Error("Line join style of '"+jr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jA=ys,ss(ys+" j"),this},vr.__private__.setLineMiterLimit=vr.__private__.setMiterLimit=vr.setLineMiterLimit=vr.setMiterLimit=function(jr){if(jr=jr||0,isNaN(jr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ss(Rr(Ur(jr))+" M"),this},vr.GState=j,vr.setGState=function(jr){(jr=typeof jr=="string"?Ei[Rs[jr]]:kc(null,jr)).equals(Js)||(ss("/"+jr.id+" gs"),Js=jr)};var kc=function(jr,ys){if(!jr||!Rs[jr]){var Gs=!1;for(var ti in Ei)if(Ei.hasOwnProperty(ti)&&Ei[ti].equals(ys)){Gs=!0;break}if(Gs)ys=Ei[ti];else{var gi="GS"+(Object.keys(Ei).length+1).toString(10);Ei[gi]=ys,ys.id=gi}return jr&&(Rs[jr]=ys.id),Bi.publish("addGState",ys),ys}};vr.addGState=function(jr,ys){return kc(jr,ys),this},vr.saveGraphicsState=function(){return ss("q"),Ys.push({key:Cs,size:ws,color:Il}),this},vr.restoreGraphicsState=function(){ss("Q");var jr=Ys.pop();return Cs=jr.key,ws=jr.size,Il=jr.color,Js=null,this},vr.setCurrentTransformationMatrix=function(jr){return ss(jr.toString()+" cm"),this},vr.comment=function(jr){return ss("#"+jr),this};var vA=function(jr,ys){var Gs=jr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Gs},set:function(ki){isNaN(ki)||(Gs=parseFloat(ki))}});var ti=ys||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ti},set:function(ki){isNaN(ki)||(ti=parseFloat(ki))}});var gi="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return gi},set:function(ki){gi=ki.toString()}}),this},HA=function(jr,ys,Gs,ti){vA.call(this,jr,ys),this.type="rect";var gi=Gs||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return gi},set:function(Ui){isNaN(Ui)||(gi=parseFloat(Ui))}});var ki=ti||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ki},set:function(Ui){isNaN(Ui)||(ki=parseFloat(Ui))}}),this},$A=function(){this.page=oi,this.currentPage=Qr,this.pages=Ts.slice(0),this.pagesContext=hi.slice(0),this.x=$s,this.y=qs,this.matrix=bi,this.width=ql(Qr),this.height=Pl(Qr),this.outputDestination=us,this.id="",this.objectNumber=-1};$A.prototype.restore=function(){oi=this.page,Qr=this.currentPage,hi=this.pagesContext,Ts=this.pages,$s=this.x,qs=this.y,bi=this.matrix,VA(Qr,this.width),KA(Qr,this.height),us=this.outputDestination};var Ic=function(jr,ys,Gs,ti,gi){Xs.push(new $A),oi=Qr=0,Ts=[],$s=jr,qs=ys,bi=gi,UA([Gs,ti])},xu=function(jr){if(_s[jr])Xs.pop().restore();else{var ys=new $A,Gs="Xo"+(Object.keys(Ms).length+1).toString(10);ys.id=Gs,_s[jr]=Gs,Ms[Gs]=ys,Bi.publish("addFormObject",ys),Xs.pop().restore()}};for(var yA in vr.beginFormObject=function(jr,ys,Gs,ti,gi){return Ic(jr,ys,Gs,ti,gi),this},vr.endFormObject=function(jr){return xu(jr),this},vr.doFormObject=function(jr,ys){var Gs=Ms[_s[jr]];return ss("q"),ss(ys.toString()+" cm"),ss("/"+Gs.id+" Do"),ss("Q"),this},vr.getFormObject=function(jr){var ys=Ms[_s[jr]];return{x:ys.x,y:ys.y,width:ys.width,height:ys.height,matrix:ys.matrix}},vr.save=function(jr,ys){return jr=jr||"generated.pdf",(ys=ys||{}).returnPromise=ys.returnPromise||!1,ys.returnPromise===!1?(l(zl(ul()),jr),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(Gs,ti){try{var gi=l(zl(ul()),jr);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),Gs(gi)}catch(ki){ti(ki.message)}})},E.API)E.API.hasOwnProperty(yA)&&(yA==="events"&&E.API.events.length?function(jr,ys){var Gs,ti,gi;for(gi=ys.length-1;gi!==-1;gi--)Gs=ys[gi][0],ti=ys[gi][1],jr.subscribe.apply(jr,[Gs].concat(typeof ti=="function"?[ti]:ti))}(Bi,E.API.events):vr[yA]=E.API[yA]);var ql=vr.getPageWidth=function(jr){return(hi[jr=jr||Qr].mediaBox.topRightX-hi[jr].mediaBox.bottomLeftX)/Bs},VA=vr.setPageWidth=function(jr,ys){hi[jr].mediaBox.topRightX=ys*Bs+hi[jr].mediaBox.bottomLeftX},Pl=vr.getPageHeight=function(jr){return(hi[jr=jr||Qr].mediaBox.topRightY-hi[jr].mediaBox.bottomLeftY)/Bs},KA=vr.setPageHeight=function(jr,ys){hi[jr].mediaBox.topRightY=ys*Bs+hi[jr].mediaBox.bottomLeftY};return vr.internal={pdfEscape:wa,getStyle:wc,getFont:Ec,getFontSize:Ps,getCharSpace:mA,getTextColor:Su,getLineHeight:Jo,getLineHeightFactor:dl,getLineWidth:gA,write:ks,getHorizontalCoordinate:rl,getVerticalCoordinate:hl,getCoordinateString:Cu,getVerticalCoordinateString:Tl,collections:{},newObject:Fi,newAdditionalObject:Yi,newObjectDeferred:Di,newObjectDeferredBegin:Mi,getFilters:so,putStream:co,events:Bi,scaleFactor:Bs,pageSize:{getWidth:function(){return ql(Qr)},setWidth:function(jr){VA(Qr,jr)},getHeight:function(){return Pl(Qr)},setHeight:function(jr){KA(Qr,jr)}},encryptionOptions:pr,encryption:ua,getEncryptor:bu,output:xl,getNumberOfPages:gu,pages:Ts,out:ss,f2:Hr,f3:Mr,getPageInfo:bc,getPageInfoByObjId:io,getCurrentPageInfo:wu,getPDFVersion:wr,Point:vA,Rectangle:HA,Matrix:Zs,hasHotfix:tl},Object.defineProperty(vr.internal.pageSize,"width",{get:function(){return ql(Qr)},set:function(jr){VA(Qr,jr)},enumerable:!0,configurable:!0}),Object.defineProperty(vr.internal.pageSize,"height",{get:function(){return Pl(Qr)},set:function(jr){KA(Qr,jr)},enumerable:!0,configurable:!0}),Wl.call(vr,fs),Cs="F1",gc(cr,lr),Bi.publish("initialized"),vr}I.prototype.lsbFirstWord=function(ar){return String.fromCharCode(ar>>0&255,ar>>8&255,ar>>16&255,ar>>24&255)},I.prototype.toHexString=function(ar){return ar.split("").map(function(or){return("0"+(255&or.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(ar){for(var or=[],lr=0;lr<ar.length;lr+=2)or.push(String.fromCharCode(parseInt(ar.substr(lr,2),16)));return or.join("")},I.prototype.processOwnerPassword=function(ar,or){return P(x(or).substr(0,5),ar)},I.prototype.encryptor=function(ar,or){var lr=x(this.encryptionKey+String.fromCharCode(255&ar,ar>>8&255,ar>>16&255,255&or,or>>8&255)).substr(0,10);return function(Ar){return P(lr,Ar)}},j.prototype.equals=function(ar){var or,lr="id,objectNumber,equals";if(!ar||_typeof$1(ar)!==_typeof$1(this))return!1;var Ar=0;for(or in this)if(!(lr.indexOf(or)>=0)){if(this.hasOwnProperty(or)&&!ar.hasOwnProperty(or)||this[or]!==ar[or])return!1;Ar++}for(or in ar)ar.hasOwnProperty(or)&&lr.indexOf(or)<0&&Ar--;return Ar===0},E.API={events:[]},E.version="3.0.1";var q=E.API,D=1,R=function(ar){return ar.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(ar){return ar.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(ar){return ar.toFixed(2)},z=function(ar){return ar.toFixed(5)};q.__acroform__={};var H=function(ar,or){ar.prototype=Object.create(or.prototype),ar.prototype.constructor=ar},W=function(ar){return ar*D},V=function(ar){var or=new ut,lr=At.internal.getHeight(ar)||0,Ar=At.internal.getWidth(ar)||0;return or.BBox=[0,0,Number(U(Ar)),Number(U(lr))],or},G=q.__acroform__.setBit=function(ar,or){if(ar=ar||0,or=or||0,isNaN(ar)||isNaN(or))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return ar|=1<<or},Y=q.__acroform__.clearBit=function(ar,or){if(ar=ar||0,or=or||0,isNaN(ar)||isNaN(or))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return ar&=~(1<<or)},J=q.__acroform__.getBit=function(ar,or){if(isNaN(ar)||isNaN(or))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return ar&1<<or?1:0},X=q.__acroform__.getBitForPdf=function(ar,or){if(isNaN(ar)||isNaN(or))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(ar,or-1)},K=q.__acroform__.setBitForPdf=function(ar,or){if(isNaN(ar)||isNaN(or))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(ar,or-1)},Z=q.__acroform__.clearBitForPdf=function(ar,or){if(isNaN(ar)||isNaN(or))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(ar,or-1)},$=q.__acroform__.calculateCoordinates=function(ar,or){var lr=or.internal.getHorizontalCoordinate,Ar=or.internal.getVerticalCoordinate,cr=ar[0],ur=ar[1],dr=ar[2],hr=ar[3],fr={};return fr.lowerLeft_X=lr(cr)||0,fr.lowerLeft_Y=Ar(ur+hr)||0,fr.upperRight_X=lr(cr+dr)||0,fr.upperRight_Y=Ar(ur)||0,[Number(U(fr.lowerLeft_X)),Number(U(fr.lowerLeft_Y)),Number(U(fr.upperRight_X)),Number(U(fr.upperRight_Y))]},Q=function(ar){if(ar.appearanceStreamContent)return ar.appearanceStreamContent;if(ar.V||ar.DV){var or=[],lr=ar._V||ar.DV,Ar=tt(ar,lr),cr=ar.scope.internal.getFont(ar.fontName,ar.fontStyle).id;or.push("/Tx BMC"),or.push("q"),or.push("BT"),or.push(ar.scope.__private__.encodeColorString(ar.color)),or.push("/"+cr+" "+U(Ar.fontSize)+" Tf"),or.push("1 0 0 1 0 0 Tm"),or.push(Ar.text),or.push("ET"),or.push("Q"),or.push("EMC");var ur=V(ar);return ur.scope=ar.scope,ur.stream=or.join(`
`),ur}},tt=function(ar,or){var lr=ar.fontSize===0?ar.maxFontSize:ar.fontSize,Ar={text:"",fontSize:""},cr=(or=(or=or.substr(0,1)=="("?or.substr(1):or).substr(or.length-1)==")"?or.substr(0,or.length-1):or).split(" ");cr=ar.multiline?cr.map(function(Mr){return Mr.split(`
`)}):cr.map(function(Mr){return[Mr]});var ur=lr,dr=At.internal.getHeight(ar)||0;dr=dr<0?-dr:dr;var hr=At.internal.getWidth(ar)||0;hr=hr<0?-hr:hr;var fr=function(Mr,Ur,Kr){if(Mr+1<cr.length){var Xr=Ur+" "+cr[Mr+1][0];return et(Xr,ar,Kr).width<=hr-4}return!1};ur++;e:for(;ur>0;){or="",ur--;var gr,pr,mr=et("3",ar,ur).height,yr=ar.multiline?dr-ur:(dr-mr)/2,vr=yr+=2,br=0,wr=0,Cr=0;if(ur<=0){or=`(...) Tj
`,or+="% Width of Text: "+et(or,ar,ur=12).width+", FieldWidth:"+hr+`
`;break}for(var Br="",Sr=0,Er=0;Er<cr.length;Er++)if(cr.hasOwnProperty(Er)){var Tr=!1;if(cr[Er].length!==1&&Cr!==cr[Er].length-1){if((mr+2)*(Sr+2)+2>dr)continue e;Br+=cr[Er][Cr],Tr=!0,wr=Er,Er--}else{Br=(Br+=cr[Er][Cr]+" ").substr(Br.length-1)==" "?Br.substr(0,Br.length-1):Br;var kr=parseInt(Er),Or=fr(kr,Br,ur),Rr=Er>=cr.length-1;if(Or&&!Rr){Br+=" ",Cr=0;continue}if(Or||Rr){if(Rr)wr=kr;else if(ar.multiline&&(mr+2)*(Sr+2)+2>dr)continue e}else{if(!ar.multiline||(mr+2)*(Sr+2)+2>dr)continue e;wr=kr}}for(var Lr="",_r=br;_r<=wr;_r++){var Hr=cr[_r];if(ar.multiline){if(_r===wr){Lr+=Hr[Cr]+" ",Cr=(Cr+1)%Hr.length;continue}if(_r===br){Lr+=Hr[Hr.length-1]+" ";continue}}Lr+=Hr[0]+" "}switch(Lr=Lr.substr(Lr.length-1)==" "?Lr.substr(0,Lr.length-1):Lr,pr=et(Lr,ar,ur).width,ar.textAlign){case"right":gr=hr-pr-2;break;case"center":gr=(hr-pr)/2;break;case"left":default:gr=2}or+=U(gr)+" "+U(vr)+` Td
`,or+="("+R(Lr)+`) Tj
`,or+=-U(gr)+` 0 Td
`,vr=-(ur+2),pr=0,br=Tr?wr:wr+1,Sr++,Br=""}break}return Ar.text=or,Ar.fontSize=ur,Ar},et=function(ar,or,lr){var Ar=or.scope.internal.getFont(or.fontName,or.fontStyle),cr=or.scope.getStringUnitWidth(ar,{font:Ar,fontSize:parseFloat(lr),charSpace:0})*parseFloat(lr);return{height:or.scope.getStringUnitWidth("3",{font:Ar,fontSize:parseFloat(lr),charSpace:0})*parseFloat(lr)*1.5,width:cr}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(ar,or){var lr={type:"reference",object:ar};or.internal.getPageInfo(ar.page).pageContext.annotations.find(function(Ar){return Ar.type===lr.type&&Ar.object===lr.object})===void 0&&or.internal.getPageInfo(ar.page).pageContext.annotations.push(lr)},it=function(ar,or){for(var lr in ar)if(ar.hasOwnProperty(lr)){var Ar=lr,cr=ar[lr];or.internal.newObjectDeferredBegin(cr.objId,!0),_typeof$1(cr)==="object"&&typeof cr.putStream=="function"&&cr.putStream(),delete ar[Ar]}},at=function(ar,or){if(or.scope=ar,ar.internal!==void 0&&(ar.internal.acroformPlugin===void 0||ar.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,ar.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),ar.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=ar.internal.scaleFactor,ar.internal.acroformPlugin.acroFormDictionaryRoot=new ht,ar.internal.acroformPlugin.acroFormDictionaryRoot.scope=ar,ar.internal.acroformPlugin.acroFormDictionaryRoot._eventID=ar.internal.events.subscribe("postPutResources",function(){(function(lr){lr.internal.events.unsubscribe(lr.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete lr.internal.acroformPlugin.acroFormDictionaryRoot._eventID,lr.internal.acroformPlugin.printedOut=!0})(ar)}),ar.internal.events.subscribe("buildDocument",function(){(function(lr){lr.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Ar=lr.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var cr in Ar)if(Ar.hasOwnProperty(cr)){var ur=Ar[cr];ur.objId=void 0,ur.hasAnnotation&&nt(ur,lr)}})(ar)}),ar.internal.events.subscribe("putCatalog",function(){(function(lr){if(lr.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");lr.internal.write("/AcroForm "+lr.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(ar)}),ar.internal.events.subscribe("postPutPages",function(lr){(function(Ar,cr){var ur=!Ar;for(var dr in Ar||(cr.internal.newObjectDeferredBegin(cr.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),cr.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Ar=Ar||cr.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Ar.hasOwnProperty(dr)){var hr=Ar[dr],fr=[],gr=hr.Rect;if(hr.Rect&&(hr.Rect=$(hr.Rect,cr)),cr.internal.newObjectDeferredBegin(hr.objId,!0),hr.DA=At.createDefaultAppearanceStream(hr),_typeof$1(hr)==="object"&&typeof hr.getKeyValueListForStream=="function"&&(fr=hr.getKeyValueListForStream()),hr.Rect=gr,hr.hasAppearanceStream&&!hr.appearanceStreamContent){var pr=Q(hr);fr.push({key:"AP",value:"<</N "+pr+">>"}),cr.internal.acroformPlugin.xForms.push(pr)}if(hr.appearanceStreamContent){var mr="";for(var yr in hr.appearanceStreamContent)if(hr.appearanceStreamContent.hasOwnProperty(yr)){var vr=hr.appearanceStreamContent[yr];if(mr+="/"+yr+" ",mr+="<<",Object.keys(vr).length>=1||Array.isArray(vr)){for(var dr in vr)if(vr.hasOwnProperty(dr)){var br=vr[dr];typeof br=="function"&&(br=br.call(cr,hr)),mr+="/"+dr+" "+br+" ",cr.internal.acroformPlugin.xForms.indexOf(br)>=0||cr.internal.acroformPlugin.xForms.push(br)}}else typeof(br=vr)=="function"&&(br=br.call(cr,hr)),mr+="/"+dr+" "+br,cr.internal.acroformPlugin.xForms.indexOf(br)>=0||cr.internal.acroformPlugin.xForms.push(br);mr+=">>"}fr.push({key:"AP",value:`<<
`+mr+">>"})}cr.internal.putStream({additionalKeyValues:fr,objectId:hr.objId}),cr.internal.out("endobj")}ur&&it(cr.internal.acroformPlugin.xForms,cr)})(lr,ar)}),ar.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(ar,or,lr){var Ar=function(dr){return dr};if(Array.isArray(ar)){for(var cr="[",ur=0;ur<ar.length;ur++)switch(ur!==0&&(cr+=" "),_typeof$1(ar[ur])){case"boolean":case"number":case"object":cr+=ar[ur].toString();break;case"string":ar[ur].substr(0,1)!=="/"?(or!==void 0&&lr&&(Ar=lr.internal.getEncryptor(or)),cr+="("+R(Ar(ar[ur].toString()))+")"):cr+=ar[ur].toString()}return cr+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(ar,or,lr){var Ar=function(cr){return cr};return or!==void 0&&lr&&(Ar=lr.internal.getEncryptor(or)),(ar=ar||"").toString(),ar="("+R(Ar(ar))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(ar){this._objId=ar}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var ar=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:ar,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var ar=[],or=Object.getOwnPropertyNames(this).filter(function(ur){return ur!="content"&&ur!="appearanceStreamContent"&&ur!="scope"&&ur!="objId"&&ur.substring(0,1)!="_"});for(var lr in or)if(Object.getOwnPropertyDescriptor(this,or[lr]).configurable===!1){var Ar=or[lr],cr=this[Ar];cr&&(Array.isArray(cr)?ar.push({key:Ar,value:ot(cr,this.objId,this.scope)}):cr instanceof ct?(cr.scope=this.scope,ar.push({key:Ar,value:cr.objId+" 0 R"})):typeof cr!="function"&&ar.push({key:Ar,value:cr}))}return ar};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var ar,or=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return or},set:function(lr){or=lr}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(lr){ar=lr.trim()},get:function(){return ar||null}})};H(ut,ct);var ht=function(){ct.call(this);var ar,or=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return or.length>0?or:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return or}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(ar){var lr=function(Ar){return Ar};return this.scope&&(lr=this.scope.internal.getEncryptor(this.objId)),"("+R(lr(ar))+")"}},set:function(lr){ar=lr}})};H(ht,ct);var lt=function ar(){ct.call(this);var or=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return or},set:function(Br){if(isNaN(Br))throw new Error('Invalid value "'+Br+'" for attribute F supplied.');or=Br}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(or,3)},set:function(Br){Br?this.F=K(or,3):this.F=Z(or,3)}});var lr=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return lr},set:function(Br){if(isNaN(Br))throw new Error('Invalid value "'+Br+'" for attribute Ff supplied.');lr=Br}});var Ar=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Ar.length!==0)return Ar},set:function(Br){Ar=Br!==void 0?Br:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Ar||isNaN(Ar[0])?0:Ar[0]},set:function(Br){Ar[0]=Br}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Ar||isNaN(Ar[1])?0:Ar[1]},set:function(Br){Ar[1]=Br}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Ar||isNaN(Ar[2])?0:Ar[2]},set:function(Br){Ar[2]=Br}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Ar||isNaN(Ar[3])?0:Ar[3]},set:function(Br){Ar[3]=Br}});var cr="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return cr},set:function(Br){switch(Br){case"/Btn":case"/Tx":case"/Ch":case"/Sig":cr=Br;break;default:throw new Error('Invalid value "'+Br+'" for attribute FT supplied.')}}});var ur=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ur||ur.length<1){if(this instanceof yt)return;ur="FieldObject"+ar.FieldNum++}var Br=function(Sr){return Sr};return this.scope&&(Br=this.scope.internal.getEncryptor(this.objId)),"("+R(Br(ur))+")"},set:function(Br){ur=Br.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ur},set:function(Br){ur=Br}});var dr="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return dr},set:function(Br){dr=Br}});var hr="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return hr},set:function(Br){hr=Br}});var fr=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return fr},set:function(Br){fr=Br}});var gr=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return gr===void 0?50/D:gr},set:function(Br){gr=Br}});var pr="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return pr},set:function(Br){pr=Br}});var mr="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!mr||this instanceof yt||this instanceof Nt))return st(mr,this.objId,this.scope)},set:function(Br){Br=Br.toString(),mr=Br}});var yr=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(yr)return this instanceof mt?yr:st(yr,this.objId,this.scope)},set:function(Br){Br=Br.toString(),yr=this instanceof mt?Br:Br.substr(0,1)==="("?T(Br.substr(1,Br.length-2)):T(Br)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(yr.substr(1,yr.length-1)):yr},set:function(Br){Br=Br.toString(),yr=this instanceof mt?"/"+Br:Br}});var vr=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(vr)return vr},set:function(Br){this.V=Br}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(vr)return this instanceof mt?vr:st(vr,this.objId,this.scope)},set:function(Br){Br=Br.toString(),vr=this instanceof mt?Br:Br.substr(0,1)==="("?T(Br.substr(1,Br.length-2)):T(Br)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(vr.substr(1,vr.length-1)):vr},set:function(Br){Br=Br.toString(),vr=this instanceof mt?"/"+Br:Br}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var br,wr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return wr},set:function(Br){Br=!!Br,wr=Br}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(br)return br},set:function(Br){br=Br}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(Br){Br?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(Br){Br?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(Br){Br?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var Cr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Cr!==null)return Cr},set:function(Br){if([0,1,2].indexOf(Br)===-1)throw new Error('Invalid value "'+Br+'" for attribute Q supplied.');Cr=Br}}),Object.defineProperty(this,"textAlign",{get:function(){var Br;switch(Cr){case 0:default:Br="left";break;case 1:Br="center";break;case 2:Br="right"}return Br},configurable:!0,enumerable:!0,set:function(Br){switch(Br){case"right":case 2:Cr=2;break;case"center":case 1:Cr=1;break;case"left":case 0:default:Cr=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var ar=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return ar},set:function(lr){ar=lr}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return ar},set:function(lr){ar=lr}});var or=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(or,this.objId,this.scope)},set:function(lr){var Ar,cr;cr=[],typeof(Ar=lr)=="string"&&(cr=function(ur,dr,hr){hr||(hr=1);for(var fr,gr=[];fr=dr.exec(ur);)gr.push(fr[hr]);return gr}(Ar,/\((.*?)\)/g)),or=cr}}),this.getOptions=function(){return or},this.setOptions=function(lr){or=lr,this.sort&&or.sort()},this.addOption=function(lr){lr=(lr=lr||"").toString(),or.push(lr),this.sort&&or.sort()},this.removeOption=function(lr,Ar){for(Ar=Ar||!1,lr=(lr=lr||"").toString();or.indexOf(lr)!==-1&&(or.splice(or.indexOf(lr),1),Ar!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(lr){lr?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(lr){this.combo===!0&&(lr?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(lr){lr?(this.Ff=K(this.Ff,20),or.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(lr){lr?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(lr){lr?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(lr){lr?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(lr){lr?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(lr){lr?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(lr){lr?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(lr){lr?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var ar,or={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var lr=function(ur){return ur};if(this.scope&&(lr=this.scope.internal.getEncryptor(this.objId)),Object.keys(or).length!==0){var Ar,cr=[];for(Ar in cr.push("<<"),or)cr.push("/"+Ar+" ("+R(lr(or[Ar]))+")");return cr.push(">>"),cr.join(`
`)}},set:function(lr){_typeof$1(lr)==="object"&&(or=lr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return or.CA||""},set:function(lr){typeof lr=="string"&&(or.CA=lr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return ar},set:function(lr){ar=lr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return ar.substr(1,ar.length-1)},set:function(lr){ar="/"+lr}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var ar=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return ar},set:function(or){ar=or!==void 0?or:[]}})};H(bt,mt);var yt=function(){var ar,or;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return ar},set:function(cr){ar=cr}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return or},set:function(cr){or=cr}});var lr,Ar={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var cr=function(hr){return hr};this.scope&&(cr=this.scope.internal.getEncryptor(this.objId));var ur,dr=[];for(ur in dr.push("<<"),Ar)dr.push("/"+ur+" ("+R(cr(Ar[ur]))+")");return dr.push(">>"),dr.join(`
`)},set:function(cr){_typeof$1(cr)==="object"&&(Ar=cr)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ar.CA||""},set:function(cr){typeof cr=="string"&&(Ar.CA=cr)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return lr},set:function(cr){lr=cr}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return lr.substr(1,lr.length-1)},set:function(cr){lr="/"+cr}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(ar){if(!("createAppearanceStream"in ar)||!("getCA"in ar))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var or in this.Kids)if(this.Kids.hasOwnProperty(or)){var lr=this.Kids[or];lr.appearanceStreamContent=ar.createAppearanceStream(lr.optionName),lr.caption=ar.getCA()}},bt.prototype.createOption=function(ar){var or=new yt;return or.Parent=this,or.optionName=ar,this.Kids.push(or),xt.call(this.scope,or),or};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(or){or?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(or){or?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(or){or?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(or){or?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(or){or?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(or){or?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var ar=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return ar},set:function(or){ar=or}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return ar},set:function(or){Number.isInteger(or)&&(ar=or)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(ar){ar?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[],Ar=ar.scope.internal.getFont(ar.fontName,ar.fontStyle).id,cr=ar.scope.__private__.encodeColorString(ar.color),ur=tt(ar,ar.caption);return lr.push("0.749023 g"),lr.push("0 0 "+U(At.internal.getWidth(ar))+" "+U(At.internal.getHeight(ar))+" re"),lr.push("f"),lr.push("BMC"),lr.push("q"),lr.push("0 0 1 rg"),lr.push("/"+Ar+" "+U(ur.fontSize)+" Tf "+cr),lr.push("BT"),lr.push(ur.text),lr.push("ET"),lr.push("Q"),lr.push("EMC"),or.stream=lr.join(`
`),or},YesNormal:function(ar){var or=V(ar);or.scope=ar.scope;var lr=ar.scope.internal.getFont(ar.fontName,ar.fontStyle).id,Ar=ar.scope.__private__.encodeColorString(ar.color),cr=[],ur=At.internal.getHeight(ar),dr=At.internal.getWidth(ar),hr=tt(ar,ar.caption);return cr.push("1 g"),cr.push("0 0 "+U(dr)+" "+U(ur)+" re"),cr.push("f"),cr.push("q"),cr.push("0 0 1 rg"),cr.push("0 0 "+U(dr-1)+" "+U(ur-1)+" re"),cr.push("W"),cr.push("n"),cr.push("0 g"),cr.push("BT"),cr.push("/"+lr+" "+U(hr.fontSize)+" Tf "+Ar),cr.push(hr.text),cr.push("ET"),cr.push("Q"),or.stream=cr.join(`
`),or},OffPushDown:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[];return lr.push("0.749023 g"),lr.push("0 0 "+U(At.internal.getWidth(ar))+" "+U(At.internal.getHeight(ar))+" re"),lr.push("f"),or.stream=lr.join(`
`),or}},RadioButton:{Circle:{createAppearanceStream:function(ar){var or={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return or.N[ar]=At.RadioButton.Circle.YesNormal,or.D[ar]=At.RadioButton.Circle.YesPushDown,or},getCA:function(){return"l"},YesNormal:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[],Ar=At.internal.getWidth(ar)<=At.internal.getHeight(ar)?At.internal.getWidth(ar)/4:At.internal.getHeight(ar)/4;Ar=Number((.9*Ar).toFixed(5));var cr=At.internal.Bezier_C,ur=Number((Ar*cr).toFixed(5));return lr.push("q"),lr.push("1 0 0 1 "+z(At.internal.getWidth(ar)/2)+" "+z(At.internal.getHeight(ar)/2)+" cm"),lr.push(Ar+" 0 m"),lr.push(Ar+" "+ur+" "+ur+" "+Ar+" 0 "+Ar+" c"),lr.push("-"+ur+" "+Ar+" -"+Ar+" "+ur+" -"+Ar+" 0 c"),lr.push("-"+Ar+" -"+ur+" -"+ur+" -"+Ar+" 0 -"+Ar+" c"),lr.push(ur+" -"+Ar+" "+Ar+" -"+ur+" "+Ar+" 0 c"),lr.push("f"),lr.push("Q"),or.stream=lr.join(`
`),or},YesPushDown:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[],Ar=At.internal.getWidth(ar)<=At.internal.getHeight(ar)?At.internal.getWidth(ar)/4:At.internal.getHeight(ar)/4;Ar=Number((.9*Ar).toFixed(5));var cr=Number((2*Ar).toFixed(5)),ur=Number((cr*At.internal.Bezier_C).toFixed(5)),dr=Number((Ar*At.internal.Bezier_C).toFixed(5));return lr.push("0.749023 g"),lr.push("q"),lr.push("1 0 0 1 "+z(At.internal.getWidth(ar)/2)+" "+z(At.internal.getHeight(ar)/2)+" cm"),lr.push(cr+" 0 m"),lr.push(cr+" "+ur+" "+ur+" "+cr+" 0 "+cr+" c"),lr.push("-"+ur+" "+cr+" -"+cr+" "+ur+" -"+cr+" 0 c"),lr.push("-"+cr+" -"+ur+" -"+ur+" -"+cr+" 0 -"+cr+" c"),lr.push(ur+" -"+cr+" "+cr+" -"+ur+" "+cr+" 0 c"),lr.push("f"),lr.push("Q"),lr.push("0 g"),lr.push("q"),lr.push("1 0 0 1 "+z(At.internal.getWidth(ar)/2)+" "+z(At.internal.getHeight(ar)/2)+" cm"),lr.push(Ar+" 0 m"),lr.push(Ar+" "+dr+" "+dr+" "+Ar+" 0 "+Ar+" c"),lr.push("-"+dr+" "+Ar+" -"+Ar+" "+dr+" -"+Ar+" 0 c"),lr.push("-"+Ar+" -"+dr+" -"+dr+" -"+Ar+" 0 -"+Ar+" c"),lr.push(dr+" -"+Ar+" "+Ar+" -"+dr+" "+Ar+" 0 c"),lr.push("f"),lr.push("Q"),or.stream=lr.join(`
`),or},OffPushDown:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[],Ar=At.internal.getWidth(ar)<=At.internal.getHeight(ar)?At.internal.getWidth(ar)/4:At.internal.getHeight(ar)/4;Ar=Number((.9*Ar).toFixed(5));var cr=Number((2*Ar).toFixed(5)),ur=Number((cr*At.internal.Bezier_C).toFixed(5));return lr.push("0.749023 g"),lr.push("q"),lr.push("1 0 0 1 "+z(At.internal.getWidth(ar)/2)+" "+z(At.internal.getHeight(ar)/2)+" cm"),lr.push(cr+" 0 m"),lr.push(cr+" "+ur+" "+ur+" "+cr+" 0 "+cr+" c"),lr.push("-"+ur+" "+cr+" -"+cr+" "+ur+" -"+cr+" 0 c"),lr.push("-"+cr+" -"+ur+" -"+ur+" -"+cr+" 0 -"+cr+" c"),lr.push(ur+" -"+cr+" "+cr+" -"+ur+" "+cr+" 0 c"),lr.push("f"),lr.push("Q"),or.stream=lr.join(`
`),or}},Cross:{createAppearanceStream:function(ar){var or={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return or.N[ar]=At.RadioButton.Cross.YesNormal,or.D[ar]=At.RadioButton.Cross.YesPushDown,or},getCA:function(){return"8"},YesNormal:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[],Ar=At.internal.calculateCross(ar);return lr.push("q"),lr.push("1 1 "+U(At.internal.getWidth(ar)-2)+" "+U(At.internal.getHeight(ar)-2)+" re"),lr.push("W"),lr.push("n"),lr.push(U(Ar.x1.x)+" "+U(Ar.x1.y)+" m"),lr.push(U(Ar.x2.x)+" "+U(Ar.x2.y)+" l"),lr.push(U(Ar.x4.x)+" "+U(Ar.x4.y)+" m"),lr.push(U(Ar.x3.x)+" "+U(Ar.x3.y)+" l"),lr.push("s"),lr.push("Q"),or.stream=lr.join(`
`),or},YesPushDown:function(ar){var or=V(ar);or.scope=ar.scope;var lr=At.internal.calculateCross(ar),Ar=[];return Ar.push("0.749023 g"),Ar.push("0 0 "+U(At.internal.getWidth(ar))+" "+U(At.internal.getHeight(ar))+" re"),Ar.push("f"),Ar.push("q"),Ar.push("1 1 "+U(At.internal.getWidth(ar)-2)+" "+U(At.internal.getHeight(ar)-2)+" re"),Ar.push("W"),Ar.push("n"),Ar.push(U(lr.x1.x)+" "+U(lr.x1.y)+" m"),Ar.push(U(lr.x2.x)+" "+U(lr.x2.y)+" l"),Ar.push(U(lr.x4.x)+" "+U(lr.x4.y)+" m"),Ar.push(U(lr.x3.x)+" "+U(lr.x3.y)+" l"),Ar.push("s"),Ar.push("Q"),or.stream=Ar.join(`
`),or},OffPushDown:function(ar){var or=V(ar);or.scope=ar.scope;var lr=[];return lr.push("0.749023 g"),lr.push("0 0 "+U(At.internal.getWidth(ar))+" "+U(At.internal.getHeight(ar))+" re"),lr.push("f"),or.stream=lr.join(`
`),or}}},createDefaultAppearanceStream:function(ar){var or=ar.scope.internal.getFont(ar.fontName,ar.fontStyle).id,lr=ar.scope.__private__.encodeColorString(ar.color);return"/"+or+" "+ar.fontSize+" Tf "+lr}};At.internal={Bezier_C:.551915024494,calculateCross:function(ar){var or=At.internal.getWidth(ar),lr=At.internal.getHeight(ar),Ar=Math.min(or,lr);return{x1:{x:(or-Ar)/2,y:(lr-Ar)/2+Ar},x2:{x:(or-Ar)/2+Ar,y:(lr-Ar)/2},x3:{x:(or-Ar)/2,y:(lr-Ar)/2},x4:{x:(or-Ar)/2+Ar,y:(lr-Ar)/2+Ar}}}},At.internal.getWidth=function(ar){var or=0;return _typeof$1(ar)==="object"&&(or=W(ar.Rect[2])),or},At.internal.getHeight=function(ar){var or=0;return _typeof$1(ar)==="object"&&(or=W(ar.Rect[3])),or};var xt=q.addField=function(ar){if(at(this,ar),!(ar instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var or;return(or=ar).scope.internal.acroformPlugin.printedOut&&(or.scope.internal.acroformPlugin.printedOut=!1,or.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),or.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(or),ar.page=ar.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};var St=E.AcroForm;function _t(ar){return ar.reduce(function(or,lr,Ar){return or[lr]=Ar,or},{})}(function(ar){ar.__addimage__={};var or="UNKNOWN",lr={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Ar=ar.__addimage__.getImageFileTypeByImageData=function(Mr,Ur){var Kr,Xr,Yr,Zr,ns,As=or;if((Ur=Ur||or)==="RGBA"||Mr.data!==void 0&&Mr.data instanceof Uint8ClampedArray&&"height"in Mr&&"width"in Mr)return"RGBA";if(Or(Mr))for(ns in lr)for(Yr=lr[ns],Kr=0;Kr<Yr.length;Kr+=1){for(Zr=!0,Xr=0;Xr<Yr[Kr].length;Xr+=1)if(Yr[Kr][Xr]!==void 0&&Yr[Kr][Xr]!==Mr[Xr]){Zr=!1;break}if(Zr===!0){As=ns;break}}else for(ns in lr)for(Yr=lr[ns],Kr=0;Kr<Yr.length;Kr+=1){for(Zr=!0,Xr=0;Xr<Yr[Kr].length;Xr+=1)if(Yr[Kr][Xr]!==void 0&&Yr[Kr][Xr]!==Mr.charCodeAt(Xr)){Zr=!1;break}if(Zr===!0){As=ns;break}}return As===or&&Ur!==or&&(As=Ur),As},cr=function Mr(Ur){for(var Kr=this.internal.write,Xr=this.internal.putStream,Yr=(0,this.internal.getFilters)();Yr.indexOf("FlateEncode")!==-1;)Yr.splice(Yr.indexOf("FlateEncode"),1);Ur.objectId=this.internal.newObject();var Zr=[];if(Zr.push({key:"Type",value:"/XObject"}),Zr.push({key:"Subtype",value:"/Image"}),Zr.push({key:"Width",value:Ur.width}),Zr.push({key:"Height",value:Ur.height}),Ur.colorSpace===Cr.INDEXED?Zr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Ur.palette.length/3-1)+" "+("sMask"in Ur&&Ur.sMask!==void 0?Ur.objectId+2:Ur.objectId+1)+" 0 R]"}):(Zr.push({key:"ColorSpace",value:"/"+Ur.colorSpace}),Ur.colorSpace===Cr.DEVICE_CMYK&&Zr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Zr.push({key:"BitsPerComponent",value:Ur.bitsPerComponent}),"decodeParameters"in Ur&&Ur.decodeParameters!==void 0&&Zr.push({key:"DecodeParms",value:"<<"+Ur.decodeParameters+">>"}),"transparency"in Ur&&Array.isArray(Ur.transparency)){for(var ns="",As=0,is=Ur.transparency.length;As<is;As++)ns+=Ur.transparency[As]+" "+Ur.transparency[As]+" ";Zr.push({key:"Mask",value:"["+ns+"]"})}Ur.sMask!==void 0&&Zr.push({key:"SMask",value:Ur.objectId+1+" 0 R"});var gs=Ur.filter!==void 0?["/"+Ur.filter]:void 0;if(Xr({data:Ur.data,additionalKeyValues:Zr,alreadyAppliedFilters:gs,objectId:Ur.objectId}),Kr("endobj"),"sMask"in Ur&&Ur.sMask!==void 0){var Os="/Predictor "+Ur.predictor+" /Colors 1 /BitsPerComponent "+Ur.bitsPerComponent+" /Columns "+Ur.width,Vr={width:Ur.width,height:Ur.height,colorSpace:"DeviceGray",bitsPerComponent:Ur.bitsPerComponent,decodeParameters:Os,data:Ur.sMask};"filter"in Ur&&(Vr.filter=Ur.filter),Mr.call(this,Vr)}if(Ur.colorSpace===Cr.INDEXED){var Qr=this.internal.newObject();Xr({data:Lr(new Uint8Array(Ur.palette)),objectId:Qr}),Kr("endobj")}},ur=function(){var Mr=this.internal.collections.addImage_images;for(var Ur in Mr)cr.call(this,Mr[Ur])},dr=function(){var Mr,Ur=this.internal.collections.addImage_images,Kr=this.internal.write;for(var Xr in Ur)Kr("/I"+(Mr=Ur[Xr]).index,Mr.objectId,"0","R")},hr=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ur),this.internal.events.subscribe("putXobjectDict",dr))},fr=function(){var Mr=this.internal.collections.addImage_images;return hr.call(this),Mr},gr=function(){return Object.keys(this.internal.collections.addImage_images).length},pr=function(Mr){return typeof ar["process"+Mr.toUpperCase()]=="function"},mr=function(Mr){return _typeof$1(Mr)==="object"&&Mr.nodeType===1},yr=function(Mr,Ur){if(Mr.nodeName==="IMG"&&Mr.hasAttribute("src")){var Kr=""+Mr.getAttribute("src");if(Kr.indexOf("data:image/")===0)return u(unescape(Kr).split("base64,").pop());var Xr=ar.loadFile(Kr,!0);if(Xr!==void 0)return Xr}if(Mr.nodeName==="CANVAS"){if(Mr.width===0||Mr.height===0)throw new Error("Given canvas must have data. Canvas width: "+Mr.width+", height: "+Mr.height);var Yr;switch(Ur){case"PNG":Yr="image/png";break;case"WEBP":Yr="image/webp";break;case"JPEG":case"JPG":default:Yr="image/jpeg"}return u(Mr.toDataURL(Yr,1).split("base64,").pop())}},vr=function(Mr){var Ur=this.internal.collections.addImage_images;if(Ur){for(var Kr in Ur)if(Mr===Ur[Kr].alias)return Ur[Kr]}},br=function(Mr,Ur,Kr){return Mr||Ur||(Mr=-96,Ur=-96),Mr<0&&(Mr=-1*Kr.width*72/Mr/this.internal.scaleFactor),Ur<0&&(Ur=-1*Kr.height*72/Ur/this.internal.scaleFactor),Mr===0&&(Mr=Ur*Kr.width/Kr.height),Ur===0&&(Ur=Mr*Kr.height/Kr.width),[Mr,Ur]},wr=function(Mr,Ur,Kr,Xr,Yr,Zr){var ns=br.call(this,Kr,Xr,Yr),As=this.internal.getCoordinateString,is=this.internal.getVerticalCoordinateString,gs=fr.call(this);if(Kr=ns[0],Xr=ns[1],gs[Yr.index]=Yr,Zr){Zr*=Math.PI/180;var Os=Math.cos(Zr),Vr=Math.sin(Zr),Qr=function(zr){return zr.toFixed(4)},$r=[Qr(Os),Qr(Vr),Qr(-1*Vr),Qr(Os),0,0,"cm"]}this.internal.write("q"),Zr?(this.internal.write([1,"0","0",1,As(Mr),is(Ur+Xr),"cm"].join(" ")),this.internal.write($r.join(" ")),this.internal.write([As(Kr),"0","0",As(Xr),"0","0","cm"].join(" "))):this.internal.write([As(Kr),"0","0",As(Xr),As(Mr),is(Ur+Xr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Yr.index+" Do"),this.internal.write("Q")},Cr=ar.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};ar.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Br=ar.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Sr=ar.__addimage__.sHashCode=function(Mr){var Ur,Kr,Xr=0;if(typeof Mr=="string")for(Kr=Mr.length,Ur=0;Ur<Kr;Ur++)Xr=(Xr<<5)-Xr+Mr.charCodeAt(Ur),Xr|=0;else if(Or(Mr))for(Kr=Mr.byteLength/2,Ur=0;Ur<Kr;Ur++)Xr=(Xr<<5)-Xr+Mr[Ur],Xr|=0;return Xr},Er=ar.__addimage__.validateStringAsBase64=function(Mr){(Mr=Mr||"").toString().trim();var Ur=!0;return Mr.length===0&&(Ur=!1),Mr.length%4!=0&&(Ur=!1),/^[A-Za-z0-9+/]+$/.test(Mr.substr(0,Mr.length-2))===!1&&(Ur=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Mr.substr(-2))===!1&&(Ur=!1),Ur},Tr=ar.__addimage__.extractImageFromDataUrl=function(Mr){if(Mr==null||!(Mr=Mr.trim()).startsWith("data:"))return null;var Ur=Mr.indexOf(",");return Ur<0?null:Mr.substring(0,Ur).trim().endsWith("base64")?Mr.substring(Ur+1):null},kr=ar.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};ar.__addimage__.isArrayBuffer=function(Mr){return kr()&&Mr instanceof ArrayBuffer};var Or=ar.__addimage__.isArrayBufferView=function(Mr){return kr()&&typeof Uint32Array<"u"&&(Mr instanceof Int8Array||Mr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Mr instanceof Uint8ClampedArray||Mr instanceof Int16Array||Mr instanceof Uint16Array||Mr instanceof Int32Array||Mr instanceof Uint32Array||Mr instanceof Float32Array||Mr instanceof Float64Array)},Rr=ar.__addimage__.binaryStringToUint8Array=function(Mr){for(var Ur=Mr.length,Kr=new Uint8Array(Ur),Xr=0;Xr<Ur;Xr++)Kr[Xr]=Mr.charCodeAt(Xr);return Kr},Lr=ar.__addimage__.arrayBufferToBinaryString=function(Mr){for(var Ur="",Kr=Or(Mr)?Mr:new Uint8Array(Mr),Xr=0;Xr<Kr.length;Xr+=8192)Ur+=String.fromCharCode.apply(null,Kr.subarray(Xr,Xr+8192));return Ur};ar.addImage=function(){var Mr,Ur,Kr,Xr,Yr,Zr,ns,As,is;if(typeof arguments[1]=="number"?(Ur=or,Kr=arguments[1],Xr=arguments[2],Yr=arguments[3],Zr=arguments[4],ns=arguments[5],As=arguments[6],is=arguments[7]):(Ur=arguments[1],Kr=arguments[2],Xr=arguments[3],Yr=arguments[4],Zr=arguments[5],ns=arguments[6],As=arguments[7],is=arguments[8]),_typeof$1(Mr=arguments[0])==="object"&&!mr(Mr)&&"imageData"in Mr){var gs=Mr;Mr=gs.imageData,Ur=gs.format||Ur||or,Kr=gs.x||Kr||0,Xr=gs.y||Xr||0,Yr=gs.w||gs.width||Yr,Zr=gs.h||gs.height||Zr,ns=gs.alias||ns,As=gs.compression||As,is=gs.rotation||gs.angle||is}var Os=this.internal.getFilters();if(As===void 0&&Os.indexOf("FlateEncode")!==-1&&(As="SLOW"),isNaN(Kr)||isNaN(Xr))throw new Error("Invalid coordinates passed to jsPDF.addImage");hr.call(this);var Vr=_r.call(this,Mr,Ur,ns,As);return wr.call(this,Kr,Xr,Yr,Zr,Vr,is),this};var _r=function(Mr,Ur,Kr,Xr){var Yr,Zr,ns;if(typeof Mr=="string"&&Ar(Mr)===or){Mr=unescape(Mr);var As=Hr(Mr,!1);(As!==""||(As=ar.loadFile(Mr,!0))!==void 0)&&(Mr=As)}if(mr(Mr)&&(Mr=yr(Mr,Ur)),Ur=Ar(Mr,Ur),!pr(Ur))throw new Error("addImage does not support files of type '"+Ur+"', please ensure that a plugin for '"+Ur+"' support is added.");if(((ns=Kr)==null||ns.length===0)&&(Kr=function(is){return typeof is=="string"||Or(is)?Sr(is):Or(is.data)?Sr(is.data):null}(Mr)),(Yr=vr.call(this,Kr))||(kr()&&(Mr instanceof Uint8Array||Ur==="RGBA"||(Zr=Mr,Mr=Rr(Mr))),Yr=this["process"+Ur.toUpperCase()](Mr,gr.call(this),Kr,function(is){return is&&typeof is=="string"&&(is=is.toUpperCase()),is in ar.image_compression?is:Br.NONE}(Xr),Zr)),!Yr)throw new Error("An unknown error occurred whilst processing the image.");return Yr},Hr=ar.__addimage__.convertBase64ToBinaryString=function(Mr,Ur){Ur=typeof Ur!="boolean"||Ur;var Kr,Xr="";if(typeof Mr=="string"){var Yr;Kr=(Yr=Tr(Mr))!==null&&Yr!==void 0?Yr:Mr;try{Xr=u(Kr)}catch(Zr){if(Ur)throw Er(Kr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Zr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Xr};ar.getImageProperties=function(Mr){var Ur,Kr,Xr="";if(mr(Mr)&&(Mr=yr(Mr)),typeof Mr=="string"&&Ar(Mr)===or&&((Xr=Hr(Mr,!1))===""&&(Xr=ar.loadFile(Mr)||""),Mr=Xr),Kr=Ar(Mr),!pr(Kr))throw new Error("addImage does not support files of type '"+Kr+"', please ensure that a plugin for '"+Kr+"' support is added.");if(!kr()||Mr instanceof Uint8Array||(Mr=Rr(Mr)),!(Ur=this["process"+Kr.toUpperCase()](Mr)))throw new Error("An unknown error occurred whilst processing the image");return Ur.fileType=Kr,Ur}})(E.API),function(ar){var or=function(lr){if(lr!==void 0&&lr!="")return!0};E.API.events.push(["addPage",function(lr){this.internal.getPageInfo(lr.pageNumber).pageContext.annotations=[]}]),ar.events.push(["putPage",function(lr){for(var Ar,cr,ur,dr=this.internal.getCoordinateString,hr=this.internal.getVerticalCoordinateString,fr=this.internal.getPageInfoByObjId(lr.objId),gr=lr.pageContext.annotations,pr=!1,mr=0;mr<gr.length&&!pr;mr++)switch((Ar=gr[mr]).type){case"link":(or(Ar.options.url)||or(Ar.options.pageNumber))&&(pr=!0);break;case"reference":case"text":case"freetext":pr=!0}if(pr!=0){this.internal.write("/Annots [");for(var yr=0;yr<gr.length;yr++){Ar=gr[yr];var vr=this.internal.pdfEscape,br=this.internal.getEncryptor(lr.objId);switch(Ar.type){case"reference":this.internal.write(" "+Ar.object.objId+" 0 R ");break;case"text":var wr=this.internal.newAdditionalObject(),Cr=this.internal.newAdditionalObject(),Br=this.internal.getEncryptor(wr.objId),Sr=Ar.title||"Note";ur="<</Type /Annot /Subtype /Text "+(cr="/Rect ["+dr(Ar.bounds.x)+" "+hr(Ar.bounds.y+Ar.bounds.h)+" "+dr(Ar.bounds.x+Ar.bounds.w)+" "+hr(Ar.bounds.y)+"] ")+"/Contents ("+vr(Br(Ar.contents))+")",ur+=" /Popup "+Cr.objId+" 0 R",ur+=" /P "+fr.objId+" 0 R",ur+=" /T ("+vr(Br(Sr))+") >>",wr.content=ur;var Er=wr.objId+" 0 R";ur="<</Type /Annot /Subtype /Popup "+(cr="/Rect ["+dr(Ar.bounds.x+30)+" "+hr(Ar.bounds.y+Ar.bounds.h)+" "+dr(Ar.bounds.x+Ar.bounds.w+30)+" "+hr(Ar.bounds.y)+"] ")+" /Parent "+Er,Ar.open&&(ur+=" /Open true"),ur+=" >>",Cr.content=ur,this.internal.write(wr.objId,"0 R",Cr.objId,"0 R");break;case"freetext":cr="/Rect ["+dr(Ar.bounds.x)+" "+hr(Ar.bounds.y)+" "+dr(Ar.bounds.x+Ar.bounds.w)+" "+hr(Ar.bounds.y+Ar.bounds.h)+"] ";var Tr=Ar.color||"#000000";ur="<</Type /Annot /Subtype /FreeText "+cr+"/Contents ("+vr(br(Ar.contents))+")",ur+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Tr+")",ur+=" /Border [0 0 0]",ur+=" >>",this.internal.write(ur);break;case"link":if(Ar.options.name){var kr=this.annotations._nameMap[Ar.options.name];Ar.options.pageNumber=kr.page,Ar.options.top=kr.y}else Ar.options.top||(Ar.options.top=0);if(cr="/Rect ["+Ar.finalBounds.x+" "+Ar.finalBounds.y+" "+Ar.finalBounds.w+" "+Ar.finalBounds.h+"] ",ur="",Ar.options.url)ur="<</Type /Annot /Subtype /Link "+cr+"/Border [0 0 0] /A <</S /URI /URI ("+vr(br(Ar.options.url))+") >>";else if(Ar.options.pageNumber)switch(ur="<</Type /Annot /Subtype /Link "+cr+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Ar.options.pageNumber).objId+" 0 R",Ar.options.magFactor=Ar.options.magFactor||"XYZ",Ar.options.magFactor){case"Fit":ur+=" /Fit]";break;case"FitH":ur+=" /FitH "+Ar.options.top+"]";break;case"FitV":Ar.options.left=Ar.options.left||0,ur+=" /FitV "+Ar.options.left+"]";break;case"XYZ":default:var Or=hr(Ar.options.top);Ar.options.left=Ar.options.left||0,Ar.options.zoom===void 0&&(Ar.options.zoom=0),ur+=" /XYZ "+Ar.options.left+" "+Or+" "+Ar.options.zoom+"]"}ur!=""&&(ur+=" >>",this.internal.write(ur))}}this.internal.write("]")}}]),ar.createAnnotation=function(lr){var Ar=this.internal.getCurrentPageInfo();switch(lr.type){case"link":this.link(lr.bounds.x,lr.bounds.y,lr.bounds.w,lr.bounds.h,lr);break;case"text":case"freetext":Ar.pageContext.annotations.push(lr)}},ar.link=function(lr,Ar,cr,ur,dr){var hr=this.internal.getCurrentPageInfo(),fr=this.internal.getCoordinateString,gr=this.internal.getVerticalCoordinateString;hr.pageContext.annotations.push({finalBounds:{x:fr(lr),y:gr(Ar),w:fr(lr+cr),h:gr(Ar+ur)},options:dr,type:"link"})},ar.textWithLink=function(lr,Ar,cr,ur){var dr,hr,fr=this.getTextWidth(lr),gr=this.internal.getLineHeight()/this.internal.scaleFactor;if(ur.maxWidth!==void 0){hr=ur.maxWidth;var pr=this.splitTextToSize(lr,hr).length;dr=Math.ceil(gr*pr)}else hr=fr,dr=gr;return this.text(lr,Ar,cr,ur),cr+=.2*gr,ur.align==="center"&&(Ar-=fr/2),ur.align==="right"&&(Ar-=fr),this.link(Ar,cr-gr,hr,dr,ur),fr},ar.getTextWidth=function(lr){var Ar=this.internal.getFontSize();return this.getStringUnitWidth(lr)*Ar/this.internal.scaleFactor}}(E.API),function(ar){var or={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},lr={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Ar={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},cr=[1570,1571,1573,1575];ar.__arabicParser__={};var ur=ar.__arabicParser__.isInArabicSubstitutionA=function(wr){return or[wr.charCodeAt(0)]!==void 0},dr=ar.__arabicParser__.isArabicLetter=function(wr){return typeof wr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(wr)},hr=ar.__arabicParser__.isArabicEndLetter=function(wr){return dr(wr)&&ur(wr)&&or[wr.charCodeAt(0)].length<=2},fr=ar.__arabicParser__.isArabicAlfLetter=function(wr){return dr(wr)&&cr.indexOf(wr.charCodeAt(0))>=0};ar.__arabicParser__.arabicLetterHasIsolatedForm=function(wr){return dr(wr)&&ur(wr)&&or[wr.charCodeAt(0)].length>=1};var gr=ar.__arabicParser__.arabicLetterHasFinalForm=function(wr){return dr(wr)&&ur(wr)&&or[wr.charCodeAt(0)].length>=2};ar.__arabicParser__.arabicLetterHasInitialForm=function(wr){return dr(wr)&&ur(wr)&&or[wr.charCodeAt(0)].length>=3};var pr=ar.__arabicParser__.arabicLetterHasMedialForm=function(wr){return dr(wr)&&ur(wr)&&or[wr.charCodeAt(0)].length==4},mr=ar.__arabicParser__.resolveLigatures=function(wr){var Cr=0,Br=lr,Sr="",Er=0;for(Cr=0;Cr<wr.length;Cr+=1)Br[wr.charCodeAt(Cr)]!==void 0?(Er++,typeof(Br=Br[wr.charCodeAt(Cr)])=="number"&&(Sr+=String.fromCharCode(Br),Br=lr,Er=0),Cr===wr.length-1&&(Br=lr,Sr+=wr.charAt(Cr-(Er-1)),Cr-=Er-1,Er=0)):(Br=lr,Sr+=wr.charAt(Cr-Er),Cr-=Er,Er=0);return Sr};ar.__arabicParser__.isArabicDiacritic=function(wr){return wr!==void 0&&Ar[wr.charCodeAt(0)]!==void 0};var yr=ar.__arabicParser__.getCorrectForm=function(wr,Cr,Br){return dr(wr)?ur(wr)===!1?-1:!gr(wr)||!dr(Cr)&&!dr(Br)||!dr(Br)&&hr(Cr)||hr(wr)&&!dr(Cr)||hr(wr)&&fr(Cr)||hr(wr)&&hr(Cr)?0:pr(wr)&&dr(Cr)&&!hr(Cr)&&dr(Br)&&gr(Br)?3:hr(wr)||!dr(Br)?1:2:-1},vr=function(wr){var Cr=0,Br=0,Sr=0,Er="",Tr="",kr="",Or=(wr=wr||"").split("\\s+"),Rr=[];for(Cr=0;Cr<Or.length;Cr+=1){for(Rr.push(""),Br=0;Br<Or[Cr].length;Br+=1)Er=Or[Cr][Br],Tr=Or[Cr][Br-1],kr=Or[Cr][Br+1],dr(Er)?(Sr=yr(Er,Tr,kr),Rr[Cr]+=Sr!==-1?String.fromCharCode(or[Er.charCodeAt(0)][Sr]):Er):Rr[Cr]+=Er;Rr[Cr]=mr(Rr[Cr])}return Rr.join(" ")},br=ar.__arabicParser__.processArabic=ar.processArabic=function(){var wr,Cr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Br=[];if(Array.isArray(Cr)){var Sr=0;for(Br=[],Sr=0;Sr<Cr.length;Sr+=1)Array.isArray(Cr[Sr])?Br.push([vr(Cr[Sr][0]),Cr[Sr][1],Cr[Sr][2]]):Br.push([vr(Cr[Sr])]);wr=Br}else wr=vr(Cr);return typeof arguments[0]=="string"?wr:(arguments[0].text=wr,arguments[0])};ar.events.push(["preProcessText",br])}(E.API),E.API.autoPrint=function(ar){var or;switch((ar=ar||{}).variant=ar.variant||"non-conform",ar.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){or=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+or+" 0 R")})}return this},function(ar){var or=function(){var lr=void 0;Object.defineProperty(this,"pdf",{get:function(){return lr},set:function(hr){lr=hr}});var Ar=150;Object.defineProperty(this,"width",{get:function(){return Ar},set:function(hr){Ar=isNaN(hr)||Number.isInteger(hr)===!1||hr<0?150:hr,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Ar+1)}});var cr=300;Object.defineProperty(this,"height",{get:function(){return cr},set:function(hr){cr=isNaN(hr)||Number.isInteger(hr)===!1||hr<0?300:hr,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=cr+1)}});var ur=[];Object.defineProperty(this,"childNodes",{get:function(){return ur},set:function(hr){ur=hr}});var dr={};Object.defineProperty(this,"style",{get:function(){return dr},set:function(hr){dr=hr}}),Object.defineProperty(this,"parentNode",{})};or.prototype.getContext=function(lr,Ar){var cr;if((lr=lr||"2d")!=="2d")return null;for(cr in Ar)this.pdf.context2d.hasOwnProperty(cr)&&(this.pdf.context2d[cr]=Ar[cr]);return this.pdf.context2d._canvas=this,this.pdf.context2d},or.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},ar.events.push(["initialized",function(){this.canvas=new or,this.canvas.pdf=this}])}(E.API),function(ar){var or={left:0,top:0,bottom:0,right:0},lr=!1,Ar=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},or),this.internal.__cell__.margins.width=this.getPageWidth(),cr.call(this))},cr=function(){this.internal.__cell__.lastCell=new ur,this.internal.__cell__.pages=1},ur=function(){var fr=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fr},set:function(wr){fr=wr}});var gr=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return gr},set:function(wr){gr=wr}});var pr=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return pr},set:function(wr){pr=wr}});var mr=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return mr},set:function(wr){mr=wr}});var yr=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return yr},set:function(wr){yr=wr}});var vr=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return vr},set:function(wr){vr=wr}});var br=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return br},set:function(wr){br=wr}}),this};ur.prototype.clone=function(){return new ur(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ur.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},ar.setHeaderFunction=function(fr){return Ar.call(this),this.internal.__cell__.headerFunction=typeof fr=="function"?fr:void 0,this},ar.getTextDimensions=function(fr,gr){Ar.call(this);var pr=(gr=gr||{}).fontSize||this.getFontSize(),mr=gr.font||this.getFont(),yr=gr.scaleFactor||this.internal.scaleFactor,vr=0,br=0,wr=0,Cr=this;if(!Array.isArray(fr)&&typeof fr!="string"){if(typeof fr!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");fr=String(fr)}var Br=gr.maxWidth;Br>0?typeof fr=="string"?fr=this.splitTextToSize(fr,Br):Object.prototype.toString.call(fr)==="[object Array]"&&(fr=fr.reduce(function(Er,Tr){return Er.concat(Cr.splitTextToSize(Tr,Br))},[])):fr=Array.isArray(fr)?fr:[fr];for(var Sr=0;Sr<fr.length;Sr++)vr<(wr=this.getStringUnitWidth(fr[Sr],{font:mr})*pr)&&(vr=wr);return vr!==0&&(br=fr.length),{w:vr/=yr,h:Math.max((br*pr*this.getLineHeightFactor()-pr*(this.getLineHeightFactor()-1))/yr,0)}},ar.cellAddPage=function(){Ar.call(this),this.addPage();var fr=this.internal.__cell__.margins||or;return this.internal.__cell__.lastCell=new ur(fr.left,fr.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var dr=ar.cell=function(){var fr;fr=arguments[0]instanceof ur?arguments[0]:new ur(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Ar.call(this);var gr=this.internal.__cell__.lastCell,pr=this.internal.__cell__.padding,mr=this.internal.__cell__.margins||or,yr=this.internal.__cell__.tableHeaderRow,vr=this.internal.__cell__.printHeaders;return gr.lineNumber!==void 0&&(gr.lineNumber===fr.lineNumber?(fr.x=(gr.x||0)+(gr.width||0),fr.y=gr.y||0):gr.y+gr.height+fr.height+mr.bottom>this.getPageHeight()?(this.cellAddPage(),fr.y=mr.top,vr&&yr&&(this.printHeaderRow(fr.lineNumber,!0),fr.y+=yr[0].height)):fr.y=gr.y+gr.height||fr.y),fr.text[0]!==void 0&&(this.rect(fr.x,fr.y,fr.width,fr.height,lr===!0?"FD":void 0),fr.align==="right"?this.text(fr.text,fr.x+fr.width-pr,fr.y+pr,{align:"right",baseline:"top"}):fr.align==="center"?this.text(fr.text,fr.x+fr.width/2,fr.y+pr,{align:"center",baseline:"top",maxWidth:fr.width-pr-pr}):this.text(fr.text,fr.x+pr,fr.y+pr,{align:"left",baseline:"top",maxWidth:fr.width-pr-pr})),this.internal.__cell__.lastCell=fr,this};ar.table=function(fr,gr,pr,mr,yr){if(Ar.call(this),!pr)throw new Error("No data for PDF table.");var vr,br,wr,Cr,Br=[],Sr=[],Er=[],Tr={},kr={},Or=[],Rr=[],Lr=(yr=yr||{}).autoSize||!1,_r=yr.printHeaders!==!1,Hr=yr.css&&yr.css["font-size"]!==void 0?16*yr.css["font-size"]:yr.fontSize||12,Mr=yr.margins||Object.assign({width:this.getPageWidth()},or),Ur=typeof yr.padding=="number"?yr.padding:3,Kr=yr.headerBackgroundColor||"#c8c8c8",Xr=yr.headerTextColor||"#000";if(cr.call(this),this.internal.__cell__.printHeaders=_r,this.internal.__cell__.margins=Mr,this.internal.__cell__.table_font_size=Hr,this.internal.__cell__.padding=Ur,this.internal.__cell__.headerBackgroundColor=Kr,this.internal.__cell__.headerTextColor=Xr,this.setFontSize(Hr),mr==null)Sr=Br=Object.keys(pr[0]),Er=Br.map(function(){return"left"});else if(Array.isArray(mr)&&_typeof$1(mr[0])==="object")for(Br=mr.map(function(gs){return gs.name}),Sr=mr.map(function(gs){return gs.prompt||gs.name||""}),Er=mr.map(function(gs){return gs.align||"left"}),vr=0;vr<mr.length;vr+=1)kr[mr[vr].name]=mr[vr].width*(19.049976/25.4);else Array.isArray(mr)&&typeof mr[0]=="string"&&(Sr=Br=mr,Er=Br.map(function(){return"left"}));if(Lr||Array.isArray(mr)&&typeof mr[0]=="string")for(vr=0;vr<Br.length;vr+=1){for(Tr[Cr=Br[vr]]=pr.map(function(gs){return gs[Cr]}),this.setFont(void 0,"bold"),Or.push(this.getTextDimensions(Sr[vr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),br=Tr[Cr],this.setFont(void 0,"normal"),wr=0;wr<br.length;wr+=1)Or.push(this.getTextDimensions(br[wr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);kr[Cr]=Math.max.apply(null,Or)+Ur+Ur,Or=[]}if(_r){var Yr={};for(vr=0;vr<Br.length;vr+=1)Yr[Br[vr]]={},Yr[Br[vr]].text=Sr[vr],Yr[Br[vr]].align=Er[vr];var Zr=hr.call(this,Yr,kr);Rr=Br.map(function(gs){return new ur(fr,gr,kr[gs],Zr,Yr[gs].text,void 0,Yr[gs].align)}),this.setTableHeaderRow(Rr),this.printHeaderRow(1,!1)}var ns=mr.reduce(function(gs,Os){return gs[Os.name]=Os.align,gs},{});for(vr=0;vr<pr.length;vr+=1){"rowStart"in yr&&yr.rowStart instanceof Function&&yr.rowStart({row:vr,data:pr[vr]},this);var As=hr.call(this,pr[vr],kr);for(wr=0;wr<Br.length;wr+=1){var is=pr[vr][Br[wr]];"cellStart"in yr&&yr.cellStart instanceof Function&&yr.cellStart({row:vr,col:wr,data:is},this),dr.call(this,new ur(fr,gr,kr[Br[wr]],As,is,vr+2,ns[Br[wr]]))}}return this.internal.__cell__.table_x=fr,this.internal.__cell__.table_y=gr,this};var hr=function(fr,gr){var pr=this.internal.__cell__.padding,mr=this.internal.__cell__.table_font_size,yr=this.internal.scaleFactor;return Object.keys(fr).map(function(vr){var br=fr[vr];return this.splitTextToSize(br.hasOwnProperty("text")?br.text:br,gr[vr]-pr-pr)},this).map(function(vr){return this.getLineHeightFactor()*vr.length*mr/yr+pr+pr},this).reduce(function(vr,br){return Math.max(vr,br)},0)};ar.setTableHeaderRow=function(fr){Ar.call(this),this.internal.__cell__.tableHeaderRow=fr},ar.printHeaderRow=function(fr,gr){if(Ar.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var pr;if(lr=!0,typeof this.internal.__cell__.headerFunction=="function"){var mr=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ur(mr[0],mr[1],mr[2],mr[3],void 0,-1)}this.setFont(void 0,"bold");for(var yr=[],vr=0;vr<this.internal.__cell__.tableHeaderRow.length;vr+=1){pr=this.internal.__cell__.tableHeaderRow[vr].clone(),gr&&(pr.y=this.internal.__cell__.margins.top||0,yr.push(pr)),pr.lineNumber=fr;var br=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),dr.call(this,pr),this.setTextColor(br)}yr.length>0&&this.setTableHeaderRow(yr),this.setFont(void 0,"normal"),lr=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(ar){var or=ar.family.replace(/"|'/g,"").toLowerCase(),lr=function(ur){return Pt[ur=ur||"normal"]?ur:"normal"}(ar.style),Ar=function(ur){if(!ur)return 400;if(typeof ur=="number")return ur>=100&&ur<=900&&ur%100==0?ur:400;if(/^\d00$/.test(ur))return parseInt(ur);switch(ur){case"bold":return 700;case"normal":default:return 400}}(ar.weight),cr=function(ur){return typeof It[ur=ur||"normal"]=="number"?ur:"normal"}(ar.stretch);return{family:or,style:lr,weight:Ar,stretch:cr,src:ar.src||[],ref:ar.ref||{name:or,style:[cr,lr,Ar].join(" ")}}}function Ot(ar,or,lr,Ar){var cr;for(cr=lr;cr>=0&&cr<or.length;cr+=Ar)if(ar[or[cr]])return ar[or[cr]];for(cr=lr;cr>=0&&cr<or.length;cr-=Ar)if(ar[or[cr]])return ar[or[cr]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(ar){return[ar.stretch,ar.style,ar.weight,ar.family].join(" ")}function qt(ar,or,lr){for(var Ar=(lr=lr||{}).defaultFontFamily||"times",cr=Object.assign({},Bt,lr.genericFontFamilies||{}),ur=null,dr=null,hr=0;hr<or.length;++hr)if(cr[(ur=jt(or[hr])).family]&&(ur.family=cr[ur.family]),ar.hasOwnProperty(ur.family)){dr=ar[ur.family];break}if(!(dr=dr||ar[Ar]))throw new Error("Could not find a font-family for the rule '"+Et(ur)+"' and default family '"+Ar+"'.");if(dr=function(fr,gr){if(gr[fr])return gr[fr];var pr=It[fr],mr=pr<=It.normal?-1:1,yr=Ot(gr,kt,pr,mr);if(!yr)throw new Error("Could not find a matching font-stretch value for "+fr);return yr}(ur.stretch,dr),dr=function(fr,gr){if(gr[fr])return gr[fr];for(var pr=Pt[fr],mr=0;mr<pr.length;++mr)if(gr[pr[mr]])return gr[pr[mr]];throw new Error("Could not find a matching font-style for "+fr)}(ur.style,dr),!(dr=function(fr,gr){if(gr[fr])return gr[fr];if(fr===400&&gr[500])return gr[500];if(fr===500&&gr[400])return gr[400];var pr=Ct[fr],mr=Ot(gr,Ft,pr,fr<400?-1:1);if(!mr)throw new Error("Could not find a matching font-weight for value "+fr);return mr}(ur.weight,dr)))throw new Error("Failed to resolve a font for the rule '"+Et(ur)+"'.");return dr}function Dt(ar){return ar.trimLeft()}function Rt(ar,or){for(var lr=0;lr<ar.length;){if(ar.charAt(lr)===or)return[ar.substring(0,lr),ar.substring(lr+1)];lr+=1}return null}function Tt(ar){var or=ar.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return or===null?null:[or[0],ar.substring(or[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(ar){var or,lr,Ar,cr,ur,dr,hr,fr,gr,pr=function(Vr){return Vr=Vr||{},this.isStrokeTransparent=Vr.isStrokeTransparent||!1,this.strokeOpacity=Vr.strokeOpacity||1,this.strokeStyle=Vr.strokeStyle||"#000000",this.fillStyle=Vr.fillStyle||"#000000",this.isFillTransparent=Vr.isFillTransparent||!1,this.fillOpacity=Vr.fillOpacity||1,this.font=Vr.font||"10px sans-serif",this.textBaseline=Vr.textBaseline||"alphabetic",this.textAlign=Vr.textAlign||"left",this.lineWidth=Vr.lineWidth||1,this.lineJoin=Vr.lineJoin||"miter",this.lineCap=Vr.lineCap||"butt",this.path=Vr.path||[],this.transform=Vr.transform!==void 0?Vr.transform.clone():new fr,this.globalCompositeOperation=Vr.globalCompositeOperation||"normal",this.globalAlpha=Vr.globalAlpha||1,this.clip_path=Vr.clip_path||[],this.currentPoint=Vr.currentPoint||new dr,this.miterLimit=Vr.miterLimit||10,this.lastPoint=Vr.lastPoint||new dr,this.lineDashOffset=Vr.lineDashOffset||0,this.lineDash=Vr.lineDash||[],this.margin=Vr.margin||[0,0,0,0],this.prevPageLastElemOffset=Vr.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Vr.ignoreClearRect!="boolean"||Vr.ignoreClearRect,this};ar.events.push(["initialized",function(){this.context2d=new mr(this),or=this.internal.f2,lr=this.internal.getCoordinateString,Ar=this.internal.getVerticalCoordinateString,cr=this.internal.getHorizontalCoordinate,ur=this.internal.getVerticalCoordinate,dr=this.internal.Point,hr=this.internal.Rectangle,fr=this.internal.Matrix,gr=new pr}]);var mr=function(Vr){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Qr=Vr;Object.defineProperty(this,"pdf",{get:function(){return Qr}});var $r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $r},set:function(ms){$r=!!ms}});var zr=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return zr},set:function(ms){zr=!!ms}});var cs=0;Object.defineProperty(this,"posX",{get:function(){return cs},set:function(ms){isNaN(ms)||(cs=ms)}});var Jr=0;Object.defineProperty(this,"posY",{get:function(){return Jr},set:function(ms){isNaN(ms)||(Jr=ms)}}),Object.defineProperty(this,"margin",{get:function(){return gr.margin},set:function(ms){var ss;typeof ms=="number"?ss=[ms,ms,ms,ms]:((ss=new Array(4))[0]=ms[0],ss[1]=ms.length>=2?ms[1]:ss[0],ss[2]=ms.length>=3?ms[2]:ss[0],ss[3]=ms.length>=4?ms[3]:ss[1]),gr.margin=ss}});var ls=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ls},set:function(ms){ls=ms}});var hs=0;Object.defineProperty(this,"lastBreak",{get:function(){return hs},set:function(ms){hs=ms}});var bs=[];Object.defineProperty(this,"pageBreaks",{get:function(){return bs},set:function(ms){bs=ms}}),Object.defineProperty(this,"ctx",{get:function(){return gr},set:function(ms){ms instanceof pr&&(gr=ms)}}),Object.defineProperty(this,"path",{get:function(){return gr.path},set:function(ms){gr.path=ms}});var Ts=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ts},set:function(ms){Ts=ms}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ms){var ss;ss=yr(ms),this.ctx.fillStyle=ss.style,this.ctx.isFillTransparent=ss.a===0,this.ctx.fillOpacity=ss.a,this.pdf.setFillColor(ss.r,ss.g,ss.b,{a:ss.a}),this.pdf.setTextColor(ss.r,ss.g,ss.b,{a:ss.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ms){var ss=yr(ms);this.ctx.strokeStyle=ss.style,this.ctx.isStrokeTransparent=ss.a===0,this.ctx.strokeOpacity=ss.a,ss.a===0?this.pdf.setDrawColor(255,255,255):(ss.a,this.pdf.setDrawColor(ss.r,ss.g,ss.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ms){["butt","round","square"].indexOf(ms)!==-1&&(this.ctx.lineCap=ms,this.pdf.setLineCap(ms))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ms){isNaN(ms)||(this.ctx.lineWidth=ms,this.pdf.setLineWidth(ms))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ms){["bevel","round","miter"].indexOf(ms)!==-1&&(this.ctx.lineJoin=ms,this.pdf.setLineJoin(ms))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ms){isNaN(ms)||(this.ctx.miterLimit=ms,this.pdf.setMiterLimit(ms))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ms){this.ctx.textBaseline=ms}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ms){["right","end","center","left","start"].indexOf(ms)!==-1&&(this.ctx.textAlign=ms)}});var Ds=null;function us(ms,ss){if(Ds===null){var ks=function(as){var fs=[];return Object.keys(as).forEach(function(ws){as[ws].forEach(function(Is){var Ps=null;switch(Is){case"bold":Ps={family:ws,weight:"bold"};break;case"italic":Ps={family:ws,style:"italic"};break;case"bolditalic":Ps={family:ws,weight:"bold",style:"italic"};break;case"":case"normal":Ps={family:ws}}Ps!==null&&(Ps.ref={name:ws,style:Is},fs.push(Ps))})}),fs}(ms.getFontList());Ds=function(as){for(var fs={},ws=0;ws<as.length;++ws){var Is=jt(as[ws]),Ps=Is.family,Ws=Is.stretch,Ks=Is.style,Fs=Is.weight;fs[Ps]=fs[Ps]||{},fs[Ps][Ws]=fs[Ps][Ws]||{},fs[Ps][Ws][Ks]=fs[Ps][Ws][Ks]||{},fs[Ps][Ws][Ks][Fs]=Is}return fs}(ks.concat(ss))}return Ds}var ps=null;Object.defineProperty(this,"fontFaces",{get:function(){return ps},set:function(ms){Ds=null,ps=ms}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ms){var ss;if(this.ctx.font=ms,(ss=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ms))!==null){var ks=ss[1];ss[2];var as=ss[3],fs=ss[4];ss[5];var ws=ss[6],Is=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(fs)[2];fs=Math.floor(Is==="px"?parseFloat(fs)*this.pdf.internal.scaleFactor:Is==="em"?parseFloat(fs)*this.pdf.getFontSize():parseFloat(fs)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(fs);var Ps=function(Us){var Cs,Bs,$s=[],qs=Us.trim();if(qs==="")return Wt;if(qs in Mt)return[Mt[qs]];for(;qs!=="";){switch(Bs=null,Cs=(qs=Dt(qs)).charAt(0)){case'"':case"'":Bs=Rt(qs.substring(1),Cs);break;default:Bs=Tt(qs)}if(Bs===null||($s.push(Bs[0]),(qs=Dt(Bs[1]))!==""&&qs.charAt(0)!==","))return Wt;qs=qs.replace(/^,/,"")}return $s}(ws);if(this.fontFaces){var Ws=qt(us(this.pdf,this.fontFaces),Ps.map(function(Us){return{family:Us,stretch:"normal",weight:as,style:ks}}));this.pdf.setFont(Ws.ref.name,Ws.ref.style)}else{var Ks="";(as==="bold"||parseInt(as,10)>=700||ks==="bold")&&(Ks="bold"),ks==="italic"&&(Ks+="italic"),Ks.length===0&&(Ks="normal");for(var Fs="",ni={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},li=0;li<Ps.length;li++){if(this.pdf.internal.getFont(Ps[li],Ks,{noFallback:!0,disableWarning:!0})!==void 0){Fs=Ps[li];break}if(Ks==="bolditalic"&&this.pdf.internal.getFont(Ps[li],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fs=Ps[li],Ks="bold";else if(this.pdf.internal.getFont(Ps[li],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fs=Ps[li],Ks="normal";break}}if(Fs===""){for(var Si=0;Si<Ps.length;Si++)if(ni[Ps[Si]]){Fs=ni[Ps[Si]];break}}Fs=Fs===""?"Times":Fs,this.pdf.setFont(Fs,Ks)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ms){this.ctx.globalCompositeOperation=ms}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ms){this.ctx.globalAlpha=ms}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ms){this.ctx.lineDashOffset=ms,Os.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ms){this.ctx.lineDash=ms,Os.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ms){this.ctx.ignoreClearRect=!!ms}})};mr.prototype.setLineDash=function(Vr){this.lineDash=Vr},mr.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},mr.prototype.fill=function(){Tr.call(this,"fill",!1)},mr.prototype.stroke=function(){Tr.call(this,"stroke",!1)},mr.prototype.beginPath=function(){this.path=[{type:"begin"}]},mr.prototype.moveTo=function(Vr,Qr){if(isNaN(Vr)||isNaN(Qr))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $r=this.ctx.transform.applyToPoint(new dr(Vr,Qr));this.path.push({type:"mt",x:$r.x,y:$r.y}),this.ctx.lastPoint=new dr(Vr,Qr)},mr.prototype.closePath=function(){var Vr=new dr(0,0),Qr=0;for(Qr=this.path.length-1;Qr!==-1;Qr--)if(this.path[Qr].type==="begin"&&_typeof$1(this.path[Qr+1])==="object"&&typeof this.path[Qr+1].x=="number"){Vr=new dr(this.path[Qr+1].x,this.path[Qr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new dr(Vr.x,Vr.y)},mr.prototype.lineTo=function(Vr,Qr){if(isNaN(Vr)||isNaN(Qr))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $r=this.ctx.transform.applyToPoint(new dr(Vr,Qr));this.path.push({type:"lt",x:$r.x,y:$r.y}),this.ctx.lastPoint=new dr($r.x,$r.y)},mr.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Tr.call(this,null,!0)},mr.prototype.quadraticCurveTo=function(Vr,Qr,$r,zr){if(isNaN($r)||isNaN(zr)||isNaN(Vr)||isNaN(Qr))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var cs=this.ctx.transform.applyToPoint(new dr($r,zr)),Jr=this.ctx.transform.applyToPoint(new dr(Vr,Qr));this.path.push({type:"qct",x1:Jr.x,y1:Jr.y,x:cs.x,y:cs.y}),this.ctx.lastPoint=new dr(cs.x,cs.y)},mr.prototype.bezierCurveTo=function(Vr,Qr,$r,zr,cs,Jr){if(isNaN(cs)||isNaN(Jr)||isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ls=this.ctx.transform.applyToPoint(new dr(cs,Jr)),hs=this.ctx.transform.applyToPoint(new dr(Vr,Qr)),bs=this.ctx.transform.applyToPoint(new dr($r,zr));this.path.push({type:"bct",x1:hs.x,y1:hs.y,x2:bs.x,y2:bs.y,x:ls.x,y:ls.y}),this.ctx.lastPoint=new dr(ls.x,ls.y)},mr.prototype.arc=function(Vr,Qr,$r,zr,cs,Jr){if(isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr)||isNaN(cs))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Jr=!!Jr,!this.ctx.transform.isIdentity){var ls=this.ctx.transform.applyToPoint(new dr(Vr,Qr));Vr=ls.x,Qr=ls.y;var hs=this.ctx.transform.applyToPoint(new dr(0,$r)),bs=this.ctx.transform.applyToPoint(new dr(0,0));$r=Math.sqrt(Math.pow(hs.x-bs.x,2)+Math.pow(hs.y-bs.y,2))}Math.abs(cs-zr)>=2*Math.PI&&(zr=0,cs=2*Math.PI),this.path.push({type:"arc",x:Vr,y:Qr,radius:$r,startAngle:zr,endAngle:cs,counterclockwise:Jr})},mr.prototype.arcTo=function(Vr,Qr,$r,zr,cs){throw new Error("arcTo not implemented.")},mr.prototype.rect=function(Vr,Qr,$r,zr){if(isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Vr,Qr),this.lineTo(Vr+$r,Qr),this.lineTo(Vr+$r,Qr+zr),this.lineTo(Vr,Qr+zr),this.lineTo(Vr,Qr),this.lineTo(Vr+$r,Qr),this.lineTo(Vr,Qr)},mr.prototype.fillRect=function(Vr,Qr,$r,zr){if(isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!vr.call(this)){var cs={};this.lineCap!=="butt"&&(cs.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(cs.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Vr,Qr,$r,zr),this.fill(),cs.hasOwnProperty("lineCap")&&(this.lineCap=cs.lineCap),cs.hasOwnProperty("lineJoin")&&(this.lineJoin=cs.lineJoin)}},mr.prototype.strokeRect=function(Vr,Qr,$r,zr){if(isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");br.call(this)||(this.beginPath(),this.rect(Vr,Qr,$r,zr),this.stroke())},mr.prototype.clearRect=function(Vr,Qr,$r,zr){if(isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Vr,Qr,$r,zr))},mr.prototype.save=function(Vr){Vr=typeof Vr!="boolean"||Vr;for(var Qr=this.pdf.internal.getCurrentPageInfo().pageNumber,$r=0;$r<this.pdf.internal.getNumberOfPages();$r++)this.pdf.setPage($r+1),this.pdf.internal.out("q");if(this.pdf.setPage(Qr),Vr){this.ctx.fontSize=this.pdf.internal.getFontSize();var zr=new pr(this.ctx);this.ctxStack.push(this.ctx),this.ctx=zr}},mr.prototype.restore=function(Vr){Vr=typeof Vr!="boolean"||Vr;for(var Qr=this.pdf.internal.getCurrentPageInfo().pageNumber,$r=0;$r<this.pdf.internal.getNumberOfPages();$r++)this.pdf.setPage($r+1),this.pdf.internal.out("Q");this.pdf.setPage(Qr),Vr&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},mr.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var yr=function(Vr){var Qr,$r,zr,cs;if(Vr.isCanvasGradient===!0&&(Vr=Vr.getColor()),!Vr)return{r:0,g:0,b:0,a:0,style:Vr};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Vr))Qr=0,$r=0,zr=0,cs=0;else{var Jr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Vr);if(Jr!==null)Qr=parseInt(Jr[1]),$r=parseInt(Jr[2]),zr=parseInt(Jr[3]),cs=1;else if((Jr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Vr))!==null)Qr=parseInt(Jr[1]),$r=parseInt(Jr[2]),zr=parseInt(Jr[3]),cs=parseFloat(Jr[4]);else{if(cs=1,typeof Vr=="string"&&Vr.charAt(0)!=="#"){var ls=new f(Vr);Vr=ls.ok?ls.toHex():"#000000"}Vr.length===4?(Qr=Vr.substring(1,2),Qr+=Qr,$r=Vr.substring(2,3),$r+=$r,zr=Vr.substring(3,4),zr+=zr):(Qr=Vr.substring(1,3),$r=Vr.substring(3,5),zr=Vr.substring(5,7)),Qr=parseInt(Qr,16),$r=parseInt($r,16),zr=parseInt(zr,16)}}return{r:Qr,g:$r,b:zr,a:cs,style:Vr}},vr=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},br=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};mr.prototype.fillText=function(Vr,Qr,$r,zr){if(isNaN(Qr)||isNaN($r)||typeof Vr!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(zr=isNaN(zr)?void 0:zr,!vr.call(this)){var cs=As(this.ctx.transform.rotation),Jr=this.ctx.transform.scaleX;Ur.call(this,{text:Vr,x:Qr,y:$r,scale:Jr,angle:cs,align:this.textAlign,maxWidth:zr})}},mr.prototype.strokeText=function(Vr,Qr,$r,zr){if(isNaN(Qr)||isNaN($r)||typeof Vr!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!br.call(this)){zr=isNaN(zr)?void 0:zr;var cs=As(this.ctx.transform.rotation),Jr=this.ctx.transform.scaleX;Ur.call(this,{text:Vr,x:Qr,y:$r,scale:Jr,renderingMode:"stroke",angle:cs,align:this.textAlign,maxWidth:zr})}},mr.prototype.measureText=function(Vr){if(typeof Vr!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Qr=this.pdf,$r=this.pdf.internal.scaleFactor,zr=Qr.internal.getFontSize(),cs=Qr.getStringUnitWidth(Vr)*zr/Qr.internal.scaleFactor,Jr=function(ls){var hs=(ls=ls||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return hs}}),this};return new Jr({width:cs*=Math.round(96*$r/72*1e4)/1e4})},mr.prototype.scale=function(Vr,Qr){if(isNaN(Vr)||isNaN(Qr))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $r=new fr(Vr,0,0,Qr,0,0);this.ctx.transform=this.ctx.transform.multiply($r)},mr.prototype.rotate=function(Vr){if(isNaN(Vr))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Qr=new fr(Math.cos(Vr),Math.sin(Vr),-Math.sin(Vr),Math.cos(Vr),0,0);this.ctx.transform=this.ctx.transform.multiply(Qr)},mr.prototype.translate=function(Vr,Qr){if(isNaN(Vr)||isNaN(Qr))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $r=new fr(1,0,0,1,Vr,Qr);this.ctx.transform=this.ctx.transform.multiply($r)},mr.prototype.transform=function(Vr,Qr,$r,zr,cs,Jr){if(isNaN(Vr)||isNaN(Qr)||isNaN($r)||isNaN(zr)||isNaN(cs)||isNaN(Jr))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ls=new fr(Vr,Qr,$r,zr,cs,Jr);this.ctx.transform=this.ctx.transform.multiply(ls)},mr.prototype.setTransform=function(Vr,Qr,$r,zr,cs,Jr){Vr=isNaN(Vr)?1:Vr,Qr=isNaN(Qr)?0:Qr,$r=isNaN($r)?0:$r,zr=isNaN(zr)?1:zr,cs=isNaN(cs)?0:cs,Jr=isNaN(Jr)?0:Jr,this.ctx.transform=new fr(Vr,Qr,$r,zr,cs,Jr)};var wr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};mr.prototype.drawImage=function(Vr,Qr,$r,zr,cs,Jr,ls,hs,bs){var Ts=this.pdf.getImageProperties(Vr),Ds=1,us=1,ps=1,ms=1;zr!==void 0&&hs!==void 0&&(ps=hs/zr,ms=bs/cs,Ds=Ts.width/zr*hs/zr,us=Ts.height/cs*bs/cs),Jr===void 0&&(Jr=Qr,ls=$r,Qr=0,$r=0),zr!==void 0&&hs===void 0&&(hs=zr,bs=cs),zr===void 0&&hs===void 0&&(hs=Ts.width,bs=Ts.height);for(var ss,ks=this.ctx.transform.decompose(),as=As(ks.rotate.shx),fs=new fr,ws=(fs=(fs=(fs=fs.multiply(ks.translate)).multiply(ks.skew)).multiply(ks.scale)).applyToRectangle(new hr(Jr-Qr*ps,ls-$r*ms,zr*Ds,cs*us)),Is=Cr.call(this,ws),Ps=[],Ws=0;Ws<Is.length;Ws+=1)Ps.indexOf(Is[Ws])===-1&&Ps.push(Is[Ws]);if(Er(Ps),this.autoPaging)for(var Ks=Ps[0],Fs=Ps[Ps.length-1],ni=Ks;ni<Fs+1;ni++){this.pdf.setPage(ni);var li=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Si=ni===1?this.posY+this.margin[0]:this.margin[0],Us=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Cs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bs=ni===1?0:Us+(ni-2)*Cs;if(this.ctx.clip_path.length!==0){var $s=this.path;ss=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Sr(ss,this.posX+this.margin[3],-Bs+Si+this.ctx.prevPageLastElemOffset),kr.call(this,"fill",!0),this.path=$s}var qs=JSON.parse(JSON.stringify(ws));qs=Sr([qs],this.posX+this.margin[3],-Bs+Si+this.ctx.prevPageLastElemOffset)[0];var bi=(ni>Ks||ni<Fs)&&wr.call(this);bi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],li,Cs,null).clip().discardPath()),this.pdf.addImage(Vr,"JPEG",qs.x,qs.y,qs.w,qs.h,null,null,as),bi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Vr,"JPEG",ws.x,ws.y,ws.w,ws.h,null,null,as)};var Cr=function(Vr,Qr,$r){var zr=[];Qr=Qr||this.pdf.internal.pageSize.width,$r=$r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var cs=this.posY+this.ctx.prevPageLastElemOffset;switch(Vr.type){default:case"mt":case"lt":zr.push(Math.floor((Vr.y+cs)/$r)+1);break;case"arc":zr.push(Math.floor((Vr.y+cs-Vr.radius)/$r)+1),zr.push(Math.floor((Vr.y+cs+Vr.radius)/$r)+1);break;case"qct":var Jr=is(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Vr.x1,Vr.y1,Vr.x,Vr.y);zr.push(Math.floor((Jr.y+cs)/$r)+1),zr.push(Math.floor((Jr.y+Jr.h+cs)/$r)+1);break;case"bct":var ls=gs(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Vr.x1,Vr.y1,Vr.x2,Vr.y2,Vr.x,Vr.y);zr.push(Math.floor((ls.y+cs)/$r)+1),zr.push(Math.floor((ls.y+ls.h+cs)/$r)+1);break;case"rect":zr.push(Math.floor((Vr.y+cs)/$r)+1),zr.push(Math.floor((Vr.y+Vr.h+cs)/$r)+1)}for(var hs=0;hs<zr.length;hs+=1)for(;this.pdf.internal.getNumberOfPages()<zr[hs];)Br.call(this);return zr},Br=function(){var Vr=this.fillStyle,Qr=this.strokeStyle,$r=this.font,zr=this.lineCap,cs=this.lineWidth,Jr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Vr,this.strokeStyle=Qr,this.font=$r,this.lineCap=zr,this.lineWidth=cs,this.lineJoin=Jr},Sr=function(Vr,Qr,$r){for(var zr=0;zr<Vr.length;zr++)switch(Vr[zr].type){case"bct":Vr[zr].x2+=Qr,Vr[zr].y2+=$r;case"qct":Vr[zr].x1+=Qr,Vr[zr].y1+=$r;case"mt":case"lt":case"arc":default:Vr[zr].x+=Qr,Vr[zr].y+=$r}return Vr},Er=function(Vr){return Vr.sort(function(Qr,$r){return Qr-$r})},Tr=function(Vr,Qr){for(var $r,zr,cs=this.fillStyle,Jr=this.strokeStyle,ls=this.lineCap,hs=this.lineWidth,bs=Math.abs(hs*this.ctx.transform.scaleX),Ts=this.lineJoin,Ds=JSON.parse(JSON.stringify(this.path)),us=JSON.parse(JSON.stringify(this.path)),ps=[],ms=0;ms<us.length;ms++)if(us[ms].x!==void 0)for(var ss=Cr.call(this,us[ms]),ks=0;ks<ss.length;ks+=1)ps.indexOf(ss[ks])===-1&&ps.push(ss[ks]);for(var as=0;as<ps.length;as++)for(;this.pdf.internal.getNumberOfPages()<ps[as];)Br.call(this);if(Er(ps),this.autoPaging)for(var fs=ps[0],ws=ps[ps.length-1],Is=fs;Is<ws+1;Is++){this.pdf.setPage(Is),this.fillStyle=cs,this.strokeStyle=Jr,this.lineCap=ls,this.lineWidth=bs,this.lineJoin=Ts;var Ps=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ws=Is===1?this.posY+this.margin[0]:this.margin[0],Ks=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ni=Is===1?0:Ks+(Is-2)*Fs;if(this.ctx.clip_path.length!==0){var li=this.path;$r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Sr($r,this.posX+this.margin[3],-ni+Ws+this.ctx.prevPageLastElemOffset),kr.call(this,Vr,!0),this.path=li}if(zr=JSON.parse(JSON.stringify(Ds)),this.path=Sr(zr,this.posX+this.margin[3],-ni+Ws+this.ctx.prevPageLastElemOffset),Qr===!1||Is===0){var Si=(Is>fs||Is<ws)&&wr.call(this);Si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ps,Fs,null).clip().discardPath()),kr.call(this,Vr,Qr),Si&&this.pdf.restoreGraphicsState()}this.lineWidth=hs}else this.lineWidth=bs,kr.call(this,Vr,Qr),this.lineWidth=hs;this.path=Ds},kr=function(Vr,Qr){if((Vr!=="stroke"||Qr||!br.call(this))&&(Vr==="stroke"||Qr||!vr.call(this))){for(var $r,zr,cs=[],Jr=this.path,ls=0;ls<Jr.length;ls++){var hs=Jr[ls];switch(hs.type){case"begin":cs.push({begin:!0});break;case"close":cs.push({close:!0});break;case"mt":cs.push({start:hs,deltas:[],abs:[]});break;case"lt":var bs=cs.length;if(Jr[ls-1]&&!isNaN(Jr[ls-1].x)&&($r=[hs.x-Jr[ls-1].x,hs.y-Jr[ls-1].y],bs>0)){for(;bs>=0;bs--)if(cs[bs-1].close!==!0&&cs[bs-1].begin!==!0){cs[bs-1].deltas.push($r),cs[bs-1].abs.push(hs);break}}break;case"bct":$r=[hs.x1-Jr[ls-1].x,hs.y1-Jr[ls-1].y,hs.x2-Jr[ls-1].x,hs.y2-Jr[ls-1].y,hs.x-Jr[ls-1].x,hs.y-Jr[ls-1].y],cs[cs.length-1].deltas.push($r);break;case"qct":var Ts=Jr[ls-1].x+2/3*(hs.x1-Jr[ls-1].x),Ds=Jr[ls-1].y+2/3*(hs.y1-Jr[ls-1].y),us=hs.x+2/3*(hs.x1-hs.x),ps=hs.y+2/3*(hs.y1-hs.y),ms=hs.x,ss=hs.y;$r=[Ts-Jr[ls-1].x,Ds-Jr[ls-1].y,us-Jr[ls-1].x,ps-Jr[ls-1].y,ms-Jr[ls-1].x,ss-Jr[ls-1].y],cs[cs.length-1].deltas.push($r);break;case"arc":cs.push({deltas:[],abs:[],arc:!0}),Array.isArray(cs[cs.length-1].abs)&&cs[cs.length-1].abs.push(hs)}}zr=Qr?null:Vr==="stroke"?"stroke":"fill";for(var ks=!1,as=0;as<cs.length;as++)if(cs[as].arc)for(var fs=cs[as].abs,ws=0;ws<fs.length;ws++){var Is=fs[ws];Is.type==="arc"?Lr.call(this,Is.x,Is.y,Is.radius,Is.startAngle,Is.endAngle,Is.counterclockwise,void 0,Qr,!ks):Kr.call(this,Is.x,Is.y),ks=!0}else if(cs[as].close===!0)this.pdf.internal.out("h"),ks=!1;else if(cs[as].begin!==!0){var Ps=cs[as].start.x,Ws=cs[as].start.y;Xr.call(this,cs[as].deltas,Ps,Ws),ks=!0}zr&&_r.call(this,zr),Qr&&Hr.call(this)}},Or=function(Vr){var Qr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$r=Qr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Vr-$r;case"top":return Vr+Qr-$r;case"hanging":return Vr+Qr-2*$r;case"middle":return Vr+Qr/2-$r;case"ideographic":return Vr;case"alphabetic":default:return Vr}},Rr=function(Vr){return Vr+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};mr.prototype.createLinearGradient=function(){var Vr=function(){};return Vr.colorStops=[],Vr.addColorStop=function(Qr,$r){this.colorStops.push([Qr,$r])},Vr.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Vr.isCanvasGradient=!0,Vr},mr.prototype.createPattern=function(){return this.createLinearGradient()},mr.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Lr=function(Vr,Qr,$r,zr,cs,Jr,ls,hs,bs){for(var Ts=Zr.call(this,$r,zr,cs,Jr),Ds=0;Ds<Ts.length;Ds++){var us=Ts[Ds];Ds===0&&(bs?Mr.call(this,us.x1+Vr,us.y1+Qr):Kr.call(this,us.x1+Vr,us.y1+Qr)),Yr.call(this,Vr,Qr,us.x2,us.y2,us.x3,us.y3,us.x4,us.y4)}hs?Hr.call(this):_r.call(this,ls)},_r=function(Vr){switch(Vr){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Hr=function(){this.pdf.clip(),this.pdf.discardPath()},Mr=function(Vr,Qr){this.pdf.internal.out(lr(Vr)+" "+Ar(Qr)+" m")},Ur=function(Vr){var Qr;switch(Vr.align){case"right":case"end":Qr="right";break;case"center":Qr="center";break;case"left":case"start":default:Qr="left"}var $r=this.pdf.getTextDimensions(Vr.text),zr=Or.call(this,Vr.y),cs=Rr.call(this,zr)-$r.h,Jr=this.ctx.transform.applyToPoint(new dr(Vr.x,zr)),ls=this.ctx.transform.decompose(),hs=new fr;hs=(hs=(hs=hs.multiply(ls.translate)).multiply(ls.skew)).multiply(ls.scale);for(var bs,Ts,Ds,us=this.ctx.transform.applyToRectangle(new hr(Vr.x,zr,$r.w,$r.h)),ps=hs.applyToRectangle(new hr(Vr.x,cs,$r.w,$r.h)),ms=Cr.call(this,ps),ss=[],ks=0;ks<ms.length;ks+=1)ss.indexOf(ms[ks])===-1&&ss.push(ms[ks]);if(Er(ss),this.autoPaging)for(var as=ss[0],fs=ss[ss.length-1],ws=as;ws<fs+1;ws++){this.pdf.setPage(ws);var Is=ws===1?this.posY+this.margin[0]:this.margin[0],Ps=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ws=this.pdf.internal.pageSize.height-this.margin[2],Ks=Ws-this.margin[0],Fs=this.pdf.internal.pageSize.width-this.margin[1],ni=Fs-this.margin[3],li=ws===1?0:Ps+(ws-2)*Ks;if(this.ctx.clip_path.length!==0){var Si=this.path;bs=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Sr(bs,this.posX+this.margin[3],-1*li+Is),kr.call(this,"fill",!0),this.path=Si}var Us=Sr([JSON.parse(JSON.stringify(ps))],this.posX+this.margin[3],-li+Is+this.ctx.prevPageLastElemOffset)[0];Vr.scale>=.01&&(Ts=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ts*Vr.scale),Ds=this.lineWidth,this.lineWidth=Ds*Vr.scale);var Cs=this.autoPaging!=="text";if(Cs||Us.y+Us.h<=Ws){if(Cs||Us.y>=Is&&Us.x<=Fs){var Bs=Cs?Vr.text:this.pdf.splitTextToSize(Vr.text,Vr.maxWidth||Fs-Us.x)[0],$s=Sr([JSON.parse(JSON.stringify(us))],this.posX+this.margin[3],-li+Is+this.ctx.prevPageLastElemOffset)[0],qs=Cs&&(ws>as||ws<fs)&&wr.call(this);qs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ni,Ks,null).clip().discardPath()),this.pdf.text(Bs,$s.x,$s.y,{angle:Vr.angle,align:Qr,renderingMode:Vr.renderingMode}),qs&&this.pdf.restoreGraphicsState()}}else Us.y<Ws&&(this.ctx.prevPageLastElemOffset+=Ws-Us.y);Vr.scale>=.01&&(this.pdf.setFontSize(Ts),this.lineWidth=Ds)}else Vr.scale>=.01&&(Ts=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ts*Vr.scale),Ds=this.lineWidth,this.lineWidth=Ds*Vr.scale),this.pdf.text(Vr.text,Jr.x+this.posX,Jr.y+this.posY,{angle:Vr.angle,align:Qr,renderingMode:Vr.renderingMode,maxWidth:Vr.maxWidth}),Vr.scale>=.01&&(this.pdf.setFontSize(Ts),this.lineWidth=Ds)},Kr=function(Vr,Qr,$r,zr){$r=$r||0,zr=zr||0,this.pdf.internal.out(lr(Vr+$r)+" "+Ar(Qr+zr)+" l")},Xr=function(Vr,Qr,$r){return this.pdf.lines(Vr,Qr,$r,null,null)},Yr=function(Vr,Qr,$r,zr,cs,Jr,ls,hs){this.pdf.internal.out([or(cr($r+Vr)),or(ur(zr+Qr)),or(cr(cs+Vr)),or(ur(Jr+Qr)),or(cr(ls+Vr)),or(ur(hs+Qr)),"c"].join(" "))},Zr=function(Vr,Qr,$r,zr){for(var cs=2*Math.PI,Jr=Math.PI/2;Qr>$r;)Qr-=cs;var ls=Math.abs($r-Qr);ls<cs&&zr&&(ls=cs-ls);for(var hs=[],bs=zr?-1:1,Ts=Qr;ls>1e-5;){var Ds=Ts+bs*Math.min(ls,Jr);hs.push(ns.call(this,Vr,Ts,Ds)),ls-=Math.abs(Ds-Ts),Ts=Ds}return hs},ns=function(Vr,Qr,$r){var zr=($r-Qr)/2,cs=Vr*Math.cos(zr),Jr=Vr*Math.sin(zr),ls=cs,hs=-Jr,bs=ls*ls+hs*hs,Ts=bs+ls*cs+hs*Jr,Ds=4/3*(Math.sqrt(2*bs*Ts)-Ts)/(ls*Jr-hs*cs),us=ls-Ds*hs,ps=hs+Ds*ls,ms=us,ss=-ps,ks=zr+Qr,as=Math.cos(ks),fs=Math.sin(ks);return{x1:Vr*Math.cos(Qr),y1:Vr*Math.sin(Qr),x2:us*as-ps*fs,y2:us*fs+ps*as,x3:ms*as-ss*fs,y3:ms*fs+ss*as,x4:Vr*Math.cos($r),y4:Vr*Math.sin($r)}},As=function(Vr){return 180*Vr/Math.PI},is=function(Vr,Qr,$r,zr,cs,Jr){var ls=Vr+.5*($r-Vr),hs=Qr+.5*(zr-Qr),bs=cs+.5*($r-cs),Ts=Jr+.5*(zr-Jr),Ds=Math.min(Vr,cs,ls,bs),us=Math.max(Vr,cs,ls,bs),ps=Math.min(Qr,Jr,hs,Ts),ms=Math.max(Qr,Jr,hs,Ts);return new hr(Ds,ps,us-Ds,ms-ps)},gs=function(Vr,Qr,$r,zr,cs,Jr,ls,hs){var bs,Ts,Ds,us,ps,ms,ss,ks,as,fs,ws,Is,Ps,Ws,Ks=$r-Vr,Fs=zr-Qr,ni=cs-$r,li=Jr-zr,Si=ls-cs,Us=hs-Jr;for(Ts=0;Ts<41;Ts++)as=(ss=(Ds=Vr+(bs=Ts/40)*Ks)+bs*((ps=$r+bs*ni)-Ds))+bs*(ps+bs*(cs+bs*Si-ps)-ss),fs=(ks=(us=Qr+bs*Fs)+bs*((ms=zr+bs*li)-us))+bs*(ms+bs*(Jr+bs*Us-ms)-ks),Ts==0?(ws=as,Is=fs,Ps=as,Ws=fs):(ws=Math.min(ws,as),Is=Math.min(Is,fs),Ps=Math.max(Ps,as),Ws=Math.max(Ws,fs));return new hr(Math.round(ws),Math.round(Is),Math.round(Ps-ws),Math.round(Ws-Is))},Os=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Vr,Qr,$r=(Vr=this.ctx.lineDash,Qr=this.ctx.lineDashOffset,JSON.stringify({lineDash:Vr,lineDashOffset:Qr}));this.prevLineDash!==$r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$r)}}})(E.API),function(ar){var or=function(ur){var dr,hr,fr,gr,pr,mr,yr,vr,br,wr;for(hr=[],fr=0,gr=(ur+=dr="\0\0\0\0".slice(ur.length%4||4)).length;gr>fr;fr+=4)(pr=(ur.charCodeAt(fr)<<24)+(ur.charCodeAt(fr+1)<<16)+(ur.charCodeAt(fr+2)<<8)+ur.charCodeAt(fr+3))!==0?(mr=(pr=((pr=((pr=((pr=(pr-(wr=pr%85))/85)-(br=pr%85))/85)-(vr=pr%85))/85)-(yr=pr%85))/85)%85,hr.push(mr+33,yr+33,vr+33,br+33,wr+33)):hr.push(122);return function(Cr,Br){for(var Sr=Br;Sr>0;Sr--)Cr.pop()}(hr,dr.length),String.fromCharCode.apply(String,hr)+"~>"},lr=function(ur){var dr,hr,fr,gr,pr,mr=String,yr="length",vr=255,br="charCodeAt",wr="slice",Cr="replace";for(ur[wr](-2),ur=ur[wr](0,-2)[Cr](/\s/g,"")[Cr]("z","!!!!!"),fr=[],gr=0,pr=(ur+=dr="uuuuu"[wr](ur[yr]%5||5))[yr];pr>gr;gr+=5)hr=52200625*(ur[br](gr)-33)+614125*(ur[br](gr+1)-33)+7225*(ur[br](gr+2)-33)+85*(ur[br](gr+3)-33)+(ur[br](gr+4)-33),fr.push(vr&hr>>24,vr&hr>>16,vr&hr>>8,vr&hr);return function(Br,Sr){for(var Er=Sr;Er>0;Er--)Br.pop()}(fr,dr[yr]),mr.fromCharCode.apply(mr,fr)},Ar=function(ur){var dr=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ur=ur.replace(/\s/g,"")).indexOf(">")!==-1&&(ur=ur.substr(0,ur.indexOf(">"))),ur.length%2&&(ur+="0"),dr.test(ur)===!1)return"";for(var hr="",fr=0;fr<ur.length;fr+=2)hr+=String.fromCharCode("0x"+(ur[fr]+ur[fr+1]));return hr},cr=function(ur){for(var dr=new Uint8Array(ur.length),hr=ur.length;hr--;)dr[hr]=ur.charCodeAt(hr);return ur=(dr=zlibSync(dr)).reduce(function(fr,gr){return fr+String.fromCharCode(gr)},"")};ar.processDataByFilters=function(ur,dr){var hr=0,fr=ur||"",gr=[];for(typeof(dr=dr||[])=="string"&&(dr=[dr]),hr=0;hr<dr.length;hr+=1)switch(dr[hr]){case"ASCII85Decode":case"/ASCII85Decode":fr=lr(fr),gr.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":fr=or(fr),gr.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":fr=Ar(fr),gr.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":fr=fr.split("").map(function(pr){return("0"+pr.charCodeAt().toString(16)).slice(-2)}).join("")+">",gr.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":fr=cr(fr),gr.push("/FlateDecode");break;default:throw new Error('The filter: "'+dr[hr]+'" is not implemented')}return{data:fr,reverseChain:gr.reverse().join(" ")}}}(E.API),function(ar){ar.loadFile=function(or,lr,Ar){return function(cr,ur,dr){ur=ur!==!1,dr=typeof dr=="function"?dr:function(){};var hr=void 0;try{hr=function(fr,gr,pr){var mr=new XMLHttpRequest,yr=0,vr=function(br){var wr=br.length,Cr=[],Br=String.fromCharCode;for(yr=0;yr<wr;yr+=1)Cr.push(Br(255&br.charCodeAt(yr)));return Cr.join("")};if(mr.open("GET",fr,!gr),mr.overrideMimeType("text/plain; charset=x-user-defined"),gr===!1&&(mr.onload=function(){mr.status===200?pr(vr(this.responseText)):pr(void 0)}),mr.send(null),gr&&mr.status===200)return vr(mr.responseText)}(cr,ur,dr)}catch{}return hr}(or,lr,Ar)},ar.loadImageFile=ar.loadFile}(E.API),function(ar){function or(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas-BTgn-Ux0.js").then(dr=>dr.h),[])).catch(function(dr){return Promise.reject(new Error("Could not load html2canvas: "+dr))}).then(function(dr){return dr.default?dr.default:dr})}function lr(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(dr){return Promise.reject(new Error("Could not load dompurify: "+dr))}).then(function(dr){return dr.default?dr.default:dr})}var Ar=function(dr){var hr=_typeof$1(dr);return hr==="undefined"?"undefined":hr==="string"||dr instanceof String?"string":hr==="number"||dr instanceof Number?"number":hr==="function"||dr instanceof Function?"function":dr&&dr.constructor===Array?"array":dr&&dr.nodeType===1?"element":hr==="object"?"object":"unknown"},cr=function(dr,hr){var fr=document.createElement(dr);for(var gr in hr.className&&(fr.className=hr.className),hr.innerHTML&&hr.dompurify&&(fr.innerHTML=hr.dompurify.sanitize(hr.innerHTML)),hr.style)fr.style[gr]=hr.style[gr];return fr},ur=function dr(hr){var fr=Object.assign(dr.convert(Promise.resolve()),JSON.parse(JSON.stringify(dr.template))),gr=dr.convert(Promise.resolve(),fr);return gr=(gr=gr.setProgress(1,dr,1,[dr])).set(hr)};(ur.prototype=Object.create(Promise.prototype)).constructor=ur,ur.convert=function(dr,hr){return dr.__proto__=hr||ur.prototype,dr},ur.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ur.prototype.from=function(dr,hr){return this.then(function(){switch(hr=hr||function(fr){switch(Ar(fr)){case"string":return"string";case"element":return fr.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(dr)){case"string":return this.then(lr).then(function(fr){return this.set({src:cr("div",{innerHTML:dr,dompurify:fr})})});case"element":return this.set({src:dr});case"canvas":return this.set({canvas:dr});case"img":return this.set({img:dr});default:return this.error("Unknown source type.")}})},ur.prototype.to=function(dr){switch(dr){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ur.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var dr={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},hr=function fr(gr,pr){for(var mr=gr.nodeType===3?document.createTextNode(gr.nodeValue):gr.cloneNode(!1),yr=gr.firstChild;yr;yr=yr.nextSibling)pr!==!0&&yr.nodeType===1&&yr.nodeName==="SCRIPT"||mr.appendChild(fr(yr,pr));return gr.nodeType===1&&(gr.nodeName==="CANVAS"?(mr.width=gr.width,mr.height=gr.height,mr.getContext("2d").drawImage(gr,0,0)):gr.nodeName!=="TEXTAREA"&&gr.nodeName!=="SELECT"||(mr.value=gr.value),mr.addEventListener("load",function(){mr.scrollTop=gr.scrollTop,mr.scrollLeft=gr.scrollLeft},!0)),mr}(this.prop.src,this.opt.html2canvas.javascriptEnabled);hr.tagName==="BODY"&&(dr.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=cr("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=cr("div",{className:"html2pdf__container",style:dr}),this.prop.container.appendChild(hr),this.prop.container.firstChild.appendChild(cr("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ur.prototype.toCanvas=function(){var dr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(dr).then(or).then(function(hr){var fr=Object.assign({},this.opt.html2canvas);return delete fr.onrendered,hr(this.prop.container,fr)}).then(function(hr){(this.opt.html2canvas.onrendered||function(){})(hr),this.prop.canvas=hr,document.body.removeChild(this.prop.overlay)})},ur.prototype.toContext2d=function(){var dr=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(dr).then(or).then(function(hr){var fr=this.opt.jsPDF,gr=this.opt.fontFaces,pr=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,mr=Object.assign({async:!0,allowTaint:!0,scale:pr,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete mr.onrendered,fr.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,fr.context2d.posX=this.opt.x,fr.context2d.posY=this.opt.y,fr.context2d.margin=this.opt.margin,fr.context2d.fontFaces=gr,gr)for(var yr=0;yr<gr.length;++yr){var vr=gr[yr],br=vr.src.find(function(wr){return wr.format==="truetype"});br&&fr.addFont(br.url,vr.ref.name,vr.ref.style)}return mr.windowHeight=mr.windowHeight||0,mr.windowHeight=mr.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):mr.windowHeight,fr.context2d.save(!0),hr(this.prop.container,mr)}).then(function(hr){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(hr),this.prop.canvas=hr,document.body.removeChild(this.prop.overlay)})},ur.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var dr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=dr})},ur.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ur.prototype.output=function(dr,hr,fr){return(fr=fr||"pdf").toLowerCase()==="img"||fr.toLowerCase()==="image"?this.outputImg(dr,hr):this.outputPdf(dr,hr)},ur.prototype.outputPdf=function(dr,hr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(dr,hr)})},ur.prototype.outputImg=function(dr){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(dr){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+dr+'" is not supported.'}})},ur.prototype.save=function(dr){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(dr?{filename:dr}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ur.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ur.prototype.set=function(dr){if(Ar(dr)!=="object")return this;var hr=Object.keys(dr||{}).map(function(fr){if(fr in ur.template.prop)return function(){this.prop[fr]=dr[fr]};switch(fr){case"margin":return this.setMargin.bind(this,dr.margin);case"jsPDF":return function(){return this.opt.jsPDF=dr.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,dr.pageSize);default:return function(){this.opt[fr]=dr[fr]}}},this);return this.then(function(){return this.thenList(hr)})},ur.prototype.get=function(dr,hr){return this.then(function(){var fr=dr in ur.template.prop?this.prop[dr]:this.opt[dr];return hr?hr(fr):fr})},ur.prototype.setMargin=function(dr){return this.then(function(){switch(Ar(dr)){case"number":dr=[dr,dr,dr,dr];case"array":if(dr.length===2&&(dr=[dr[0],dr[1],dr[0],dr[1]]),dr.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=dr}).then(this.setPageSize)},ur.prototype.setPageSize=function(dr){function hr(fr,gr){return Math.floor(fr*gr/72*96)}return this.then(function(){(dr=dr||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(dr.inner={width:dr.width-this.opt.margin[1]-this.opt.margin[3],height:dr.height-this.opt.margin[0]-this.opt.margin[2]},dr.inner.px={width:hr(dr.inner.width,dr.k),height:hr(dr.inner.height,dr.k)},dr.inner.ratio=dr.inner.height/dr.inner.width),this.prop.pageSize=dr})},ur.prototype.setProgress=function(dr,hr,fr,gr){return dr!=null&&(this.progress.val=dr),hr!=null&&(this.progress.state=hr),fr!=null&&(this.progress.n=fr),gr!=null&&(this.progress.stack=gr),this.progress.ratio=this.progress.val/this.progress.state,this},ur.prototype.updateProgress=function(dr,hr,fr,gr){return this.setProgress(dr?this.progress.val+dr:null,hr||null,fr?this.progress.n+fr:null,gr?this.progress.stack.concat(gr):null)},ur.prototype.then=function(dr,hr){var fr=this;return this.thenCore(dr,hr,function(gr,pr){return fr.updateProgress(null,null,1,[gr]),Promise.prototype.then.call(this,function(mr){return fr.updateProgress(null,gr),mr}).then(gr,pr).then(function(mr){return fr.updateProgress(1),mr})})},ur.prototype.thenCore=function(dr,hr,fr){fr=fr||Promise.prototype.then,dr&&(dr=dr.bind(this)),hr&&(hr=hr.bind(this));var gr=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:ur.convert(Object.assign({},this),Promise.prototype),pr=fr.call(gr,dr,hr);return ur.convert(pr,this.__proto__)},ur.prototype.thenExternal=function(dr,hr){return Promise.prototype.then.call(this,dr,hr)},ur.prototype.thenList=function(dr){var hr=this;return dr.forEach(function(fr){hr=hr.thenCore(fr)}),hr},ur.prototype.catch=function(dr){dr&&(dr=dr.bind(this));var hr=Promise.prototype.catch.call(this,dr);return ur.convert(hr,this)},ur.prototype.catchExternal=function(dr){return Promise.prototype.catch.call(this,dr)},ur.prototype.error=function(dr){return this.then(function(){throw new Error(dr)})},ur.prototype.using=ur.prototype.set,ur.prototype.saveAs=ur.prototype.save,ur.prototype.export=ur.prototype.output,ur.prototype.run=ur.prototype.then,E.getPageSize=function(dr,hr,fr){if(_typeof$1(dr)==="object"){var gr=dr;dr=gr.orientation,hr=gr.unit||hr,fr=gr.format||fr}hr=hr||"mm",fr=fr||"a4",dr=(""+(dr||"P")).toLowerCase();var pr,mr=(""+fr).toLowerCase(),yr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(hr){case"pt":pr=1;break;case"mm":pr=72/25.4;break;case"cm":pr=72/2.54;break;case"in":pr=72;break;case"px":pr=.75;break;case"pc":case"em":pr=12;break;case"ex":pr=6;break;default:throw"Invalid unit: "+hr}var vr,br=0,wr=0;if(yr.hasOwnProperty(mr))br=yr[mr][1]/pr,wr=yr[mr][0]/pr;else try{br=fr[1],wr=fr[0]}catch{throw new Error("Invalid format: "+fr)}if(dr==="p"||dr==="portrait")dr="p",wr>br&&(vr=wr,wr=br,br=vr);else{if(dr!=="l"&&dr!=="landscape")throw"Invalid orientation: "+dr;dr="l",br>wr&&(vr=wr,wr=br,br=vr)}return{width:wr,height:br,unit:hr,k:pr,orientation:dr}},ar.html=function(dr,hr){(hr=hr||{}).callback=hr.callback||function(){},hr.html2canvas=hr.html2canvas||{},hr.html2canvas.canvas=hr.html2canvas.canvas||this.canvas,hr.jsPDF=hr.jsPDF||this,hr.fontFaces=hr.fontFaces?hr.fontFaces.map(jt):null;var fr=new ur(hr);return hr.worker?fr:fr.from(dr).doCallback()}}(E.API),E.API.addJS=function(ar){return Ht=ar,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(ar){var or;ar.events.push(["postPutResources",function(){var lr=this,Ar=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var cr=lr.outline.render().split(/\r\n/),ur=0;ur<cr.length;ur++){var dr=cr[ur],hr=Ar.exec(dr);if(hr!=null){var fr=hr[1];lr.internal.newObjectDeferredBegin(fr,!1)}lr.internal.write(dr)}if(this.outline.createNamedDestinations){var gr=this.internal.pages.length,pr=[];for(ur=0;ur<gr;ur++){var mr=lr.internal.newObject();pr.push(mr);var yr=lr.internal.getPageInfo(ur+1);lr.internal.write("<< /D["+yr.objId+" 0 R /XYZ null null null]>> endobj")}var vr=lr.internal.newObject();for(lr.internal.write("<< /Names [ "),ur=0;ur<pr.length;ur++)lr.internal.write("(page_"+(ur+1)+")"+pr[ur]+" 0 R");lr.internal.write(" ] >>","endobj"),or=lr.internal.newObject(),lr.internal.write("<< /Dests "+vr+" 0 R"),lr.internal.write(">>","endobj")}}]),ar.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+or+" 0 R"))}]),ar.events.push(["initialized",function(){var lr=this;lr.outline={createNamedDestinations:!1,root:{children:[]}},lr.outline.add=function(Ar,cr,ur){var dr={title:cr,options:ur,children:[]};return Ar==null&&(Ar=this.root),Ar.children.push(dr),dr},lr.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=lr,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},lr.outline.genIds_r=function(Ar){Ar.id=lr.internal.newObjectDeferred();for(var cr=0;cr<Ar.children.length;cr++)this.genIds_r(Ar.children[cr])},lr.outline.renderRoot=function(Ar){this.objStart(Ar),this.line("/Type /Outlines"),Ar.children.length>0&&(this.line("/First "+this.makeRef(Ar.children[0])),this.line("/Last "+this.makeRef(Ar.children[Ar.children.length-1]))),this.line("/Count "+this.count_r({count:0},Ar)),this.objEnd()},lr.outline.renderItems=function(Ar){for(var cr=this.ctx.pdf.internal.getVerticalCoordinateString,ur=0;ur<Ar.children.length;ur++){var dr=Ar.children[ur];this.objStart(dr),this.line("/Title "+this.makeString(dr.title)),this.line("/Parent "+this.makeRef(Ar)),ur>0&&this.line("/Prev "+this.makeRef(Ar.children[ur-1])),ur<Ar.children.length-1&&this.line("/Next "+this.makeRef(Ar.children[ur+1])),dr.children.length>0&&(this.line("/First "+this.makeRef(dr.children[0])),this.line("/Last "+this.makeRef(dr.children[dr.children.length-1])));var hr=this.count=this.count_r({count:0},dr);if(hr>0&&this.line("/Count "+hr),dr.options&&dr.options.pageNumber){var fr=lr.internal.getPageInfo(dr.options.pageNumber);this.line("/Dest ["+fr.objId+" 0 R /XYZ 0 "+cr(0)+" 0]")}this.objEnd()}for(var gr=0;gr<Ar.children.length;gr++)this.renderItems(Ar.children[gr])},lr.outline.line=function(Ar){this.ctx.val+=Ar+`\r
`},lr.outline.makeRef=function(Ar){return Ar.id+" 0 R"},lr.outline.makeString=function(Ar){return"("+lr.internal.pdfEscape(Ar)+")"},lr.outline.objStart=function(Ar){this.ctx.val+=`\r
`+Ar.id+` 0 obj\r
<<\r
`},lr.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},lr.outline.count_r=function(Ar,cr){for(var ur=0;ur<cr.children.length;ur++)Ar.count++,this.count_r(Ar,cr.children[ur]);return Ar.count}}])}(E.API),function(ar){var or=[192,193,194,195,196,197,198,199];ar.processJPEG=function(lr,Ar,cr,ur,dr,hr){var fr,gr=this.decode.DCT_DECODE,pr=null;if(typeof lr=="string"||this.__addimage__.isArrayBuffer(lr)||this.__addimage__.isArrayBufferView(lr)){switch(lr=dr||lr,lr=this.__addimage__.isArrayBuffer(lr)?new Uint8Array(lr):lr,(fr=function(mr){for(var yr,vr=256*mr.charCodeAt(4)+mr.charCodeAt(5),br=mr.length,wr={width:0,height:0,numcomponents:1},Cr=4;Cr<br;Cr+=2){if(Cr+=vr,or.indexOf(mr.charCodeAt(Cr+1))!==-1){yr=256*mr.charCodeAt(Cr+5)+mr.charCodeAt(Cr+6),wr={width:256*mr.charCodeAt(Cr+7)+mr.charCodeAt(Cr+8),height:yr,numcomponents:mr.charCodeAt(Cr+9)};break}vr=256*mr.charCodeAt(Cr+2)+mr.charCodeAt(Cr+3)}return wr}(lr=this.__addimage__.isArrayBufferView(lr)?this.__addimage__.arrayBufferToBinaryString(lr):lr)).numcomponents){case 1:hr=this.color_spaces.DEVICE_GRAY;break;case 4:hr=this.color_spaces.DEVICE_CMYK;break;case 3:hr=this.color_spaces.DEVICE_RGB}pr={data:lr,width:fr.width,height:fr.height,colorSpace:hr,bitsPerComponent:8,filter:gr,index:Ar,alias:cr}}return pr}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var ar,or,lr;function Ar(ur){var dr,hr,fr,gr,pr,mr,yr,vr,br,wr,Cr,Br,Sr,Er;for(this.data=ur,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},mr=null;;){switch(dr=this.readUInt32(),br=(function(){var Tr,kr;for(kr=[],Tr=0;Tr<4;++Tr)kr.push(String.fromCharCode(this.data[this.pos++]));return kr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(dr);break;case"fcTL":mr&&this.animation.frames.push(mr),this.pos+=4,mr={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},pr=this.readUInt16(),gr=this.readUInt16()||100,mr.delay=1e3*pr/gr,mr.disposeOp=this.data[this.pos++],mr.blendOp=this.data[this.pos++],mr.data=[];break;case"IDAT":case"fdAT":for(br==="fdAT"&&(this.pos+=4,dr-=4),ur=(mr!=null?mr.data:void 0)||this.imgData,Br=0;0<=dr?Br<dr:Br>dr;0<=dr?++Br:--Br)ur.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(fr=this.palette.length/3,this.transparency.indexed=this.read(dr),this.transparency.indexed.length>fr)throw new Error("More transparent colors than palette size");if((wr=fr-this.transparency.indexed.length)>0)for(Sr=0;0<=wr?Sr<wr:Sr>wr;0<=wr?++Sr:--Sr)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(dr)[0];break;case 2:this.transparency.rgb=this.read(dr)}break;case"tEXt":yr=(Cr=this.read(dr)).indexOf(0),vr=String.fromCharCode.apply(String,Cr.slice(0,yr)),this.text[vr]=String.fromCharCode.apply(String,Cr.slice(yr+1));break;case"IEND":return mr&&this.animation.frames.push(mr),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Er=this.colorType)===4||Er===6,hr=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*hr,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=dr}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Ar.prototype.read=function(ur){var dr,hr;for(hr=[],dr=0;0<=ur?dr<ur:dr>ur;0<=ur?++dr:--dr)hr.push(this.data[this.pos++]);return hr},Ar.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Ar.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Ar.prototype.decodePixels=function(ur){var dr=this.pixelBitlength/8,hr=new Uint8Array(this.width*this.height*dr),fr=0,gr=this;if(ur==null&&(ur=this.imgData),ur.length===0)return new Uint8Array(0);function pr(mr,yr,vr,br){var wr,Cr,Br,Sr,Er,Tr,kr,Or,Rr,Lr,_r,Hr,Mr,Ur,Kr,Xr,Yr,Zr,ns,As,is,gs=Math.ceil((gr.width-mr)/vr),Os=Math.ceil((gr.height-yr)/br),Vr=gr.width==gs&&gr.height==Os;for(Ur=dr*gs,Hr=Vr?hr:new Uint8Array(Ur*Os),Tr=ur.length,Mr=0,Cr=0;Mr<Os&&fr<Tr;){switch(ur[fr++]){case 0:for(Sr=Yr=0;Yr<Ur;Sr=Yr+=1)Hr[Cr++]=ur[fr++];break;case 1:for(Sr=Zr=0;Zr<Ur;Sr=Zr+=1)wr=ur[fr++],Er=Sr<dr?0:Hr[Cr-dr],Hr[Cr++]=(wr+Er)%256;break;case 2:for(Sr=ns=0;ns<Ur;Sr=ns+=1)wr=ur[fr++],Br=(Sr-Sr%dr)/dr,Kr=Mr&&Hr[(Mr-1)*Ur+Br*dr+Sr%dr],Hr[Cr++]=(Kr+wr)%256;break;case 3:for(Sr=As=0;As<Ur;Sr=As+=1)wr=ur[fr++],Br=(Sr-Sr%dr)/dr,Er=Sr<dr?0:Hr[Cr-dr],Kr=Mr&&Hr[(Mr-1)*Ur+Br*dr+Sr%dr],Hr[Cr++]=(wr+Math.floor((Er+Kr)/2))%256;break;case 4:for(Sr=is=0;is<Ur;Sr=is+=1)wr=ur[fr++],Br=(Sr-Sr%dr)/dr,Er=Sr<dr?0:Hr[Cr-dr],Mr===0?Kr=Xr=0:(Kr=Hr[(Mr-1)*Ur+Br*dr+Sr%dr],Xr=Br&&Hr[(Mr-1)*Ur+(Br-1)*dr+Sr%dr]),kr=Er+Kr-Xr,Or=Math.abs(kr-Er),Lr=Math.abs(kr-Kr),_r=Math.abs(kr-Xr),Rr=Or<=Lr&&Or<=_r?Er:Lr<=_r?Kr:Xr,Hr[Cr++]=(wr+Rr)%256;break;default:throw new Error("Invalid filter algorithm: "+ur[fr-1])}if(!Vr){var Qr=((yr+Mr*br)*gr.width+mr)*dr,$r=Mr*Ur;for(Sr=0;Sr<gs;Sr+=1){for(var zr=0;zr<dr;zr+=1)hr[Qr++]=Hr[$r++];Qr+=(vr-1)*dr}}Mr++}}return ur=unzlibSync(ur),gr.interlaceMethod==1?(pr(0,0,8,8),pr(4,0,8,8),pr(0,4,4,8),pr(2,0,4,4),pr(0,2,2,4),pr(1,0,2,2),pr(0,1,1,2)):pr(0,0,1,1),hr},Ar.prototype.decodePalette=function(){var ur,dr,hr,fr,gr,pr,mr,yr,vr;for(hr=this.palette,pr=this.transparency.indexed||[],gr=new Uint8Array((pr.length||0)+hr.length),fr=0,ur=0,dr=mr=0,yr=hr.length;mr<yr;dr=mr+=3)gr[fr++]=hr[dr],gr[fr++]=hr[dr+1],gr[fr++]=hr[dr+2],gr[fr++]=(vr=pr[ur++])!=null?vr:255;return gr},Ar.prototype.copyToImageData=function(ur,dr){var hr,fr,gr,pr,mr,yr,vr,br,wr,Cr,Br;if(fr=this.colors,wr=null,hr=this.hasAlphaChannel,this.palette.length&&(wr=(Br=this._decodedPalette)!=null?Br:this._decodedPalette=this.decodePalette(),fr=4,hr=!0),br=(gr=ur.data||ur).length,mr=wr||dr,pr=yr=0,fr===1)for(;pr<br;)vr=wr?4*dr[pr/4]:yr,Cr=mr[vr++],gr[pr++]=Cr,gr[pr++]=Cr,gr[pr++]=Cr,gr[pr++]=hr?mr[vr++]:255,yr=vr;else for(;pr<br;)vr=wr?4*dr[pr/4]:yr,gr[pr++]=mr[vr++],gr[pr++]=mr[vr++],gr[pr++]=mr[vr++],gr[pr++]=hr?mr[vr++]:255,yr=vr},Ar.prototype.decode=function(){var ur;return ur=new Uint8Array(this.width*this.height*4),this.copyToImageData(ur,this.decodePixels()),ur};var cr=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{or=n.document.createElement("canvas"),lr=or.getContext("2d")}catch{return!1}return!0}return!1};return cr(),ar=function(ur){var dr;if(cr()===!0)return lr.width=ur.width,lr.height=ur.height,lr.clearRect(0,0,ur.width,ur.height),lr.putImageData(ur,0,0),(dr=new Image).src=or.toDataURL(),dr;throw new Error("This method requires a Browser with Canvas-capability.")},Ar.prototype.decodeFrames=function(ur){var dr,hr,fr,gr,pr,mr,yr,vr;if(this.animation){for(vr=[],hr=pr=0,mr=(yr=this.animation.frames).length;pr<mr;hr=++pr)dr=yr[hr],fr=ur.createImageData(dr.width,dr.height),gr=this.decodePixels(new Uint8Array(dr.data)),this.copyToImageData(fr,gr),dr.imageData=fr,vr.push(dr.image=ar(fr));return vr}},Ar.prototype.renderFrame=function(ur,dr){var hr,fr,gr;return hr=(fr=this.animation.frames)[dr],gr=fr[dr-1],dr===0&&ur.clearRect(0,0,this.width,this.height),(gr!=null?gr.disposeOp:void 0)===1?ur.clearRect(gr.xOffset,gr.yOffset,gr.width,gr.height):(gr!=null?gr.disposeOp:void 0)===2&&ur.putImageData(gr.imageData,gr.xOffset,gr.yOffset),hr.blendOp===0&&ur.clearRect(hr.xOffset,hr.yOffset,hr.width,hr.height),ur.drawImage(hr.image,hr.xOffset,hr.yOffset)},Ar.prototype.animate=function(ur){var dr,hr,fr,gr,pr,mr,yr=this;return hr=0,mr=this.animation,gr=mr.numFrames,fr=mr.frames,pr=mr.numPlays,(dr=function(){var vr,br;if(vr=hr++%gr,br=fr[vr],yr.renderFrame(ur,vr),gr>1&&hr/gr<pr)return yr.animation._timeout=setTimeout(dr,br.delay)})()},Ar.prototype.stopAnimation=function(){var ur;return clearTimeout((ur=this.animation)!=null?ur._timeout:void 0)},Ar.prototype.render=function(ur){var dr,hr;return ur._png&&ur._png.stopAnimation(),ur._png=this,ur.width=this.width,ur.height=this.height,dr=ur.getContext("2d"),this.animation?(this.decodeFrames(dr),this.animate(dr)):(hr=dr.createImageData(this.width,this.height),this.copyToImageData(hr,this.decodePixels()),dr.putImageData(hr,0,0))},Ar}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(ar){var or=0;if(ar[or++]!==71||ar[or++]!==73||ar[or++]!==70||ar[or++]!==56||(ar[or++]+1&253)!=56||ar[or++]!==97)throw new Error("Invalid GIF 87a/89a header.");var lr=ar[or++]|ar[or++]<<8,Ar=ar[or++]|ar[or++]<<8,cr=ar[or++],ur=cr>>7,dr=1<<(7&cr)+1;ar[or++],ar[or++];var hr=null,fr=null;ur&&(hr=or,fr=dr,or+=3*dr);var gr=!0,pr=[],mr=0,yr=null,vr=0,br=null;for(this.width=lr,this.height=Ar;gr&&or<ar.length;)switch(ar[or++]){case 33:switch(ar[or++]){case 255:if(ar[or]!==11||ar[or+1]==78&&ar[or+2]==69&&ar[or+3]==84&&ar[or+4]==83&&ar[or+5]==67&&ar[or+6]==65&&ar[or+7]==80&&ar[or+8]==69&&ar[or+9]==50&&ar[or+10]==46&&ar[or+11]==48&&ar[or+12]==3&&ar[or+13]==1&&ar[or+16]==0)or+=14,br=ar[or++]|ar[or++]<<8,or++;else for(or+=12;;){if(!((Mr=ar[or++])>=0))throw Error("Invalid block size");if(Mr===0)break;or+=Mr}break;case 249:if(ar[or++]!==4||ar[or+4]!==0)throw new Error("Invalid graphics extension block.");var wr=ar[or++];mr=ar[or++]|ar[or++]<<8,yr=ar[or++],!(1&wr)&&(yr=null),vr=wr>>2&7,or++;break;case 254:for(;;){if(!((Mr=ar[or++])>=0))throw Error("Invalid block size");if(Mr===0)break;or+=Mr}break;default:throw new Error("Unknown graphic control label: 0x"+ar[or-1].toString(16))}break;case 44:var Cr=ar[or++]|ar[or++]<<8,Br=ar[or++]|ar[or++]<<8,Sr=ar[or++]|ar[or++]<<8,Er=ar[or++]|ar[or++]<<8,Tr=ar[or++],kr=Tr>>6&1,Or=1<<(7&Tr)+1,Rr=hr,Lr=fr,_r=!1;Tr>>7&&(_r=!0,Rr=or,Lr=Or,or+=3*Or);var Hr=or;for(or++;;){var Mr;if(!((Mr=ar[or++])>=0))throw Error("Invalid block size");if(Mr===0)break;or+=Mr}pr.push({x:Cr,y:Br,width:Sr,height:Er,has_local_palette:_r,palette_offset:Rr,palette_size:Lr,data_offset:Hr,data_length:or-Hr,transparent_index:yr,interlaced:!!kr,delay:mr,disposal:vr});break;case 59:gr=!1;break;default:throw new Error("Unknown gif block: 0x"+ar[or-1].toString(16))}this.numFrames=function(){return pr.length},this.loopCount=function(){return br},this.frameInfo=function(Ur){if(Ur<0||Ur>=pr.length)throw new Error("Frame index out of range.");return pr[Ur]},this.decodeAndBlitFrameBGRA=function(Ur,Kr){var Xr=this.frameInfo(Ur),Yr=Xr.width*Xr.height,Zr=new Uint8Array(Yr);$t(ar,Xr.data_offset,Zr,Yr);var ns=Xr.palette_offset,As=Xr.transparent_index;As===null&&(As=256);var is=Xr.width,gs=lr-is,Os=is,Vr=4*(Xr.y*lr+Xr.x),Qr=4*((Xr.y+Xr.height)*lr+Xr.x),$r=Vr,zr=4*gs;Xr.interlaced===!0&&(zr+=4*lr*7);for(var cs=8,Jr=0,ls=Zr.length;Jr<ls;++Jr){var hs=Zr[Jr];if(Os===0&&(Os=is,($r+=zr)>=Qr&&(zr=4*gs+4*lr*(cs-1),$r=Vr+(is+gs)*(cs<<1),cs>>=1)),hs===As)$r+=4;else{var bs=ar[ns+3*hs],Ts=ar[ns+3*hs+1],Ds=ar[ns+3*hs+2];Kr[$r++]=Ds,Kr[$r++]=Ts,Kr[$r++]=bs,Kr[$r++]=255}--Os}},this.decodeAndBlitFrameRGBA=function(Ur,Kr){var Xr=this.frameInfo(Ur),Yr=Xr.width*Xr.height,Zr=new Uint8Array(Yr);$t(ar,Xr.data_offset,Zr,Yr);var ns=Xr.palette_offset,As=Xr.transparent_index;As===null&&(As=256);var is=Xr.width,gs=lr-is,Os=is,Vr=4*(Xr.y*lr+Xr.x),Qr=4*((Xr.y+Xr.height)*lr+Xr.x),$r=Vr,zr=4*gs;Xr.interlaced===!0&&(zr+=4*lr*7);for(var cs=8,Jr=0,ls=Zr.length;Jr<ls;++Jr){var hs=Zr[Jr];if(Os===0&&(Os=is,($r+=zr)>=Qr&&(zr=4*gs+4*lr*(cs-1),$r=Vr+(is+gs)*(cs<<1),cs>>=1)),hs===As)$r+=4;else{var bs=ar[ns+3*hs],Ts=ar[ns+3*hs+1],Ds=ar[ns+3*hs+2];Kr[$r++]=bs,Kr[$r++]=Ts,Kr[$r++]=Ds,Kr[$r++]=255}--Os}}}function $t(ar,or,lr,Ar){for(var cr=ar[or++],ur=1<<cr,dr=ur+1,hr=dr+1,fr=cr+1,gr=(1<<fr)-1,pr=0,mr=0,yr=0,vr=ar[or++],br=new Int32Array(4096),wr=null;;){for(;pr<16&&vr!==0;)mr|=ar[or++]<<pr,pr+=8,vr===1?vr=ar[or++]:--vr;if(pr<fr)break;var Cr=mr&gr;if(mr>>=fr,pr-=fr,Cr!==ur){if(Cr===dr)break;for(var Br=Cr<hr?Cr:wr,Sr=0,Er=Br;Er>ur;)Er=br[Er]>>8,++Sr;var Tr=Er;if(yr+Sr+(Br!==Cr?1:0)>Ar)return void a.log("Warning, gif stream longer than expected.");lr[yr++]=Tr;var kr=yr+=Sr;for(Br!==Cr&&(lr[yr++]=Tr),Er=Br;Sr--;)Er=br[Er],lr[--kr]=255&Er,Er>>=8;wr!==null&&hr<4096&&(br[hr++]=wr<<8|Tr,hr>=gr+1&&fr<12&&(++fr,gr=gr<<1|1)),wr=Cr}else hr=dr+1,gr=(1<<(fr=cr+1))-1,wr=null}return yr!==Ar&&a.log("Warning, gif stream shorter than expected."),lr}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(ar){var or,lr,Ar,cr,ur,dr=Math.floor,hr=new Array(64),fr=new Array(64),gr=new Array(64),pr=new Array(64),mr=new Array(65535),yr=new Array(65535),vr=new Array(64),br=new Array(64),wr=[],Cr=0,Br=7,Sr=new Array(64),Er=new Array(64),Tr=new Array(64),kr=new Array(256),Or=new Array(2048),Rr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Lr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_r=[0,1,2,3,4,5,6,7,8,9,10,11],Hr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Mr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Ur=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Kr=[0,1,2,3,4,5,6,7,8,9,10,11],Xr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Yr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Zr(Vr,Qr){for(var $r=0,zr=0,cs=new Array,Jr=1;Jr<=16;Jr++){for(var ls=1;ls<=Vr[Jr];ls++)cs[Qr[zr]]=[],cs[Qr[zr]][0]=$r,cs[Qr[zr]][1]=Jr,zr++,$r++;$r*=2}return cs}function ns(Vr){for(var Qr=Vr[0],$r=Vr[1]-1;$r>=0;)Qr&1<<$r&&(Cr|=1<<Br),$r--,--Br<0&&(Cr==255?(As(255),As(0)):As(Cr),Br=7,Cr=0)}function As(Vr){wr.push(Vr)}function is(Vr){As(Vr>>8&255),As(255&Vr)}function gs(Vr,Qr,$r,zr,cs){for(var Jr,ls=cs[0],hs=cs[240],bs=function(fs,ws){var Is,Ps,Ws,Ks,Fs,ni,li,Si,Us,Cs,Bs=0;for(Us=0;Us<8;++Us){Is=fs[Bs],Ps=fs[Bs+1],Ws=fs[Bs+2],Ks=fs[Bs+3],Fs=fs[Bs+4],ni=fs[Bs+5],li=fs[Bs+6];var $s=Is+(Si=fs[Bs+7]),qs=Is-Si,bi=Ps+li,zs=Ps-li,Vs=Ws+ni,Ys=Ws-ni,fi=Ks+Fs,Pi=Ks-Fs,Ei=$s+fi,Rs=$s-fi,Js=bi+Vs,oi=bi-Vs;fs[Bs]=Ei+Js,fs[Bs+4]=Ei-Js;var hi=.707106781*(oi+Rs);fs[Bs+2]=Rs+hi,fs[Bs+6]=Rs-hi;var Bi=.382683433*((Ei=Pi+Ys)-(oi=zs+qs)),Ii=.5411961*Ei+Bi,Ms=1.306562965*oi+Bi,_s=.707106781*(Js=Ys+zs),Xs=qs+_s,Zs=qs-_s;fs[Bs+5]=Zs+Ii,fs[Bs+3]=Zs-Ii,fs[Bs+1]=Xs+Ms,fs[Bs+7]=Xs-Ms,Bs+=8}for(Bs=0,Us=0;Us<8;++Us){Is=fs[Bs],Ps=fs[Bs+8],Ws=fs[Bs+16],Ks=fs[Bs+24],Fs=fs[Bs+32],ni=fs[Bs+40],li=fs[Bs+48];var pi=Is+(Si=fs[Bs+56]),wi=Is-Si,Ci=Ps+li,Fi=Ps-li,Di=Ws+ni,Mi=Ws-ni,Yi=Ks+Fs,Qi=Ks-Fs,ji=pi+Yi,Gi=pi-Yi,eo=Ci+Di,so=Ci-Di;fs[Bs]=ji+eo,fs[Bs+32]=ji-eo;var co=.707106781*(so+Gi);fs[Bs+16]=Gi+co,fs[Bs+48]=Gi-co;var xo=.382683433*((ji=Qi+Mi)-(so=Fi+wi)),vo=.5411961*ji+xo,la=1.306562965*so+xo,pa=.707106781*(eo=Mi+Fi),ga=wi+pa,Al=wi-pa;fs[Bs+40]=Al+vo,fs[Bs+24]=Al-vo,fs[Bs+8]=ga+la,fs[Bs+56]=ga-la,Bs++}for(Us=0;Us<64;++Us)Cs=fs[Us]*ws[Us],vr[Us]=Cs>0?Cs+.5|0:Cs-.5|0;return vr}(Vr,Qr),Ts=0;Ts<64;++Ts)br[Rr[Ts]]=bs[Ts];var Ds=br[0]-$r;$r=br[0],Ds==0?ns(zr[0]):(ns(zr[yr[Jr=32767+Ds]]),ns(mr[Jr]));for(var us=63;us>0&&br[us]==0;)us--;if(us==0)return ns(ls),$r;for(var ps,ms=1;ms<=us;){for(var ss=ms;br[ms]==0&&ms<=us;)++ms;var ks=ms-ss;if(ks>=16){ps=ks>>4;for(var as=1;as<=ps;++as)ns(hs);ks&=15}Jr=32767+br[ms],ns(cs[(ks<<4)+yr[Jr]]),ns(mr[Jr]),ms++}return us!=63&&ns(ls),$r}function Os(Vr){Vr=Math.min(Math.max(Vr,1),100),ur!=Vr&&(function(Qr){for(var $r=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],zr=0;zr<64;zr++){var cs=dr(($r[zr]*Qr+50)/100);cs=Math.min(Math.max(cs,1),255),hr[Rr[zr]]=cs}for(var Jr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ls=0;ls<64;ls++){var hs=dr((Jr[ls]*Qr+50)/100);hs=Math.min(Math.max(hs,1),255),fr[Rr[ls]]=hs}for(var bs=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ts=0,Ds=0;Ds<8;Ds++)for(var us=0;us<8;us++)gr[Ts]=1/(hr[Rr[Ts]]*bs[Ds]*bs[us]*8),pr[Ts]=1/(fr[Rr[Ts]]*bs[Ds]*bs[us]*8),Ts++}(Vr<50?Math.floor(5e3/Vr):Math.floor(200-2*Vr)),ur=Vr)}this.encode=function(Vr,Qr){Qr&&Os(Qr),wr=new Array,Cr=0,Br=7,is(65496),is(65504),is(16),As(74),As(70),As(73),As(70),As(0),As(1),As(1),As(0),is(1),is(1),As(0),As(0),function(){is(65499),is(132),As(0);for(var Ps=0;Ps<64;Ps++)As(hr[Ps]);As(1);for(var Ws=0;Ws<64;Ws++)As(fr[Ws])}(),function(Ps,Ws){is(65472),is(17),As(8),is(Ws),is(Ps),As(3),As(1),As(17),As(0),As(2),As(17),As(1),As(3),As(17),As(1)}(Vr.width,Vr.height),function(){is(65476),is(418),As(0);for(var Ps=0;Ps<16;Ps++)As(Lr[Ps+1]);for(var Ws=0;Ws<=11;Ws++)As(_r[Ws]);As(16);for(var Ks=0;Ks<16;Ks++)As(Hr[Ks+1]);for(var Fs=0;Fs<=161;Fs++)As(Mr[Fs]);As(1);for(var ni=0;ni<16;ni++)As(Ur[ni+1]);for(var li=0;li<=11;li++)As(Kr[li]);As(17);for(var Si=0;Si<16;Si++)As(Xr[Si+1]);for(var Us=0;Us<=161;Us++)As(Yr[Us])}(),is(65498),is(12),As(3),As(1),As(0),As(2),As(17),As(3),As(17),As(0),As(63),As(0);var $r=0,zr=0,cs=0;Cr=0,Br=7,this.encode.displayName="_encode_";for(var Jr,ls,hs,bs,Ts,Ds,us,ps,ms,ss=Vr.data,ks=Vr.width,as=Vr.height,fs=4*ks,ws=0;ws<as;){for(Jr=0;Jr<fs;){for(Ts=fs*ws+Jr,us=-1,ps=0,ms=0;ms<64;ms++)Ds=Ts+(ps=ms>>3)*fs+(us=4*(7&ms)),ws+ps>=as&&(Ds-=fs*(ws+1+ps-as)),Jr+us>=fs&&(Ds-=Jr+us-fs+4),ls=ss[Ds++],hs=ss[Ds++],bs=ss[Ds++],Sr[ms]=(Or[ls]+Or[hs+256>>0]+Or[bs+512>>0]>>16)-128,Er[ms]=(Or[ls+768>>0]+Or[hs+1024>>0]+Or[bs+1280>>0]>>16)-128,Tr[ms]=(Or[ls+1280>>0]+Or[hs+1536>>0]+Or[bs+1792>>0]>>16)-128;$r=gs(Sr,gr,$r,or,Ar),zr=gs(Er,pr,zr,lr,cr),cs=gs(Tr,pr,cs,lr,cr),Jr+=32}ws+=8}if(Br>=0){var Is=[];Is[1]=Br+1,Is[0]=(1<<Br+1)-1,ns(Is)}return is(65497),new Uint8Array(wr)},ar=ar||50,function(){for(var Vr=String.fromCharCode,Qr=0;Qr<256;Qr++)kr[Qr]=Vr(Qr)}(),or=Zr(Lr,_r),lr=Zr(Ur,Kr),Ar=Zr(Hr,Mr),cr=Zr(Xr,Yr),function(){for(var Vr=1,Qr=2,$r=1;$r<=15;$r++){for(var zr=Vr;zr<Qr;zr++)yr[32767+zr]=$r,mr[32767+zr]=[],mr[32767+zr][1]=$r,mr[32767+zr][0]=zr;for(var cs=-(Qr-1);cs<=-Vr;cs++)yr[32767+cs]=$r,mr[32767+cs]=[],mr[32767+cs][1]=$r,mr[32767+cs][0]=Qr-1+cs;Vr<<=1,Qr<<=1}}(),function(){for(var Vr=0;Vr<256;Vr++)Or[Vr]=19595*Vr,Or[Vr+256>>0]=38470*Vr,Or[Vr+512>>0]=7471*Vr+32768,Or[Vr+768>>0]=-11059*Vr,Or[Vr+1024>>0]=-21709*Vr,Or[Vr+1280>>0]=32768*Vr+8421375,Or[Vr+1536>>0]=-27439*Vr,Or[Vr+1792>>0]=-5329*Vr}(),Os(ar)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(ar,or){if(this.pos=0,this.buffer=ar,this.datav=new DataView(ar.buffer),this.is_with_alpha=!!or,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(ar){function or(Lr){if(!Lr)throw Error("assert :P")}function lr(Lr,_r,Hr){for(var Mr=0;4>Mr;Mr++)if(Lr[_r+Mr]!=Hr.charCodeAt(Mr))return!0;return!1}function Ar(Lr,_r,Hr,Mr,Ur){for(var Kr=0;Kr<Ur;Kr++)Lr[_r+Kr]=Hr[Mr+Kr]}function cr(Lr,_r,Hr,Mr){for(var Ur=0;Ur<Mr;Ur++)Lr[_r+Ur]=Hr}function ur(Lr){return new Int32Array(Lr)}function dr(Lr,_r){for(var Hr=[],Mr=0;Mr<Lr;Mr++)Hr.push(new _r);return Hr}function hr(Lr,_r){var Hr=[];return function Mr(Ur,Kr,Xr){for(var Yr=Xr[Kr],Zr=0;Zr<Yr&&(Ur.push(Xr.length>Kr+1?[]:new _r),!(Xr.length<Kr+1));Zr++)Mr(Ur[Zr],Kr+1,Xr)}(Hr,0,Lr),Hr}var fr=function(){var Lr=this;function _r(xr,Dr){for(var Gr=1<<Dr-1>>>0;xr&Gr;)Gr>>>=1;return Gr?(xr&Gr-1)+Gr:xr}function Hr(xr,Dr,Gr,rs,vs){or(!(rs%Gr));do xr[Dr+(rs-=Gr)]=vs;while(0<rs)}function Mr(xr,Dr,Gr,rs,vs){if(or(2328>=vs),512>=vs)var Ss=ur(512);else if((Ss=ur(vs))==null)return 0;return function(Es,Ns,Ls,Hs,ri,vi){var yi,ui,Ti=Ns,xi=1<<Ls,si=ur(16),ai=ur(16);for(or(ri!=0),or(Hs!=null),or(Es!=null),or(0<Ls),ui=0;ui<ri;++ui){if(15<Hs[ui])return 0;++si[Hs[ui]]}if(si[0]==ri)return 0;for(ai[1]=0,yi=1;15>yi;++yi){if(si[yi]>1<<yi)return 0;ai[yi+1]=ai[yi]+si[yi]}for(ui=0;ui<ri;++ui)yi=Hs[ui],0<Hs[ui]&&(vi[ai[yi]++]=ui);if(ai[15]==1)return(Hs=new Ur).g=0,Hs.value=vi[0],Hr(Es,Ti,1,xi,Hs),xi;var _i,Li=-1,Oi=xi-1,zi=0,$i=1,ro=1,Vi=1<<Ls;for(ui=0,yi=1,ri=2;yi<=Ls;++yi,ri<<=1){if($i+=ro<<=1,0>(ro-=si[yi]))return 0;for(;0<si[yi];--si[yi])(Hs=new Ur).g=yi,Hs.value=vi[ui++],Hr(Es,Ti+zi,ri,Vi,Hs),zi=_r(zi,yi)}for(yi=Ls+1,ri=2;15>=yi;++yi,ri<<=1){if($i+=ro<<=1,0>(ro-=si[yi]))return 0;for(;0<si[yi];--si[yi]){if(Hs=new Ur,(zi&Oi)!=Li){for(Ti+=Vi,_i=1<<(Li=yi)-Ls;15>Li&&!(0>=(_i-=si[Li]));)++Li,_i<<=1;xi+=Vi=1<<(_i=Li-Ls),Es[Ns+(Li=zi&Oi)].g=_i+Ls,Es[Ns+Li].value=Ti-Ns-Li}Hs.g=yi-Ls,Hs.value=vi[ui++],Hr(Es,Ti+(zi>>Ls),ri,Vi,Hs),zi=_r(zi,yi)}}return $i!=2*ai[15]-1?0:xi}(xr,Dr,Gr,rs,vs,Ss)}function Ur(){this.value=this.g=0}function Kr(){this.value=this.g=0}function Xr(){this.G=dr(5,Ur),this.H=ur(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=dr(Ko,Kr)}function Yr(xr,Dr,Gr,rs){or(xr!=null),or(Dr!=null),or(2147483648>rs),xr.Ca=254,xr.I=0,xr.b=-8,xr.Ka=0,xr.oa=Dr,xr.pa=Gr,xr.Jd=Dr,xr.Yc=Gr+rs,xr.Zc=4<=rs?Gr+rs-4+1:Gr,Jr(xr)}function Zr(xr,Dr){for(var Gr=0;0<Dr--;)Gr|=hs(xr,128)<<Dr;return Gr}function ns(xr,Dr){var Gr=Zr(xr,Dr);return ls(xr)?-Gr:Gr}function As(xr,Dr,Gr,rs){var vs,Ss=0;for(or(xr!=null),or(Dr!=null),or(4294967288>rs),xr.Sb=rs,xr.Ra=0,xr.u=0,xr.h=0,4<rs&&(rs=4),vs=0;vs<rs;++vs)Ss+=Dr[Gr+vs]<<8*vs;xr.Ra=Ss,xr.bb=rs,xr.oa=Dr,xr.pa=Gr}function is(xr){for(;8<=xr.u&&xr.bb<xr.Sb;)xr.Ra>>>=8,xr.Ra+=xr.oa[xr.pa+xr.bb]<<tA-8>>>0,++xr.bb,xr.u-=8;$r(xr)&&(xr.h=1,xr.u=0)}function gs(xr,Dr){if(or(0<=Dr),!xr.h&&Dr<=eA){var Gr=Qr(xr)&Bo[Dr];return xr.u+=Dr,is(xr),Gr}return xr.h=1,xr.u=0}function Os(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Vr(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Qr(xr){return xr.Ra>>>(xr.u&tA-1)>>>0}function $r(xr){return or(xr.bb<=xr.Sb),xr.h||xr.bb==xr.Sb&&xr.u>tA}function zr(xr,Dr){xr.u=Dr,xr.h=$r(xr)}function cs(xr){xr.u>=bA&&(or(xr.u>=bA),is(xr))}function Jr(xr){or(xr!=null&&xr.oa!=null),xr.pa<xr.Zc?(xr.I=(xr.oa[xr.pa++]|xr.I<<8)>>>0,xr.b+=8):(or(xr!=null&&xr.oa!=null),xr.pa<xr.Yc?(xr.b+=8,xr.I=xr.oa[xr.pa++]|xr.I<<8):xr.Ka?xr.b=0:(xr.I<<=8,xr.b+=8,xr.Ka=1))}function ls(xr){return Zr(xr,1)}function hs(xr,Dr){var Gr=xr.Ca;0>xr.b&&Jr(xr);var rs=xr.b,vs=Gr*Dr>>>8,Ss=(xr.I>>>rs>vs)+0;for(Ss?(Gr-=vs,xr.I-=vs+1<<rs>>>0):Gr=vs+1,rs=Gr,vs=0;256<=rs;)vs+=8,rs>>=8;return rs=7^vs+ma[rs],xr.b-=rs,xr.Ca=(Gr<<rs)-1,Ss}function bs(xr,Dr,Gr){xr[Dr+0]=Gr>>24&255,xr[Dr+1]=Gr>>16&255,xr[Dr+2]=Gr>>8&255,xr[Dr+3]=Gr>>0&255}function Ts(xr,Dr){return xr[Dr+0]<<0|xr[Dr+1]<<8}function Ds(xr,Dr){return Ts(xr,Dr)|xr[Dr+2]<<16}function us(xr,Dr){return Ts(xr,Dr)|Ts(xr,Dr+2)<<16}function ps(xr,Dr){var Gr=1<<Dr;return or(xr!=null),or(0<Dr),xr.X=ur(Gr),xr.X==null?0:(xr.Mb=32-Dr,xr.Xa=Dr,1)}function ms(xr,Dr){or(xr!=null),or(Dr!=null),or(xr.Xa==Dr.Xa),Ar(Dr.X,0,xr.X,0,1<<Dr.Xa)}function ss(){this.X=[],this.Xa=this.Mb=0}function ks(xr,Dr,Gr,rs){or(Gr!=null),or(rs!=null);var vs=Gr[0],Ss=rs[0];return vs==0&&(vs=(xr*Ss+Dr/2)/Dr),Ss==0&&(Ss=(Dr*vs+xr/2)/xr),0>=vs||0>=Ss?0:(Gr[0]=vs,rs[0]=Ss,1)}function as(xr,Dr){return xr+(1<<Dr)-1>>>Dr}function fs(xr,Dr){return((4278255360&xr)+(4278255360&Dr)>>>0&4278255360)+((16711935&xr)+(16711935&Dr)>>>0&16711935)>>>0}function ws(xr,Dr){Lr[Dr]=function(Gr,rs,vs,Ss,Es,Ns,Ls){var Hs;for(Hs=0;Hs<Es;++Hs){var ri=Lr[xr](Ns[Ls+Hs-1],vs,Ss+Hs);Ns[Ls+Hs]=fs(Gr[rs+Hs],ri)}}}function Is(){this.ud=this.hd=this.jd=0}function Ps(xr,Dr){return((4278124286&(xr^Dr))>>>1)+(xr&Dr)>>>0}function Ws(xr){return 0<=xr&&256>xr?xr:0>xr?0:255<xr?255:void 0}function Ks(xr,Dr){return Ws(xr+(xr-Dr+.5>>1))}function Fs(xr,Dr,Gr){return Math.abs(Dr-Gr)-Math.abs(xr-Gr)}function ni(xr,Dr,Gr,rs,vs,Ss,Es){for(rs=Ss[Es-1],Gr=0;Gr<vs;++Gr)Ss[Es+Gr]=rs=fs(xr[Dr+Gr],rs)}function li(xr,Dr,Gr,rs,vs){var Ss;for(Ss=0;Ss<Gr;++Ss){var Es=xr[Dr+Ss],Ns=Es>>8&255,Ls=16711935&(Ls=(Ls=16711935&Es)+((Ns<<16)+Ns));rs[vs+Ss]=(4278255360&Es)+Ls>>>0}}function Si(xr,Dr){Dr.jd=xr>>0&255,Dr.hd=xr>>8&255,Dr.ud=xr>>16&255}function Us(xr,Dr,Gr,rs,vs,Ss){var Es;for(Es=0;Es<rs;++Es){var Ns=Dr[Gr+Es],Ls=Ns>>>8,Hs=Ns,ri=255&(ri=(ri=Ns>>>16)+((xr.jd<<24>>24)*(Ls<<24>>24)>>>5));Hs=255&(Hs=(Hs=Hs+((xr.hd<<24>>24)*(Ls<<24>>24)>>>5))+((xr.ud<<24>>24)*(ri<<24>>24)>>>5)),vs[Ss+Es]=(4278255360&Ns)+(ri<<16)+Hs}}function Cs(xr,Dr,Gr,rs,vs){Lr[Dr]=function(Ss,Es,Ns,Ls,Hs,ri,vi,yi,ui){for(Ls=vi;Ls<yi;++Ls)for(vi=0;vi<ui;++vi)Hs[ri++]=vs(Ns[rs(Ss[Es++])])},Lr[xr]=function(Ss,Es,Ns,Ls,Hs,ri,vi){var yi=8>>Ss.b,ui=Ss.Ea,Ti=Ss.K[0],xi=Ss.w;if(8>yi)for(Ss=(1<<Ss.b)-1,xi=(1<<yi)-1;Es<Ns;++Es){var si,ai=0;for(si=0;si<ui;++si)si&Ss||(ai=rs(Ls[Hs++])),ri[vi++]=vs(Ti[ai&xi]),ai>>=yi}else Lr["VP8LMapColor"+Gr](Ls,Hs,Ti,xi,ri,vi,Es,Ns,ui)}}function Bs(xr,Dr,Gr,rs,vs){for(Gr=Dr+Gr;Dr<Gr;){var Ss=xr[Dr++];rs[vs++]=Ss>>16&255,rs[vs++]=Ss>>8&255,rs[vs++]=Ss>>0&255}}function $s(xr,Dr,Gr,rs,vs){for(Gr=Dr+Gr;Dr<Gr;){var Ss=xr[Dr++];rs[vs++]=Ss>>16&255,rs[vs++]=Ss>>8&255,rs[vs++]=Ss>>0&255,rs[vs++]=Ss>>24&255}}function qs(xr,Dr,Gr,rs,vs){for(Gr=Dr+Gr;Dr<Gr;){var Ss=(Es=xr[Dr++])>>16&240|Es>>12&15,Es=Es>>0&240|Es>>28&15;rs[vs++]=Ss,rs[vs++]=Es}}function bi(xr,Dr,Gr,rs,vs){for(Gr=Dr+Gr;Dr<Gr;){var Ss=(Es=xr[Dr++])>>16&248|Es>>13&7,Es=Es>>5&224|Es>>3&31;rs[vs++]=Ss,rs[vs++]=Es}}function zs(xr,Dr,Gr,rs,vs){for(Gr=Dr+Gr;Dr<Gr;){var Ss=xr[Dr++];rs[vs++]=Ss>>0&255,rs[vs++]=Ss>>8&255,rs[vs++]=Ss>>16&255}}function Vs(xr,Dr,Gr,rs,vs,Ss){if(Ss==0)for(Gr=Dr+Gr;Dr<Gr;)bs(rs,((Ss=xr[Dr++])[0]>>24|Ss[1]>>8&65280|Ss[2]<<8&16711680|Ss[3]<<24)>>>0),vs+=32;else Ar(rs,vs,xr,Dr,Gr)}function Ys(xr,Dr){Lr[Dr][0]=Lr[xr+"0"],Lr[Dr][1]=Lr[xr+"1"],Lr[Dr][2]=Lr[xr+"2"],Lr[Dr][3]=Lr[xr+"3"],Lr[Dr][4]=Lr[xr+"4"],Lr[Dr][5]=Lr[xr+"5"],Lr[Dr][6]=Lr[xr+"6"],Lr[Dr][7]=Lr[xr+"7"],Lr[Dr][8]=Lr[xr+"8"],Lr[Dr][9]=Lr[xr+"9"],Lr[Dr][10]=Lr[xr+"10"],Lr[Dr][11]=Lr[xr+"11"],Lr[Dr][12]=Lr[xr+"12"],Lr[Dr][13]=Lr[xr+"13"],Lr[Dr][14]=Lr[xr+"0"],Lr[Dr][15]=Lr[xr+"0"]}function fi(xr){return xr==Eu||xr==Fu||xr==Uc||xr==FA}function Pi(){this.eb=[],this.size=this.A=this.fb=0}function Ei(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pi,this.f.kb=new Ei,this.sd=null}function Js(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function oi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hi(xr){return alert("todo:WebPSamplerProcessPlane"),xr.T}function Bi(xr,Dr){var Gr=xr.T,rs=Dr.ba.f.RGBA,vs=rs.eb,Ss=rs.fb+xr.ka*rs.A,Es=$a[Dr.ba.S],Ns=xr.y,Ls=xr.O,Hs=xr.f,ri=xr.N,vi=xr.ea,yi=xr.W,ui=Dr.cc,Ti=Dr.dc,xi=Dr.Mc,si=Dr.Nc,ai=xr.ka,_i=xr.ka+xr.T,Li=xr.U,Oi=Li+1>>1;for(ai==0?Es(Ns,Ls,null,null,Hs,ri,vi,yi,Hs,ri,vi,yi,vs,Ss,null,null,Li):(Es(Dr.ec,Dr.fc,Ns,Ls,ui,Ti,xi,si,Hs,ri,vi,yi,vs,Ss-rs.A,vs,Ss,Li),++Gr);ai+2<_i;ai+=2)ui=Hs,Ti=ri,xi=vi,si=yi,ri+=xr.Rc,yi+=xr.Rc,Ss+=2*rs.A,Es(Ns,(Ls+=2*xr.fa)-xr.fa,Ns,Ls,ui,Ti,xi,si,Hs,ri,vi,yi,vs,Ss-rs.A,vs,Ss,Li);return Ls+=xr.fa,xr.j+_i<xr.o?(Ar(Dr.ec,Dr.fc,Ns,Ls,Li),Ar(Dr.cc,Dr.dc,Hs,ri,Oi),Ar(Dr.Mc,Dr.Nc,vi,yi,Oi),Gr--):1&_i||Es(Ns,Ls,null,null,Hs,ri,vi,yi,Hs,ri,vi,yi,vs,Ss+rs.A,null,null,Li),Gr}function Ii(xr,Dr,Gr){var rs=xr.F,vs=[xr.J];if(rs!=null){var Ss=xr.U,Es=Dr.ba.S,Ns=Es==Dc||Es==Uc;Dr=Dr.ba.f.RGBA;var Ls=[0],Hs=xr.ka;Ls[0]=xr.T,xr.Kb&&(Hs==0?--Ls[0]:(--Hs,vs[0]-=xr.width),xr.j+xr.ka+xr.T==xr.o&&(Ls[0]=xr.o-xr.j-Hs));var ri=Dr.eb;Hs=Dr.fb+Hs*Dr.A,xr=_o(rs,vs[0],xr.width,Ss,Ls,ri,Hs+(Ns?0:3),Dr.A),or(Gr==Ls),xr&&fi(Es)&&Oa(ri,Hs,Ns,Ss,Ls,Dr.A)}return 0}function Ms(xr){var Dr=xr.ma,Gr=Dr.ba.S,rs=11>Gr,vs=Gr==Lc||Gr==Rc||Gr==Dc||Gr==EA||Gr==12||fi(Gr);if(Dr.memory=null,Dr.Ib=null,Dr.Jb=null,Dr.Nd=null,!Vo(Dr.Oa,xr,vs?11:12))return 0;if(vs&&fi(Gr)&&Ui(),xr.da)alert("todo:use_scaling");else{if(rs){if(Dr.Ib=hi,xr.Kb){if(Gr=xr.U+1>>1,Dr.memory=ur(xr.U+2*Gr),Dr.memory==null)return 0;Dr.ec=Dr.memory,Dr.fc=0,Dr.cc=Dr.ec,Dr.dc=Dr.fc+xr.U,Dr.Mc=Dr.cc,Dr.Nc=Dr.dc+Gr,Dr.Ib=Bi,Ui()}}else alert("todo:EmitYUV");vs&&(Dr.Jb=Ii,rs&&gi())}if(rs&&!ad){for(xr=0;256>xr;++xr)hf[xr]=89858*(xr-128)+Hc>>jc,mf[xr]=-22014*(xr-128)+Hc,gf[xr]=-45773*(xr-128),pf[xr]=113618*(xr-128)+Hc>>jc;for(xr=Dl;xr<Iu;++xr)Dr=76283*(xr-16)+Hc>>jc,vf[xr-Dl]=ra(Dr,255),yf[xr-Dl]=ra(Dr+8>>4,15);ad=1}return 1}function _s(xr){var Dr=xr.ma,Gr=xr.U,rs=xr.T;return or(!(1&xr.ka)),0>=Gr||0>=rs?0:(Gr=Dr.Ib(xr,Dr),Dr.Jb!=null&&Dr.Jb(xr,Dr,Gr),Dr.Dc+=Gr,1)}function Xs(xr){xr.ma.memory=null}function Zs(xr,Dr,Gr,rs){return gs(xr,8)!=47?0:(Dr[0]=gs(xr,14)+1,Gr[0]=gs(xr,14)+1,rs[0]=gs(xr,1),gs(xr,3)!=0?0:!xr.h)}function pi(xr,Dr){if(4>xr)return xr+1;var Gr=xr-2>>1;return(2+(1&xr)<<Gr)+gs(Dr,Gr)+1}function wi(xr,Dr){return 120<Dr?Dr-120:1<=(Gr=((Gr=ef[Dr-1])>>4)*xr+(8-(15&Gr)))?Gr:1;var Gr}function Ci(xr,Dr,Gr){var rs=Qr(Gr),vs=xr[Dr+=255&rs].g-8;return 0<vs&&(zr(Gr,Gr.u+8),rs=Qr(Gr),Dr+=xr[Dr].value,Dr+=rs&(1<<vs)-1),zr(Gr,Gr.u+xr[Dr].g),xr[Dr].value}function Fi(xr,Dr,Gr){return Gr.g+=xr.g,Gr.value+=xr.value<<Dr>>>0,or(8>=Gr.g),xr.g}function Di(xr,Dr,Gr){var rs=xr.xc;return or((Dr=rs==0?0:xr.vc[xr.md*(Gr>>rs)+(Dr>>rs)])<xr.Wb),xr.Ya[Dr]}function Mi(xr,Dr,Gr,rs){var vs=xr.ab,Ss=xr.c*Dr,Es=xr.C;Dr=Es+Dr;var Ns=Gr,Ls=rs;for(rs=xr.Ta,Gr=xr.Ua;0<vs--;){var Hs=xr.gc[vs],ri=Es,vi=Dr,yi=Ns,ui=Ls,Ti=(Ls=rs,Ns=Gr,Hs.Ea);switch(or(ri<vi),or(vi<=Hs.nc),Hs.hc){case 2:GA(yi,ui,(vi-ri)*Ti,Ls,Ns);break;case 0:var xi=ri,si=vi,ai=Ls,_i=Ns,Li=(Vi=Hs).Ea;xi==0&&(wA(yi,ui,null,null,1,ai,_i),ni(yi,ui+1,0,0,Li-1,ai,_i+1),ui+=Li,_i+=Li,++xi);for(var Oi=1<<Vi.b,zi=Oi-1,$i=as(Li,Vi.b),ro=Vi.K,Vi=Vi.w+(xi>>Vi.b)*$i;xi<si;){var Co=ro,Eo=Vi,mo=1;for(BA(yi,ui,ai,_i-Li,1,ai,_i);mo<Li;){var Ri=(mo&~zi)+Oi;Ri>Li&&(Ri=Li),(0,va[Co[Eo++]>>8&15])(yi,ui+ +mo,ai,_i+mo-Li,Ri-mo,ai,_i+mo),mo=Ri}ui+=Li,_i+=Li,++xi&zi||(Vi+=$i)}vi!=Hs.nc&&Ar(Ls,Ns-Ti,Ls,Ns+(vi-ri-1)*Ti,Ti);break;case 1:for(Ti=yi,si=ui,Li=(yi=Hs.Ea)-(_i=yi&~(ai=(ui=1<<Hs.b)-1)),xi=as(yi,Hs.b),Oi=Hs.K,Hs=Hs.w+(ri>>Hs.b)*xi;ri<vi;){for(zi=Oi,$i=Hs,ro=new Is,Vi=si+_i,Co=si+yi;si<Vi;)Si(zi[$i++],ro),_l(ro,Ti,si,ui,Ls,Ns),si+=ui,Ns+=ui;si<Co&&(Si(zi[$i++],ro),_l(ro,Ti,si,Li,Ls,Ns),si+=Li,Ns+=Li),++ri&ai||(Hs+=xi)}break;case 3:if(yi==Ls&&ui==Ns&&0<Hs.b){for(si=Ls,yi=Ti=Ns+(vi-ri)*Ti-(_i=(vi-ri)*as(Hs.Ea,Hs.b)),ui=Ls,ai=Ns,xi=[],_i=(Li=_i)-1;0<=_i;--_i)xi[_i]=ui[ai+_i];for(_i=Li-1;0<=_i;--_i)si[yi+_i]=xi[_i];Do(Hs,ri,vi,Ls,Ti,Ls,Ns)}else Do(Hs,ri,vi,yi,ui,Ls,Ns)}Ns=rs,Ls=Gr}Ls!=Gr&&Ar(rs,Gr,Ns,Ls,Ss)}function Yi(xr,Dr){var Gr=xr.V,rs=xr.Ba+xr.c*xr.C,vs=Dr-xr.C;if(or(Dr<=xr.l.o),or(16>=vs),0<vs){var Ss=xr.l,Es=xr.Ta,Ns=xr.Ua,Ls=Ss.width;if(Mi(xr,vs,Gr,rs),vs=Ns=[Ns],or((Gr=xr.C)<(rs=Dr)),or(Ss.v<Ss.va),rs>Ss.o&&(rs=Ss.o),Gr<Ss.j){var Hs=Ss.j-Gr;Gr=Ss.j,vs[0]+=Hs*Ls}if(Gr>=rs?Gr=0:(vs[0]+=4*Ss.v,Ss.ka=Gr-Ss.j,Ss.U=Ss.va-Ss.v,Ss.T=rs-Gr,Gr=1),Gr){if(Ns=Ns[0],11>(Gr=xr.ca).S){var ri=Gr.f.RGBA,vi=(rs=Gr.S,vs=Ss.U,Ss=Ss.T,Hs=ri.eb,ri.A),yi=Ss;for(ri=ri.fb+xr.Ma*ri.A;0<yi--;){var ui=Es,Ti=Ns,xi=vs,si=Hs,ai=ri;switch(rs){case Mc:ya(ui,Ti,xi,si,ai);break;case Lc:Aa(ui,Ti,xi,si,ai);break;case Eu:Aa(ui,Ti,xi,si,ai),Oa(si,ai,0,xi,1,0);break;case oA:Na(ui,Ti,xi,si,ai);break;case Rc:Vs(ui,Ti,xi,si,ai,1);break;case Fu:Vs(ui,Ti,xi,si,ai,1),Oa(si,ai,0,xi,1,0);break;case Dc:Vs(ui,Ti,xi,si,ai,0);break;case Uc:Vs(ui,Ti,xi,si,ai,0),Oa(si,ai,1,xi,1,0);break;case EA:pl(ui,Ti,xi,si,ai);break;case FA:pl(ui,Ti,xi,si,ai),Po(si,ai,xi,1,0);break;case Zu:gl(ui,Ti,xi,si,ai);break;default:or(0)}Ns+=Ls,ri+=vi}xr.Ma+=Ss}else alert("todo:EmitRescaledRowsYUVA");or(xr.Ma<=Gr.height)}}xr.C=Dr,or(xr.C<=xr.i)}function Qi(xr){var Dr;if(0<xr.ua)return 0;for(Dr=0;Dr<xr.Wb;++Dr){var Gr=xr.Ya[Dr].G,rs=xr.Ya[Dr].H;if(0<Gr[1][rs[1]+0].g||0<Gr[2][rs[2]+0].g||0<Gr[3][rs[3]+0].g)return 0}return 1}function ji(xr,Dr,Gr,rs,vs,Ss){if(xr.Z!=0){var Es=xr.qd,Ns=xr.rd;for(or(bl[xr.Z]!=null);Dr<Gr;++Dr)bl[xr.Z](Es,Ns,rs,vs,rs,vs,Ss),Es=rs,Ns=vs,vs+=Ss;xr.qd=Es,xr.rd=Ns}}function Gi(xr,Dr){var Gr=xr.l.ma,rs=Gr.Z==0||Gr.Z==1?xr.l.j:xr.C;if(rs=xr.C<rs?rs:xr.C,or(Dr<=xr.l.o),Dr>rs){var vs=xr.l.width,Ss=Gr.ca,Es=Gr.tb+vs*rs,Ns=xr.V,Ls=xr.Ba+xr.c*rs,Hs=xr.gc;or(xr.ab==1),or(Hs[0].hc==3),za(Hs[0],rs,Dr,Ns,Ls,Ss,Es),ji(Gr,rs,Dr,Ss,Es,vs)}xr.C=xr.Ma=Dr}function eo(xr,Dr,Gr,rs,vs,Ss,Es){var Ns=xr.$/rs,Ls=xr.$%rs,Hs=xr.m,ri=xr.s,vi=Gr+xr.$,yi=vi;vs=Gr+rs*vs;var ui=Gr+rs*Ss,Ti=280+ri.ua,xi=xr.Pb?Ns:16777216,si=0<ri.ua?ri.Wa:null,ai=ri.wc,_i=vi<ui?Di(ri,Ls,Ns):null;or(xr.C<Ss),or(ui<=vs);var Li=!1;e:for(;;){for(;Li||vi<ui;){var Oi=0;if(Ns>=xi){var zi=vi-Gr;or((xi=xr).Pb),xi.wd=xi.m,xi.xd=zi,0<xi.s.ua&&ms(xi.s.Wa,xi.s.vb),xi=Ns+nf}if(Ls&ai||(_i=Di(ri,Ls,Ns)),or(_i!=null),_i.Qb&&(Dr[vi]=_i.qb,Li=!0),!Li)if(cs(Hs),_i.jc){Oi=Hs,zi=Dr;var $i=vi,ro=_i.pd[Qr(Oi)&Ko-1];or(_i.jc),256>ro.g?(zr(Oi,Oi.u+ro.g),zi[$i]=ro.value,Oi=0):(zr(Oi,Oi.u+ro.g-256),or(256<=ro.value),Oi=ro.value),Oi==0&&(Li=!0)}else Oi=Ci(_i.G[0],_i.H[0],Hs);if(Hs.h)break;if(Li||256>Oi){if(!Li)if(_i.nd)Dr[vi]=(_i.qb|Oi<<8)>>>0;else{if(cs(Hs),Li=Ci(_i.G[1],_i.H[1],Hs),cs(Hs),zi=Ci(_i.G[2],_i.H[2],Hs),$i=Ci(_i.G[3],_i.H[3],Hs),Hs.h)break;Dr[vi]=($i<<24|Li<<16|Oi<<8|zi)>>>0}if(Li=!1,++vi,++Ls>=rs&&(Ls=0,++Ns,Es!=null&&Ns<=Ss&&!(Ns%16)&&Es(xr,Ns),si!=null))for(;yi<vi;)Oi=Dr[yi++],si.X[(506832829*Oi&4294967295)>>>si.Mb]=Oi}else if(280>Oi){if(Oi=pi(Oi-256,Hs),zi=Ci(_i.G[4],_i.H[4],Hs),cs(Hs),zi=wi(rs,zi=pi(zi,Hs)),Hs.h)break;if(vi-Gr<zi||vs-vi<Oi)break e;for($i=0;$i<Oi;++$i)Dr[vi+$i]=Dr[vi+$i-zi];for(vi+=Oi,Ls+=Oi;Ls>=rs;)Ls-=rs,++Ns,Es!=null&&Ns<=Ss&&!(Ns%16)&&Es(xr,Ns);if(or(vi<=vs),Ls&ai&&(_i=Di(ri,Ls,Ns)),si!=null)for(;yi<vi;)Oi=Dr[yi++],si.X[(506832829*Oi&4294967295)>>>si.Mb]=Oi}else{if(!(Oi<Ti))break e;for(Li=Oi-280,or(si!=null);yi<vi;)Oi=Dr[yi++],si.X[(506832829*Oi&4294967295)>>>si.Mb]=Oi;Oi=vi,or(!(Li>>>(zi=si).Xa)),Dr[Oi]=zi.X[Li],Li=!0}Li||or(Hs.h==$r(Hs))}if(xr.Pb&&Hs.h&&vi<vs)or(xr.m.h),xr.a=5,xr.m=xr.wd,xr.$=xr.xd,0<xr.s.ua&&ms(xr.s.vb,xr.s.Wa);else{if(Hs.h)break e;Es!=null&&Es(xr,Ns>Ss?Ss:Ns),xr.a=0,xr.$=vi-Gr}return 1}return xr.a=3,0}function so(xr){or(xr!=null),xr.vc=null,xr.yc=null,xr.Ya=null;var Dr=xr.Wa;Dr!=null&&(Dr.X=null),xr.vb=null,or(xr!=null)}function co(){var xr=new xu;return xr==null?null:(xr.a=0,xr.xb=rd,Ys("Predictor","VP8LPredictors"),Ys("Predictor","VP8LPredictors_C"),Ys("PredictorAdd","VP8LPredictorsAdd"),Ys("PredictorAdd","VP8LPredictorsAdd_C"),GA=li,_l=Us,ya=Bs,Aa=$s,pl=qs,gl=bi,Na=zs,Lr.VP8LMapColor32b=Ia,Lr.VP8LMapColor8b=Go,xr)}function xo(xr,Dr,Gr,rs,vs){var Ss=1,Es=[xr],Ns=[Dr],Ls=rs.m,Hs=rs.s,ri=null,vi=0;e:for(;;){if(Gr)for(;Ss&&gs(Ls,1);){var yi=Es,ui=Ns,Ti=rs,xi=1,si=Ti.m,ai=Ti.gc[Ti.ab],_i=gs(si,2);if(Ti.Oc&1<<_i)Ss=0;else{switch(Ti.Oc|=1<<_i,ai.hc=_i,ai.Ea=yi[0],ai.nc=ui[0],ai.K=[null],++Ti.ab,or(4>=Ti.ab),_i){case 0:case 1:ai.b=gs(si,3)+2,xi=xo(as(ai.Ea,ai.b),as(ai.nc,ai.b),0,Ti,ai.K),ai.K=ai.K[0];break;case 3:var Li,Oi=gs(si,8)+1,zi=16<Oi?0:4<Oi?1:2<Oi?2:3;if(yi[0]=as(ai.Ea,zi),ai.b=zi,Li=xi=xo(Oi,1,0,Ti,ai.K)){var $i,ro=Oi,Vi=ai,Co=1<<(8>>Vi.b),Eo=ur(Co);if(Eo==null)Li=0;else{var mo=Vi.K[0],Ri=Vi.w;for(Eo[0]=Vi.K[0][0],$i=1;$i<1*ro;++$i)Eo[$i]=fs(mo[Ri+$i],Eo[$i-1]);for(;$i<4*Co;++$i)Eo[$i]=0;Vi.K[0]=null,Vi.K[0]=Eo,Li=1}}xi=Li;break;case 2:break;default:or(0)}Ss=xi}}if(Es=Es[0],Ns=Ns[0],Ss&&gs(Ls,1)&&!(Ss=1<=(vi=gs(Ls,4))&&11>=vi)){rs.a=3;break e}var Oo;if(Oo=Ss)t:{var To,uo,Fo,Ea=rs,Xo=Es,sa=Ns,yo=vi,La=Gr,Ra=Ea.m,ia=Ea.s,Uo=[null],ca=1,Fa=0,sl=tf[yo];n:for(;;){if(La&&gs(Ra,1)){var ea=gs(Ra,3)+2,wl=as(Xo,ea),Bl=as(sa,ea),kA=wl*Bl;if(!xo(wl,Bl,0,Ea,Uo))break n;for(Uo=Uo[0],ia.xc=ea,To=0;To<kA;++To){var Ul=Uo[To]>>8&65535;Uo[To]=Ul,Ul>=ca&&(ca=Ul+1)}}if(Ra.h)break n;for(uo=0;5>uo;++uo){var jo=ed[uo];!uo&&0<yo&&(jo+=1<<yo),Fa<jo&&(Fa=jo)}var Nu=dr(ca*sl,Ur),ud=ca,dd=dr(ud,Xr);if(dd==null)var Vc=null;else or(65536>=ud),Vc=dd;var YA=ur(Fa);if(Vc==null||YA==null||Nu==null){Ea.a=1;break n}var qA=Nu;for(To=Fo=0;To<ca;++To){var qa=Vc[To],IA=qa.G,NA=qa.H,Pu=0,Kc=1,JA=0;for(uo=0;5>uo;++uo){jo=ed[uo],IA[uo]=qA,NA[uo]=Fo,!uo&&0<yo&&(jo+=1<<yo);s:{var Gc,ZA=jo,PA=Ea,_A=YA,hd=qA,wf=Fo,Wc=0,il=PA.m,_u=gs(il,1);if(cr(_A,0,0,ZA),_u){var pd=gs(il,1)+1,gd=gs(il,1),Ou=gs(il,gd==0?1:8);_A[Ou]=1,pd==2&&(_A[Ou=gs(il,8)]=1);var tc=1}else{var zc=ur(19),md=gs(il,4)+4;if(19<md){PA.a=3;var Xc=0;break s}for(Gc=0;Gc<md;++Gc)zc[Qc[Gc]]=gs(il,3);var Mu=void 0,ha=void 0,Yc=PA,Bf=zc,qc=ZA,vd=_A,Lu=0,Ql=Yc.m,yd=8,bd=dr(128,Ur);r:for(;Mr(bd,0,7,Bf,19);){if(gs(Ql,1)){var Cf=2+2*gs(Ql,3);if((Mu=2+gs(Ql,Cf))>qc)break r}else Mu=qc;for(ha=0;ha<qc&&Mu--;){cs(Ql);var wd=bd[0+(127&Qr(Ql))];zr(Ql,Ql.u+wd.g);var aA=wd.value;if(16>aA)vd[ha++]=aA,aA!=0&&(yd=aA);else{var Sf=aA==16,Jc=aA-16,Bd=Jd[Jc],oa=gs(Ql,qd[Jc])+Bd;if(ha+oa>qc)break r;for(var nc=Sf?yd:0;0<oa--;)vd[ha++]=nc}}Lu=1;break r}Lu||(Yc.a=3),tc=Lu}(tc=tc&&!il.h)&&(Wc=Mr(hd,wf,8,_A,ZA)),tc&&Wc!=0?Xc=Wc:(PA.a=3,Xc=0)}if(Xc==0)break n;if(Kc&&Zd[uo]==1&&(Kc=qA[Fo].g==0),Pu+=qA[Fo].g,Fo+=Xc,3>=uo){var rc,Ru=YA[0];for(rc=1;rc<jo;++rc)YA[rc]>Ru&&(Ru=YA[rc]);JA+=Ru}}if(qa.nd=Kc,qa.Qb=0,Kc&&(qa.qb=(IA[3][NA[3]+0].value<<24|IA[1][NA[1]+0].value<<16|IA[2][NA[2]+0].value)>>>0,Pu==0&&256>IA[0][NA[0]+0].value&&(qa.Qb=1,qa.qb+=IA[0][NA[0]+0].value<<8)),qa.jc=!qa.Qb&&6>JA,qa.jc){var sc,Ja=qa;for(sc=0;sc<Ko;++sc){var jl=sc,Hl=Ja.pd[jl],Zc=Ja.G[0][Ja.H[0]+jl];256<=Zc.value?(Hl.g=Zc.g+256,Hl.value=Zc.value):(Hl.g=0,Hl.value=0,jl>>=Fi(Zc,8,Hl),jl>>=Fi(Ja.G[1][Ja.H[1]+jl],16,Hl),jl>>=Fi(Ja.G[2][Ja.H[2]+jl],0,Hl),Fi(Ja.G[3][Ja.H[3]+jl],24,Hl))}}}ia.vc=Uo,ia.Wb=ca,ia.Ya=Vc,ia.yc=Nu,Oo=1;break t}Oo=0}if(!(Ss=Oo)){rs.a=3;break e}if(0<vi){if(Hs.ua=1<<vi,!ps(Hs.Wa,vi)){rs.a=1,Ss=0;break e}}else Hs.ua=0;var Du=rs,Cd=Es,xf=Ns,Uu=Du.s,Qu=Uu.xc;if(Du.c=Cd,Du.i=xf,Uu.md=as(Cd,Qu),Uu.wc=Qu==0?-1:(1<<Qu)-1,Gr){rs.xb=cf;break e}if((ri=ur(Es*Ns))==null){rs.a=1,Ss=0;break e}Ss=(Ss=eo(rs,ri,0,Es,Ns,Ns,null))&&!Ls.h;break e}return Ss?(vs!=null?vs[0]=ri:(or(ri==null),or(Gr)),rs.$=0,Gr||so(Hs)):so(Hs),Ss}function vo(xr,Dr){var Gr=xr.c*xr.i,rs=Gr+Dr+16*Dr;return or(xr.c<=Dr),xr.V=ur(rs),xr.V==null?(xr.Ta=null,xr.Ua=0,xr.a=1,0):(xr.Ta=xr.V,xr.Ua=xr.Ba+Gr+Dr,1)}function la(xr,Dr){var Gr=xr.C,rs=Dr-Gr,vs=xr.V,Ss=xr.Ba+xr.c*Gr;for(or(Dr<=xr.l.o);0<rs;){var Es=16<rs?16:rs,Ns=xr.l.ma,Ls=xr.l.width,Hs=Ls*Es,ri=Ns.ca,vi=Ns.tb+Ls*Gr,yi=xr.Ta,ui=xr.Ua;Mi(xr,Es,vs,Ss),zo(yi,ui,ri,vi,Hs),ji(Ns,Gr,Gr+Es,ri,vi,Ls),rs-=Es,vs+=Es*xr.c,Gr+=Es}or(Gr==Dr),xr.C=xr.Ma=Dr}function pa(){this.ub=this.yd=this.td=this.Rb=0}function ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Al(){this.Fb=this.Bb=this.Cb=0,this.Zb=ur(4),this.Lb=ur(4)}function dc(){this.Yb=function(){var xr=[];return function Dr(Gr,rs,vs){for(var Ss=vs[rs],Es=0;Es<Ss&&(Gr.push(vs.length>rs+1?[]:0),!(vs.length<rs+1));Es++)Dr(Gr[Es],rs+1,vs)}(xr,0,[3,11]),xr}()}function du(){this.jb=ur(3),this.Wc=hr([4,8],dc),this.Xc=hr([4,17],dc)}function fu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ur(4),this.od=new ur(4)}function el(){this.ld=this.La=this.dd=this.tc=0}function DA(){this.Na=this.la=0}function dA(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fA(){this.ad=ur(384),this.Za=0,this.Ob=ur(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vl(){this.uc=this.M=this.Nb=0,this.wa=Array(new el),this.Y=0,this.ya=Array(new fA),this.aa=0,this.l=new cl}function fc(){this.y=ur(16),this.f=ur(8),this.ea=ur(8)}function hu(){this.cb=this.a=0,this.sc="",this.m=new Os,this.Od=new pa,this.Kc=new ga,this.ed=new fu,this.Qa=new Al,this.Ic=this.$c=this.Aa=0,this.D=new Vl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=dr(8,Os),this.ia=0,this.pb=dr(4,dA),this.Pa=new du,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fc),this.Hd=0,this.rb=Array(new DA),this.sb=0,this.wa=Array(new el),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fA),this.L=this.aa=0,this.gd=hr([4,2],el),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kl(){var xr=new hu;return xr!=null&&(xr.a=0,xr.sc="OK",xr.cb=0,xr.Xb=0,zA||(zA=Gl)),xr}function $o(xr,Dr,Gr){return xr.a==0&&(xr.a=Dr,xr.sc=Gr,xr.cb=0),0}function hc(xr,Dr,Gr){return 3<=Gr&&xr[Dr+0]==157&&xr[Dr+1]==1&&xr[Dr+2]==42}function pc(xr,Dr){if(xr==null)return 0;if(xr.a=0,xr.sc="OK",Dr==null)return $o(xr,2,"null VP8Io passed to VP8GetHeaders()");var Gr=Dr.data,rs=Dr.w,vs=Dr.ha;if(4>vs)return $o(xr,7,"Truncated header.");var Ss=Gr[rs+0]|Gr[rs+1]<<8|Gr[rs+2]<<16,Es=xr.Od;if(Es.Rb=!(1&Ss),Es.td=Ss>>1&7,Es.yd=Ss>>4&1,Es.ub=Ss>>5,3<Es.td)return $o(xr,3,"Incorrect keyframe parameters.");if(!Es.yd)return $o(xr,4,"Frame not displayable.");rs+=3,vs-=3;var Ns=xr.Kc;if(Es.Rb){if(7>vs)return $o(xr,7,"cannot parse picture header");if(!hc(Gr,rs,vs))return $o(xr,3,"Bad code word");Ns.c=16383&(Gr[rs+4]<<8|Gr[rs+3]),Ns.Td=Gr[rs+4]>>6,Ns.i=16383&(Gr[rs+6]<<8|Gr[rs+5]),Ns.Ud=Gr[rs+6]>>6,rs+=7,vs-=7,xr.za=Ns.c+15>>4,xr.Ub=Ns.i+15>>4,Dr.width=Ns.c,Dr.height=Ns.i,Dr.Da=0,Dr.j=0,Dr.v=0,Dr.va=Dr.width,Dr.o=Dr.height,Dr.da=0,Dr.ib=Dr.width,Dr.hb=Dr.height,Dr.U=Dr.width,Dr.T=Dr.height,cr((Ss=xr.Pa).jb,0,255,Ss.jb.length),or((Ss=xr.Qa)!=null),Ss.Cb=0,Ss.Bb=0,Ss.Fb=1,cr(Ss.Zb,0,0,Ss.Zb.length),cr(Ss.Lb,0,0,Ss.Lb)}if(Es.ub>vs)return $o(xr,7,"bad partition length");Yr(Ss=xr.m,Gr,rs,Es.ub),rs+=Es.ub,vs-=Es.ub,Es.Rb&&(Ns.Ld=ls(Ss),Ns.Kd=ls(Ss)),Ns=xr.Qa;var Ls,Hs=xr.Pa;if(or(Ss!=null),or(Ns!=null),Ns.Cb=ls(Ss),Ns.Cb){if(Ns.Bb=ls(Ss),ls(Ss)){for(Ns.Fb=ls(Ss),Ls=0;4>Ls;++Ls)Ns.Zb[Ls]=ls(Ss)?ns(Ss,7):0;for(Ls=0;4>Ls;++Ls)Ns.Lb[Ls]=ls(Ss)?ns(Ss,6):0}if(Ns.Bb)for(Ls=0;3>Ls;++Ls)Hs.jb[Ls]=ls(Ss)?Zr(Ss,8):255}else Ns.Bb=0;if(Ss.Ka)return $o(xr,3,"cannot parse segment header");if((Ns=xr.ed).zd=ls(Ss),Ns.Tb=Zr(Ss,6),Ns.wb=Zr(Ss,3),Ns.Pc=ls(Ss),Ns.Pc&&ls(Ss)){for(Hs=0;4>Hs;++Hs)ls(Ss)&&(Ns.vd[Hs]=ns(Ss,6));for(Hs=0;4>Hs;++Hs)ls(Ss)&&(Ns.od[Hs]=ns(Ss,6))}if(xr.L=Ns.Tb==0?0:Ns.zd?1:2,Ss.Ka)return $o(xr,3,"cannot parse filter header");var ri=vs;if(vs=Ls=rs,rs=Ls+ri,Ns=ri,xr.Xb=(1<<Zr(xr.m,2))-1,ri<3*(Hs=xr.Xb))Gr=7;else{for(Ls+=3*Hs,Ns-=3*Hs,ri=0;ri<Hs;++ri){var vi=Gr[vs+0]|Gr[vs+1]<<8|Gr[vs+2]<<16;vi>Ns&&(vi=Ns),Yr(xr.Jc[+ri],Gr,Ls,vi),Ls+=vi,Ns-=vi,vs+=3}Yr(xr.Jc[+Hs],Gr,Ls,Ns),Gr=Ls<rs?0:5}if(Gr!=0)return $o(xr,Gr,"cannot parse partitions");for(Gr=Zr(Ls=xr.m,7),vs=ls(Ls)?ns(Ls,4):0,rs=ls(Ls)?ns(Ls,4):0,Ns=ls(Ls)?ns(Ls,4):0,Hs=ls(Ls)?ns(Ls,4):0,Ls=ls(Ls)?ns(Ls,4):0,ri=xr.Qa,vi=0;4>vi;++vi){if(ri.Cb){var yi=ri.Zb[vi];ri.Fb||(yi+=Gr)}else{if(0<vi){xr.pb[vi]=xr.pb[0];continue}yi=Gr}var ui=xr.pb[vi];ui.Sc[0]=Tu[ra(yi+vs,127)],ui.Sc[1]=TA[ra(yi+0,127)],ui.Eb[0]=2*Tu[ra(yi+rs,127)],ui.Eb[1]=101581*TA[ra(yi+Ns,127)]>>16,8>ui.Eb[1]&&(ui.Eb[1]=8),ui.Qc[0]=Tu[ra(yi+Hs,117)],ui.Qc[1]=TA[ra(yi+Ls,127)],ui.lc=yi+Ls}if(!Es.Rb)return $o(xr,4,"Not a key frame.");for(ls(Ss),Es=xr.Pa,Gr=0;4>Gr;++Gr){for(vs=0;8>vs;++vs)for(rs=0;3>rs;++rs)for(Ns=0;11>Ns;++Ns)Hs=hs(Ss,lf[Gr][vs][rs][Ns])?Zr(Ss,8):of[Gr][vs][rs][Ns],Es.Wc[Gr][vs].Yb[rs][Ns]=Hs;for(vs=0;17>vs;++vs)Es.Xc[Gr][vs]=Es.Wc[Gr][Af[vs]]}return xr.kc=ls(Ss),xr.kc&&(xr.Bd=Zr(Ss,8)),xr.cb=1}function Gl(xr,Dr,Gr,rs,vs,Ss,Es){var Ns=Dr[vs].Yb[Gr];for(Gr=0;16>vs;++vs){if(!hs(xr,Ns[Gr+0]))return vs;for(;!hs(xr,Ns[Gr+1]);)if(Ns=Dr[++vs].Yb[0],Gr=0,vs==16)return 16;var Ls=Dr[vs+1].Yb;if(hs(xr,Ns[Gr+2])){var Hs=xr,ri=0;if(hs(Hs,(yi=Ns)[(vi=Gr)+3]))if(hs(Hs,yi[vi+6])){for(Ns=0,vi=2*(ri=hs(Hs,yi[vi+8]))+(yi=hs(Hs,yi[vi+9+ri])),ri=0,yi=rf[vi];yi[Ns];++Ns)ri+=ri+hs(Hs,yi[Ns]);ri+=3+(8<<vi)}else hs(Hs,yi[vi+7])?(ri=7+2*hs(Hs,165),ri+=hs(Hs,145)):ri=5+hs(Hs,159);else ri=hs(Hs,yi[vi+4])?3+hs(Hs,yi[vi+5]):2;Ns=Ls[2]}else ri=1,Ns=Ls[1];Ls=Es+sf[vs],0>(Hs=xr).b&&Jr(Hs);var vi,yi=Hs.b,ui=(vi=Hs.Ca>>1)-(Hs.I>>yi)>>31;--Hs.b,Hs.Ca+=ui,Hs.Ca|=1,Hs.I-=(vi+1&ui)<<yi,Ss[Ls]=((ri^ui)-ui)*rs[(0<vs)+0]}return 16}function Cl(xr){var Dr=xr.rb[xr.sb-1];Dr.la=0,Dr.Na=0,cr(xr.zc,0,0,xr.zc.length),xr.ja=0}function Wl(xr,Dr){if(xr==null)return 0;if(Dr==null)return $o(xr,2,"NULL VP8Io parameter in VP8Decode().");if(!xr.cb&&!pc(xr,Dr))return 0;if(or(xr.cb),Dr.ac==null||Dr.ac(Dr)){Dr.ob&&(xr.L=0);var Gr=$c[xr.L];if(xr.L==2?(xr.yb=0,xr.zb=0):(xr.yb=Dr.v-Gr>>4,xr.zb=Dr.j-Gr>>4,0>xr.yb&&(xr.yb=0),0>xr.zb&&(xr.zb=0)),xr.Va=Dr.o+15+Gr>>4,xr.Hb=Dr.va+15+Gr>>4,xr.Hb>xr.za&&(xr.Hb=xr.za),xr.Va>xr.Ub&&(xr.Va=xr.Ub),0<xr.L){var rs=xr.ed;for(Gr=0;4>Gr;++Gr){var vs;if(xr.Qa.Cb){var Ss=xr.Qa.Lb[Gr];xr.Qa.Fb||(Ss+=rs.Tb)}else Ss=rs.Tb;for(vs=0;1>=vs;++vs){var Es=xr.gd[Gr][vs],Ns=Ss;if(rs.Pc&&(Ns+=rs.vd[0],vs&&(Ns+=rs.od[0])),0<(Ns=0>Ns?0:63<Ns?63:Ns)){var Ls=Ns;0<rs.wb&&(Ls=4<rs.wb?Ls>>2:Ls>>1)>9-rs.wb&&(Ls=9-rs.wb),1>Ls&&(Ls=1),Es.dd=Ls,Es.tc=2*Ns+Ls,Es.ld=40<=Ns?2:15<=Ns?1:0}else Es.tc=0;Es.La=vs}}}Gr=0}else $o(xr,6,"Frame setup failed"),Gr=xr.a;if(Gr=Gr==0){if(Gr){xr.$c=0,0<xr.Aa||(xr.Ic=Ad);e:{Gr=xr.Ic,rs=4*(Ls=xr.za);var Hs=32*Ls,ri=Ls+1,vi=0<xr.L?Ls*(0<xr.Aa?2:1):0,yi=(xr.Aa==2?2:1)*Ls;if((Es=rs+832+(vs=3*(16*Gr+$c[xr.L])/2*Hs)+(Ss=xr.Fa!=null&&0<xr.Fa.length?xr.Kc.c*xr.Kc.i:0))!=Es)Gr=0;else{if(Es>xr.Vb){if(xr.Vb=0,xr.Ec=ur(Es),xr.Fc=0,xr.Ec==null){Gr=$o(xr,1,"no memory during frame initialization.");break e}xr.Vb=Es}Es=xr.Ec,Ns=xr.Fc,xr.Ac=Es,xr.Bc=Ns,Ns+=rs,xr.Gd=dr(Hs,fc),xr.Hd=0,xr.rb=dr(ri+1,DA),xr.sb=1,xr.wa=vi?dr(vi,el):null,xr.Y=0,xr.D.Nb=0,xr.D.wa=xr.wa,xr.D.Y=xr.Y,0<xr.Aa&&(xr.D.Y+=Ls),or(!0),xr.oc=Es,xr.pc=Ns,Ns+=832,xr.ya=dr(yi,fA),xr.aa=0,xr.D.ya=xr.ya,xr.D.aa=xr.aa,xr.Aa==2&&(xr.D.aa+=Ls),xr.R=16*Ls,xr.B=8*Ls,Ls=(Hs=$c[xr.L])*xr.R,Hs=Hs/2*xr.B,xr.sa=Es,xr.ta=Ns+Ls,xr.qa=xr.sa,xr.ra=xr.ta+16*Gr*xr.R+Hs,xr.Ha=xr.qa,xr.Ia=xr.ra+8*Gr*xr.B+Hs,xr.$c=0,Ns+=vs,xr.mb=Ss?Es:null,xr.nb=Ss?Ns:null,or(Ns+Ss<=xr.Fc+xr.Vb),Cl(xr),cr(xr.Ac,xr.Bc,0,rs),Gr=1}}if(Gr){if(Dr.ka=0,Dr.y=xr.sa,Dr.O=xr.ta,Dr.f=xr.qa,Dr.N=xr.ra,Dr.ea=xr.Ha,Dr.Vd=xr.Ia,Dr.fa=xr.R,Dr.Rc=xr.B,Dr.F=null,Dr.J=0,!Pc){for(Gr=-255;255>=Gr;++Gr)Qo[255+Gr]=0>Gr?-Gr:Gr;for(Gr=-1020;1020>=Gr;++Gr)yl[1020+Gr]=-128>Gr?-128:127<Gr?127:Gr;for(Gr=-112;112>=Gr;++Gr)WA[112+Gr]=-16>Gr?-16:15<Gr?15:Gr;for(Gr=-255;510>=Gr;++Gr)Ll[255+Gr]=0>Gr?0:255<Gr?255:Gr;Pc=1}Sa=mu,ml=pu,Ol=mc,fa=gu,Qa=vc,Wo=gc,CA=kl,xa=Il,SA=mA,nA=Yl,rA=Su,Xa=Ta,sA=jA,iA=kc,Ml=dl,vl=rl,xA=hl,Pa=Cu,Ya[0]=nl,Ya[1]=vu,Ya[2]=wu,Ya[3]=Bu,Ya[4]=wc,Ya[5]=hA,Ya[6]=Bc,Ya[7]=Ba,Ya[8]=Sc,Ya[9]=Cc,Rl[0]=tl,Rl[1]=yu,Rl[2]=ul,Rl[3]=zl,Rl[4]=ua,Rl[5]=bu,Rl[6]=bc,Ha[0]=El,Ha[1]=yc,Ha[2]=xc,Ha[3]=QA,Ha[4]=Fl,Ha[5]=Ec,Ha[6]=pA,Gr=1}else Gr=0}Gr&&(Gr=function(ui,Ti){for(ui.M=0;ui.M<ui.Va;++ui.M){var xi,si=ui.Jc[ui.M&ui.Xb],ai=ui.m,_i=ui;for(xi=0;xi<_i.za;++xi){var Li=ai,Oi=_i,zi=Oi.Ac,$i=Oi.Bc+4*xi,ro=Oi.zc,Vi=Oi.ya[Oi.aa+xi];if(Oi.Qa.Bb?Vi.$b=hs(Li,Oi.Pa.jb[0])?2+hs(Li,Oi.Pa.jb[2]):hs(Li,Oi.Pa.jb[1]):Vi.$b=0,Oi.kc&&(Vi.Ad=hs(Li,Oi.Bd)),Vi.Za=!hs(Li,145)+0,Vi.Za){var Co=Vi.Ob,Eo=0;for(Oi=0;4>Oi;++Oi){var mo,Ri=ro[0+Oi];for(mo=0;4>mo;++mo){Ri=af[zi[$i+mo]][Ri];for(var Oo=nd[hs(Li,Ri[0])];0<Oo;)Oo=nd[2*Oo+hs(Li,Ri[Oo])];Ri=-Oo,zi[$i+mo]=Ri}Ar(Co,Eo,zi,$i,4),Eo+=4,ro[0+Oi]=Ri}}else Ri=hs(Li,156)?hs(Li,128)?1:3:hs(Li,163)?2:0,Vi.Ob[0]=Ri,cr(zi,$i,Ri,4),cr(ro,0,Ri,4);Vi.Dd=hs(Li,142)?hs(Li,114)?hs(Li,183)?1:3:2:0}if(_i.m.Ka)return $o(ui,7,"Premature end-of-partition0 encountered.");for(;ui.ja<ui.za;++ui.ja){if(_i=si,Li=(ai=ui).rb[ai.sb-1],zi=ai.rb[ai.sb+ai.ja],xi=ai.ya[ai.aa+ai.ja],$i=ai.kc?xi.Ad:0)Li.la=zi.la=0,xi.Za||(Li.Na=zi.Na=0),xi.Hc=0,xi.Gc=0,xi.ia=0;else{var To,uo;if(Li=zi,zi=_i,$i=ai.Pa.Xc,ro=ai.ya[ai.aa+ai.ja],Vi=ai.pb[ro.$b],Oi=ro.ad,Co=0,Eo=ai.rb[ai.sb-1],Ri=mo=0,cr(Oi,Co,0,384),ro.Za)var Fo=0,Ea=$i[3];else{Oo=ur(16);var Xo=Li.Na+Eo.Na;if(Xo=zA(zi,$i[1],Xo,Vi.Eb,0,Oo,0),Li.Na=Eo.Na=(0<Xo)+0,1<Xo)Sa(Oo,0,Oi,Co);else{var sa=Oo[0]+3>>3;for(Oo=0;256>Oo;Oo+=16)Oi[Co+Oo]=sa}Fo=1,Ea=$i[0]}var yo=15&Li.la,La=15&Eo.la;for(Oo=0;4>Oo;++Oo){var Ra=1&La;for(sa=uo=0;4>sa;++sa)yo=yo>>1|(Ra=(Xo=zA(zi,Ea,Xo=Ra+(1&yo),Vi.Sc,Fo,Oi,Co))>Fo)<<7,uo=uo<<2|(3<Xo?3:1<Xo?2:Oi[Co+0]!=0),Co+=16;yo>>=4,La=La>>1|Ra<<7,mo=(mo<<8|uo)>>>0}for(Ea=yo,Fo=La>>4,To=0;4>To;To+=2){for(uo=0,yo=Li.la>>4+To,La=Eo.la>>4+To,Oo=0;2>Oo;++Oo){for(Ra=1&La,sa=0;2>sa;++sa)Xo=Ra+(1&yo),yo=yo>>1|(Ra=0<(Xo=zA(zi,$i[2],Xo,Vi.Qc,0,Oi,Co)))<<3,uo=uo<<2|(3<Xo?3:1<Xo?2:Oi[Co+0]!=0),Co+=16;yo>>=2,La=La>>1|Ra<<5}Ri|=uo<<4*To,Ea|=yo<<4<<To,Fo|=(240&La)<<To}Li.la=Ea,Eo.la=Fo,ro.Hc=mo,ro.Gc=Ri,ro.ia=43690&Ri?0:Vi.ia,$i=!(mo|Ri)}if(0<ai.L&&(ai.wa[ai.Y+ai.ja]=ai.gd[xi.$b][xi.Za],ai.wa[ai.Y+ai.ja].La|=!$i),_i.Ka)return $o(ui,7,"Premature end-of-file encountered.")}if(Cl(ui),ai=Ti,_i=1,xi=(si=ui).D,Li=0<si.L&&si.M>=si.zb&&si.M<=si.Va,si.Aa==0)e:{if(xi.M=si.M,xi.uc=Li,Ro(si,xi),_i=1,xi=(uo=si.D).Nb,Li=(Ri=$c[si.L])*si.R,zi=Ri/2*si.B,Oo=16*xi*si.R,sa=8*xi*si.B,$i=si.sa,ro=si.ta-Li+Oo,Vi=si.qa,Oi=si.ra-zi+sa,Co=si.Ha,Eo=si.Ia-zi+sa,La=(yo=uo.M)==0,mo=yo>=si.Va-1,si.Aa==2&&Ro(si,uo),uo.uc)for(Ra=(Xo=si).D.M,or(Xo.D.uc),uo=Xo.yb;uo<Xo.Hb;++uo){Fo=uo,Ea=Ra;var ia=(Uo=(jo=Xo).D).Nb;To=jo.R;var Uo=Uo.wa[Uo.Y+Fo],ca=jo.sa,Fa=jo.ta+16*ia*To+16*Fo,sl=Uo.dd,ea=Uo.tc;if(ea!=0)if(or(3<=ea),jo.L==1)0<Fo&&vl(ca,Fa,To,ea+4),Uo.La&&Pa(ca,Fa,To,ea),0<Ea&&Ml(ca,Fa,To,ea+4),Uo.La&&xA(ca,Fa,To,ea);else{var wl=jo.B,Bl=jo.qa,kA=jo.ra+8*ia*wl+8*Fo,Ul=jo.Ha,jo=jo.Ia+8*ia*wl+8*Fo;ia=Uo.ld,0<Fo&&(xa(ca,Fa,To,ea+4,sl,ia),nA(Bl,kA,Ul,jo,wl,ea+4,sl,ia)),Uo.La&&(Xa(ca,Fa,To,ea,sl,ia),iA(Bl,kA,Ul,jo,wl,ea,sl,ia)),0<Ea&&(CA(ca,Fa,To,ea+4,sl,ia),SA(Bl,kA,Ul,jo,wl,ea+4,sl,ia)),Uo.La&&(rA(ca,Fa,To,ea,sl,ia),sA(Bl,kA,Ul,jo,wl,ea,sl,ia))}}if(si.ia&&alert("todo:DitherRow"),ai.put!=null){if(uo=16*yo,yo=16*(yo+1),La?(ai.y=si.sa,ai.O=si.ta+Oo,ai.f=si.qa,ai.N=si.ra+sa,ai.ea=si.Ha,ai.W=si.Ia+sa):(uo-=Ri,ai.y=$i,ai.O=ro,ai.f=Vi,ai.N=Oi,ai.ea=Co,ai.W=Eo),mo||(yo-=Ri),yo>ai.o&&(yo=ai.o),ai.F=null,ai.J=null,si.Fa!=null&&0<si.Fa.length&&uo<yo&&(ai.J=KA(si,ai,uo,yo-uo),ai.F=si.mb,ai.F==null&&ai.F.length==0)){_i=$o(si,3,"Could not decode alpha data.");break e}uo<ai.j&&(Ri=ai.j-uo,uo=ai.j,or(!(1&Ri)),ai.O+=si.R*Ri,ai.N+=si.B*(Ri>>1),ai.W+=si.B*(Ri>>1),ai.F!=null&&(ai.J+=ai.width*Ri)),uo<yo&&(ai.O+=ai.v,ai.N+=ai.v>>1,ai.W+=ai.v>>1,ai.F!=null&&(ai.J+=ai.v),ai.ka=uo-ai.j,ai.U=ai.va-ai.v,ai.T=yo-uo,_i=ai.put(ai))}xi+1!=si.Ic||mo||(Ar(si.sa,si.ta-Li,$i,ro+16*si.R,Li),Ar(si.qa,si.ra-zi,Vi,Oi+8*si.B,zi),Ar(si.Ha,si.Ia-zi,Co,Eo+8*si.B,zi))}if(!_i)return $o(ui,6,"Output aborted.")}return 1}(xr,Dr)),Dr.bc!=null&&Dr.bc(Dr),Gr&=1}return Gr?(xr.cb=0,Gr):0}function Wa(xr,Dr,Gr,rs,vs){vs=xr[Dr+Gr+32*rs]+(vs>>3),xr[Dr+Gr+32*rs]=-256&vs?0>vs?0:255:vs}function qo(xr,Dr,Gr,rs,vs,Ss){Wa(xr,Dr,0,Gr,rs+vs),Wa(xr,Dr,1,Gr,rs+Ss),Wa(xr,Dr,2,Gr,rs-Ss),Wa(xr,Dr,3,Gr,rs-vs)}function wa(xr){return(20091*xr>>16)+xr}function UA(xr,Dr,Gr,rs){var vs,Ss=0,Es=ur(16);for(vs=0;4>vs;++vs){var Ns=xr[Dr+0]+xr[Dr+8],Ls=xr[Dr+0]-xr[Dr+8],Hs=(35468*xr[Dr+4]>>16)-wa(xr[Dr+12]),ri=wa(xr[Dr+4])+(35468*xr[Dr+12]>>16);Es[Ss+0]=Ns+ri,Es[Ss+1]=Ls+Hs,Es[Ss+2]=Ls-Hs,Es[Ss+3]=Ns-ri,Ss+=4,Dr++}for(vs=Ss=0;4>vs;++vs)Ns=(xr=Es[Ss+0]+4)+Es[Ss+8],Ls=xr-Es[Ss+8],Hs=(35468*Es[Ss+4]>>16)-wa(Es[Ss+12]),Wa(Gr,rs,0,0,Ns+(ri=wa(Es[Ss+4])+(35468*Es[Ss+12]>>16))),Wa(Gr,rs,1,0,Ls+Hs),Wa(Gr,rs,2,0,Ls-Hs),Wa(Gr,rs,3,0,Ns-ri),Ss++,rs+=32}function gc(xr,Dr,Gr,rs){var vs=xr[Dr+0]+4,Ss=35468*xr[Dr+4]>>16,Es=wa(xr[Dr+4]),Ns=35468*xr[Dr+1]>>16;qo(Gr,rs,0,vs+Es,xr=wa(xr[Dr+1]),Ns),qo(Gr,rs,1,vs+Ss,xr,Ns),qo(Gr,rs,2,vs-Ss,xr,Ns),qo(Gr,rs,3,vs-Es,xr,Ns)}function pu(xr,Dr,Gr,rs,vs){UA(xr,Dr,Gr,rs),vs&&UA(xr,Dr+16,Gr,rs+4)}function mc(xr,Dr,Gr,rs){ml(xr,Dr+0,Gr,rs,1),ml(xr,Dr+32,Gr,rs+128,1)}function gu(xr,Dr,Gr,rs){var vs;for(xr=xr[Dr+0]+4,vs=0;4>vs;++vs)for(Dr=0;4>Dr;++Dr)Wa(Gr,rs,Dr,vs,xr)}function vc(xr,Dr,Gr,rs){xr[Dr+0]&&fa(xr,Dr+0,Gr,rs),xr[Dr+16]&&fa(xr,Dr+16,Gr,rs+4),xr[Dr+32]&&fa(xr,Dr+32,Gr,rs+128),xr[Dr+48]&&fa(xr,Dr+48,Gr,rs+128+4)}function mu(xr,Dr,Gr,rs){var vs,Ss=ur(16);for(vs=0;4>vs;++vs){var Es=xr[Dr+0+vs]+xr[Dr+12+vs],Ns=xr[Dr+4+vs]+xr[Dr+8+vs],Ls=xr[Dr+4+vs]-xr[Dr+8+vs],Hs=xr[Dr+0+vs]-xr[Dr+12+vs];Ss[0+vs]=Es+Ns,Ss[8+vs]=Es-Ns,Ss[4+vs]=Hs+Ls,Ss[12+vs]=Hs-Ls}for(vs=0;4>vs;++vs)Es=(xr=Ss[0+4*vs]+3)+Ss[3+4*vs],Ns=Ss[1+4*vs]+Ss[2+4*vs],Ls=Ss[1+4*vs]-Ss[2+4*vs],Hs=xr-Ss[3+4*vs],Gr[rs+0]=Es+Ns>>3,Gr[rs+16]=Hs+Ls>>3,Gr[rs+32]=Es-Ns>>3,Gr[rs+48]=Hs-Ls>>3,rs+=64}function Sl(xr,Dr,Gr){var rs,vs=Dr-32,Ss=Ma,Es=255-xr[vs-1];for(rs=0;rs<Gr;++rs){var Ns,Ls=Ss,Hs=Es+xr[Dr-1];for(Ns=0;Ns<Gr;++Ns)xr[Dr+Ns]=Ls[Hs+xr[vs+Ns]];Dr+=32}}function vu(xr,Dr){Sl(xr,Dr,4)}function yc(xr,Dr){Sl(xr,Dr,8)}function yu(xr,Dr){Sl(xr,Dr,16)}function ul(xr,Dr){var Gr;for(Gr=0;16>Gr;++Gr)Ar(xr,Dr+32*Gr,xr,Dr-32,16)}function zl(xr,Dr){var Gr;for(Gr=16;0<Gr;--Gr)cr(xr,Dr,xr[Dr-1],16),Dr+=32}function xl(xr,Dr,Gr){var rs;for(rs=0;16>rs;++rs)cr(Dr,Gr+32*rs,xr,16)}function tl(xr,Dr){var Gr,rs=16;for(Gr=0;16>Gr;++Gr)rs+=xr[Dr-1+32*Gr]+xr[Dr+Gr-32];xl(rs>>5,xr,Dr)}function ua(xr,Dr){var Gr,rs=8;for(Gr=0;16>Gr;++Gr)rs+=xr[Dr-1+32*Gr];xl(rs>>4,xr,Dr)}function bu(xr,Dr){var Gr,rs=8;for(Gr=0;16>Gr;++Gr)rs+=xr[Dr+Gr-32];xl(rs>>4,xr,Dr)}function bc(xr,Dr){xl(128,xr,Dr)}function io(xr,Dr,Gr){return xr+2*Dr+Gr+2>>2}function wu(xr,Dr){var Gr,rs=Dr-32;for(rs=new Uint8Array([io(xr[rs-1],xr[rs+0],xr[rs+1]),io(xr[rs+0],xr[rs+1],xr[rs+2]),io(xr[rs+1],xr[rs+2],xr[rs+3]),io(xr[rs+2],xr[rs+3],xr[rs+4])]),Gr=0;4>Gr;++Gr)Ar(xr,Dr+32*Gr,rs,0,rs.length)}function Bu(xr,Dr){var Gr=xr[Dr-1],rs=xr[Dr-1+32],vs=xr[Dr-1+64],Ss=xr[Dr-1+96];bs(xr,Dr+0,16843009*io(xr[Dr-1-32],Gr,rs)),bs(xr,Dr+32,16843009*io(Gr,rs,vs)),bs(xr,Dr+64,16843009*io(rs,vs,Ss)),bs(xr,Dr+96,16843009*io(vs,Ss,Ss))}function nl(xr,Dr){var Gr,rs=4;for(Gr=0;4>Gr;++Gr)rs+=xr[Dr+Gr-32]+xr[Dr-1+32*Gr];for(rs>>=3,Gr=0;4>Gr;++Gr)cr(xr,Dr+32*Gr,rs,4)}function wc(xr,Dr){var Gr=xr[Dr-1+0],rs=xr[Dr-1+32],vs=xr[Dr-1+64],Ss=xr[Dr-1-32],Es=xr[Dr+0-32],Ns=xr[Dr+1-32],Ls=xr[Dr+2-32],Hs=xr[Dr+3-32];xr[Dr+0+96]=io(rs,vs,xr[Dr-1+96]),xr[Dr+1+96]=xr[Dr+0+64]=io(Gr,rs,vs),xr[Dr+2+96]=xr[Dr+1+64]=xr[Dr+0+32]=io(Ss,Gr,rs),xr[Dr+3+96]=xr[Dr+2+64]=xr[Dr+1+32]=xr[Dr+0+0]=io(Es,Ss,Gr),xr[Dr+3+64]=xr[Dr+2+32]=xr[Dr+1+0]=io(Ns,Es,Ss),xr[Dr+3+32]=xr[Dr+2+0]=io(Ls,Ns,Es),xr[Dr+3+0]=io(Hs,Ls,Ns)}function Bc(xr,Dr){var Gr=xr[Dr+1-32],rs=xr[Dr+2-32],vs=xr[Dr+3-32],Ss=xr[Dr+4-32],Es=xr[Dr+5-32],Ns=xr[Dr+6-32],Ls=xr[Dr+7-32];xr[Dr+0+0]=io(xr[Dr+0-32],Gr,rs),xr[Dr+1+0]=xr[Dr+0+32]=io(Gr,rs,vs),xr[Dr+2+0]=xr[Dr+1+32]=xr[Dr+0+64]=io(rs,vs,Ss),xr[Dr+3+0]=xr[Dr+2+32]=xr[Dr+1+64]=xr[Dr+0+96]=io(vs,Ss,Es),xr[Dr+3+32]=xr[Dr+2+64]=xr[Dr+1+96]=io(Ss,Es,Ns),xr[Dr+3+64]=xr[Dr+2+96]=io(Es,Ns,Ls),xr[Dr+3+96]=io(Ns,Ls,Ls)}function hA(xr,Dr){var Gr=xr[Dr-1+0],rs=xr[Dr-1+32],vs=xr[Dr-1+64],Ss=xr[Dr-1-32],Es=xr[Dr+0-32],Ns=xr[Dr+1-32],Ls=xr[Dr+2-32],Hs=xr[Dr+3-32];xr[Dr+0+0]=xr[Dr+1+64]=Ss+Es+1>>1,xr[Dr+1+0]=xr[Dr+2+64]=Es+Ns+1>>1,xr[Dr+2+0]=xr[Dr+3+64]=Ns+Ls+1>>1,xr[Dr+3+0]=Ls+Hs+1>>1,xr[Dr+0+96]=io(vs,rs,Gr),xr[Dr+0+64]=io(rs,Gr,Ss),xr[Dr+0+32]=xr[Dr+1+96]=io(Gr,Ss,Es),xr[Dr+1+32]=xr[Dr+2+96]=io(Ss,Es,Ns),xr[Dr+2+32]=xr[Dr+3+96]=io(Es,Ns,Ls),xr[Dr+3+32]=io(Ns,Ls,Hs)}function Ba(xr,Dr){var Gr=xr[Dr+0-32],rs=xr[Dr+1-32],vs=xr[Dr+2-32],Ss=xr[Dr+3-32],Es=xr[Dr+4-32],Ns=xr[Dr+5-32],Ls=xr[Dr+6-32],Hs=xr[Dr+7-32];xr[Dr+0+0]=Gr+rs+1>>1,xr[Dr+1+0]=xr[Dr+0+64]=rs+vs+1>>1,xr[Dr+2+0]=xr[Dr+1+64]=vs+Ss+1>>1,xr[Dr+3+0]=xr[Dr+2+64]=Ss+Es+1>>1,xr[Dr+0+32]=io(Gr,rs,vs),xr[Dr+1+32]=xr[Dr+0+96]=io(rs,vs,Ss),xr[Dr+2+32]=xr[Dr+1+96]=io(vs,Ss,Es),xr[Dr+3+32]=xr[Dr+2+96]=io(Ss,Es,Ns),xr[Dr+3+64]=io(Es,Ns,Ls),xr[Dr+3+96]=io(Ns,Ls,Hs)}function Cc(xr,Dr){var Gr=xr[Dr-1+0],rs=xr[Dr-1+32],vs=xr[Dr-1+64],Ss=xr[Dr-1+96];xr[Dr+0+0]=Gr+rs+1>>1,xr[Dr+2+0]=xr[Dr+0+32]=rs+vs+1>>1,xr[Dr+2+32]=xr[Dr+0+64]=vs+Ss+1>>1,xr[Dr+1+0]=io(Gr,rs,vs),xr[Dr+3+0]=xr[Dr+1+32]=io(rs,vs,Ss),xr[Dr+3+32]=xr[Dr+1+64]=io(vs,Ss,Ss),xr[Dr+3+64]=xr[Dr+2+64]=xr[Dr+0+96]=xr[Dr+1+96]=xr[Dr+2+96]=xr[Dr+3+96]=Ss}function Sc(xr,Dr){var Gr=xr[Dr-1+0],rs=xr[Dr-1+32],vs=xr[Dr-1+64],Ss=xr[Dr-1+96],Es=xr[Dr-1-32],Ns=xr[Dr+0-32],Ls=xr[Dr+1-32],Hs=xr[Dr+2-32];xr[Dr+0+0]=xr[Dr+2+32]=Gr+Es+1>>1,xr[Dr+0+32]=xr[Dr+2+64]=rs+Gr+1>>1,xr[Dr+0+64]=xr[Dr+2+96]=vs+rs+1>>1,xr[Dr+0+96]=Ss+vs+1>>1,xr[Dr+3+0]=io(Ns,Ls,Hs),xr[Dr+2+0]=io(Es,Ns,Ls),xr[Dr+1+0]=xr[Dr+3+32]=io(Gr,Es,Ns),xr[Dr+1+32]=xr[Dr+3+64]=io(rs,Gr,Es),xr[Dr+1+64]=xr[Dr+3+96]=io(vs,rs,Gr),xr[Dr+1+96]=io(Ss,vs,rs)}function xc(xr,Dr){var Gr;for(Gr=0;8>Gr;++Gr)Ar(xr,Dr+32*Gr,xr,Dr-32,8)}function QA(xr,Dr){var Gr;for(Gr=0;8>Gr;++Gr)cr(xr,Dr,xr[Dr-1],8),Dr+=32}function Xl(xr,Dr,Gr){var rs;for(rs=0;8>rs;++rs)cr(Dr,Gr+32*rs,xr,8)}function El(xr,Dr){var Gr,rs=8;for(Gr=0;8>Gr;++Gr)rs+=xr[Dr+Gr-32]+xr[Dr-1+32*Gr];Xl(rs>>4,xr,Dr)}function Ec(xr,Dr){var Gr,rs=4;for(Gr=0;8>Gr;++Gr)rs+=xr[Dr+Gr-32];Xl(rs>>3,xr,Dr)}function Fl(xr,Dr){var Gr,rs=4;for(Gr=0;8>Gr;++Gr)rs+=xr[Dr-1+32*Gr];Xl(rs>>3,xr,Dr)}function pA(xr,Dr){Xl(128,xr,Dr)}function gA(xr,Dr,Gr){var rs=xr[Dr-Gr],vs=xr[Dr+0],Ss=3*(vs-rs)+_c[1020+xr[Dr-2*Gr]-xr[Dr+Gr]],Es=Oc[112+(Ss+4>>3)];xr[Dr-Gr]=Ma[255+rs+Oc[112+(Ss+3>>3)]],xr[Dr+0]=Ma[255+vs-Es]}function Fc(xr,Dr,Gr,rs){var vs=xr[Dr+0],Ss=xr[Dr+Gr];return ja[255+xr[Dr-2*Gr]-xr[Dr-Gr]]>rs||ja[255+Ss-vs]>rs}function Jo(xr,Dr,Gr,rs){return 4*ja[255+xr[Dr-Gr]-xr[Dr+0]]+ja[255+xr[Dr-2*Gr]-xr[Dr+Gr]]<=rs}function Tc(xr,Dr,Gr,rs,vs){var Ss=xr[Dr-3*Gr],Es=xr[Dr-2*Gr],Ns=xr[Dr-Gr],Ls=xr[Dr+0],Hs=xr[Dr+Gr],ri=xr[Dr+2*Gr],vi=xr[Dr+3*Gr];return 4*ja[255+Ns-Ls]+ja[255+Es-Hs]>rs?0:ja[255+xr[Dr-4*Gr]-Ss]<=vs&&ja[255+Ss-Es]<=vs&&ja[255+Es-Ns]<=vs&&ja[255+vi-ri]<=vs&&ja[255+ri-Hs]<=vs&&ja[255+Hs-Ls]<=vs}function dl(xr,Dr,Gr,rs){var vs=2*rs+1;for(rs=0;16>rs;++rs)Jo(xr,Dr+rs,Gr,vs)&&gA(xr,Dr+rs,Gr)}function rl(xr,Dr,Gr,rs){var vs=2*rs+1;for(rs=0;16>rs;++rs)Jo(xr,Dr+rs*Gr,1,vs)&&gA(xr,Dr+rs*Gr,1)}function hl(xr,Dr,Gr,rs){var vs;for(vs=3;0<vs;--vs)dl(xr,Dr+=4*Gr,Gr,rs)}function Cu(xr,Dr,Gr,rs){var vs;for(vs=3;0<vs;--vs)rl(xr,Dr+=4,Gr,rs)}function Tl(xr,Dr,Gr,rs,vs,Ss,Es,Ns){for(Ss=2*Ss+1;0<vs--;){if(Tc(xr,Dr,Gr,Ss,Es))if(Fc(xr,Dr,Gr,Ns))gA(xr,Dr,Gr);else{var Ls=xr,Hs=Dr,ri=Gr,vi=Ls[Hs-2*ri],yi=Ls[Hs-ri],ui=Ls[Hs+0],Ti=Ls[Hs+ri],xi=Ls[Hs+2*ri],si=27*(_i=_c[1020+3*(ui-yi)+_c[1020+vi-Ti]])+63>>7,ai=18*_i+63>>7,_i=9*_i+63>>7;Ls[Hs-3*ri]=Ma[255+Ls[Hs-3*ri]+_i],Ls[Hs-2*ri]=Ma[255+vi+ai],Ls[Hs-ri]=Ma[255+yi+si],Ls[Hs+0]=Ma[255+ui-si],Ls[Hs+ri]=Ma[255+Ti-ai],Ls[Hs+2*ri]=Ma[255+xi-_i]}Dr+=rs}}function Ca(xr,Dr,Gr,rs,vs,Ss,Es,Ns){for(Ss=2*Ss+1;0<vs--;){if(Tc(xr,Dr,Gr,Ss,Es))if(Fc(xr,Dr,Gr,Ns))gA(xr,Dr,Gr);else{var Ls=xr,Hs=Dr,ri=Gr,vi=Ls[Hs-ri],yi=Ls[Hs+0],ui=Ls[Hs+ri],Ti=Oc[112+((xi=3*(yi-vi))+4>>3)],xi=Oc[112+(xi+3>>3)],si=Ti+1>>1;Ls[Hs-2*ri]=Ma[255+Ls[Hs-2*ri]+si],Ls[Hs-ri]=Ma[255+vi+xi],Ls[Hs+0]=Ma[255+yi-Ti],Ls[Hs+ri]=Ma[255+ui-si]}Dr+=rs}}function kl(xr,Dr,Gr,rs,vs,Ss){Tl(xr,Dr,Gr,1,16,rs,vs,Ss)}function Il(xr,Dr,Gr,rs,vs,Ss){Tl(xr,Dr,1,Gr,16,rs,vs,Ss)}function Su(xr,Dr,Gr,rs,vs,Ss){var Es;for(Es=3;0<Es;--Es)Ca(xr,Dr+=4*Gr,Gr,1,16,rs,vs,Ss)}function Ta(xr,Dr,Gr,rs,vs,Ss){var Es;for(Es=3;0<Es;--Es)Ca(xr,Dr+=4,1,Gr,16,rs,vs,Ss)}function mA(xr,Dr,Gr,rs,vs,Ss,Es,Ns){Tl(xr,Dr,vs,1,8,Ss,Es,Ns),Tl(Gr,rs,vs,1,8,Ss,Es,Ns)}function Yl(xr,Dr,Gr,rs,vs,Ss,Es,Ns){Tl(xr,Dr,1,vs,8,Ss,Es,Ns),Tl(Gr,rs,1,vs,8,Ss,Es,Ns)}function jA(xr,Dr,Gr,rs,vs,Ss,Es,Ns){Ca(xr,Dr+4*vs,vs,1,8,Ss,Es,Ns),Ca(Gr,rs+4*vs,vs,1,8,Ss,Es,Ns)}function kc(xr,Dr,Gr,rs,vs,Ss,Es,Ns){Ca(xr,Dr+4,1,vs,8,Ss,Es,Ns),Ca(Gr,rs+4,1,vs,8,Ss,Es,Ns)}function vA(){this.ba=new Rs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new oi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function HA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $A(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ic(){this.ua=0,this.Wa=new ss,this.vb=new ss,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Xr,this.yc=new Ur}function xu(){this.xb=this.a=0,this.l=new cl,this.ca=new Rs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Vr,this.Pb=0,this.wd=new Vr,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ic,this.ab=0,this.gc=dr(4,$A),this.Oc=0}function yA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ql(xr,Dr,Gr,rs,vs,Ss,Es){for(xr=xr==null?0:xr[Dr+0],Dr=0;Dr<Es;++Dr)vs[Ss+Dr]=xr+Gr[rs+Dr]&255,xr=vs[Ss+Dr]}function VA(xr,Dr,Gr,rs,vs,Ss,Es){var Ns;if(xr==null)ql(null,null,Gr,rs,vs,Ss,Es);else for(Ns=0;Ns<Es;++Ns)vs[Ss+Ns]=xr[Dr+Ns]+Gr[rs+Ns]&255}function Pl(xr,Dr,Gr,rs,vs,Ss,Es){if(xr==null)ql(null,null,Gr,rs,vs,Ss,Es);else{var Ns,Ls=xr[Dr+0],Hs=Ls,ri=Ls;for(Ns=0;Ns<Es;++Ns)Hs=ri+(Ls=xr[Dr+Ns])-Hs,ri=Gr[rs+Ns]+(-256&Hs?0>Hs?0:255:Hs)&255,Hs=Ls,vs[Ss+Ns]=ri}}function KA(xr,Dr,Gr,rs){var vs=Dr.width,Ss=Dr.o;if(or(xr!=null&&Dr!=null),0>Gr||0>=rs||Gr+rs>Ss)return null;if(!xr.Cc){if(xr.ga==null){var Es;if(xr.ga=new yA,(Es=xr.ga==null)||(Es=Dr.width*Dr.o,or(xr.Gb.length==0),xr.Gb=ur(Es),xr.Uc=0,xr.Gb==null?Es=0:(xr.mb=xr.Gb,xr.nb=xr.Uc,xr.rc=null,Es=1),Es=!Es),!Es){Es=xr.ga;var Ns=xr.Fa,Ls=xr.P,Hs=xr.qc,ri=xr.mb,vi=xr.nb,yi=Ls+1,ui=Hs-1,Ti=Es.l;if(or(Ns!=null&&ri!=null&&Dr!=null),bl[0]=null,bl[1]=ql,bl[2]=VA,bl[3]=Pl,Es.ca=ri,Es.tb=vi,Es.c=Dr.width,Es.i=Dr.height,or(0<Es.c&&0<Es.i),1>=Hs)Dr=0;else if(Es.$a=Ns[Ls+0]>>0&3,Es.Z=Ns[Ls+0]>>2&3,Es.Lc=Ns[Ls+0]>>4&3,Ls=Ns[Ls+0]>>6&3,0>Es.$a||1<Es.$a||4<=Es.Z||1<Es.Lc||Ls)Dr=0;else if(Ti.put=_s,Ti.ac=Ms,Ti.bc=Xs,Ti.ma=Es,Ti.width=Dr.width,Ti.height=Dr.height,Ti.Da=Dr.Da,Ti.v=Dr.v,Ti.va=Dr.va,Ti.j=Dr.j,Ti.o=Dr.o,Es.$a)e:{or(Es.$a==1),Dr=co();t:for(;;){if(Dr==null){Dr=0;break e}if(or(Es!=null),Es.mc=Dr,Dr.c=Es.c,Dr.i=Es.i,Dr.l=Es.l,Dr.l.ma=Es,Dr.l.width=Es.c,Dr.l.height=Es.i,Dr.a=0,As(Dr.m,Ns,yi,ui),!xo(Es.c,Es.i,1,Dr,null)||(Dr.ab==1&&Dr.gc[0].hc==3&&Qi(Dr.s)?(Es.ic=1,Ns=Dr.c*Dr.i,Dr.Ta=null,Dr.Ua=0,Dr.V=ur(Ns),Dr.Ba=0,Dr.V==null?(Dr.a=1,Dr=0):Dr=1):(Es.ic=0,Dr=vo(Dr,Es.c)),!Dr))break t;Dr=1;break e}Es.mc=null,Dr=0}else Dr=ui>=Es.c*Es.i;Es=!Dr}if(Es)return null;xr.ga.Lc!=1?xr.Ga=0:rs=Ss-Gr}or(xr.ga!=null),or(Gr+rs<=Ss);e:{if(Dr=(Ns=xr.ga).c,Ss=Ns.l.o,Ns.$a==0){if(yi=xr.rc,ui=xr.Vc,Ti=xr.Fa,Ls=xr.P+1+Gr*Dr,Hs=xr.mb,ri=xr.nb+Gr*Dr,or(Ls<=xr.P+xr.qc),Ns.Z!=0)for(or(bl[Ns.Z]!=null),Es=0;Es<rs;++Es)bl[Ns.Z](yi,ui,Ti,Ls,Hs,ri,Dr),yi=Hs,ui=ri,ri+=Dr,Ls+=Dr;else for(Es=0;Es<rs;++Es)Ar(Hs,ri,Ti,Ls,Dr),yi=Hs,ui=ri,ri+=Dr,Ls+=Dr;xr.rc=yi,xr.Vc=ui}else{if(or(Ns.mc!=null),Dr=Gr+rs,or((Es=Ns.mc)!=null),or(Dr<=Es.i),Es.C>=Dr)Dr=1;else if(Ns.ic||gi(),Ns.ic){Ns=Es.V,yi=Es.Ba,ui=Es.c;var xi=Es.i,si=(Ti=1,Ls=Es.$/ui,Hs=Es.$%ui,ri=Es.m,vi=Es.s,Es.$),ai=ui*xi,_i=ui*Dr,Li=vi.wc,Oi=si<_i?Di(vi,Hs,Ls):null;or(si<=ai),or(Dr<=xi),or(Qi(vi));t:for(;;){for(;!ri.h&&si<_i;){if(Hs&Li||(Oi=Di(vi,Hs,Ls)),or(Oi!=null),cs(ri),256>(xi=Ci(Oi.G[0],Oi.H[0],ri)))Ns[yi+si]=xi,++si,++Hs>=ui&&(Hs=0,++Ls<=Dr&&!(Ls%16)&&Gi(Es,Ls));else{if(!(280>xi)){Ti=0;break t}xi=pi(xi-256,ri);var zi,$i=Ci(Oi.G[4],Oi.H[4],ri);if(cs(ri),!(si>=($i=wi(ui,$i=pi($i,ri)))&&ai-si>=xi)){Ti=0;break t}for(zi=0;zi<xi;++zi)Ns[yi+si+zi]=Ns[yi+si+zi-$i];for(si+=xi,Hs+=xi;Hs>=ui;)Hs-=ui,++Ls<=Dr&&!(Ls%16)&&Gi(Es,Ls);si<_i&&Hs&Li&&(Oi=Di(vi,Hs,Ls))}or(ri.h==$r(ri))}Gi(Es,Ls>Dr?Dr:Ls);break t}!Ti||ri.h&&si<ai?(Ti=0,Es.a=ri.h?5:3):Es.$=si,Dr=Ti}else Dr=eo(Es,Es.V,Es.Ba,Es.c,Es.i,Dr,la);if(!Dr){rs=0;break e}}Gr+rs>=Ss&&(xr.Cc=1),rs=1}if(!rs)return null;if(xr.Cc&&((rs=xr.ga)!=null&&(rs.mc=null),xr.ga=null,0<xr.Ga))return alert("todo:WebPDequantizeLevels"),null}return xr.nb+Gr*vs}function jr(xr,Dr,Gr,rs,vs,Ss){for(;0<vs--;){var Es,Ns=xr,Ls=Dr+(Gr?1:0),Hs=xr,ri=Dr+(Gr?0:3);for(Es=0;Es<rs;++Es){var vi=Hs[ri+4*Es];vi!=255&&(vi*=32897,Ns[Ls+4*Es+0]=Ns[Ls+4*Es+0]*vi>>23,Ns[Ls+4*Es+1]=Ns[Ls+4*Es+1]*vi>>23,Ns[Ls+4*Es+2]=Ns[Ls+4*Es+2]*vi>>23)}Dr+=Ss}}function ys(xr,Dr,Gr,rs,vs){for(;0<rs--;){var Ss;for(Ss=0;Ss<Gr;++Ss){var Es=xr[Dr+2*Ss+0],Ns=15&(Hs=xr[Dr+2*Ss+1]),Ls=4369*Ns,Hs=(240&Hs|Hs>>4)*Ls>>16;xr[Dr+2*Ss+0]=(240&Es|Es>>4)*Ls>>16&240|(15&Es|Es<<4)*Ls>>16>>4&15,xr[Dr+2*Ss+1]=240&Hs|Ns}Dr+=vs}}function Gs(xr,Dr,Gr,rs,vs,Ss,Es,Ns){var Ls,Hs,ri=255;for(Hs=0;Hs<vs;++Hs){for(Ls=0;Ls<rs;++Ls){var vi=xr[Dr+Ls];Ss[Es+4*Ls]=vi,ri&=vi}Dr+=Gr,Es+=Ns}return ri!=255}function ti(xr,Dr,Gr,rs,vs){var Ss;for(Ss=0;Ss<vs;++Ss)Gr[rs+Ss]=xr[Dr+Ss]>>8}function gi(){Oa=jr,Po=ys,_o=Gs,zo=ti}function ki(xr,Dr,Gr){Lr[xr]=function(rs,vs,Ss,Es,Ns,Ls,Hs,ri,vi,yi,ui,Ti,xi,si,ai,_i,Li){var Oi,zi=Li-1>>1,$i=Ns[Ls+0]|Hs[ri+0]<<16,ro=vi[yi+0]|ui[Ti+0]<<16;or(rs!=null);var Vi=3*$i+ro+131074>>2;for(Dr(rs[vs+0],255&Vi,Vi>>16,xi,si),Ss!=null&&(Vi=3*ro+$i+131074>>2,Dr(Ss[Es+0],255&Vi,Vi>>16,ai,_i)),Oi=1;Oi<=zi;++Oi){var Co=Ns[Ls+Oi]|Hs[ri+Oi]<<16,Eo=vi[yi+Oi]|ui[Ti+Oi]<<16,mo=$i+Co+ro+Eo+524296,Ri=mo+2*(Co+ro)>>3;Vi=Ri+$i>>1,$i=(mo=mo+2*($i+Eo)>>3)+Co>>1,Dr(rs[vs+2*Oi-1],255&Vi,Vi>>16,xi,si+(2*Oi-1)*Gr),Dr(rs[vs+2*Oi-0],255&$i,$i>>16,xi,si+(2*Oi-0)*Gr),Ss!=null&&(Vi=mo+ro>>1,$i=Ri+Eo>>1,Dr(Ss[Es+2*Oi-1],255&Vi,Vi>>16,ai,_i+(2*Oi-1)*Gr),Dr(Ss[Es+2*Oi+0],255&$i,$i>>16,ai,_i+(2*Oi+0)*Gr)),$i=Co,ro=Eo}1&Li||(Vi=3*$i+ro+131074>>2,Dr(rs[vs+Li-1],255&Vi,Vi>>16,xi,si+(Li-1)*Gr),Ss!=null&&(Vi=3*ro+$i+131074>>2,Dr(Ss[Es+Li-1],255&Vi,Vi>>16,ai,_i+(Li-1)*Gr)))}}function Ui(){$a[Mc]=uf,$a[Lc]=XA,$a[oA]=ku,$a[Rc]=sd,$a[Dc]=id,$a[EA]=od,$a[Zu]=df,$a[Eu]=XA,$a[Fu]=sd,$a[Uc]=id,$a[FA]=od}function Wi(xr){return xr&-16384?0>xr?0:255:xr>>ff}function no(xr,Dr){return Wi((19077*xr>>8)+(26149*Dr>>8)-14234)}function ao(xr,Dr,Gr){return Wi((19077*xr>>8)-(6419*Dr>>8)-(13320*Gr>>8)+8708)}function lo(xr,Dr){return Wi((19077*xr>>8)+(33050*Dr>>8)-17685)}function go(xr,Dr,Gr,rs,vs){rs[vs+0]=no(xr,Gr),rs[vs+1]=ao(xr,Dr,Gr),rs[vs+2]=lo(xr,Dr)}function Io(xr,Dr,Gr,rs,vs){rs[vs+0]=lo(xr,Dr),rs[vs+1]=ao(xr,Dr,Gr),rs[vs+2]=no(xr,Gr)}function No(xr,Dr,Gr,rs,vs){var Ss=ao(xr,Dr,Gr);Dr=Ss<<3&224|lo(xr,Dr)>>3,rs[vs+0]=248&no(xr,Gr)|Ss>>5,rs[vs+1]=Dr}function oo(xr,Dr,Gr,rs,vs){var Ss=240&lo(xr,Dr)|15;rs[vs+0]=240&no(xr,Gr)|ao(xr,Dr,Gr)>>4,rs[vs+1]=Ss}function da(xr,Dr,Gr,rs,vs){rs[vs+0]=255,go(xr,Dr,Gr,rs,vs+1)}function Yo(xr,Dr,Gr,rs,vs){Io(xr,Dr,Gr,rs,vs),rs[vs+3]=255}function Da(xr,Dr,Gr,rs,vs){go(xr,Dr,Gr,rs,vs),rs[vs+3]=255}function ra(xr,Dr){return 0>xr?0:xr>Dr?Dr:xr}function Zo(xr,Dr,Gr){Lr[xr]=function(rs,vs,Ss,Es,Ns,Ls,Hs,ri,vi){for(var yi=ri+(-2&vi)*Gr;ri!=yi;)Dr(rs[vs+0],Ss[Es+0],Ns[Ls+0],Hs,ri),Dr(rs[vs+1],Ss[Es+0],Ns[Ls+0],Hs,ri+Gr),vs+=2,++Es,++Ls,ri+=2*Gr;1&vi&&Dr(rs[vs+0],Ss[Es+0],Ns[Ls+0],Hs,ri)}}function Nc(xr,Dr,Gr){return Gr==0?xr==0?Dr==0?6:5:Dr==0?4:0:Gr}function Ua(xr,Dr,Gr,rs,vs){switch(xr>>>30){case 3:ml(Dr,Gr,rs,vs,0);break;case 2:Wo(Dr,Gr,rs,vs);break;case 1:fa(Dr,Gr,rs,vs)}}function Ro(xr,Dr){var Gr,rs,vs=Dr.M,Ss=Dr.Nb,Es=xr.oc,Ns=xr.pc+40,Ls=xr.oc,Hs=xr.pc+584,ri=xr.oc,vi=xr.pc+600;for(Gr=0;16>Gr;++Gr)Es[Ns+32*Gr-1]=129;for(Gr=0;8>Gr;++Gr)Ls[Hs+32*Gr-1]=129,ri[vi+32*Gr-1]=129;for(0<vs?Es[Ns-1-32]=Ls[Hs-1-32]=ri[vi-1-32]=129:(cr(Es,Ns-32-1,127,21),cr(Ls,Hs-32-1,127,9),cr(ri,vi-32-1,127,9)),rs=0;rs<xr.za;++rs){var yi=Dr.ya[Dr.aa+rs];if(0<rs){for(Gr=-1;16>Gr;++Gr)Ar(Es,Ns+32*Gr-4,Es,Ns+32*Gr+12,4);for(Gr=-1;8>Gr;++Gr)Ar(Ls,Hs+32*Gr-4,Ls,Hs+32*Gr+4,4),Ar(ri,vi+32*Gr-4,ri,vi+32*Gr+4,4)}var ui=xr.Gd,Ti=xr.Hd+rs,xi=yi.ad,si=yi.Hc;if(0<vs&&(Ar(Es,Ns-32,ui[Ti].y,0,16),Ar(Ls,Hs-32,ui[Ti].f,0,8),Ar(ri,vi-32,ui[Ti].ea,0,8)),yi.Za){var ai=Es,_i=Ns-32+16;for(0<vs&&(rs>=xr.za-1?cr(ai,_i,ui[Ti].y[15],4):Ar(ai,_i,ui[Ti+1].y,0,4)),Gr=0;4>Gr;Gr++)ai[_i+128+Gr]=ai[_i+256+Gr]=ai[_i+384+Gr]=ai[_i+0+Gr];for(Gr=0;16>Gr;++Gr,si<<=2)ai=Es,_i=Ns+ld[Gr],Ya[yi.Ob[Gr]](ai,_i),Ua(si,xi,16*+Gr,ai,_i)}else if(ai=Nc(rs,vs,yi.Ob[0]),Rl[ai](Es,Ns),si!=0)for(Gr=0;16>Gr;++Gr,si<<=2)Ua(si,xi,16*+Gr,Es,Ns+ld[Gr]);for(Gr=yi.Gc,ai=Nc(rs,vs,yi.Dd),Ha[ai](Ls,Hs),Ha[ai](ri,vi),si=xi,ai=Ls,_i=Hs,255&(yi=Gr>>0)&&(170&yi?Ol(si,256,ai,_i):Qa(si,256,ai,_i)),yi=ri,si=vi,255&(Gr>>=8)&&(170&Gr?Ol(xi,320,yi,si):Qa(xi,320,yi,si)),vs<xr.Ub-1&&(Ar(ui[Ti].y,0,Es,Ns+480,16),Ar(ui[Ti].f,0,Ls,Hs+224,8),Ar(ui[Ti].ea,0,ri,vi+224,8)),Gr=8*Ss*xr.B,ui=xr.sa,Ti=xr.ta+16*rs+16*Ss*xr.R,xi=xr.qa,yi=xr.ra+8*rs+Gr,si=xr.Ha,ai=xr.Ia+8*rs+Gr,Gr=0;16>Gr;++Gr)Ar(ui,Ti+Gr*xr.R,Es,Ns+32*Gr,16);for(Gr=0;8>Gr;++Gr)Ar(xi,yi+Gr*xr.B,Ls,Hs+32*Gr,8),Ar(si,ai+Gr*xr.B,ri,vi+32*Gr,8)}}function Jl(xr,Dr,Gr,rs,vs,Ss,Es,Ns,Ls){var Hs=[0],ri=[0],vi=0,yi=Ls!=null?Ls.kd:0,ui=Ls??new HA;if(xr==null||12>Gr)return 7;ui.data=xr,ui.w=Dr,ui.ha=Gr,Dr=[Dr],Gr=[Gr],ui.gb=[ui.gb];e:{var Ti=Dr,xi=Gr,si=ui.gb;if(or(xr!=null),or(xi!=null),or(si!=null),si[0]=0,12<=xi[0]&&!lr(xr,Ti[0],"RIFF")){if(lr(xr,Ti[0]+8,"WEBP")){si=3;break e}var ai=us(xr,Ti[0]+4);if(12>ai||4294967286<ai){si=3;break e}if(yi&&ai>xi[0]-8){si=7;break e}si[0]=ai,Ti[0]+=12,xi[0]-=12}si=0}if(si!=0)return si;for(ai=0<ui.gb[0],Gr=Gr[0];;){e:{var _i=xr;xi=Dr,si=Gr;var Li=Hs,Oi=ri,zi=Ti=[0];if((Vi=vi=[vi])[0]=0,8>si[0])si=7;else{if(!lr(_i,xi[0],"VP8X")){if(us(_i,xi[0]+4)!=10){si=3;break e}if(18>si[0]){si=7;break e}var $i=us(_i,xi[0]+8),ro=1+Ds(_i,xi[0]+12);if(2147483648<=ro*(_i=1+Ds(_i,xi[0]+15))){si=3;break e}zi!=null&&(zi[0]=$i),Li!=null&&(Li[0]=ro),Oi!=null&&(Oi[0]=_i),xi[0]+=18,si[0]-=18,Vi[0]=1}si=0}}if(vi=vi[0],Ti=Ti[0],si!=0)return si;if(xi=!!(2&Ti),!ai&&vi)return 3;if(Ss!=null&&(Ss[0]=!!(16&Ti)),Es!=null&&(Es[0]=xi),Ns!=null&&(Ns[0]=0),Es=Hs[0],Ti=ri[0],vi&&xi&&Ls==null){si=0;break}if(4>Gr){si=7;break}if(ai&&vi||!ai&&!vi&&!lr(xr,Dr[0],"ALPH")){Gr=[Gr],ui.na=[ui.na],ui.P=[ui.P],ui.Sa=[ui.Sa];e:{$i=xr,si=Dr,ai=Gr;var Vi=ui.gb;Li=ui.na,Oi=ui.P,zi=ui.Sa,ro=22,or($i!=null),or(ai!=null),_i=si[0];var Co=ai[0];for(or(Li!=null),or(zi!=null),Li[0]=null,Oi[0]=null,zi[0]=0;;){if(si[0]=_i,ai[0]=Co,8>Co){si=7;break e}var Eo=us($i,_i+4);if(4294967286<Eo){si=3;break e}var mo=8+Eo+1&-2;if(ro+=mo,0<Vi&&ro>Vi){si=3;break e}if(!lr($i,_i,"VP8 ")||!lr($i,_i,"VP8L")){si=0;break e}if(Co[0]<mo){si=7;break e}lr($i,_i,"ALPH")||(Li[0]=$i,Oi[0]=_i+8,zi[0]=Eo),_i+=mo,Co-=mo}}if(Gr=Gr[0],ui.na=ui.na[0],ui.P=ui.P[0],ui.Sa=ui.Sa[0],si!=0)break}Gr=[Gr],ui.Ja=[ui.Ja],ui.xa=[ui.xa];e:if(Vi=xr,si=Dr,ai=Gr,Li=ui.gb[0],Oi=ui.Ja,zi=ui.xa,$i=si[0],_i=!lr(Vi,$i,"VP8 "),ro=!lr(Vi,$i,"VP8L"),or(Vi!=null),or(ai!=null),or(Oi!=null),or(zi!=null),8>ai[0])si=7;else{if(_i||ro){if(Vi=us(Vi,$i+4),12<=Li&&Vi>Li-12){si=3;break e}if(yi&&Vi>ai[0]-8){si=7;break e}Oi[0]=Vi,si[0]+=8,ai[0]-=8,zi[0]=ro}else zi[0]=5<=ai[0]&&Vi[$i+0]==47&&!(Vi[$i+4]>>5),Oi[0]=ai[0];si=0}if(Gr=Gr[0],ui.Ja=ui.Ja[0],ui.xa=ui.xa[0],Dr=Dr[0],si!=0)break;if(4294967286<ui.Ja)return 3;if(Ns==null||xi||(Ns[0]=ui.xa?2:1),Es=[Es],Ti=[Ti],ui.xa){if(5>Gr){si=7;break}Ns=Es,yi=Ti,xi=Ss,xr==null||5>Gr?xr=0:5<=Gr&&xr[Dr+0]==47&&!(xr[Dr+4]>>5)?(ai=[0],Vi=[0],Li=[0],As(Oi=new Vr,xr,Dr,Gr),Zs(Oi,ai,Vi,Li)?(Ns!=null&&(Ns[0]=ai[0]),yi!=null&&(yi[0]=Vi[0]),xi!=null&&(xi[0]=Li[0]),xr=1):xr=0):xr=0}else{if(10>Gr){si=7;break}Ns=Ti,xr==null||10>Gr||!hc(xr,Dr+3,Gr-3)?xr=0:(yi=xr[Dr+0]|xr[Dr+1]<<8|xr[Dr+2]<<16,xi=16383&(xr[Dr+7]<<8|xr[Dr+6]),xr=16383&(xr[Dr+9]<<8|xr[Dr+8]),1&yi||3<(yi>>1&7)||!(yi>>4&1)||yi>>5>=ui.Ja||!xi||!xr?xr=0:(Es&&(Es[0]=xi),Ns&&(Ns[0]=xr),xr=1))}if(!xr||(Es=Es[0],Ti=Ti[0],vi&&(Hs[0]!=Es||ri[0]!=Ti)))return 3;Ls!=null&&(Ls[0]=ui,Ls.offset=Dr-Ls.w,or(4294967286>Dr-Ls.w),or(Ls.offset==Ls.ha-Gr));break}return si==0||si==7&&vi&&Ls==null?(Ss!=null&&(Ss[0]|=ui.na!=null&&0<ui.na.length),rs!=null&&(rs[0]=Es),vs!=null&&(vs[0]=Ti),0):si}function Vo(xr,Dr,Gr){var rs=Dr.width,vs=Dr.height,Ss=0,Es=0,Ns=rs,Ls=vs;if(Dr.Da=xr!=null&&0<xr.Da,Dr.Da&&(Ns=xr.cd,Ls=xr.bd,Ss=xr.v,Es=xr.j,11>Gr||(Ss&=-2,Es&=-2),0>Ss||0>Es||0>=Ns||0>=Ls||Ss+Ns>rs||Es+Ls>vs))return 0;if(Dr.v=Ss,Dr.j=Es,Dr.va=Ss+Ns,Dr.o=Es+Ls,Dr.U=Ns,Dr.T=Ls,Dr.da=xr!=null&&0<xr.da,Dr.da){if(!ks(Ns,Ls,Gr=[xr.ib],Ss=[xr.hb]))return 0;Dr.ib=Gr[0],Dr.hb=Ss[0]}return Dr.ob=xr!=null&&xr.ob,Dr.Kb=xr==null||!xr.Sd,Dr.da&&(Dr.ob=Dr.ib<3*rs/4&&Dr.hb<3*vs/4,Dr.Kb=0),1}function Zl(xr){if(xr==null)return 2;if(11>xr.S){var Dr=xr.f.RGBA;Dr.fb+=(xr.height-1)*Dr.A,Dr.A=-Dr.A}else Dr=xr.f.kb,xr=xr.height,Dr.O+=(xr-1)*Dr.fa,Dr.fa=-Dr.fa,Dr.N+=(xr-1>>1)*Dr.Ab,Dr.Ab=-Dr.Ab,Dr.W+=(xr-1>>1)*Dr.Db,Dr.Db=-Dr.Db,Dr.F!=null&&(Dr.J+=(xr-1)*Dr.lb,Dr.lb=-Dr.lb);return 0}function ka(xr,Dr,Gr,rs){if(rs==null||0>=xr||0>=Dr)return 2;if(Gr!=null){if(Gr.Da){var vs=Gr.cd,Ss=Gr.bd,Es=-2&Gr.v,Ns=-2&Gr.j;if(0>Es||0>Ns||0>=vs||0>=Ss||Es+vs>xr||Ns+Ss>Dr)return 2;xr=vs,Dr=Ss}if(Gr.da){if(!ks(xr,Dr,vs=[Gr.ib],Ss=[Gr.hb]))return 2;xr=vs[0],Dr=Ss[0]}}rs.width=xr,rs.height=Dr;e:{var Ls=rs.width,Hs=rs.height;if(xr=rs.S,0>=Ls||0>=Hs||!(xr>=Mc&&13>xr))xr=2;else{if(0>=rs.Rd&&rs.sd==null){Es=Ss=vs=Dr=0;var ri=(Ns=Ls*cd[xr])*Hs;if(11>xr||(Ss=(Hs+1)/2*(Dr=(Ls+1)/2),xr==12&&(Es=(vs=Ls)*Hs)),(Hs=ur(ri+2*Ss+Es))==null){xr=1;break e}rs.sd=Hs,11>xr?((Ls=rs.f.RGBA).eb=Hs,Ls.fb=0,Ls.A=Ns,Ls.size=ri):((Ls=rs.f.kb).y=Hs,Ls.O=0,Ls.fa=Ns,Ls.Fd=ri,Ls.f=Hs,Ls.N=0+ri,Ls.Ab=Dr,Ls.Cd=Ss,Ls.ea=Hs,Ls.W=0+ri+Ss,Ls.Db=Dr,Ls.Ed=Ss,xr==12&&(Ls.F=Hs,Ls.J=0+ri+2*Ss),Ls.Tc=Es,Ls.lb=vs)}if(Dr=1,vs=rs.S,Ss=rs.width,Es=rs.height,vs>=Mc&&13>vs)if(11>vs)xr=rs.f.RGBA,Dr&=(Ns=Math.abs(xr.A))*(Es-1)+Ss<=xr.size,Dr&=Ns>=Ss*cd[vs],Dr&=xr.eb!=null;else{xr=rs.f.kb,Ns=(Ss+1)/2,ri=(Es+1)/2,Ls=Math.abs(xr.fa),Hs=Math.abs(xr.Ab);var vi=Math.abs(xr.Db),yi=Math.abs(xr.lb),ui=yi*(Es-1)+Ss;Dr&=Ls*(Es-1)+Ss<=xr.Fd,Dr&=Hs*(ri-1)+Ns<=xr.Cd,Dr=(Dr&=vi*(ri-1)+Ns<=xr.Ed)&Ls>=Ss&Hs>=Ns&vi>=Ns,Dr&=xr.y!=null,Dr&=xr.f!=null,Dr&=xr.ea!=null,vs==12&&(Dr&=yi>=Ss,Dr&=ui<=xr.Tc,Dr&=xr.F!=null)}else Dr=0;xr=Dr?0:2}}return xr!=0||Gr!=null&&Gr.fd&&(xr=Zl(rs)),xr}var Ko=64,Bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eA=24,tA=32,bA=8,ma=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ws("Predictor0","PredictorAdd0"),Lr.Predictor0=function(){return 4278190080},Lr.Predictor1=function(xr){return xr},Lr.Predictor2=function(xr,Dr,Gr){return Dr[Gr+0]},Lr.Predictor3=function(xr,Dr,Gr){return Dr[Gr+1]},Lr.Predictor4=function(xr,Dr,Gr){return Dr[Gr-1]},Lr.Predictor5=function(xr,Dr,Gr){return Ps(Ps(xr,Dr[Gr+1]),Dr[Gr+0])},Lr.Predictor6=function(xr,Dr,Gr){return Ps(xr,Dr[Gr-1])},Lr.Predictor7=function(xr,Dr,Gr){return Ps(xr,Dr[Gr+0])},Lr.Predictor8=function(xr,Dr,Gr){return Ps(Dr[Gr-1],Dr[Gr+0])},Lr.Predictor9=function(xr,Dr,Gr){return Ps(Dr[Gr+0],Dr[Gr+1])},Lr.Predictor10=function(xr,Dr,Gr){return Ps(Ps(xr,Dr[Gr-1]),Ps(Dr[Gr+0],Dr[Gr+1]))},Lr.Predictor11=function(xr,Dr,Gr){var rs=Dr[Gr+0];return 0>=Fs(rs>>24&255,xr>>24&255,(Dr=Dr[Gr-1])>>24&255)+Fs(rs>>16&255,xr>>16&255,Dr>>16&255)+Fs(rs>>8&255,xr>>8&255,Dr>>8&255)+Fs(255&rs,255&xr,255&Dr)?rs:xr},Lr.Predictor12=function(xr,Dr,Gr){var rs=Dr[Gr+0];return(Ws((xr>>24&255)+(rs>>24&255)-((Dr=Dr[Gr-1])>>24&255))<<24|Ws((xr>>16&255)+(rs>>16&255)-(Dr>>16&255))<<16|Ws((xr>>8&255)+(rs>>8&255)-(Dr>>8&255))<<8|Ws((255&xr)+(255&rs)-(255&Dr)))>>>0},Lr.Predictor13=function(xr,Dr,Gr){var rs=Dr[Gr-1];return(Ks((xr=Ps(xr,Dr[Gr+0]))>>24&255,rs>>24&255)<<24|Ks(xr>>16&255,rs>>16&255)<<16|Ks(xr>>8&255,rs>>8&255)<<8|Ks(xr>>0&255,rs>>0&255))>>>0};var wA=Lr.PredictorAdd0;Lr.PredictorAdd1=ni,ws("Predictor2","PredictorAdd2"),ws("Predictor3","PredictorAdd3"),ws("Predictor4","PredictorAdd4"),ws("Predictor5","PredictorAdd5"),ws("Predictor6","PredictorAdd6"),ws("Predictor7","PredictorAdd7"),ws("Predictor8","PredictorAdd8"),ws("Predictor9","PredictorAdd9"),ws("Predictor10","PredictorAdd10"),ws("Predictor11","PredictorAdd11"),ws("Predictor12","PredictorAdd12"),ws("Predictor13","PredictorAdd13");var BA=Lr.PredictorAdd2;Cs("ColorIndexInverseTransform","MapARGB","32b",function(xr){return xr>>8&255},function(xr){return xr}),Cs("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(xr){return xr},function(xr){return xr>>8&255});var GA,Do=Lr.ColorIndexInverseTransform,Ia=Lr.MapARGB,za=Lr.VP8LColorIndexInverseTransformAlpha,Go=Lr.MapAlpha,va=Lr.VP8LPredictorsAdd=[];va.length=16,(Lr.VP8LPredictors=[]).length=16,(Lr.VP8LPredictorsAdd_C=[]).length=16,(Lr.VP8LPredictors_C=[]).length=16;var _l,ya,Aa,pl,gl,Na,Sa,ml,Wo,Ol,fa,Qa,CA,xa,SA,nA,rA,Xa,sA,iA,Ml,vl,xA,Pa,Oa,Po,_o,zo,Qo=ur(511),yl=ur(2041),WA=ur(225),Ll=ur(767),Pc=0,_c=yl,Oc=WA,Ma=Ll,ja=Qo,Mc=0,Lc=1,oA=2,Rc=3,Dc=4,EA=5,Zu=6,Eu=7,Fu=8,Uc=9,FA=10,qd=[2,3,7],Jd=[3,3,11],ed=[280,256,256,256,40],Zd=[0,1,1,1,0],Qc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ef=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],tf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nf=8,Tu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],TA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zA=null,rf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],of=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],af=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Af=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rl=[],Ya=[],Ha=[],cf=1,rd=2,bl=[],$a=[];ki("UpsampleRgbLinePair",go,3),ki("UpsampleBgrLinePair",Io,3),ki("UpsampleRgbaLinePair",Da,4),ki("UpsampleBgraLinePair",Yo,4),ki("UpsampleArgbLinePair",da,4),ki("UpsampleRgba4444LinePair",oo,2),ki("UpsampleRgb565LinePair",No,2);var uf=Lr.UpsampleRgbLinePair,ku=Lr.UpsampleBgrLinePair,XA=Lr.UpsampleRgbaLinePair,sd=Lr.UpsampleBgraLinePair,id=Lr.UpsampleArgbLinePair,od=Lr.UpsampleRgba4444LinePair,df=Lr.UpsampleRgb565LinePair,jc=16,Hc=1<<jc-1,Dl=-227,Iu=482,ff=6,ad=0,hf=ur(256),pf=ur(256),gf=ur(256),mf=ur(256),vf=ur(Iu-Dl),yf=ur(Iu-Dl);Zo("YuvToRgbRow",go,3),Zo("YuvToBgrRow",Io,3),Zo("YuvToRgbaRow",Da,4),Zo("YuvToBgraRow",Yo,4),Zo("YuvToArgbRow",da,4),Zo("YuvToRgba4444Row",oo,2),Zo("YuvToRgb565Row",No,2);var ld=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$c=[0,2,8],bf=[8,7,6,4,4,2,2,2,1,1,1,1],Ad=1;this.WebPDecodeRGBA=function(xr,Dr,Gr,rs,vs){var Ss=Lc,Es=new vA,Ns=new Rs;Es.ba=Ns,Ns.S=Ss,Ns.width=[Ns.width],Ns.height=[Ns.height];var Ls=Ns.width,Hs=Ns.height,ri=new Js;if(ri==null||xr==null)var vi=2;else or(ri!=null),vi=Jl(xr,Dr,Gr,ri.width,ri.height,ri.Pd,ri.Qd,ri.format,null);if(vi!=0?Ls=0:(Ls!=null&&(Ls[0]=ri.width[0]),Hs!=null&&(Hs[0]=ri.height[0]),Ls=1),Ls){Ns.width=Ns.width[0],Ns.height=Ns.height[0],rs!=null&&(rs[0]=Ns.width),vs!=null&&(vs[0]=Ns.height);e:{if(rs=new cl,(vs=new HA).data=xr,vs.w=Dr,vs.ha=Gr,vs.kd=1,Dr=[0],or(vs!=null),((xr=Jl(vs.data,vs.w,vs.ha,null,null,null,Dr,null,vs))==0||xr==7)&&Dr[0]&&(xr=4),(Dr=xr)==0){if(or(Es!=null),rs.data=vs.data,rs.w=vs.w+vs.offset,rs.ha=vs.ha-vs.offset,rs.put=_s,rs.ac=Ms,rs.bc=Xs,rs.ma=Es,vs.xa){if((xr=co())==null){Es=1;break e}if(function(yi,ui){var Ti=[0],xi=[0],si=[0];t:for(;;){if(yi==null)return 0;if(ui==null)return yi.a=2,0;if(yi.l=ui,yi.a=0,As(yi.m,ui.data,ui.w,ui.ha),!Zs(yi.m,Ti,xi,si)){yi.a=3;break t}if(yi.xb=rd,ui.width=Ti[0],ui.height=xi[0],!xo(Ti[0],xi[0],1,yi,null))break t;return 1}return or(yi.a!=0),0}(xr,rs)){if(rs=(Dr=ka(rs.width,rs.height,Es.Oa,Es.ba))==0){t:{rs=xr;n:for(;;){if(rs==null){rs=0;break t}if(or(rs.s.yc!=null),or(rs.s.Ya!=null),or(0<rs.s.Wb),or((Gr=rs.l)!=null),or((vs=Gr.ma)!=null),rs.xb!=0){if(rs.ca=vs.ba,rs.tb=vs.tb,or(rs.ca!=null),!Vo(vs.Oa,Gr,Rc)){rs.a=2;break n}if(!vo(rs,Gr.width)||Gr.da)break n;if((Gr.da||fi(rs.ca.S))&&gi(),11>rs.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),rs.ca.f.kb.F!=null&&gi()),rs.Pb&&0<rs.s.ua&&rs.s.vb.X==null&&!ps(rs.s.vb,rs.s.Wa.Xa)){rs.a=1;break n}rs.xb=0}if(!eo(rs,rs.V,rs.Ba,rs.c,rs.i,Gr.o,Yi))break n;vs.Dc=rs.Ma,rs=1;break t}or(rs.a!=0),rs=0}rs=!rs}rs&&(Dr=xr.a)}else Dr=xr.a}else{if((xr=new Kl)==null){Es=1;break e}if(xr.Fa=vs.na,xr.P=vs.P,xr.qc=vs.Sa,pc(xr,rs)){if((Dr=ka(rs.width,rs.height,Es.Oa,Es.ba))==0){if(xr.Aa=0,Gr=Es.Oa,or((vs=xr)!=null),Gr!=null){if(0<(Ls=0>(Ls=Gr.Md)?0:100<Ls?255:255*Ls/100)){for(Hs=ri=0;4>Hs;++Hs)12>(vi=vs.pb[Hs]).lc&&(vi.ia=Ls*bf[0>vi.lc?0:vi.lc]>>3),ri|=vi.ia;ri&&(alert("todo:VP8InitRandom"),vs.ia=1)}vs.Ga=Gr.Id,100<vs.Ga?vs.Ga=100:0>vs.Ga&&(vs.Ga=0)}Wl(xr,rs)||(Dr=xr.a)}}else Dr=xr.a}Dr==0&&Es.Oa!=null&&Es.Oa.fd&&(Dr=Zl(Es.ba))}Es=Dr}Ss=Es!=0?null:11>Ss?Ns.f.RGBA.eb:Ns.f.kb.y}else Ss=null;return Ss};var cd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function gr(Lr,_r){for(var Hr="",Mr=0;Mr<4;Mr++)Hr+=String.fromCharCode(Lr[_r++]);return Hr}function pr(Lr,_r){return(Lr[_r+0]<<0|Lr[_r+1]<<8|Lr[_r+2]<<16)>>>0}function mr(Lr,_r){return(Lr[_r+0]<<0|Lr[_r+1]<<8|Lr[_r+2]<<16|Lr[_r+3]<<24)>>>0}new fr;var yr=[0],vr=[0],br=[],wr=new fr,Cr=ar,Br=function(Lr,_r){var Hr={},Mr=0,Ur=!1,Kr=0,Xr=0;if(Hr.frames=[],!function(Qr,$r,zr,cs){for(var Jr=0;Jr<cs;Jr++)if(Qr[$r+Jr]!=zr.charCodeAt(Jr))return!0;return!1}(Lr,_r,"RIFF",4)){for(mr(Lr,_r+=4),_r+=8;_r<Lr.length;){var Yr=gr(Lr,_r),Zr=mr(Lr,_r+=4);_r+=4;var ns=Zr+(1&Zr);switch(Yr){case"VP8 ":case"VP8L":Hr.frames[Mr]===void 0&&(Hr.frames[Mr]={}),(gs=Hr.frames[Mr]).src_off=Ur?Xr:_r-8,gs.src_size=Kr+Zr+8,Mr++,Ur&&(Ur=!1,Kr=0,Xr=0);break;case"VP8X":(gs=Hr.header={}).feature_flags=Lr[_r];var As=_r+4;gs.canvas_width=1+pr(Lr,As),As+=3,gs.canvas_height=1+pr(Lr,As),As+=3;break;case"ALPH":Ur=!0,Kr=ns+8,Xr=_r-8;break;case"ANIM":(gs=Hr.header).bgcolor=mr(Lr,_r),As=_r+4,gs.loop_count=(Os=Lr)[(Vr=As)+0]<<0|Os[Vr+1]<<8,As+=2;break;case"ANMF":var is,gs;(gs=Hr.frames[Mr]={}).offset_x=2*pr(Lr,_r),_r+=3,gs.offset_y=2*pr(Lr,_r),_r+=3,gs.width=1+pr(Lr,_r),_r+=3,gs.height=1+pr(Lr,_r),_r+=3,gs.duration=pr(Lr,_r),_r+=3,is=Lr[_r++],gs.dispose=1&is,gs.blend=is>>1&1}Yr!="ANMF"&&(_r+=ns)}var Os,Vr;return Hr}}(Cr,0);Br.response=Cr,Br.rgbaoutput=!0,Br.dataurl=!1;var Sr=Br.header?Br.header:null,Er=Br.frames?Br.frames:null;if(Sr){Sr.loop_counter=Sr.loop_count,yr=[Sr.canvas_height],vr=[Sr.canvas_width];for(var Tr=0;Tr<Er.length&&Er[Tr].blend!=0;Tr++);}var kr=Er[0],Or=wr.WebPDecodeRGBA(Cr,kr.src_off,kr.src_size,vr,yr);kr.rgba=Or,kr.imgwidth=vr[0],kr.imgheight=yr[0];for(var Rr=0;Rr<vr[0]*yr[0]*4;Rr++)br[Rr]=Or[Rr];return this.width=vr,this.height=yr,this.data=br,this}(function(ar){var or=function(){return typeof zlibSync=="function"},lr=function(yr,vr,br,wr){var Cr=4,Br=dr;switch(wr){case ar.image_compression.FAST:Cr=1,Br=ur;break;case ar.image_compression.MEDIUM:Cr=6,Br=hr;break;case ar.image_compression.SLOW:Cr=9,Br=fr}yr=Ar(yr,vr,br,Br);var Sr=zlibSync(yr,{level:Cr});return ar.__addimage__.arrayBufferToBinaryString(Sr)},Ar=function(yr,vr,br,wr){for(var Cr,Br,Sr,Er=yr.length/vr,Tr=new Uint8Array(yr.length+Er),kr=pr(),Or=0;Or<Er;Or+=1){if(Sr=Or*vr,Cr=yr.subarray(Sr,Sr+vr),wr)Tr.set(wr(Cr,br,Br),Sr+Or);else{for(var Rr,Lr=kr.length,_r=[];Rr<Lr;Rr+=1)_r[Rr]=kr[Rr](Cr,br,Br);var Hr=mr(_r.concat());Tr.set(_r[Hr],Sr+Or)}Br=Cr}return Tr},cr=function(yr){var vr=Array.apply([],yr);return vr.unshift(0),vr},ur=function(yr,vr){var br,wr=[],Cr=yr.length;wr[0]=1;for(var Br=0;Br<Cr;Br+=1)br=yr[Br-vr]||0,wr[Br+1]=yr[Br]-br+256&255;return wr},dr=function(yr,vr,br){var wr,Cr=[],Br=yr.length;Cr[0]=2;for(var Sr=0;Sr<Br;Sr+=1)wr=br&&br[Sr]||0,Cr[Sr+1]=yr[Sr]-wr+256&255;return Cr},hr=function(yr,vr,br){var wr,Cr,Br=[],Sr=yr.length;Br[0]=3;for(var Er=0;Er<Sr;Er+=1)wr=yr[Er-vr]||0,Cr=br&&br[Er]||0,Br[Er+1]=yr[Er]+256-(wr+Cr>>>1)&255;return Br},fr=function(yr,vr,br){var wr,Cr,Br,Sr,Er=[],Tr=yr.length;Er[0]=4;for(var kr=0;kr<Tr;kr+=1)wr=yr[kr-vr]||0,Cr=br&&br[kr]||0,Br=br&&br[kr-vr]||0,Sr=gr(wr,Cr,Br),Er[kr+1]=yr[kr]-Sr+256&255;return Er},gr=function(yr,vr,br){if(yr===vr&&vr===br)return yr;var wr=Math.abs(vr-br),Cr=Math.abs(yr-br),Br=Math.abs(yr+vr-br-br);return wr<=Cr&&wr<=Br?yr:Cr<=Br?vr:br},pr=function(){return[cr,ur,dr,hr,fr]},mr=function(yr){var vr=yr.map(function(br){return br.reduce(function(wr,Cr){return wr+Math.abs(Cr)},0)});return vr.indexOf(Math.min.apply(null,vr))};ar.processPNG=function(yr,vr,br,wr){var Cr,Br,Sr,Er,Tr,kr,Or,Rr,Lr,_r,Hr,Mr,Ur,Kr,Xr,Yr=this.decode.FLATE_DECODE,Zr="";if(this.__addimage__.isArrayBuffer(yr)&&(yr=new Uint8Array(yr)),this.__addimage__.isArrayBufferView(yr)){if(yr=(Sr=new Kt(yr)).imgData,Br=Sr.bits,Cr=Sr.colorSpace,Tr=Sr.colors,[4,6].indexOf(Sr.colorType)!==-1){if(Sr.bits===8){Lr=(Rr=Sr.pixelBitlength==32?new Uint32Array(Sr.decodePixels().buffer):Sr.pixelBitlength==16?new Uint16Array(Sr.decodePixels().buffer):new Uint8Array(Sr.decodePixels().buffer)).length,Hr=new Uint8Array(Lr*Sr.colors),_r=new Uint8Array(Lr);var ns,As=Sr.pixelBitlength-Sr.bits;for(Kr=0,Xr=0;Kr<Lr;Kr++){for(Ur=Rr[Kr],ns=0;ns<As;)Hr[Xr++]=Ur>>>ns&255,ns+=Sr.bits;_r[Kr]=Ur>>>ns&255}}if(Sr.bits===16){Lr=(Rr=new Uint32Array(Sr.decodePixels().buffer)).length,Hr=new Uint8Array(Lr*(32/Sr.pixelBitlength)*Sr.colors),_r=new Uint8Array(Lr*(32/Sr.pixelBitlength)),Mr=Sr.colors>1,Kr=0,Xr=0;for(var is=0;Kr<Lr;)Ur=Rr[Kr++],Hr[Xr++]=Ur>>>0&255,Mr&&(Hr[Xr++]=Ur>>>16&255,Ur=Rr[Kr++],Hr[Xr++]=Ur>>>0&255),_r[is++]=Ur>>>16&255;Br=8}wr!==ar.image_compression.NONE&&or()?(yr=lr(Hr,Sr.width*Sr.colors,Sr.colors,wr),Or=lr(_r,Sr.width,1,wr)):(yr=Hr,Or=_r,Yr=void 0)}if(Sr.colorType===3&&(Cr=this.color_spaces.INDEXED,kr=Sr.palette,Sr.transparency.indexed)){var gs=Sr.transparency.indexed,Os=0;for(Kr=0,Lr=gs.length;Kr<Lr;++Kr)Os+=gs[Kr];if((Os/=255)===Lr-1&&gs.indexOf(0)!==-1)Er=[gs.indexOf(0)];else if(Os!==Lr){for(Rr=Sr.decodePixels(),_r=new Uint8Array(Rr.length),Kr=0,Lr=Rr.length;Kr<Lr;Kr++)_r[Kr]=gs[Rr[Kr]];Or=lr(_r,Sr.width,1)}}var Vr=function(Qr){var $r;switch(Qr){case ar.image_compression.FAST:$r=11;break;case ar.image_compression.MEDIUM:$r=13;break;case ar.image_compression.SLOW:$r=14;break;default:$r=12}return $r}(wr);return Yr===this.decode.FLATE_DECODE&&(Zr="/Predictor "+Vr+" "),Zr+="/Colors "+Tr+" /BitsPerComponent "+Br+" /Columns "+Sr.width,(this.__addimage__.isArrayBuffer(yr)||this.__addimage__.isArrayBufferView(yr))&&(yr=this.__addimage__.arrayBufferToBinaryString(yr)),(Or&&this.__addimage__.isArrayBuffer(Or)||this.__addimage__.isArrayBufferView(Or))&&(Or=this.__addimage__.arrayBufferToBinaryString(Or)),{alias:br,data:yr,index:vr,filter:Yr,decodeParameters:Zr,transparency:Er,palette:kr,sMask:Or,predictor:Vr,width:Sr.width,height:Sr.height,bitsPerComponent:Br,colorSpace:Cr}}}})(E.API),function(ar){ar.processGIF89A=function(or,lr,Ar,cr){var ur=new Zt(or),dr=ur.width,hr=ur.height,fr=[];ur.decodeAndBlitFrameRGBA(0,fr);var gr={data:fr,width:dr,height:hr},pr=new Qt(100).encode(gr,100);return ar.processJPEG.call(this,pr,lr,Ar,cr)},ar.processGIF87A=ar.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var ar=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(ar);for(var or=0;or<ar;or++){var lr=this.datav.getUint8(this.pos++,!0),Ar=this.datav.getUint8(this.pos++,!0),cr=this.datav.getUint8(this.pos++,!0),ur=this.datav.getUint8(this.pos++,!0);this.palette[or]={red:cr,green:Ar,blue:lr,quad:ur}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var ar="bit"+this.bitPP,or=this.width*this.height*4;this.data=new Uint8Array(or),this[ar]()}catch(lr){a.log("bit decode error:"+lr)}},te.prototype.bit1=function(){var ar,or=Math.ceil(this.width/8),lr=or%4;for(ar=this.height-1;ar>=0;ar--){for(var Ar=this.bottom_up?ar:this.height-1-ar,cr=0;cr<or;cr++)for(var ur=this.datav.getUint8(this.pos++,!0),dr=Ar*this.width*4+8*cr*4,hr=0;hr<8&&8*cr+hr<this.width;hr++){var fr=this.palette[ur>>7-hr&1];this.data[dr+4*hr]=fr.blue,this.data[dr+4*hr+1]=fr.green,this.data[dr+4*hr+2]=fr.red,this.data[dr+4*hr+3]=255}lr!==0&&(this.pos+=4-lr)}},te.prototype.bit4=function(){for(var ar=Math.ceil(this.width/2),or=ar%4,lr=this.height-1;lr>=0;lr--){for(var Ar=this.bottom_up?lr:this.height-1-lr,cr=0;cr<ar;cr++){var ur=this.datav.getUint8(this.pos++,!0),dr=Ar*this.width*4+2*cr*4,hr=ur>>4,fr=15&ur,gr=this.palette[hr];if(this.data[dr]=gr.blue,this.data[dr+1]=gr.green,this.data[dr+2]=gr.red,this.data[dr+3]=255,2*cr+1>=this.width)break;gr=this.palette[fr],this.data[dr+4]=gr.blue,this.data[dr+4+1]=gr.green,this.data[dr+4+2]=gr.red,this.data[dr+4+3]=255}or!==0&&(this.pos+=4-or)}},te.prototype.bit8=function(){for(var ar=this.width%4,or=this.height-1;or>=0;or--){for(var lr=this.bottom_up?or:this.height-1-or,Ar=0;Ar<this.width;Ar++){var cr=this.datav.getUint8(this.pos++,!0),ur=lr*this.width*4+4*Ar;if(cr<this.palette.length){var dr=this.palette[cr];this.data[ur]=dr.red,this.data[ur+1]=dr.green,this.data[ur+2]=dr.blue,this.data[ur+3]=255}else this.data[ur]=255,this.data[ur+1]=255,this.data[ur+2]=255,this.data[ur+3]=255}ar!==0&&(this.pos+=4-ar)}},te.prototype.bit15=function(){for(var ar=this.width%3,or=parseInt("11111",2),lr=this.height-1;lr>=0;lr--){for(var Ar=this.bottom_up?lr:this.height-1-lr,cr=0;cr<this.width;cr++){var ur=this.datav.getUint16(this.pos,!0);this.pos+=2;var dr=(ur&or)/or*255|0,hr=(ur>>5&or)/or*255|0,fr=(ur>>10&or)/or*255|0,gr=ur>>15?255:0,pr=Ar*this.width*4+4*cr;this.data[pr]=fr,this.data[pr+1]=hr,this.data[pr+2]=dr,this.data[pr+3]=gr}this.pos+=ar}},te.prototype.bit16=function(){for(var ar=this.width%3,or=parseInt("11111",2),lr=parseInt("111111",2),Ar=this.height-1;Ar>=0;Ar--){for(var cr=this.bottom_up?Ar:this.height-1-Ar,ur=0;ur<this.width;ur++){var dr=this.datav.getUint16(this.pos,!0);this.pos+=2;var hr=(dr&or)/or*255|0,fr=(dr>>5&lr)/lr*255|0,gr=(dr>>11)/or*255|0,pr=cr*this.width*4+4*ur;this.data[pr]=gr,this.data[pr+1]=fr,this.data[pr+2]=hr,this.data[pr+3]=255}this.pos+=ar}},te.prototype.bit24=function(){for(var ar=this.height-1;ar>=0;ar--){for(var or=this.bottom_up?ar:this.height-1-ar,lr=0;lr<this.width;lr++){var Ar=this.datav.getUint8(this.pos++,!0),cr=this.datav.getUint8(this.pos++,!0),ur=this.datav.getUint8(this.pos++,!0),dr=or*this.width*4+4*lr;this.data[dr]=ur,this.data[dr+1]=cr,this.data[dr+2]=Ar,this.data[dr+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var ar=this.height-1;ar>=0;ar--)for(var or=this.bottom_up?ar:this.height-1-ar,lr=0;lr<this.width;lr++){var Ar=this.datav.getUint8(this.pos++,!0),cr=this.datav.getUint8(this.pos++,!0),ur=this.datav.getUint8(this.pos++,!0),dr=this.datav.getUint8(this.pos++,!0),hr=or*this.width*4+4*lr;this.data[hr]=ur,this.data[hr+1]=cr,this.data[hr+2]=Ar,this.data[hr+3]=dr}},te.prototype.getData=function(){return this.data},function(ar){ar.processBMP=function(or,lr,Ar,cr){var ur=new te(or,!1),dr=ur.width,hr=ur.height,fr={data:ur.getData(),width:dr,height:hr},gr=new Qt(100).encode(fr,100);return ar.processJPEG.call(this,gr,lr,Ar,cr)}}(E.API),ee.prototype.getData=function(){return this.data},function(ar){ar.processWEBP=function(or,lr,Ar,cr){var ur=new ee(or),dr=ur.width,hr=ur.height,fr={data:ur.getData(),width:dr,height:hr},gr=new Qt(100).encode(fr,100);return ar.processJPEG.call(this,gr,lr,Ar,cr)}}(E.API),E.API.processRGBA=function(ar,or,lr){for(var Ar=ar.data,cr=Ar.length,ur=new Uint8Array(cr/4*3),dr=new Uint8Array(cr/4),hr=0,fr=0,gr=0;gr<cr;gr+=4){var pr=Ar[gr],mr=Ar[gr+1],yr=Ar[gr+2],vr=Ar[gr+3];ur[hr++]=pr,ur[hr++]=mr,ur[hr++]=yr,dr[fr++]=vr}var br=this.__addimage__.arrayBufferToBinaryString(ur);return{alpha:this.__addimage__.arrayBufferToBinaryString(dr),data:br,index:or,alias:lr,colorSpace:"DeviceRGB",bitsPerComponent:8,width:ar.width,height:ar.height}},E.API.setLanguage=function(ar){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[ar]!==void 0&&(this.internal.languageSettings.languageCode=ar,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(ar,or){var lr,Ar,cr=(or=or||{}).font||this.internal.getFont(),ur=or.fontSize||this.internal.getFontSize(),dr=or.charSpace||this.internal.getCharSpace(),hr=or.widths?or.widths:cr.metadata.Unicode.widths,fr=hr.fof?hr.fof:1,gr=or.kerning?or.kerning:cr.metadata.Unicode.kerning,pr=gr.fof?gr.fof:1,mr=or.doKerning!==!1,yr=0,vr=ar.length,br=0,wr=hr[0]||fr,Cr=[];for(lr=0;lr<vr;lr++)Ar=ar.charCodeAt(lr),typeof cr.metadata.widthOfString=="function"?Cr.push((cr.metadata.widthOfGlyph(cr.metadata.characterToGlyph(Ar))+dr*(1e3/ur)||0)/1e3):(yr=mr&&_typeof$1(gr[Ar])==="object"&&!isNaN(parseInt(gr[Ar][br],10))?gr[Ar][br]/pr:0,Cr.push((hr[Ar]||wr)/fr+yr)),br=Ar;return Cr},Yt=Vt.getStringUnitWidth=function(ar,or){var lr=(or=or||{}).fontSize||this.internal.getFontSize(),Ar=or.font||this.internal.getFont(),cr=or.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(ar=Vt.processArabic(ar)),typeof Ar.metadata.widthOfString=="function"?Ar.metadata.widthOfString(ar,lr,cr)/lr:Gt.apply(this,arguments).reduce(function(ur,dr){return ur+dr},0)},Jt=function(ar,or,lr,Ar){for(var cr=[],ur=0,dr=ar.length,hr=0;ur!==dr&&hr+or[ur]<lr;)hr+=or[ur],ur++;cr.push(ar.slice(0,ur));var fr=ur;for(hr=0;ur!==dr;)hr+or[ur]>Ar&&(cr.push(ar.slice(fr,ur)),hr=0,fr=ur),hr+=or[ur],ur++;return fr!==ur&&cr.push(ar.slice(fr,ur)),cr},Xt=function(ar,or,lr){lr||(lr={});var Ar,cr,ur,dr,hr,fr,gr,pr=[],mr=[pr],yr=lr.textIndent||0,vr=0,br=0,wr=ar.split(" "),Cr=Gt.apply(this,[" ",lr])[0];if(fr=lr.lineIndent===-1?wr[0].length+2:lr.lineIndent||0){var Br=Array(fr).join(" "),Sr=[];wr.map(function(Tr){(Tr=Tr.split(/\s*\n/)).length>1?Sr=Sr.concat(Tr.map(function(kr,Or){return(Or&&kr.length?`
`:"")+kr})):Sr.push(Tr[0])}),wr=Sr,fr=Yt.apply(this,[Br,lr])}for(ur=0,dr=wr.length;ur<dr;ur++){var Er=0;if(Ar=wr[ur],fr&&Ar[0]==`
`&&(Ar=Ar.substr(1),Er=1),yr+vr+(br=(cr=Gt.apply(this,[Ar,lr])).reduce(function(Tr,kr){return Tr+kr},0))>or||Er){if(br>or){for(hr=Jt.apply(this,[Ar,cr,or-(yr+vr),or]),pr.push(hr.shift()),pr=[hr.pop()];hr.length;)mr.push([hr.shift()]);br=cr.slice(Ar.length-(pr[0]?pr[0].length:0)).reduce(function(Tr,kr){return Tr+kr},0)}else pr=[Ar];mr.push(pr),yr=br+fr,vr=Cr}else pr.push(Ar),yr+=vr+br,vr=Cr}return gr=fr?function(Tr,kr){return(kr?Br:"")+Tr.join(" ")}:function(Tr){return Tr.join(" ")},mr.map(gr)},Vt.splitTextToSize=function(ar,or,lr){var Ar,cr=(lr=lr||{}).fontSize||this.internal.getFontSize(),ur=(function(pr){if(pr.widths&&pr.kerning)return{widths:pr.widths,kerning:pr.kerning};var mr=this.internal.getFont(pr.fontName,pr.fontStyle);return mr.metadata.Unicode?{widths:mr.metadata.Unicode.widths||{0:1},kerning:mr.metadata.Unicode.kerning||{}}:{font:mr.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,lr);Ar=Array.isArray(ar)?ar:String(ar).split(/\r?\n/);var dr=1*this.internal.scaleFactor*or/cr;ur.textIndent=lr.textIndent?1*lr.textIndent*this.internal.scaleFactor/cr:0,ur.lineIndent=lr.lineIndent;var hr,fr,gr=[];for(hr=0,fr=Ar.length;hr<fr;hr++)gr=gr.concat(Xt.apply(this,[Ar[hr],dr,ur]));return gr},function(ar){ar.__fontmetrics__=ar.__fontmetrics__||{};for(var or="klmnopqrstuvwxyz",lr={},Ar={},cr=0;cr<or.length;cr++)lr[or[cr]]="0123456789abcdef"[cr],Ar["0123456789abcdef"[cr]]=or[cr];var ur=function(mr){return"0x"+parseInt(mr,10).toString(16)},dr=ar.__fontmetrics__.compress=function(mr){var yr,vr,br,wr,Cr=["{"];for(var Br in mr){if(yr=mr[Br],isNaN(parseInt(Br,10))?vr="'"+Br+"'":(Br=parseInt(Br,10),vr=(vr=ur(Br).slice(2)).slice(0,-1)+Ar[vr.slice(-1)]),typeof yr=="number")yr<0?(br=ur(yr).slice(3),wr="-"):(br=ur(yr).slice(2),wr=""),br=wr+br.slice(0,-1)+Ar[br.slice(-1)];else{if(_typeof$1(yr)!=="object")throw new Error("Don't know what to do with value type "+_typeof$1(yr)+".");br=dr(yr)}Cr.push(vr+br)}return Cr.push("}"),Cr.join("")},hr=ar.__fontmetrics__.uncompress=function(mr){if(typeof mr!="string")throw new Error("Invalid argument passed to uncompress.");for(var yr,vr,br,wr,Cr={},Br=1,Sr=Cr,Er=[],Tr="",kr="",Or=mr.length-1,Rr=1;Rr<Or;Rr+=1)(wr=mr[Rr])=="'"?yr?(br=yr.join(""),yr=void 0):yr=[]:yr?yr.push(wr):wr=="{"?(Er.push([Sr,br]),Sr={},br=void 0):wr=="}"?((vr=Er.pop())[0][vr[1]]=Sr,br=void 0,Sr=vr[0]):wr=="-"?Br=-1:br===void 0?lr.hasOwnProperty(wr)?(Tr+=lr[wr],br=parseInt(Tr,16)*Br,Br=1,Tr=""):Tr+=wr:lr.hasOwnProperty(wr)?(kr+=lr[wr],Sr[br]=parseInt(kr,16)*Br,Br=1,br=void 0,kr=""):kr+=wr;return Cr},fr={codePages:["WinAnsiEncoding"],WinAnsiEncoding:hr("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},gr={Unicode:{Courier:fr,"Courier-Bold":fr,"Courier-BoldOblique":fr,"Courier-Oblique":fr,Helvetica:fr,"Helvetica-Bold":fr,"Helvetica-BoldOblique":fr,"Helvetica-Oblique":fr,"Times-Roman":fr,"Times-Bold":fr,"Times-BoldItalic":fr,"Times-Italic":fr}},pr={Unicode:{"Courier-Oblique":hr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":hr("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":hr("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:hr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":hr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":hr("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:hr("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:hr("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":hr("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:hr("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":hr("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":hr("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":hr("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":hr("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};ar.events.push(["addFont",function(mr){var yr=mr.font,vr=pr.Unicode[yr.postScriptName];vr&&(yr.metadata.Unicode={},yr.metadata.Unicode.widths=vr.widths,yr.metadata.Unicode.kerning=vr.kerning);var br=gr.Unicode[yr.postScriptName];br&&(yr.metadata.Unicode.encoding=br,yr.encoding=br.codePages[0])}])}(E.API),function(ar){var or=function(lr){for(var Ar=lr.length,cr=new Uint8Array(Ar),ur=0;ur<Ar;ur++)cr[ur]=lr.charCodeAt(ur);return cr};ar.API.events.push(["addFont",function(lr){var Ar=void 0,cr=lr.font,ur=lr.instance;if(!cr.isStandardFont){if(ur===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+cr.postScriptName+"').");if(typeof(Ar=ur.existsFileInVFS(cr.postScriptName)===!1?ur.loadFile(cr.postScriptName):ur.getFileFromVFS(cr.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+cr.postScriptName+"').");(function(dr,hr){hr=/^\x00\x01\x00\x00/.test(hr)?or(hr):or(u(hr)),dr.metadata=ar.API.TTFFont.open(hr),dr.metadata.Unicode=dr.metadata.Unicode||{encoding:{},kerning:{},widths:[]},dr.metadata.glyIdsUsed=[0]})(cr,Ar)}}])}(E),function(ar){function or(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-B9dN6gJe.js"),[])).catch(function(lr){return Promise.reject(new Error("Could not load canvg: "+lr))}).then(function(lr){return lr.default?lr.default:lr})}E.API.addSvgAsImage=function(lr,Ar,cr,ur,dr,hr,fr,gr){if(isNaN(Ar)||isNaN(cr))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ur)||isNaN(dr))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var pr=document.createElement("canvas");pr.width=ur,pr.height=dr;var mr=pr.getContext("2d");mr.fillStyle="#fff",mr.fillRect(0,0,pr.width,pr.height);var yr={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},vr=this;return or().then(function(br){return br.fromString(mr,lr,yr)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(br){return br.render(yr)}).then(function(){vr.addImage(pr.toDataURL("image/jpeg",1),Ar,cr,ur,dr,fr,gr)})}}(),E.API.putTotalPages=function(ar){var or,lr=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(or=new RegExp(ar,"g"),lr=this.internal.getNumberOfPages()):(or=new RegExp(this.pdfEscape16(ar,this.internal.getFont()),"g"),lr=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Ar=1;Ar<=this.internal.getNumberOfPages();Ar++)for(var cr=0;cr<this.internal.pages[Ar].length;cr++)this.internal.pages[Ar][cr]=this.internal.pages[Ar][cr].replace(or,lr);return this},E.API.viewerPreferences=function(ar,or){var lr;ar=ar||{},or=or||!1;var Ar,cr,ur,dr={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},hr=Object.keys(dr),fr=[],gr=0,pr=0,mr=0;function yr(br,wr){var Cr,Br=!1;for(Cr=0;Cr<br.length;Cr+=1)br[Cr]===wr&&(Br=!0);return Br}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(dr)),this.internal.viewerpreferences.isSubscribed=!1),lr=this.internal.viewerpreferences.configuration,ar==="reset"||or===!0){var vr=hr.length;for(mr=0;mr<vr;mr+=1)lr[hr[mr]].value=lr[hr[mr]].defaultValue,lr[hr[mr]].explicitSet=!1}if(_typeof$1(ar)==="object"){for(cr in ar)if(ur=ar[cr],yr(hr,cr)&&ur!==void 0){if(lr[cr].type==="boolean"&&typeof ur=="boolean")lr[cr].value=ur;else if(lr[cr].type==="name"&&yr(lr[cr].valueSet,ur))lr[cr].value=ur;else if(lr[cr].type==="integer"&&Number.isInteger(ur))lr[cr].value=ur;else if(lr[cr].type==="array"){for(gr=0;gr<ur.length;gr+=1)if(Ar=!0,ur[gr].length===1&&typeof ur[gr][0]=="number")fr.push(String(ur[gr]-1));else if(ur[gr].length>1){for(pr=0;pr<ur[gr].length;pr+=1)typeof ur[gr][pr]!="number"&&(Ar=!1);Ar===!0&&fr.push([ur[gr][0]-1,ur[gr][1]-1].join(" "))}lr[cr].value="["+fr.join(" ")+"]"}else lr[cr].value=lr[cr].defaultValue;lr[cr].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var br,wr=[];for(br in lr)lr[br].explicitSet===!0&&(lr[br].type==="name"?wr.push("/"+br+" /"+lr[br].value):wr.push("/"+br+" "+lr[br].value));wr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+wr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=lr,this},function(ar){var or=function(){var Ar='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',cr=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ur=unescape(encodeURIComponent(Ar)),dr=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),hr=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),fr=unescape(encodeURIComponent("</x:xmpmeta>")),gr=ur.length+dr.length+hr.length+cr.length+fr.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+gr+" >>"),this.internal.write("stream"),this.internal.write(cr+ur+dr+hr+fr),this.internal.write("endstream"),this.internal.write("endobj")},lr=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};ar.addMetadata=function(Ar,cr){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Ar,namespaceuri:cr||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",lr),this.internal.events.subscribe("postPutResources",or)),this}}(E.API),function(ar){var or=ar.API,lr=or.pdfEscape16=function(ur,dr){for(var hr,fr=dr.metadata.Unicode.widths,gr=["","0","00","000","0000"],pr=[""],mr=0,yr=ur.length;mr<yr;++mr){if(hr=dr.metadata.characterToGlyph(ur.charCodeAt(mr)),dr.metadata.glyIdsUsed.push(hr),dr.metadata.toUnicode[hr]=ur.charCodeAt(mr),fr.indexOf(hr)==-1&&(fr.push(hr),fr.push([parseInt(dr.metadata.widthOfGlyph(hr),10)])),hr=="0")return pr.join("");hr=hr.toString(16),pr.push(gr[4-hr.length],hr)}return pr.join("")},Ar=function(ur){var dr,hr,fr,gr,pr,mr,yr;for(pr=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,fr=[],mr=0,yr=(hr=Object.keys(ur).sort(function(vr,br){return vr-br})).length;mr<yr;mr++)dr=hr[mr],fr.length>=100&&(pr+=`
`+fr.length+` beginbfchar
`+fr.join(`
`)+`
endbfchar`,fr=[]),ur[dr]!==void 0&&ur[dr]!==null&&typeof ur[dr].toString=="function"&&(gr=("0000"+ur[dr].toString(16)).slice(-4),dr=("0000"+(+dr).toString(16)).slice(-4),fr.push("<"+dr+"><"+gr+">"));return fr.length&&(pr+=`
`+fr.length+` beginbfchar
`+fr.join(`
`)+`
endbfchar
`),pr+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};or.events.push(["putFont",function(ur){(function(dr){var hr=dr.font,fr=dr.out,gr=dr.newObject,pr=dr.putStream;if(hr.metadata instanceof ar.API.TTFFont&&hr.encoding==="Identity-H"){for(var mr=hr.metadata.Unicode.widths,yr=hr.metadata.subset.encode(hr.metadata.glyIdsUsed,1),vr="",br=0;br<yr.length;br++)vr+=String.fromCharCode(yr[br]);var wr=gr();pr({data:vr,addLength1:!0,objectId:wr}),fr("endobj");var Cr=gr();pr({data:Ar(hr.metadata.toUnicode),addLength1:!0,objectId:Cr}),fr("endobj");var Br=gr();fr("<<"),fr("/Type /FontDescriptor"),fr("/FontName /"+F(hr.fontName)),fr("/FontFile2 "+wr+" 0 R"),fr("/FontBBox "+ar.API.PDFObject.convert(hr.metadata.bbox)),fr("/Flags "+hr.metadata.flags),fr("/StemV "+hr.metadata.stemV),fr("/ItalicAngle "+hr.metadata.italicAngle),fr("/Ascent "+hr.metadata.ascender),fr("/Descent "+hr.metadata.decender),fr("/CapHeight "+hr.metadata.capHeight),fr(">>"),fr("endobj");var Sr=gr();fr("<<"),fr("/Type /Font"),fr("/BaseFont /"+F(hr.fontName)),fr("/FontDescriptor "+Br+" 0 R"),fr("/W "+ar.API.PDFObject.convert(mr)),fr("/CIDToGIDMap /Identity"),fr("/DW 1000"),fr("/Subtype /CIDFontType2"),fr("/CIDSystemInfo"),fr("<<"),fr("/Supplement 0"),fr("/Registry (Adobe)"),fr("/Ordering ("+hr.encoding+")"),fr(">>"),fr(">>"),fr("endobj"),hr.objectNumber=gr(),fr("<<"),fr("/Type /Font"),fr("/Subtype /Type0"),fr("/ToUnicode "+Cr+" 0 R"),fr("/BaseFont /"+F(hr.fontName)),fr("/Encoding /"+hr.encoding),fr("/DescendantFonts ["+Sr+" 0 R]"),fr(">>"),fr("endobj"),hr.isAlreadyPutted=!0}})(ur)}]),or.events.push(["putFont",function(ur){(function(dr){var hr=dr.font,fr=dr.out,gr=dr.newObject,pr=dr.putStream;if(hr.metadata instanceof ar.API.TTFFont&&hr.encoding==="WinAnsiEncoding"){for(var mr=hr.metadata.rawData,yr="",vr=0;vr<mr.length;vr++)yr+=String.fromCharCode(mr[vr]);var br=gr();pr({data:yr,addLength1:!0,objectId:br}),fr("endobj");var wr=gr();pr({data:Ar(hr.metadata.toUnicode),addLength1:!0,objectId:wr}),fr("endobj");var Cr=gr();fr("<<"),fr("/Descent "+hr.metadata.decender),fr("/CapHeight "+hr.metadata.capHeight),fr("/StemV "+hr.metadata.stemV),fr("/Type /FontDescriptor"),fr("/FontFile2 "+br+" 0 R"),fr("/Flags 96"),fr("/FontBBox "+ar.API.PDFObject.convert(hr.metadata.bbox)),fr("/FontName /"+F(hr.fontName)),fr("/ItalicAngle "+hr.metadata.italicAngle),fr("/Ascent "+hr.metadata.ascender),fr(">>"),fr("endobj"),hr.objectNumber=gr();for(var Br=0;Br<hr.metadata.hmtx.widths.length;Br++)hr.metadata.hmtx.widths[Br]=parseInt(hr.metadata.hmtx.widths[Br]*(1e3/hr.metadata.head.unitsPerEm));fr("<</Subtype/TrueType/Type/Font/ToUnicode "+wr+" 0 R/BaseFont/"+F(hr.fontName)+"/FontDescriptor "+Cr+" 0 R/Encoding/"+hr.encoding+" /FirstChar 29 /LastChar 255 /Widths "+ar.API.PDFObject.convert(hr.metadata.hmtx.widths)+">>"),fr("endobj"),hr.isAlreadyPutted=!0}})(ur)}]);var cr=function(ur){var dr,hr=ur.text||"",fr=ur.x,gr=ur.y,pr=ur.options||{},mr=ur.mutex||{},yr=mr.pdfEscape,vr=mr.activeFontKey,br=mr.fonts,wr=vr,Cr="",Br=0,Sr="",Er=br[wr].encoding;if(br[wr].encoding!=="Identity-H")return{text:hr,x:fr,y:gr,options:pr,mutex:mr};for(Sr=hr,wr=vr,Array.isArray(hr)&&(Sr=hr[0]),Br=0;Br<Sr.length;Br+=1)br[wr].metadata.hasOwnProperty("cmap")&&(dr=br[wr].metadata.cmap.unicode.codeMap[Sr[Br].charCodeAt(0)]),dr||Sr[Br].charCodeAt(0)<256&&br[wr].metadata.hasOwnProperty("Unicode")?Cr+=Sr[Br]:Cr+="";var Tr="";return parseInt(wr.slice(1))<14||Er==="WinAnsiEncoding"?Tr=yr(Cr,wr).split("").map(function(kr){return kr.charCodeAt(0).toString(16)}).join(""):Er==="Identity-H"&&(Tr=lr(Cr,br[wr])),mr.isHex=!0,{text:Tr,x:fr,y:gr,options:pr,mutex:mr}};or.events.push(["postProcessText",function(ur){var dr=ur.text||"",hr=[],fr={text:dr,x:ur.x,y:ur.y,options:ur.options,mutex:ur.mutex};if(Array.isArray(dr)){var gr=0;for(gr=0;gr<dr.length;gr+=1)Array.isArray(dr[gr])&&dr[gr].length===3?hr.push([cr(Object.assign({},fr,{text:dr[gr][0]})).text,dr[gr][1],dr[gr][2]]):hr.push(cr(Object.assign({},fr,{text:dr[gr]})).text);ur.text=hr}else ur.text=cr(Object.assign({},fr,{text:dr})).text}])}(E),function(ar){var or=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};ar.existsFileInVFS=function(lr){return or.call(this),this.internal.vFS[lr]!==void 0},ar.addFileToVFS=function(lr,Ar){return or.call(this),this.internal.vFS[lr]=Ar,this},ar.getFileFromVFS=function(lr){return or.call(this),this.internal.vFS[lr]!==void 0?this.internal.vFS[lr]:null}}(E.API),function(ar){ar.__bidiEngine__=ar.prototype.__bidiEngine__=function(Ar){var cr,ur,dr,hr,fr,gr,pr,mr=or,yr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],vr=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],br={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},wr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Cr=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Br=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Sr=!1,Er=0;this.__bidiEngine__={};var Tr=function(Mr){var Ur=Mr.charCodeAt(),Kr=Ur>>8,Xr=wr[Kr];return Xr!==void 0?mr[256*Xr+(255&Ur)]:Kr===252||Kr===253?"AL":Br.test(Kr)?"L":Kr===8?"R":"N"},kr=function(Mr){for(var Ur,Kr=0;Kr<Mr.length;Kr++){if((Ur=Tr(Mr.charAt(Kr)))==="L")return!1;if(Ur==="R")return!0}return!1},Or=function(Mr,Ur,Kr,Xr){var Yr,Zr,ns,As,is=Ur[Xr];switch(is){case"L":case"R":Sr=!1;break;case"N":case"AN":break;case"EN":Sr&&(is="AN");break;case"AL":Sr=!0,is="R";break;case"WS":is="N";break;case"CS":Xr<1||Xr+1>=Ur.length||(Yr=Kr[Xr-1])!=="EN"&&Yr!=="AN"||(Zr=Ur[Xr+1])!=="EN"&&Zr!=="AN"?is="N":Sr&&(Zr="AN"),is=Zr===Yr?Zr:"N";break;case"ES":is=(Yr=Xr>0?Kr[Xr-1]:"B")==="EN"&&Xr+1<Ur.length&&Ur[Xr+1]==="EN"?"EN":"N";break;case"ET":if(Xr>0&&Kr[Xr-1]==="EN"){is="EN";break}if(Sr){is="N";break}for(ns=Xr+1,As=Ur.length;ns<As&&Ur[ns]==="ET";)ns++;is=ns<As&&Ur[ns]==="EN"?"EN":"N";break;case"NSM":if(dr&&!hr){for(As=Ur.length,ns=Xr+1;ns<As&&Ur[ns]==="NSM";)ns++;if(ns<As){var gs=Mr[Xr],Os=gs>=1425&&gs<=2303||gs===64286;if(Yr=Ur[ns],Os&&(Yr==="R"||Yr==="AL")){is="R";break}}}is=Xr<1||(Yr=Ur[Xr-1])==="B"?"N":Kr[Xr-1];break;case"B":Sr=!1,cr=!0,is=Er;break;case"S":ur=!0,is="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Sr=!1;break;case"BN":is="N"}return is},Rr=function(Mr,Ur,Kr){var Xr=Mr.split("");return Kr&&Lr(Xr,Kr,{hiLevel:Er}),Xr.reverse(),Ur&&Ur.reverse(),Xr.join("")},Lr=function(Mr,Ur,Kr){var Xr,Yr,Zr,ns,As,is=-1,gs=Mr.length,Os=0,Vr=[],Qr=Er?vr:yr,$r=[];for(Sr=!1,cr=!1,ur=!1,Yr=0;Yr<gs;Yr++)$r[Yr]=Tr(Mr[Yr]);for(Zr=0;Zr<gs;Zr++){if(As=Os,Vr[Zr]=Or(Mr,$r,Vr,Zr),Xr=240&(Os=Qr[As][br[Vr[Zr]]]),Os&=15,Ur[Zr]=ns=Qr[Os][5],Xr>0)if(Xr===16){for(Yr=is;Yr<Zr;Yr++)Ur[Yr]=1;is=-1}else is=-1;if(Qr[Os][6])is===-1&&(is=Zr);else if(is>-1){for(Yr=is;Yr<Zr;Yr++)Ur[Yr]=ns;is=-1}$r[Zr]==="B"&&(Ur[Zr]=0),Kr.hiLevel|=ns}ur&&function(zr,cs,Jr){for(var ls=0;ls<Jr;ls++)if(zr[ls]==="S"){cs[ls]=Er;for(var hs=ls-1;hs>=0&&zr[hs]==="WS";hs--)cs[hs]=Er}}($r,Ur,gs)},_r=function(Mr,Ur,Kr,Xr,Yr){if(!(Yr.hiLevel<Mr)){if(Mr===1&&Er===1&&!cr)return Ur.reverse(),void(Kr&&Kr.reverse());for(var Zr,ns,As,is,gs=Ur.length,Os=0;Os<gs;){if(Xr[Os]>=Mr){for(As=Os+1;As<gs&&Xr[As]>=Mr;)As++;for(is=Os,ns=As-1;is<ns;is++,ns--)Zr=Ur[is],Ur[is]=Ur[ns],Ur[ns]=Zr,Kr&&(Zr=Kr[is],Kr[is]=Kr[ns],Kr[ns]=Zr);Os=As}Os++}}},Hr=function(Mr,Ur,Kr){var Xr=Mr.split(""),Yr={hiLevel:Er};return Kr||(Kr=[]),Lr(Xr,Kr,Yr),function(Zr,ns,As){if(As.hiLevel!==0&&pr)for(var is,gs=0;gs<Zr.length;gs++)ns[gs]===1&&(is=Cr.indexOf(Zr[gs]))>=0&&(Zr[gs]=Cr[is+1])}(Xr,Kr,Yr),_r(2,Xr,Ur,Kr,Yr),_r(1,Xr,Ur,Kr,Yr),Xr.join("")};return this.__bidiEngine__.doBidiReorder=function(Mr,Ur,Kr){if(function(Yr,Zr){if(Zr)for(var ns=0;ns<Yr.length;ns++)Zr[ns]=ns;hr===void 0&&(hr=kr(Yr)),gr===void 0&&(gr=kr(Yr))}(Mr,Ur),dr||!fr||gr)if(dr&&fr&&hr^gr)Er=hr?1:0,Mr=Rr(Mr,Ur,Kr);else if(!dr&&fr&&gr)Er=hr?1:0,Mr=Hr(Mr,Ur,Kr),Mr=Rr(Mr,Ur);else if(!dr||hr||fr||gr){if(dr&&!fr&&hr^gr)Mr=Rr(Mr,Ur),hr?(Er=0,Mr=Hr(Mr,Ur,Kr)):(Er=1,Mr=Hr(Mr,Ur,Kr),Mr=Rr(Mr,Ur));else if(dr&&hr&&!fr&&gr)Er=1,Mr=Hr(Mr,Ur,Kr),Mr=Rr(Mr,Ur);else if(!dr&&!fr&&hr^gr){var Xr=pr;hr?(Er=1,Mr=Hr(Mr,Ur,Kr),Er=0,pr=!1,Mr=Hr(Mr,Ur,Kr),pr=Xr):(Er=0,Mr=Hr(Mr,Ur,Kr),Mr=Rr(Mr,Ur),Er=1,pr=!1,Mr=Hr(Mr,Ur,Kr),pr=Xr,Mr=Rr(Mr,Ur))}}else Er=0,Mr=Hr(Mr,Ur,Kr);else Er=hr?1:0,Mr=Hr(Mr,Ur,Kr);return Mr},this.__bidiEngine__.setOptions=function(Mr){Mr&&(dr=Mr.isInputVisual,fr=Mr.isOutputVisual,hr=Mr.isInputRtl,gr=Mr.isOutputRtl,pr=Mr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Ar),this.__bidiEngine__};var or=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],lr=new ar.__bidiEngine__({isInputVisual:!0});ar.API.events.push(["postProcessText",function(Ar){var cr=Ar.text;Ar.x,Ar.y;var ur=Ar.options||{};Ar.mutex,ur.lang;var dr=[];if(ur.isInputVisual=typeof ur.isInputVisual!="boolean"||ur.isInputVisual,lr.setOptions(ur),Object.prototype.toString.call(cr)==="[object Array]"){var hr=0;for(dr=[],hr=0;hr<cr.length;hr+=1)Object.prototype.toString.call(cr[hr])==="[object Array]"?dr.push([lr.doBidiReorder(cr[hr][0]),cr[hr][1],cr[hr][2]]):dr.push([lr.doBidiReorder(cr[hr])]);Ar.text=dr}else Ar.text=lr.doBidiReorder(cr);lr.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function ar(or){var lr;if(this.rawData=or,lr=this.contents=new ne(or),this.contents.pos=4,lr.readString(4)==="ttcf")throw new Error("TTCF not supported.");lr.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return ar.open=function(or){return new ar(or)},ar.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},ar.prototype.registerTTF=function(){var or,lr,Ar,cr,ur;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var dr,hr,fr,gr;for(gr=[],dr=0,hr=(fr=this.bbox).length;dr<hr;dr++)or=fr[dr],gr.push(Math.round(or*this.scaleFactor));return gr}).call(this),this.stemV=0,this.post.exists?(Ar=255&(cr=this.post.italic_angle),32768&(lr=cr>>16)&&(lr=-(1+(65535^lr))),this.italicAngle=+(lr+"."+Ar)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ur=this.familyClass)===1||ur===2||ur===3||ur===4||ur===5||ur===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},ar.prototype.characterToGlyph=function(or){var lr;return((lr=this.cmap.unicode)!=null?lr.codeMap[or]:void 0)||0},ar.prototype.widthOfGlyph=function(or){var lr;return lr=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(or).advance*lr},ar.prototype.widthOfString=function(or,lr,Ar){var cr,ur,dr,hr;for(dr=0,ur=0,hr=(or=""+or).length;0<=hr?ur<hr:ur>hr;ur=0<=hr?++ur:--ur)cr=or.charCodeAt(ur),dr+=this.widthOfGlyph(this.characterToGlyph(cr))+Ar*(1e3/lr)||0;return dr*(lr/1e3)},ar.prototype.lineHeight=function(or,lr){var Ar;return lr==null&&(lr=!1),Ar=lr?this.lineGap:0,(this.ascender+Ar-this.decender)/1e3*or},ar}();var re,ne=function(){function ar(or){this.data=or??[],this.pos=0,this.length=this.data.length}return ar.prototype.readByte=function(){return this.data[this.pos++]},ar.prototype.writeByte=function(or){return this.data[this.pos++]=or},ar.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},ar.prototype.writeUInt32=function(or){return this.writeByte(or>>>24&255),this.writeByte(or>>16&255),this.writeByte(or>>8&255),this.writeByte(255&or)},ar.prototype.readInt32=function(){var or;return(or=this.readUInt32())>=2147483648?or-4294967296:or},ar.prototype.writeInt32=function(or){return or<0&&(or+=4294967296),this.writeUInt32(or)},ar.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},ar.prototype.writeUInt16=function(or){return this.writeByte(or>>8&255),this.writeByte(255&or)},ar.prototype.readInt16=function(){var or;return(or=this.readUInt16())>=32768?or-65536:or},ar.prototype.writeInt16=function(or){return or<0&&(or+=65536),this.writeUInt16(or)},ar.prototype.readString=function(or){var lr,Ar;for(Ar=[],lr=0;0<=or?lr<or:lr>or;lr=0<=or?++lr:--lr)Ar[lr]=String.fromCharCode(this.readByte());return Ar.join("")},ar.prototype.writeString=function(or){var lr,Ar,cr;for(cr=[],lr=0,Ar=or.length;0<=Ar?lr<Ar:lr>Ar;lr=0<=Ar?++lr:--lr)cr.push(this.writeByte(or.charCodeAt(lr)));return cr},ar.prototype.readShort=function(){return this.readInt16()},ar.prototype.writeShort=function(or){return this.writeInt16(or)},ar.prototype.readLongLong=function(){var or,lr,Ar,cr,ur,dr,hr,fr;return or=this.readByte(),lr=this.readByte(),Ar=this.readByte(),cr=this.readByte(),ur=this.readByte(),dr=this.readByte(),hr=this.readByte(),fr=this.readByte(),128&or?-1*(72057594037927940*(255^or)+281474976710656*(255^lr)+1099511627776*(255^Ar)+4294967296*(255^cr)+16777216*(255^ur)+65536*(255^dr)+256*(255^hr)+(255^fr)+1):72057594037927940*or+281474976710656*lr+1099511627776*Ar+4294967296*cr+16777216*ur+65536*dr+256*hr+fr},ar.prototype.writeLongLong=function(or){var lr,Ar;return lr=Math.floor(or/4294967296),Ar=4294967295&or,this.writeByte(lr>>24&255),this.writeByte(lr>>16&255),this.writeByte(lr>>8&255),this.writeByte(255&lr),this.writeByte(Ar>>24&255),this.writeByte(Ar>>16&255),this.writeByte(Ar>>8&255),this.writeByte(255&Ar)},ar.prototype.readInt=function(){return this.readInt32()},ar.prototype.writeInt=function(or){return this.writeInt32(or)},ar.prototype.read=function(or){var lr,Ar;for(lr=[],Ar=0;0<=or?Ar<or:Ar>or;Ar=0<=or?++Ar:--Ar)lr.push(this.readByte());return lr},ar.prototype.write=function(or){var lr,Ar,cr,ur;for(ur=[],Ar=0,cr=or.length;Ar<cr;Ar++)lr=or[Ar],ur.push(this.writeByte(lr));return ur},ar}(),ie=function(){var ar;function or(lr){var Ar,cr,ur;for(this.scalarType=lr.readInt(),this.tableCount=lr.readShort(),this.searchRange=lr.readShort(),this.entrySelector=lr.readShort(),this.rangeShift=lr.readShort(),this.tables={},cr=0,ur=this.tableCount;0<=ur?cr<ur:cr>ur;cr=0<=ur?++cr:--cr)Ar={tag:lr.readString(4),checksum:lr.readInt(),offset:lr.readInt(),length:lr.readInt()},this.tables[Ar.tag]=Ar}return or.prototype.encode=function(lr){var Ar,cr,ur,dr,hr,fr,gr,pr,mr,yr,vr,br,wr;for(wr in vr=Object.keys(lr).length,fr=Math.log(2),mr=16*Math.floor(Math.log(vr)/fr),dr=Math.floor(mr/fr),pr=16*vr-mr,(cr=new ne).writeInt(this.scalarType),cr.writeShort(vr),cr.writeShort(mr),cr.writeShort(dr),cr.writeShort(pr),ur=16*vr,gr=cr.pos+ur,hr=null,br=[],lr)for(yr=lr[wr],cr.writeString(wr),cr.writeInt(ar(yr)),cr.writeInt(gr),cr.writeInt(yr.length),br=br.concat(yr),wr==="head"&&(hr=gr),gr+=yr.length;gr%4;)br.push(0),gr++;return cr.write(br),Ar=2981146554-ar(cr.data),cr.pos=hr+8,cr.writeUInt32(Ar),cr.data},ar=function(lr){var Ar,cr,ur,dr;for(lr=ve.call(lr);lr.length%4;)lr.push(0);for(ur=new ne(lr),cr=0,Ar=0,dr=lr.length;Ar<dr;Ar=Ar+=4)cr+=ur.readUInt32();return 4294967295&cr},or}(),ae={}.hasOwnProperty,oe=function(ar,or){for(var lr in or)ae.call(or,lr)&&(ar[lr]=or[lr]);function Ar(){this.constructor=ar}return Ar.prototype=or.prototype,ar.prototype=new Ar,ar.__super__=or.prototype,ar};re=function(){function ar(or){var lr;this.file=or,lr=this.file.directory.tables[this.tag],this.exists=!!lr,lr&&(this.offset=lr.offset,this.length=lr.length,this.parse(this.file.contents))}return ar.prototype.parse=function(){},ar.prototype.encode=function(){},ar.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},ar}();var se=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="head",or.prototype.parse=function(lr){return lr.pos=this.offset,this.version=lr.readInt(),this.revision=lr.readInt(),this.checkSumAdjustment=lr.readInt(),this.magicNumber=lr.readInt(),this.flags=lr.readShort(),this.unitsPerEm=lr.readShort(),this.created=lr.readLongLong(),this.modified=lr.readLongLong(),this.xMin=lr.readShort(),this.yMin=lr.readShort(),this.xMax=lr.readShort(),this.yMax=lr.readShort(),this.macStyle=lr.readShort(),this.lowestRecPPEM=lr.readShort(),this.fontDirectionHint=lr.readShort(),this.indexToLocFormat=lr.readShort(),this.glyphDataFormat=lr.readShort()},or.prototype.encode=function(lr){var Ar;return(Ar=new ne).writeInt(this.version),Ar.writeInt(this.revision),Ar.writeInt(this.checkSumAdjustment),Ar.writeInt(this.magicNumber),Ar.writeShort(this.flags),Ar.writeShort(this.unitsPerEm),Ar.writeLongLong(this.created),Ar.writeLongLong(this.modified),Ar.writeShort(this.xMin),Ar.writeShort(this.yMin),Ar.writeShort(this.xMax),Ar.writeShort(this.yMax),Ar.writeShort(this.macStyle),Ar.writeShort(this.lowestRecPPEM),Ar.writeShort(this.fontDirectionHint),Ar.writeShort(lr),Ar.writeShort(this.glyphDataFormat),Ar.data},or}(),ce=function(){function ar(or,lr){var Ar,cr,ur,dr,hr,fr,gr,pr,mr,yr,vr,br,wr,Cr,Br,Sr,Er;switch(this.platformID=or.readUInt16(),this.encodingID=or.readShort(),this.offset=lr+or.readInt(),mr=or.pos,or.pos=this.offset,this.format=or.readUInt16(),this.length=or.readUInt16(),this.language=or.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(fr=0;fr<256;++fr)this.codeMap[fr]=or.readByte();break;case 4:for(vr=or.readUInt16(),yr=vr/2,or.pos+=6,ur=function(){var Tr,kr;for(kr=[],fr=Tr=0;0<=yr?Tr<yr:Tr>yr;fr=0<=yr?++Tr:--Tr)kr.push(or.readUInt16());return kr}(),or.pos+=2,wr=function(){var Tr,kr;for(kr=[],fr=Tr=0;0<=yr?Tr<yr:Tr>yr;fr=0<=yr?++Tr:--Tr)kr.push(or.readUInt16());return kr}(),gr=function(){var Tr,kr;for(kr=[],fr=Tr=0;0<=yr?Tr<yr:Tr>yr;fr=0<=yr?++Tr:--Tr)kr.push(or.readUInt16());return kr}(),pr=function(){var Tr,kr;for(kr=[],fr=Tr=0;0<=yr?Tr<yr:Tr>yr;fr=0<=yr?++Tr:--Tr)kr.push(or.readUInt16());return kr}(),cr=(this.length-or.pos+this.offset)/2,hr=function(){var Tr,kr;for(kr=[],fr=Tr=0;0<=cr?Tr<cr:Tr>cr;fr=0<=cr?++Tr:--Tr)kr.push(or.readUInt16());return kr}(),fr=Br=0,Er=ur.length;Br<Er;fr=++Br)for(Cr=ur[fr],Ar=Sr=br=wr[fr];br<=Cr?Sr<=Cr:Sr>=Cr;Ar=br<=Cr?++Sr:--Sr)pr[fr]===0?dr=Ar+gr[fr]:(dr=hr[pr[fr]/2+(Ar-br)-(yr-fr)]||0)!==0&&(dr+=gr[fr]),this.codeMap[Ar]=65535&dr}or.pos=mr}return ar.encode=function(or,lr){var Ar,cr,ur,dr,hr,fr,gr,pr,mr,yr,vr,br,wr,Cr,Br,Sr,Er,Tr,kr,Or,Rr,Lr,_r,Hr,Mr,Ur,Kr,Xr,Yr,Zr,ns,As,is,gs,Os,Vr,Qr,$r,zr,cs,Jr,ls,hs,bs,Ts,Ds;switch(Xr=new ne,dr=Object.keys(or).sort(function(us,ps){return us-ps}),lr){case"macroman":for(wr=0,Cr=function(){var us=[];for(br=0;br<256;++br)us.push(0);return us}(),Sr={0:0},ur={},Yr=0,is=dr.length;Yr<is;Yr++)Sr[hs=or[cr=dr[Yr]]]==null&&(Sr[hs]=++wr),ur[cr]={old:or[cr],new:Sr[or[cr]]},Cr[cr]=Sr[or[cr]];return Xr.writeUInt16(1),Xr.writeUInt16(0),Xr.writeUInt32(12),Xr.writeUInt16(0),Xr.writeUInt16(262),Xr.writeUInt16(0),Xr.write(Cr),{charMap:ur,subtable:Xr.data,maxGlyphID:wr+1};case"unicode":for(Ur=[],mr=[],Er=0,Sr={},Ar={},Br=gr=null,Zr=0,gs=dr.length;Zr<gs;Zr++)Sr[kr=or[cr=dr[Zr]]]==null&&(Sr[kr]=++Er),Ar[cr]={old:kr,new:Sr[kr]},hr=Sr[kr]-cr,Br!=null&&hr===gr||(Br&&mr.push(Br),Ur.push(cr),gr=hr),Br=cr;for(Br&&mr.push(Br),mr.push(65535),Ur.push(65535),Hr=2*(_r=Ur.length),Lr=2*Math.pow(Math.log(_r)/Math.LN2,2),yr=Math.log(Lr/2)/Math.LN2,Rr=2*_r-Lr,fr=[],Or=[],vr=[],br=ns=0,Os=Ur.length;ns<Os;br=++ns){if(Mr=Ur[br],pr=mr[br],Mr===65535){fr.push(0),Or.push(0);break}if(Mr-(Kr=Ar[Mr].new)>=32768)for(fr.push(0),Or.push(2*(vr.length+_r-br)),cr=As=Mr;Mr<=pr?As<=pr:As>=pr;cr=Mr<=pr?++As:--As)vr.push(Ar[cr].new);else fr.push(Kr-Mr),Or.push(0)}for(Xr.writeUInt16(3),Xr.writeUInt16(1),Xr.writeUInt32(12),Xr.writeUInt16(4),Xr.writeUInt16(16+8*_r+2*vr.length),Xr.writeUInt16(0),Xr.writeUInt16(Hr),Xr.writeUInt16(Lr),Xr.writeUInt16(yr),Xr.writeUInt16(Rr),Jr=0,Vr=mr.length;Jr<Vr;Jr++)cr=mr[Jr],Xr.writeUInt16(cr);for(Xr.writeUInt16(0),ls=0,Qr=Ur.length;ls<Qr;ls++)cr=Ur[ls],Xr.writeUInt16(cr);for(bs=0,$r=fr.length;bs<$r;bs++)hr=fr[bs],Xr.writeUInt16(hr);for(Ts=0,zr=Or.length;Ts<zr;Ts++)Tr=Or[Ts],Xr.writeUInt16(Tr);for(Ds=0,cs=vr.length;Ds<cs;Ds++)wr=vr[Ds],Xr.writeUInt16(wr);return{charMap:Ar,subtable:Xr.data,maxGlyphID:Er+1}}},ar}(),ue=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="cmap",or.prototype.parse=function(lr){var Ar,cr,ur;for(lr.pos=this.offset,this.version=lr.readUInt16(),ur=lr.readUInt16(),this.tables=[],this.unicode=null,cr=0;0<=ur?cr<ur:cr>ur;cr=0<=ur?++cr:--cr)Ar=new ce(lr,this.offset),this.tables.push(Ar),Ar.isUnicode&&this.unicode==null&&(this.unicode=Ar);return!0},or.encode=function(lr,Ar){var cr,ur;return Ar==null&&(Ar="macroman"),cr=ce.encode(lr,Ar),(ur=new ne).writeUInt16(0),ur.writeUInt16(1),cr.table=ur.data.concat(cr.subtable),cr},or}(),he=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="hhea",or.prototype.parse=function(lr){return lr.pos=this.offset,this.version=lr.readInt(),this.ascender=lr.readShort(),this.decender=lr.readShort(),this.lineGap=lr.readShort(),this.advanceWidthMax=lr.readShort(),this.minLeftSideBearing=lr.readShort(),this.minRightSideBearing=lr.readShort(),this.xMaxExtent=lr.readShort(),this.caretSlopeRise=lr.readShort(),this.caretSlopeRun=lr.readShort(),this.caretOffset=lr.readShort(),lr.pos+=8,this.metricDataFormat=lr.readShort(),this.numberOfMetrics=lr.readUInt16()},or}(),le=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="OS/2",or.prototype.parse=function(lr){if(lr.pos=this.offset,this.version=lr.readUInt16(),this.averageCharWidth=lr.readShort(),this.weightClass=lr.readUInt16(),this.widthClass=lr.readUInt16(),this.type=lr.readShort(),this.ySubscriptXSize=lr.readShort(),this.ySubscriptYSize=lr.readShort(),this.ySubscriptXOffset=lr.readShort(),this.ySubscriptYOffset=lr.readShort(),this.ySuperscriptXSize=lr.readShort(),this.ySuperscriptYSize=lr.readShort(),this.ySuperscriptXOffset=lr.readShort(),this.ySuperscriptYOffset=lr.readShort(),this.yStrikeoutSize=lr.readShort(),this.yStrikeoutPosition=lr.readShort(),this.familyClass=lr.readShort(),this.panose=function(){var Ar,cr;for(cr=[],Ar=0;Ar<10;++Ar)cr.push(lr.readByte());return cr}(),this.charRange=function(){var Ar,cr;for(cr=[],Ar=0;Ar<4;++Ar)cr.push(lr.readInt());return cr}(),this.vendorID=lr.readString(4),this.selection=lr.readShort(),this.firstCharIndex=lr.readShort(),this.lastCharIndex=lr.readShort(),this.version>0&&(this.ascent=lr.readShort(),this.descent=lr.readShort(),this.lineGap=lr.readShort(),this.winAscent=lr.readShort(),this.winDescent=lr.readShort(),this.codePageRange=function(){var Ar,cr;for(cr=[],Ar=0;Ar<2;Ar=++Ar)cr.push(lr.readInt());return cr}(),this.version>1))return this.xHeight=lr.readShort(),this.capHeight=lr.readShort(),this.defaultChar=lr.readShort(),this.breakChar=lr.readShort(),this.maxContext=lr.readShort()},or}(),fe=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="post",or.prototype.parse=function(lr){var Ar,cr,ur;switch(lr.pos=this.offset,this.format=lr.readInt(),this.italicAngle=lr.readInt(),this.underlinePosition=lr.readShort(),this.underlineThickness=lr.readShort(),this.isFixedPitch=lr.readInt(),this.minMemType42=lr.readInt(),this.maxMemType42=lr.readInt(),this.minMemType1=lr.readInt(),this.maxMemType1=lr.readInt(),this.format){case 65536:break;case 131072:var dr;for(cr=lr.readUInt16(),this.glyphNameIndex=[],dr=0;0<=cr?dr<cr:dr>cr;dr=0<=cr?++dr:--dr)this.glyphNameIndex.push(lr.readUInt16());for(this.names=[],ur=[];lr.pos<this.offset+this.length;)Ar=lr.readByte(),ur.push(this.names.push(lr.readString(Ar)));return ur;case 151552:return cr=lr.readUInt16(),this.offsets=lr.read(cr);case 196608:break;case 262144:return this.map=(function(){var hr,fr,gr;for(gr=[],dr=hr=0,fr=this.file.maxp.numGlyphs;0<=fr?hr<fr:hr>fr;dr=0<=fr?++hr:--hr)gr.push(lr.readUInt32());return gr}).call(this)}},or}(),de=function(ar,or){this.raw=ar,this.length=ar.length,this.platformID=or.platformID,this.encodingID=or.encodingID,this.languageID=or.languageID},pe=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="name",or.prototype.parse=function(lr){var Ar,cr,ur,dr,hr,fr,gr,pr,mr,yr,vr;for(lr.pos=this.offset,lr.readShort(),Ar=lr.readShort(),fr=lr.readShort(),cr=[],dr=0;0<=Ar?dr<Ar:dr>Ar;dr=0<=Ar?++dr:--dr)cr.push({platformID:lr.readShort(),encodingID:lr.readShort(),languageID:lr.readShort(),nameID:lr.readShort(),length:lr.readShort(),offset:this.offset+fr+lr.readShort()});for(gr={},dr=mr=0,yr=cr.length;mr<yr;dr=++mr)ur=cr[dr],lr.pos=ur.offset,pr=lr.readString(ur.length),hr=new de(pr,ur),gr[vr=ur.nameID]==null&&(gr[vr]=[]),gr[ur.nameID].push(hr);this.strings=gr,this.copyright=gr[0],this.fontFamily=gr[1],this.fontSubfamily=gr[2],this.uniqueSubfamily=gr[3],this.fontName=gr[4],this.version=gr[5];try{this.postscriptName=gr[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=gr[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=gr[7],this.manufacturer=gr[8],this.designer=gr[9],this.description=gr[10],this.vendorUrl=gr[11],this.designerUrl=gr[12],this.license=gr[13],this.licenseUrl=gr[14],this.preferredFamily=gr[15],this.preferredSubfamily=gr[17],this.compatibleFull=gr[18],this.sampleText=gr[19]},or}(),ge=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="maxp",or.prototype.parse=function(lr){return lr.pos=this.offset,this.version=lr.readInt(),this.numGlyphs=lr.readUInt16(),this.maxPoints=lr.readUInt16(),this.maxContours=lr.readUInt16(),this.maxCompositePoints=lr.readUInt16(),this.maxComponentContours=lr.readUInt16(),this.maxZones=lr.readUInt16(),this.maxTwilightPoints=lr.readUInt16(),this.maxStorage=lr.readUInt16(),this.maxFunctionDefs=lr.readUInt16(),this.maxInstructionDefs=lr.readUInt16(),this.maxStackElements=lr.readUInt16(),this.maxSizeOfInstructions=lr.readUInt16(),this.maxComponentElements=lr.readUInt16(),this.maxComponentDepth=lr.readUInt16()},or}(),me=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="hmtx",or.prototype.parse=function(lr){var Ar,cr,ur,dr,hr,fr,gr;for(lr.pos=this.offset,this.metrics=[],Ar=0,fr=this.file.hhea.numberOfMetrics;0<=fr?Ar<fr:Ar>fr;Ar=0<=fr?++Ar:--Ar)this.metrics.push({advance:lr.readUInt16(),lsb:lr.readInt16()});for(ur=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var pr,mr;for(mr=[],Ar=pr=0;0<=ur?pr<ur:pr>ur;Ar=0<=ur?++pr:--pr)mr.push(lr.readInt16());return mr}(),this.widths=(function(){var pr,mr,yr,vr;for(vr=[],pr=0,mr=(yr=this.metrics).length;pr<mr;pr++)dr=yr[pr],vr.push(dr.advance);return vr}).call(this),cr=this.widths[this.widths.length-1],gr=[],Ar=hr=0;0<=ur?hr<ur:hr>ur;Ar=0<=ur?++hr:--hr)gr.push(this.widths.push(cr));return gr},or.prototype.forGlyph=function(lr){return lr in this.metrics?this.metrics[lr]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[lr-this.metrics.length]}},or}(),ve=[].slice,be=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="glyf",or.prototype.parse=function(){return this.cache={}},or.prototype.glyphFor=function(lr){var Ar,cr,ur,dr,hr,fr,gr,pr,mr,yr;return lr in this.cache?this.cache[lr]:(dr=this.file.loca,Ar=this.file.contents,cr=dr.indexOf(lr),(ur=dr.lengthOf(lr))===0?this.cache[lr]=null:(Ar.pos=this.offset+cr,hr=(fr=new ne(Ar.read(ur))).readShort(),pr=fr.readShort(),yr=fr.readShort(),gr=fr.readShort(),mr=fr.readShort(),this.cache[lr]=hr===-1?new we(fr,pr,yr,gr,mr):new ye(fr,hr,pr,yr,gr,mr),this.cache[lr]))},or.prototype.encode=function(lr,Ar,cr){var ur,dr,hr,fr,gr;for(hr=[],dr=[],fr=0,gr=Ar.length;fr<gr;fr++)ur=lr[Ar[fr]],dr.push(hr.length),ur&&(hr=hr.concat(ur.encode(cr)));return dr.push(hr.length),{table:hr,offsets:dr}},or}(),ye=function(){function ar(or,lr,Ar,cr,ur,dr){this.raw=or,this.numberOfContours=lr,this.xMin=Ar,this.yMin=cr,this.xMax=ur,this.yMax=dr,this.compound=!1}return ar.prototype.encode=function(){return this.raw.data},ar}(),we=function(){function ar(or,lr,Ar,cr,ur){var dr,hr;for(this.raw=or,this.xMin=lr,this.yMin=Ar,this.xMax=cr,this.yMax=ur,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],dr=this.raw;hr=dr.readShort(),this.glyphOffsets.push(dr.pos),this.glyphIDs.push(dr.readUInt16()),32&hr;)dr.pos+=1&hr?4:2,128&hr?dr.pos+=8:64&hr?dr.pos+=4:8&hr&&(dr.pos+=2)}return ar.prototype.encode=function(){var or,lr,Ar;for(lr=new ne(ve.call(this.raw.data)),or=0,Ar=this.glyphIDs.length;or<Ar;++or)lr.pos=this.glyphOffsets[or];return lr.data},ar}(),Ne=function(ar){function or(){return or.__super__.constructor.apply(this,arguments)}return oe(or,re),or.prototype.tag="loca",or.prototype.parse=function(lr){var Ar,cr;return lr.pos=this.offset,Ar=this.file.head.indexToLocFormat,this.offsets=Ar===0?(function(){var ur,dr;for(dr=[],cr=0,ur=this.length;cr<ur;cr+=2)dr.push(2*lr.readUInt16());return dr}).call(this):(function(){var ur,dr;for(dr=[],cr=0,ur=this.length;cr<ur;cr+=4)dr.push(lr.readUInt32());return dr}).call(this)},or.prototype.indexOf=function(lr){return this.offsets[lr]},or.prototype.lengthOf=function(lr){return this.offsets[lr+1]-this.offsets[lr]},or.prototype.encode=function(lr,Ar){for(var cr=new Uint32Array(this.offsets.length),ur=0,dr=0,hr=0;hr<cr.length;++hr)if(cr[hr]=ur,dr<Ar.length&&Ar[dr]==hr){++dr,cr[hr]=ur;var fr=this.offsets[hr],gr=this.offsets[hr+1]-fr;gr>0&&(ur+=gr)}for(var pr=new Array(4*cr.length),mr=0;mr<cr.length;++mr)pr[4*mr+3]=255&cr[mr],pr[4*mr+2]=(65280&cr[mr])>>8,pr[4*mr+1]=(16711680&cr[mr])>>16,pr[4*mr]=(4278190080&cr[mr])>>24;return pr},or}(),Le=function(){function ar(or){this.font=or,this.subset={},this.unicodes={},this.next=33}return ar.prototype.generateCmap=function(){var or,lr,Ar,cr,ur;for(lr in cr=this.font.cmap.tables[0].codeMap,or={},ur=this.subset)Ar=ur[lr],or[lr]=cr[Ar];return or},ar.prototype.glyphsFor=function(or){var lr,Ar,cr,ur,dr,hr,fr;for(cr={},dr=0,hr=or.length;dr<hr;dr++)cr[ur=or[dr]]=this.font.glyf.glyphFor(ur);for(ur in lr=[],cr)(Ar=cr[ur])!=null&&Ar.compound&&lr.push.apply(lr,Ar.glyphIDs);if(lr.length>0)for(ur in fr=this.glyphsFor(lr))Ar=fr[ur],cr[ur]=Ar;return cr},ar.prototype.encode=function(or,lr){var Ar,cr,ur,dr,hr,fr,gr,pr,mr,yr,vr,br,wr,Cr,Br;for(cr in Ar=ue.encode(this.generateCmap(),"unicode"),dr=this.glyphsFor(or),vr={0:0},Br=Ar.charMap)vr[(fr=Br[cr]).old]=fr.new;for(br in yr=Ar.maxGlyphID,dr)br in vr||(vr[br]=yr++);return pr=function(Sr){var Er,Tr;for(Er in Tr={},Sr)Tr[Sr[Er]]=Er;return Tr}(vr),mr=Object.keys(pr).sort(function(Sr,Er){return Sr-Er}),wr=function(){var Sr,Er,Tr;for(Tr=[],Sr=0,Er=mr.length;Sr<Er;Sr++)hr=mr[Sr],Tr.push(pr[hr]);return Tr}(),ur=this.font.glyf.encode(dr,wr,vr),gr=this.font.loca.encode(ur.offsets,wr),Cr={cmap:this.font.cmap.raw(),glyf:ur.table,loca:gr,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(lr)},this.font.os2.exists&&(Cr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Cr)},ar}();E.API.PDFObject=function(){var ar;function or(){}return ar=function(lr,Ar){return(Array(Ar+1).join("0")+lr).slice(-Ar)},or.convert=function(lr){var Ar,cr,ur,dr;if(Array.isArray(lr))return"["+function(){var hr,fr,gr;for(gr=[],hr=0,fr=lr.length;hr<fr;hr++)Ar=lr[hr],gr.push(or.convert(Ar));return gr}().join(" ")+"]";if(typeof lr=="string")return"/"+lr;if(lr!=null&&lr.isString)return"("+lr+")";if(lr instanceof Date)return"(D:"+ar(lr.getUTCFullYear(),4)+ar(lr.getUTCMonth(),2)+ar(lr.getUTCDate(),2)+ar(lr.getUTCHours(),2)+ar(lr.getUTCMinutes(),2)+ar(lr.getUTCSeconds(),2)+"Z)";if({}.toString.call(lr)==="[object Object]"){for(cr in ur=["<<"],lr)dr=lr[cr],ur.push("/"+cr+" "+or.convert(dr));return ur.push(">>"),ur.join(`
`)}return""+lr},or}();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At,AcroFormButton:mt,AcroFormCheckBox:wt,AcroFormChoiceField:ft,AcroFormComboBox:pt,AcroFormEditBox:gt,AcroFormListBox:dt,AcroFormPasswordField:Lt,AcroFormPushButton:vt,AcroFormRadioButton:bt,AcroFormTextField:Nt,GState:j,ShadingPattern:B,TilingPattern:M,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(jspdf_es_min);var html2canvas={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var hasRequiredHtml2canvas;function requireHtml2canvas(){return hasRequiredHtml2canvas||(hasRequiredHtml2canvas=1,function(ar,or){(function(lr,Ar){ar.exports=Ar()})(commonjsGlobal,function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var lr=function(Ir,Fr){return lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pr,Nr){Pr.__proto__=Nr}||function(Pr,Nr){for(var Wr in Nr)Object.prototype.hasOwnProperty.call(Nr,Wr)&&(Pr[Wr]=Nr[Wr])},lr(Ir,Fr)};function Ar(Ir,Fr){if(typeof Fr!="function"&&Fr!==null)throw new TypeError("Class extends value "+String(Fr)+" is not a constructor or null");lr(Ir,Fr);function Pr(){this.constructor=Ir}Ir.prototype=Fr===null?Object.create(Fr):(Pr.prototype=Fr.prototype,new Pr)}var cr=function(){return cr=Object.assign||function(Fr){for(var Pr,Nr=1,Wr=arguments.length;Nr<Wr;Nr++){Pr=arguments[Nr];for(var ds in Pr)Object.prototype.hasOwnProperty.call(Pr,ds)&&(Fr[ds]=Pr[ds])}return Fr},cr.apply(this,arguments)};function ur(Ir,Fr,Pr,Nr){function Wr(ds){return ds instanceof Pr?ds:new Pr(function(xs){xs(ds)})}return new(Pr||(Pr=Promise))(function(ds,xs){function js(Ai){try{ii(Nr.next(Ai))}catch(mi){xs(mi)}}function Qs(Ai){try{ii(Nr.throw(Ai))}catch(mi){xs(mi)}}function ii(Ai){Ai.done?ds(Ai.value):Wr(Ai.value).then(js,Qs)}ii((Nr=Nr.apply(Ir,[])).next())})}function dr(Ir,Fr){var Pr={label:0,sent:function(){if(ds[0]&1)throw ds[1];return ds[1]},trys:[],ops:[]},Nr,Wr,ds,xs;return xs={next:js(0),throw:js(1),return:js(2)},typeof Symbol=="function"&&(xs[Symbol.iterator]=function(){return this}),xs;function js(ii){return function(Ai){return Qs([ii,Ai])}}function Qs(ii){if(Nr)throw new TypeError("Generator is already executing.");for(;Pr;)try{if(Nr=1,Wr&&(ds=ii[0]&2?Wr.return:ii[0]?Wr.throw||((ds=Wr.return)&&ds.call(Wr),0):Wr.next)&&!(ds=ds.call(Wr,ii[1])).done)return ds;switch(Wr=0,ds&&(ii=[ii[0]&2,ds.value]),ii[0]){case 0:case 1:ds=ii;break;case 4:return Pr.label++,{value:ii[1],done:!1};case 5:Pr.label++,Wr=ii[1],ii=[0];continue;case 7:ii=Pr.ops.pop(),Pr.trys.pop();continue;default:if(ds=Pr.trys,!(ds=ds.length>0&&ds[ds.length-1])&&(ii[0]===6||ii[0]===2)){Pr=0;continue}if(ii[0]===3&&(!ds||ii[1]>ds[0]&&ii[1]<ds[3])){Pr.label=ii[1];break}if(ii[0]===6&&Pr.label<ds[1]){Pr.label=ds[1],ds=ii;break}if(ds&&Pr.label<ds[2]){Pr.label=ds[2],Pr.ops.push(ii);break}ds[2]&&Pr.ops.pop(),Pr.trys.pop();continue}ii=Fr.call(Ir,Pr)}catch(Ai){ii=[6,Ai],Wr=0}finally{Nr=ds=0}if(ii[0]&5)throw ii[1];return{value:ii[0]?ii[1]:void 0,done:!0}}}function hr(Ir,Fr,Pr){if(arguments.length===2)for(var Nr=0,Wr=Fr.length,ds;Nr<Wr;Nr++)(ds||!(Nr in Fr))&&(ds||(ds=Array.prototype.slice.call(Fr,0,Nr)),ds[Nr]=Fr[Nr]);return Ir.concat(ds||Fr)}for(var fr=function(){function Ir(Fr,Pr,Nr,Wr){this.left=Fr,this.top=Pr,this.width=Nr,this.height=Wr}return Ir.prototype.add=function(Fr,Pr,Nr,Wr){return new Ir(this.left+Fr,this.top+Pr,this.width+Nr,this.height+Wr)},Ir.fromClientRect=function(Fr,Pr){return new Ir(Pr.left+Fr.windowBounds.left,Pr.top+Fr.windowBounds.top,Pr.width,Pr.height)},Ir.fromDOMRectList=function(Fr,Pr){var Nr=Array.from(Pr).find(function(Wr){return Wr.width!==0});return Nr?new Ir(Nr.left+Fr.windowBounds.left,Nr.top+Fr.windowBounds.top,Nr.width,Nr.height):Ir.EMPTY},Ir.EMPTY=new Ir(0,0,0,0),Ir}(),gr=function(Ir,Fr){return fr.fromClientRect(Ir,Fr.getBoundingClientRect())},pr=function(Ir){var Fr=Ir.body,Pr=Ir.documentElement;if(!Fr||!Pr)throw new Error("Unable to get document size");var Nr=Math.max(Math.max(Fr.scrollWidth,Pr.scrollWidth),Math.max(Fr.offsetWidth,Pr.offsetWidth),Math.max(Fr.clientWidth,Pr.clientWidth)),Wr=Math.max(Math.max(Fr.scrollHeight,Pr.scrollHeight),Math.max(Fr.offsetHeight,Pr.offsetHeight),Math.max(Fr.clientHeight,Pr.clientHeight));return new fr(0,0,Nr,Wr)},mr=function(Ir){for(var Fr=[],Pr=0,Nr=Ir.length;Pr<Nr;){var Wr=Ir.charCodeAt(Pr++);if(Wr>=55296&&Wr<=56319&&Pr<Nr){var ds=Ir.charCodeAt(Pr++);(ds&64512)===56320?Fr.push(((Wr&1023)<<10)+(ds&1023)+65536):(Fr.push(Wr),Pr--)}else Fr.push(Wr)}return Fr},yr=function(){for(var Ir=[],Fr=0;Fr<arguments.length;Fr++)Ir[Fr]=arguments[Fr];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Ir);var Pr=Ir.length;if(!Pr)return"";for(var Nr=[],Wr=-1,ds="";++Wr<Pr;){var xs=Ir[Wr];xs<=65535?Nr.push(xs):(xs-=65536,Nr.push((xs>>10)+55296,xs%1024+56320)),(Wr+1===Pr||Nr.length>16384)&&(ds+=String.fromCharCode.apply(String,Nr),Nr.length=0)}return ds},vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=typeof Uint8Array>"u"?[]:new Uint8Array(256),wr=0;wr<vr.length;wr++)br[vr.charCodeAt(wr)]=wr;for(var Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Br=typeof Uint8Array>"u"?[]:new Uint8Array(256),Sr=0;Sr<Cr.length;Sr++)Br[Cr.charCodeAt(Sr)]=Sr;for(var Er=function(Ir){var Fr=Ir.length*.75,Pr=Ir.length,Nr,Wr=0,ds,xs,js,Qs;Ir[Ir.length-1]==="="&&(Fr--,Ir[Ir.length-2]==="="&&Fr--);var ii=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Fr):new Array(Fr),Ai=Array.isArray(ii)?ii:new Uint8Array(ii);for(Nr=0;Nr<Pr;Nr+=4)ds=Br[Ir.charCodeAt(Nr)],xs=Br[Ir.charCodeAt(Nr+1)],js=Br[Ir.charCodeAt(Nr+2)],Qs=Br[Ir.charCodeAt(Nr+3)],Ai[Wr++]=ds<<2|xs>>4,Ai[Wr++]=(xs&15)<<4|js>>2,Ai[Wr++]=(js&3)<<6|Qs&63;return ii},Tr=function(Ir){for(var Fr=Ir.length,Pr=[],Nr=0;Nr<Fr;Nr+=2)Pr.push(Ir[Nr+1]<<8|Ir[Nr]);return Pr},kr=function(Ir){for(var Fr=Ir.length,Pr=[],Nr=0;Nr<Fr;Nr+=4)Pr.push(Ir[Nr+3]<<24|Ir[Nr+2]<<16|Ir[Nr+1]<<8|Ir[Nr]);return Pr},Or=5,Rr=11,Lr=2,_r=Rr-Or,Hr=65536>>Or,Mr=1<<Or,Ur=Mr-1,Kr=1024>>Or,Xr=Hr+Kr,Yr=Xr,Zr=32,ns=Yr+Zr,As=65536>>Rr,is=1<<_r,gs=is-1,Os=function(Ir,Fr,Pr){return Ir.slice?Ir.slice(Fr,Pr):new Uint16Array(Array.prototype.slice.call(Ir,Fr,Pr))},Vr=function(Ir,Fr,Pr){return Ir.slice?Ir.slice(Fr,Pr):new Uint32Array(Array.prototype.slice.call(Ir,Fr,Pr))},Qr=function(Ir,Fr){var Pr=Er(Ir),Nr=Array.isArray(Pr)?kr(Pr):new Uint32Array(Pr),Wr=Array.isArray(Pr)?Tr(Pr):new Uint16Array(Pr),ds=24,xs=Os(Wr,ds/2,Nr[4]/2),js=Nr[5]===2?Os(Wr,(ds+Nr[4])/2):Vr(Nr,Math.ceil((ds+Nr[4])/4));return new $r(Nr[0],Nr[1],Nr[2],Nr[3],xs,js)},$r=function(){function Ir(Fr,Pr,Nr,Wr,ds,xs){this.initialValue=Fr,this.errorValue=Pr,this.highStart=Nr,this.highValueIndex=Wr,this.index=ds,this.data=xs}return Ir.prototype.get=function(Fr){var Pr;if(Fr>=0){if(Fr<55296||Fr>56319&&Fr<=65535)return Pr=this.index[Fr>>Or],Pr=(Pr<<Lr)+(Fr&Ur),this.data[Pr];if(Fr<=65535)return Pr=this.index[Hr+(Fr-55296>>Or)],Pr=(Pr<<Lr)+(Fr&Ur),this.data[Pr];if(Fr<this.highStart)return Pr=ns-As+(Fr>>Rr),Pr=this.index[Pr],Pr+=Fr>>Or&gs,Pr=this.index[Pr],Pr=(Pr<<Lr)+(Fr&Ur),this.data[Pr];if(Fr<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Ir}(),zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cs=typeof Uint8Array>"u"?[]:new Uint8Array(256),Jr=0;Jr<zr.length;Jr++)cs[zr.charCodeAt(Jr)]=Jr;var ls="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",hs=50,bs=1,Ts=2,Ds=3,us=4,ps=5,ms=7,ss=8,ks=9,as=10,fs=11,ws=12,Is=13,Ps=14,Ws=15,Ks=16,Fs=17,ni=18,li=19,Si=20,Us=21,Cs=22,Bs=23,$s=24,qs=25,bi=26,zs=27,Vs=28,Ys=29,fi=30,Pi=31,Ei=32,Rs=33,Js=34,oi=35,hi=36,Bi=37,Ii=38,Ms=39,_s=40,Xs=41,Zs=42,pi=43,wi=[9001,65288],Ci="!",Fi="",Di="",Mi=Qr(ls),Yi=[fi,hi],Qi=[bs,Ts,Ds,ps],ji=[as,ss],Gi=[zs,bi],eo=Qi.concat(ji),so=[Ii,Ms,_s,Js,oi],co=[Ws,Is],xo=function(Ir,Fr){Fr===void 0&&(Fr="strict");var Pr=[],Nr=[],Wr=[];return Ir.forEach(function(ds,xs){var js=Mi.get(ds);if(js>hs?(Wr.push(!0),js-=hs):Wr.push(!1),["normal","auto","loose"].indexOf(Fr)!==-1&&[8208,8211,12316,12448].indexOf(ds)!==-1)return Nr.push(xs),Pr.push(Ks);if(js===us||js===fs){if(xs===0)return Nr.push(xs),Pr.push(fi);var Qs=Pr[xs-1];return eo.indexOf(Qs)===-1?(Nr.push(Nr[xs-1]),Pr.push(Qs)):(Nr.push(xs),Pr.push(fi))}if(Nr.push(xs),js===Pi)return Pr.push(Fr==="strict"?Us:Bi);if(js===Zs||js===Ys)return Pr.push(fi);if(js===pi)return ds>=131072&&ds<=196605||ds>=196608&&ds<=262141?Pr.push(Bi):Pr.push(fi);Pr.push(js)}),[Nr,Pr,Wr]},vo=function(Ir,Fr,Pr,Nr){var Wr=Nr[Pr];if(Array.isArray(Ir)?Ir.indexOf(Wr)!==-1:Ir===Wr)for(var ds=Pr;ds<=Nr.length;){ds++;var xs=Nr[ds];if(xs===Fr)return!0;if(xs!==as)break}if(Wr===as)for(var ds=Pr;ds>0;){ds--;var js=Nr[ds];if(Array.isArray(Ir)?Ir.indexOf(js)!==-1:Ir===js)for(var Qs=Pr;Qs<=Nr.length;){Qs++;var xs=Nr[Qs];if(xs===Fr)return!0;if(xs!==as)break}if(js!==as)break}return!1},la=function(Ir,Fr){for(var Pr=Ir;Pr>=0;){var Nr=Fr[Pr];if(Nr===as)Pr--;else return Nr}return 0},pa=function(Ir,Fr,Pr,Nr,Wr){if(Pr[Nr]===0)return Fi;var ds=Nr-1;if(Array.isArray(Wr)&&Wr[ds]===!0)return Fi;var xs=ds-1,js=ds+1,Qs=Fr[ds],ii=xs>=0?Fr[xs]:0,Ai=Fr[js];if(Qs===Ts&&Ai===Ds)return Fi;if(Qi.indexOf(Qs)!==-1)return Ci;if(Qi.indexOf(Ai)!==-1||ji.indexOf(Ai)!==-1)return Fi;if(la(ds,Fr)===ss)return Di;if(Mi.get(Ir[ds])===fs||(Qs===Ei||Qs===Rs)&&Mi.get(Ir[js])===fs||Qs===ms||Ai===ms||Qs===ks||[as,Is,Ws].indexOf(Qs)===-1&&Ai===ks||[Fs,ni,li,$s,Vs].indexOf(Ai)!==-1||la(ds,Fr)===Cs||vo(Bs,Cs,ds,Fr)||vo([Fs,ni],Us,ds,Fr)||vo(ws,ws,ds,Fr))return Fi;if(Qs===as)return Di;if(Qs===Bs||Ai===Bs)return Fi;if(Ai===Ks||Qs===Ks)return Di;if([Is,Ws,Us].indexOf(Ai)!==-1||Qs===Ps||ii===hi&&co.indexOf(Qs)!==-1||Qs===Vs&&Ai===hi||Ai===Si||Yi.indexOf(Ai)!==-1&&Qs===qs||Yi.indexOf(Qs)!==-1&&Ai===qs||Qs===zs&&[Bi,Ei,Rs].indexOf(Ai)!==-1||[Bi,Ei,Rs].indexOf(Qs)!==-1&&Ai===bi||Yi.indexOf(Qs)!==-1&&Gi.indexOf(Ai)!==-1||Gi.indexOf(Qs)!==-1&&Yi.indexOf(Ai)!==-1||[zs,bi].indexOf(Qs)!==-1&&(Ai===qs||[Cs,Ws].indexOf(Ai)!==-1&&Fr[js+1]===qs)||[Cs,Ws].indexOf(Qs)!==-1&&Ai===qs||Qs===qs&&[qs,Vs,$s].indexOf(Ai)!==-1)return Fi;if([qs,Vs,$s,Fs,ni].indexOf(Ai)!==-1)for(var mi=ds;mi>=0;){var Ni=Fr[mi];if(Ni===qs)return Fi;if([Vs,$s].indexOf(Ni)!==-1)mi--;else break}if([zs,bi].indexOf(Ai)!==-1)for(var mi=[Fs,ni].indexOf(Qs)!==-1?xs:ds;mi>=0;){var Ni=Fr[mi];if(Ni===qs)return Fi;if([Vs,$s].indexOf(Ni)!==-1)mi--;else break}if(Ii===Qs&&[Ii,Ms,Js,oi].indexOf(Ai)!==-1||[Ms,Js].indexOf(Qs)!==-1&&[Ms,_s].indexOf(Ai)!==-1||[_s,oi].indexOf(Qs)!==-1&&Ai===_s||so.indexOf(Qs)!==-1&&[Si,bi].indexOf(Ai)!==-1||so.indexOf(Ai)!==-1&&Qs===zs||Yi.indexOf(Qs)!==-1&&Yi.indexOf(Ai)!==-1||Qs===$s&&Yi.indexOf(Ai)!==-1||Yi.concat(qs).indexOf(Qs)!==-1&&Ai===Cs&&wi.indexOf(Ir[js])===-1||Yi.concat(qs).indexOf(Ai)!==-1&&Qs===ni)return Fi;if(Qs===Xs&&Ai===Xs){for(var Ji=Pr[ds],Hi=1;Ji>0&&(Ji--,Fr[Ji]===Xs);)Hi++;if(Hi%2!==0)return Fi}return Qs===Ei&&Ai===Rs?Fi:Di},ga=function(Ir,Fr){Fr||(Fr={lineBreak:"normal",wordBreak:"normal"});var Pr=xo(Ir,Fr.lineBreak),Nr=Pr[0],Wr=Pr[1],ds=Pr[2];(Fr.wordBreak==="break-all"||Fr.wordBreak==="break-word")&&(Wr=Wr.map(function(js){return[qs,fi,Zs].indexOf(js)!==-1?Bi:js}));var xs=Fr.wordBreak==="keep-all"?ds.map(function(js,Qs){return js&&Ir[Qs]>=19968&&Ir[Qs]<=40959}):void 0;return[Nr,Wr,xs]},Al=function(){function Ir(Fr,Pr,Nr,Wr){this.codePoints=Fr,this.required=Pr===Ci,this.start=Nr,this.end=Wr}return Ir.prototype.slice=function(){return yr.apply(void 0,this.codePoints.slice(this.start,this.end))},Ir}(),dc=function(Ir,Fr){var Pr=mr(Ir),Nr=ga(Pr,Fr),Wr=Nr[0],ds=Nr[1],xs=Nr[2],js=Pr.length,Qs=0,ii=0;return{next:function(){if(ii>=js)return{done:!0,value:null};for(var Ai=Fi;ii<js&&(Ai=pa(Pr,ds,Wr,++ii,xs))===Fi;);if(Ai!==Fi||ii===js){var mi=new Al(Pr,Ai,Qs,ii);return Qs=ii,{value:mi,done:!1}}return{done:!0,value:null}}}},du=1,fu=2,el=4,DA=8,dA=10,fA=47,Vl=92,fc=9,hu=32,cl=34,Kl=61,$o=35,hc=36,pc=37,Gl=39,Cl=40,Wl=41,Wa=95,qo=45,wa=33,UA=60,gc=62,pu=64,mc=91,gu=93,vc=61,mu=123,Sl=63,vu=125,yc=124,yu=126,ul=128,zl=65533,xl=42,tl=43,ua=44,bu=58,bc=59,io=46,wu=0,Bu=8,nl=11,wc=14,Bc=31,hA=127,Ba=-1,Cc=48,Sc=97,xc=101,QA=102,Xl=117,El=122,Ec=65,Fl=69,pA=70,gA=85,Fc=90,Jo=function(Ir){return Ir>=Cc&&Ir<=57},Tc=function(Ir){return Ir>=55296&&Ir<=57343},dl=function(Ir){return Jo(Ir)||Ir>=Ec&&Ir<=pA||Ir>=Sc&&Ir<=QA},rl=function(Ir){return Ir>=Sc&&Ir<=El},hl=function(Ir){return Ir>=Ec&&Ir<=Fc},Cu=function(Ir){return rl(Ir)||hl(Ir)},Tl=function(Ir){return Ir>=ul},Ca=function(Ir){return Ir===dA||Ir===fc||Ir===hu},kl=function(Ir){return Cu(Ir)||Tl(Ir)||Ir===Wa},Il=function(Ir){return kl(Ir)||Jo(Ir)||Ir===qo},Su=function(Ir){return Ir>=wu&&Ir<=Bu||Ir===nl||Ir>=wc&&Ir<=Bc||Ir===hA},Ta=function(Ir,Fr){return Ir!==Vl?!1:Fr!==dA},mA=function(Ir,Fr,Pr){return Ir===qo?kl(Fr)||Ta(Fr,Pr):kl(Ir)?!0:!!(Ir===Vl&&Ta(Ir,Fr))},Yl=function(Ir,Fr,Pr){return Ir===tl||Ir===qo?Jo(Fr)?!0:Fr===io&&Jo(Pr):Jo(Ir===io?Fr:Ir)},jA=function(Ir){var Fr=0,Pr=1;(Ir[Fr]===tl||Ir[Fr]===qo)&&(Ir[Fr]===qo&&(Pr=-1),Fr++);for(var Nr=[];Jo(Ir[Fr]);)Nr.push(Ir[Fr++]);var Wr=Nr.length?parseInt(yr.apply(void 0,Nr),10):0;Ir[Fr]===io&&Fr++;for(var ds=[];Jo(Ir[Fr]);)ds.push(Ir[Fr++]);var xs=ds.length,js=xs?parseInt(yr.apply(void 0,ds),10):0;(Ir[Fr]===Fl||Ir[Fr]===xc)&&Fr++;var Qs=1;(Ir[Fr]===tl||Ir[Fr]===qo)&&(Ir[Fr]===qo&&(Qs=-1),Fr++);for(var ii=[];Jo(Ir[Fr]);)ii.push(Ir[Fr++]);var Ai=ii.length?parseInt(yr.apply(void 0,ii),10):0;return Pr*(Wr+js*Math.pow(10,-xs))*Math.pow(10,Qs*Ai)},kc={type:2},vA={type:3},HA={type:4},$A={type:13},Ic={type:8},xu={type:21},yA={type:9},ql={type:10},VA={type:11},Pl={type:12},KA={type:14},jr={type:23},ys={type:1},Gs={type:25},ti={type:24},gi={type:26},ki={type:27},Ui={type:28},Wi={type:29},no={type:31},ao={type:32},lo=function(){function Ir(){this._value=[]}return Ir.prototype.write=function(Fr){this._value=this._value.concat(mr(Fr))},Ir.prototype.read=function(){for(var Fr=[],Pr=this.consumeToken();Pr!==ao;)Fr.push(Pr),Pr=this.consumeToken();return Fr},Ir.prototype.consumeToken=function(){var Fr=this.consumeCodePoint();switch(Fr){case cl:return this.consumeStringToken(cl);case $o:var Pr=this.peekCodePoint(0),Nr=this.peekCodePoint(1),Wr=this.peekCodePoint(2);if(Il(Pr)||Ta(Nr,Wr)){var ds=mA(Pr,Nr,Wr)?fu:du,xs=this.consumeName();return{type:5,value:xs,flags:ds}}break;case hc:if(this.peekCodePoint(0)===Kl)return this.consumeCodePoint(),$A;break;case Gl:return this.consumeStringToken(Gl);case Cl:return kc;case Wl:return vA;case xl:if(this.peekCodePoint(0)===Kl)return this.consumeCodePoint(),KA;break;case tl:if(Yl(Fr,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Fr),this.consumeNumericToken();break;case ua:return HA;case qo:var js=Fr,Qs=this.peekCodePoint(0),ii=this.peekCodePoint(1);if(Yl(js,Qs,ii))return this.reconsumeCodePoint(Fr),this.consumeNumericToken();if(mA(js,Qs,ii))return this.reconsumeCodePoint(Fr),this.consumeIdentLikeToken();if(Qs===qo&&ii===gc)return this.consumeCodePoint(),this.consumeCodePoint(),ti;break;case io:if(Yl(Fr,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(Fr),this.consumeNumericToken();break;case fA:if(this.peekCodePoint(0)===xl)for(this.consumeCodePoint();;){var Ai=this.consumeCodePoint();if(Ai===xl&&(Ai=this.consumeCodePoint(),Ai===fA))return this.consumeToken();if(Ai===Ba)return this.consumeToken()}break;case bu:return gi;case bc:return ki;case UA:if(this.peekCodePoint(0)===wa&&this.peekCodePoint(1)===qo&&this.peekCodePoint(2)===qo)return this.consumeCodePoint(),this.consumeCodePoint(),Gs;break;case pu:var mi=this.peekCodePoint(0),Ni=this.peekCodePoint(1),Ji=this.peekCodePoint(2);if(mA(mi,Ni,Ji)){var xs=this.consumeName();return{type:7,value:xs}}break;case mc:return Ui;case Vl:if(Ta(Fr,this.peekCodePoint(0)))return this.reconsumeCodePoint(Fr),this.consumeIdentLikeToken();break;case gu:return Wi;case vc:if(this.peekCodePoint(0)===Kl)return this.consumeCodePoint(),Ic;break;case mu:return VA;case vu:return Pl;case Xl:case gA:var Hi=this.peekCodePoint(0),Ki=this.peekCodePoint(1);return Hi===tl&&(dl(Ki)||Ki===Sl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(Fr),this.consumeIdentLikeToken();case yc:if(this.peekCodePoint(0)===Kl)return this.consumeCodePoint(),yA;if(this.peekCodePoint(0)===yc)return this.consumeCodePoint(),xu;break;case yu:if(this.peekCodePoint(0)===Kl)return this.consumeCodePoint(),ql;break;case Ba:return ao}return Ca(Fr)?(this.consumeWhiteSpace(),no):Jo(Fr)?(this.reconsumeCodePoint(Fr),this.consumeNumericToken()):kl(Fr)?(this.reconsumeCodePoint(Fr),this.consumeIdentLikeToken()):{type:6,value:yr(Fr)}},Ir.prototype.consumeCodePoint=function(){var Fr=this._value.shift();return typeof Fr>"u"?-1:Fr},Ir.prototype.reconsumeCodePoint=function(Fr){this._value.unshift(Fr)},Ir.prototype.peekCodePoint=function(Fr){return Fr>=this._value.length?-1:this._value[Fr]},Ir.prototype.consumeUnicodeRangeToken=function(){for(var Fr=[],Pr=this.consumeCodePoint();dl(Pr)&&Fr.length<6;)Fr.push(Pr),Pr=this.consumeCodePoint();for(var Nr=!1;Pr===Sl&&Fr.length<6;)Fr.push(Pr),Pr=this.consumeCodePoint(),Nr=!0;if(Nr){var Wr=parseInt(yr.apply(void 0,Fr.map(function(Qs){return Qs===Sl?Cc:Qs})),16),ds=parseInt(yr.apply(void 0,Fr.map(function(Qs){return Qs===Sl?pA:Qs})),16);return{type:30,start:Wr,end:ds}}var xs=parseInt(yr.apply(void 0,Fr),16);if(this.peekCodePoint(0)===qo&&dl(this.peekCodePoint(1))){this.consumeCodePoint(),Pr=this.consumeCodePoint();for(var js=[];dl(Pr)&&js.length<6;)js.push(Pr),Pr=this.consumeCodePoint();var ds=parseInt(yr.apply(void 0,js),16);return{type:30,start:xs,end:ds}}else return{type:30,start:xs,end:xs}},Ir.prototype.consumeIdentLikeToken=function(){var Fr=this.consumeName();return Fr.toLowerCase()==="url"&&this.peekCodePoint(0)===Cl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cl?(this.consumeCodePoint(),{type:19,value:Fr}):{type:20,value:Fr}},Ir.prototype.consumeUrlToken=function(){var Fr=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ba)return{type:22,value:""};var Pr=this.peekCodePoint(0);if(Pr===Gl||Pr===cl){var Nr=this.consumeStringToken(this.consumeCodePoint());return Nr.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ba||this.peekCodePoint(0)===Wl)?(this.consumeCodePoint(),{type:22,value:Nr.value}):(this.consumeBadUrlRemnants(),jr)}for(;;){var Wr=this.consumeCodePoint();if(Wr===Ba||Wr===Wl)return{type:22,value:yr.apply(void 0,Fr)};if(Ca(Wr))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ba||this.peekCodePoint(0)===Wl?(this.consumeCodePoint(),{type:22,value:yr.apply(void 0,Fr)}):(this.consumeBadUrlRemnants(),jr);if(Wr===cl||Wr===Gl||Wr===Cl||Su(Wr))return this.consumeBadUrlRemnants(),jr;if(Wr===Vl)if(Ta(Wr,this.peekCodePoint(0)))Fr.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jr;else Fr.push(Wr)}},Ir.prototype.consumeWhiteSpace=function(){for(;Ca(this.peekCodePoint(0));)this.consumeCodePoint()},Ir.prototype.consumeBadUrlRemnants=function(){for(;;){var Fr=this.consumeCodePoint();if(Fr===Wl||Fr===Ba)return;Ta(Fr,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Ir.prototype.consumeStringSlice=function(Fr){for(var Pr=5e4,Nr="";Fr>0;){var Wr=Math.min(Pr,Fr);Nr+=yr.apply(void 0,this._value.splice(0,Wr)),Fr-=Wr}return this._value.shift(),Nr},Ir.prototype.consumeStringToken=function(Fr){var Pr="",Nr=0;do{var Wr=this._value[Nr];if(Wr===Ba||Wr===void 0||Wr===Fr)return Pr+=this.consumeStringSlice(Nr),{type:0,value:Pr};if(Wr===dA)return this._value.splice(0,Nr),ys;if(Wr===Vl){var ds=this._value[Nr+1];ds!==Ba&&ds!==void 0&&(ds===dA?(Pr+=this.consumeStringSlice(Nr),Nr=-1,this._value.shift()):Ta(Wr,ds)&&(Pr+=this.consumeStringSlice(Nr),Pr+=yr(this.consumeEscapedCodePoint()),Nr=-1))}Nr++}while(!0)},Ir.prototype.consumeNumber=function(){var Fr=[],Pr=el,Nr=this.peekCodePoint(0);for((Nr===tl||Nr===qo)&&Fr.push(this.consumeCodePoint());Jo(this.peekCodePoint(0));)Fr.push(this.consumeCodePoint());Nr=this.peekCodePoint(0);var Wr=this.peekCodePoint(1);if(Nr===io&&Jo(Wr))for(Fr.push(this.consumeCodePoint(),this.consumeCodePoint()),Pr=DA;Jo(this.peekCodePoint(0));)Fr.push(this.consumeCodePoint());Nr=this.peekCodePoint(0),Wr=this.peekCodePoint(1);var ds=this.peekCodePoint(2);if((Nr===Fl||Nr===xc)&&((Wr===tl||Wr===qo)&&Jo(ds)||Jo(Wr)))for(Fr.push(this.consumeCodePoint(),this.consumeCodePoint()),Pr=DA;Jo(this.peekCodePoint(0));)Fr.push(this.consumeCodePoint());return[jA(Fr),Pr]},Ir.prototype.consumeNumericToken=function(){var Fr=this.consumeNumber(),Pr=Fr[0],Nr=Fr[1],Wr=this.peekCodePoint(0),ds=this.peekCodePoint(1),xs=this.peekCodePoint(2);if(mA(Wr,ds,xs)){var js=this.consumeName();return{type:15,number:Pr,flags:Nr,unit:js}}return Wr===pc?(this.consumeCodePoint(),{type:16,number:Pr,flags:Nr}):{type:17,number:Pr,flags:Nr}},Ir.prototype.consumeEscapedCodePoint=function(){var Fr=this.consumeCodePoint();if(dl(Fr)){for(var Pr=yr(Fr);dl(this.peekCodePoint(0))&&Pr.length<6;)Pr+=yr(this.consumeCodePoint());Ca(this.peekCodePoint(0))&&this.consumeCodePoint();var Nr=parseInt(Pr,16);return Nr===0||Tc(Nr)||Nr>1114111?zl:Nr}return Fr===Ba?zl:Fr},Ir.prototype.consumeName=function(){for(var Fr="";;){var Pr=this.consumeCodePoint();if(Il(Pr))Fr+=yr(Pr);else if(Ta(Pr,this.peekCodePoint(0)))Fr+=yr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(Pr),Fr}},Ir}(),go=function(){function Ir(Fr){this._tokens=Fr}return Ir.create=function(Fr){var Pr=new lo;return Pr.write(Fr),new Ir(Pr.read())},Ir.parseValue=function(Fr){return Ir.create(Fr).parseComponentValue()},Ir.parseValues=function(Fr){return Ir.create(Fr).parseComponentValues()},Ir.prototype.parseComponentValue=function(){for(var Fr=this.consumeToken();Fr.type===31;)Fr=this.consumeToken();if(Fr.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(Fr);var Pr=this.consumeComponentValue();do Fr=this.consumeToken();while(Fr.type===31);if(Fr.type===32)return Pr;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Ir.prototype.parseComponentValues=function(){for(var Fr=[];;){var Pr=this.consumeComponentValue();if(Pr.type===32)return Fr;Fr.push(Pr),Fr.push()}},Ir.prototype.consumeComponentValue=function(){var Fr=this.consumeToken();switch(Fr.type){case 11:case 28:case 2:return this.consumeSimpleBlock(Fr.type);case 19:return this.consumeFunction(Fr)}return Fr},Ir.prototype.consumeSimpleBlock=function(Fr){for(var Pr={type:Fr,values:[]},Nr=this.consumeToken();;){if(Nr.type===32||Nc(Nr,Fr))return Pr;this.reconsumeToken(Nr),Pr.values.push(this.consumeComponentValue()),Nr=this.consumeToken()}},Ir.prototype.consumeFunction=function(Fr){for(var Pr={name:Fr.value,values:[],type:18};;){var Nr=this.consumeToken();if(Nr.type===32||Nr.type===3)return Pr;this.reconsumeToken(Nr),Pr.values.push(this.consumeComponentValue())}},Ir.prototype.consumeToken=function(){var Fr=this._tokens.shift();return typeof Fr>"u"?ao:Fr},Ir.prototype.reconsumeToken=function(Fr){this._tokens.unshift(Fr)},Ir}(),Io=function(Ir){return Ir.type===15},No=function(Ir){return Ir.type===17},oo=function(Ir){return Ir.type===20},da=function(Ir){return Ir.type===0},Yo=function(Ir,Fr){return oo(Ir)&&Ir.value===Fr},Da=function(Ir){return Ir.type!==31},ra=function(Ir){return Ir.type!==31&&Ir.type!==4},Zo=function(Ir){var Fr=[],Pr=[];return Ir.forEach(function(Nr){if(Nr.type===4){if(Pr.length===0)throw new Error("Error parsing function args, zero tokens for arg");Fr.push(Pr),Pr=[];return}Nr.type!==31&&Pr.push(Nr)}),Pr.length&&Fr.push(Pr),Fr},Nc=function(Ir,Fr){return Fr===11&&Ir.type===12||Fr===28&&Ir.type===29?!0:Fr===2&&Ir.type===3},Ua=function(Ir){return Ir.type===17||Ir.type===15},Ro=function(Ir){return Ir.type===16||Ua(Ir)},Jl=function(Ir){return Ir.length>1?[Ir[0],Ir[1]]:[Ir[0]]},Vo={type:17,number:0,flags:el},Zl={type:16,number:50,flags:el},ka={type:16,number:100,flags:el},Ko=function(Ir,Fr,Pr){var Nr=Ir[0],Wr=Ir[1];return[Bo(Nr,Fr),Bo(typeof Wr<"u"?Wr:Nr,Pr)]},Bo=function(Ir,Fr){if(Ir.type===16)return Ir.number/100*Fr;if(Io(Ir))switch(Ir.unit){case"rem":case"em":return 16*Ir.number;case"px":default:return Ir.number}return Ir.number},eA="deg",tA="grad",bA="rad",ma="turn",wA={name:"angle",parse:function(Ir,Fr){if(Fr.type===15)switch(Fr.unit){case eA:return Math.PI*Fr.number/180;case tA:return Math.PI/200*Fr.number;case bA:return Fr.number;case ma:return Math.PI*2*Fr.number}throw new Error("Unsupported angle type")}},BA=function(Ir){return Ir.type===15&&(Ir.unit===eA||Ir.unit===tA||Ir.unit===bA||Ir.unit===ma)},GA=function(Ir){var Fr=Ir.filter(oo).map(function(Pr){return Pr.value}).join(" ");switch(Fr){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vo,Vo];case"to top":case"bottom":return Do(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vo,ka];case"to right":case"left":return Do(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ka,ka];case"to bottom":case"top":return Do(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ka,Vo];case"to left":case"right":return Do(270)}return 0},Do=function(Ir){return Math.PI*Ir/180},Ia={name:"color",parse:function(Ir,Fr){if(Fr.type===18){var Pr=gl[Fr.name];if(typeof Pr>"u")throw new Error('Attempting to parse an unsupported color function "'+Fr.name+'"');return Pr(Ir,Fr.values)}if(Fr.type===5){if(Fr.value.length===3){var Nr=Fr.value.substring(0,1),Wr=Fr.value.substring(1,2),ds=Fr.value.substring(2,3);return va(parseInt(Nr+Nr,16),parseInt(Wr+Wr,16),parseInt(ds+ds,16),1)}if(Fr.value.length===4){var Nr=Fr.value.substring(0,1),Wr=Fr.value.substring(1,2),ds=Fr.value.substring(2,3),xs=Fr.value.substring(3,4);return va(parseInt(Nr+Nr,16),parseInt(Wr+Wr,16),parseInt(ds+ds,16),parseInt(xs+xs,16)/255)}if(Fr.value.length===6){var Nr=Fr.value.substring(0,2),Wr=Fr.value.substring(2,4),ds=Fr.value.substring(4,6);return va(parseInt(Nr,16),parseInt(Wr,16),parseInt(ds,16),1)}if(Fr.value.length===8){var Nr=Fr.value.substring(0,2),Wr=Fr.value.substring(2,4),ds=Fr.value.substring(4,6),xs=Fr.value.substring(6,8);return va(parseInt(Nr,16),parseInt(Wr,16),parseInt(ds,16),parseInt(xs,16)/255)}}if(Fr.type===20){var js=Sa[Fr.value.toUpperCase()];if(typeof js<"u")return js}return Sa.TRANSPARENT}},za=function(Ir){return(255&Ir)===0},Go=function(Ir){var Fr=255&Ir,Pr=255&Ir>>8,Nr=255&Ir>>16,Wr=255&Ir>>24;return Fr<255?"rgba("+Wr+","+Nr+","+Pr+","+Fr/255+")":"rgb("+Wr+","+Nr+","+Pr+")"},va=function(Ir,Fr,Pr,Nr){return(Ir<<24|Fr<<16|Pr<<8|Math.round(Nr*255)<<0)>>>0},_l=function(Ir,Fr){if(Ir.type===17)return Ir.number;if(Ir.type===16){var Pr=Fr===3?1:255;return Fr===3?Ir.number/100*Pr:Math.round(Ir.number/100*Pr)}return 0},ya=function(Ir,Fr){var Pr=Fr.filter(ra);if(Pr.length===3){var Nr=Pr.map(_l),Wr=Nr[0],ds=Nr[1],xs=Nr[2];return va(Wr,ds,xs,1)}if(Pr.length===4){var js=Pr.map(_l),Wr=js[0],ds=js[1],xs=js[2],Qs=js[3];return va(Wr,ds,xs,Qs)}return 0};function Aa(Ir,Fr,Pr){return Pr<0&&(Pr+=1),Pr>=1&&(Pr-=1),Pr<1/6?(Fr-Ir)*Pr*6+Ir:Pr<1/2?Fr:Pr<2/3?(Fr-Ir)*6*(2/3-Pr)+Ir:Ir}var pl=function(Ir,Fr){var Pr=Fr.filter(ra),Nr=Pr[0],Wr=Pr[1],ds=Pr[2],xs=Pr[3],js=(Nr.type===17?Do(Nr.number):wA.parse(Ir,Nr))/(Math.PI*2),Qs=Ro(Wr)?Wr.number/100:0,ii=Ro(ds)?ds.number/100:0,Ai=typeof xs<"u"&&Ro(xs)?Bo(xs,1):1;if(Qs===0)return va(ii*255,ii*255,ii*255,1);var mi=ii<=.5?ii*(Qs+1):ii+Qs-ii*Qs,Ni=ii*2-mi,Ji=Aa(Ni,mi,js+1/3),Hi=Aa(Ni,mi,js),Ki=Aa(Ni,mi,js-1/3);return va(Ji*255,Hi*255,Ki*255,Ai)},gl={hsl:pl,hsla:pl,rgb:ya,rgba:ya},Na=function(Ir,Fr){return Ia.parse(Ir,go.create(Fr).parseComponentValue())},Sa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ml={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(Ir,Fr){return Fr.map(function(Pr){if(oo(Pr))switch(Pr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Wo={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ol=function(Ir,Fr){var Pr=Ia.parse(Ir,Fr[0]),Nr=Fr[1];return Nr&&Ro(Nr)?{color:Pr,stop:Nr}:{color:Pr,stop:null}},fa=function(Ir,Fr){var Pr=Ir[0],Nr=Ir[Ir.length-1];Pr.stop===null&&(Pr.stop=Vo),Nr.stop===null&&(Nr.stop=ka);for(var Wr=[],ds=0,xs=0;xs<Ir.length;xs++){var js=Ir[xs].stop;if(js!==null){var Qs=Bo(js,Fr);Qs>ds?Wr.push(Qs):Wr.push(ds),ds=Qs}else Wr.push(null)}for(var ii=null,xs=0;xs<Wr.length;xs++){var Ai=Wr[xs];if(Ai===null)ii===null&&(ii=xs);else if(ii!==null){for(var mi=xs-ii,Ni=Wr[ii-1],Ji=(Ai-Ni)/(mi+1),Hi=1;Hi<=mi;Hi++)Wr[ii+Hi-1]=Ji*Hi;ii=null}}return Ir.map(function(Ki,ho){var to=Ki.color;return{color:to,stop:Math.max(Math.min(1,Wr[ho]/Fr),0)}})},Qa=function(Ir,Fr,Pr){var Nr=Fr/2,Wr=Pr/2,ds=Bo(Ir[0],Fr)-Nr,xs=Wr-Bo(Ir[1],Pr);return(Math.atan2(xs,ds)+Math.PI*2)%(Math.PI*2)},CA=function(Ir,Fr,Pr){var Nr=typeof Ir=="number"?Ir:Qa(Ir,Fr,Pr),Wr=Math.abs(Fr*Math.sin(Nr))+Math.abs(Pr*Math.cos(Nr)),ds=Fr/2,xs=Pr/2,js=Wr/2,Qs=Math.sin(Nr-Math.PI/2)*js,ii=Math.cos(Nr-Math.PI/2)*js;return[Wr,ds-ii,ds+ii,xs-Qs,xs+Qs]},xa=function(Ir,Fr){return Math.sqrt(Ir*Ir+Fr*Fr)},SA=function(Ir,Fr,Pr,Nr,Wr){var ds=[[0,0],[0,Fr],[Ir,0],[Ir,Fr]];return ds.reduce(function(xs,js){var Qs=js[0],ii=js[1],Ai=xa(Pr-Qs,Nr-ii);return(Wr?Ai<xs.optimumDistance:Ai>xs.optimumDistance)?{optimumCorner:js,optimumDistance:Ai}:xs},{optimumDistance:Wr?1/0:-1/0,optimumCorner:null}).optimumCorner},nA=function(Ir,Fr,Pr,Nr,Wr){var ds=0,xs=0;switch(Ir.size){case 0:Ir.shape===0?ds=xs=Math.min(Math.abs(Fr),Math.abs(Fr-Nr),Math.abs(Pr),Math.abs(Pr-Wr)):Ir.shape===1&&(ds=Math.min(Math.abs(Fr),Math.abs(Fr-Nr)),xs=Math.min(Math.abs(Pr),Math.abs(Pr-Wr)));break;case 2:if(Ir.shape===0)ds=xs=Math.min(xa(Fr,Pr),xa(Fr,Pr-Wr),xa(Fr-Nr,Pr),xa(Fr-Nr,Pr-Wr));else if(Ir.shape===1){var js=Math.min(Math.abs(Pr),Math.abs(Pr-Wr))/Math.min(Math.abs(Fr),Math.abs(Fr-Nr)),Qs=SA(Nr,Wr,Fr,Pr,!0),ii=Qs[0],Ai=Qs[1];ds=xa(ii-Fr,(Ai-Pr)/js),xs=js*ds}break;case 1:Ir.shape===0?ds=xs=Math.max(Math.abs(Fr),Math.abs(Fr-Nr),Math.abs(Pr),Math.abs(Pr-Wr)):Ir.shape===1&&(ds=Math.max(Math.abs(Fr),Math.abs(Fr-Nr)),xs=Math.max(Math.abs(Pr),Math.abs(Pr-Wr)));break;case 3:if(Ir.shape===0)ds=xs=Math.max(xa(Fr,Pr),xa(Fr,Pr-Wr),xa(Fr-Nr,Pr),xa(Fr-Nr,Pr-Wr));else if(Ir.shape===1){var js=Math.max(Math.abs(Pr),Math.abs(Pr-Wr))/Math.max(Math.abs(Fr),Math.abs(Fr-Nr)),mi=SA(Nr,Wr,Fr,Pr,!1),ii=mi[0],Ai=mi[1];ds=xa(ii-Fr,(Ai-Pr)/js),xs=js*ds}break}return Array.isArray(Ir.size)&&(ds=Bo(Ir.size[0],Nr),xs=Ir.size.length===2?Bo(Ir.size[1],Wr):ds),[ds,xs]},rA=function(Ir,Fr){var Pr=Do(180),Nr=[];return Zo(Fr).forEach(function(Wr,ds){if(ds===0){var xs=Wr[0];if(xs.type===20&&xs.value==="to"){Pr=GA(Wr);return}else if(BA(xs)){Pr=wA.parse(Ir,xs);return}}var js=Ol(Ir,Wr);Nr.push(js)}),{angle:Pr,stops:Nr,type:1}},Xa=function(Ir,Fr){var Pr=Do(180),Nr=[];return Zo(Fr).forEach(function(Wr,ds){if(ds===0){var xs=Wr[0];if(xs.type===20&&["top","left","right","bottom"].indexOf(xs.value)!==-1){Pr=GA(Wr);return}else if(BA(xs)){Pr=(wA.parse(Ir,xs)+Do(270))%Do(360);return}}var js=Ol(Ir,Wr);Nr.push(js)}),{angle:Pr,stops:Nr,type:1}},sA=function(Ir,Fr){var Pr=Do(180),Nr=[],Wr=1,ds=0,xs=3,js=[];return Zo(Fr).forEach(function(Qs,ii){var Ai=Qs[0];if(ii===0){if(oo(Ai)&&Ai.value==="linear"){Wr=1;return}else if(oo(Ai)&&Ai.value==="radial"){Wr=2;return}}if(Ai.type===18){if(Ai.name==="from"){var mi=Ia.parse(Ir,Ai.values[0]);Nr.push({stop:Vo,color:mi})}else if(Ai.name==="to"){var mi=Ia.parse(Ir,Ai.values[0]);Nr.push({stop:ka,color:mi})}else if(Ai.name==="color-stop"){var Ni=Ai.values.filter(ra);if(Ni.length===2){var mi=Ia.parse(Ir,Ni[1]),Ji=Ni[0];No(Ji)&&Nr.push({stop:{type:16,number:Ji.number*100,flags:Ji.flags},color:mi})}}}}),Wr===1?{angle:(Pr+Do(180))%Do(360),stops:Nr,type:Wr}:{size:xs,shape:ds,stops:Nr,position:js,type:Wr}},iA="closest-side",Ml="farthest-side",vl="closest-corner",xA="farthest-corner",Pa="circle",Oa="ellipse",Po="cover",_o="contain",zo=function(Ir,Fr){var Pr=0,Nr=3,Wr=[],ds=[];return Zo(Fr).forEach(function(xs,js){var Qs=!0;if(js===0){var ii=!1;Qs=xs.reduce(function(mi,Ni){if(ii)if(oo(Ni))switch(Ni.value){case"center":return ds.push(Zl),mi;case"top":case"left":return ds.push(Vo),mi;case"right":case"bottom":return ds.push(ka),mi}else(Ro(Ni)||Ua(Ni))&&ds.push(Ni);else if(oo(Ni))switch(Ni.value){case Pa:return Pr=0,!1;case Oa:return Pr=1,!1;case"at":return ii=!0,!1;case iA:return Nr=0,!1;case Po:case Ml:return Nr=1,!1;case _o:case vl:return Nr=2,!1;case xA:return Nr=3,!1}else if(Ua(Ni)||Ro(Ni))return Array.isArray(Nr)||(Nr=[]),Nr.push(Ni),!1;return mi},Qs)}if(Qs){var Ai=Ol(Ir,xs);Wr.push(Ai)}}),{size:Nr,shape:Pr,stops:Wr,position:ds,type:2}},Qo=function(Ir,Fr){var Pr=0,Nr=3,Wr=[],ds=[];return Zo(Fr).forEach(function(xs,js){var Qs=!0;if(js===0?Qs=xs.reduce(function(Ai,mi){if(oo(mi))switch(mi.value){case"center":return ds.push(Zl),!1;case"top":case"left":return ds.push(Vo),!1;case"right":case"bottom":return ds.push(ka),!1}else if(Ro(mi)||Ua(mi))return ds.push(mi),!1;return Ai},Qs):js===1&&(Qs=xs.reduce(function(Ai,mi){if(oo(mi))switch(mi.value){case Pa:return Pr=0,!1;case Oa:return Pr=1,!1;case _o:case iA:return Nr=0,!1;case Ml:return Nr=1,!1;case vl:return Nr=2,!1;case Po:case xA:return Nr=3,!1}else if(Ua(mi)||Ro(mi))return Array.isArray(Nr)||(Nr=[]),Nr.push(mi),!1;return Ai},Qs)),Qs){var ii=Ol(Ir,xs);Wr.push(ii)}}),{size:Nr,shape:Pr,stops:Wr,position:ds,type:2}},yl=function(Ir){return Ir.type===1},WA=function(Ir){return Ir.type===2},Ll={name:"image",parse:function(Ir,Fr){if(Fr.type===22){var Pr={url:Fr.value,type:0};return Ir.cache.addImage(Fr.value),Pr}if(Fr.type===18){var Nr=_c[Fr.name];if(typeof Nr>"u")throw new Error('Attempting to parse an unsupported image function "'+Fr.name+'"');return Nr(Ir,Fr.values)}throw new Error("Unsupported image type "+Fr.type)}};function Pc(Ir){return!(Ir.type===20&&Ir.value==="none")&&(Ir.type!==18||!!_c[Ir.name])}var _c={"linear-gradient":rA,"-moz-linear-gradient":Xa,"-ms-linear-gradient":Xa,"-o-linear-gradient":Xa,"-webkit-linear-gradient":Xa,"radial-gradient":zo,"-moz-radial-gradient":Qo,"-ms-radial-gradient":Qo,"-o-radial-gradient":Qo,"-webkit-radial-gradient":Qo,"-webkit-gradient":sA},Oc={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(Ir,Fr){if(Fr.length===0)return[];var Pr=Fr[0];return Pr.type===20&&Pr.value==="none"?[]:Fr.filter(function(Nr){return ra(Nr)&&Pc(Nr)}).map(function(Nr){return Ll.parse(Ir,Nr)})}},Ma={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(Ir,Fr){return Fr.map(function(Pr){if(oo(Pr))switch(Pr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ja={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(Ir,Fr){return Zo(Fr).map(function(Pr){return Pr.filter(Ro)}).map(Jl)}},Mc={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(Ir,Fr){return Zo(Fr).map(function(Pr){return Pr.filter(oo).map(function(Nr){return Nr.value}).join(" ")}).map(Lc)}},Lc=function(Ir){switch(Ir){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},oA;(function(Ir){Ir.AUTO="auto",Ir.CONTAIN="contain",Ir.COVER="cover"})(oA||(oA={}));var Rc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(Ir,Fr){return Zo(Fr).map(function(Pr){return Pr.filter(Dc)})}},Dc=function(Ir){return oo(Ir)||Ro(Ir)},EA=function(Ir){return{name:"border-"+Ir+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zu=EA("top"),Eu=EA("right"),Fu=EA("bottom"),Uc=EA("left"),FA=function(Ir){return{name:"border-radius-"+Ir,initialValue:"0 0",prefix:!1,type:1,parse:function(Fr,Pr){return Jl(Pr.filter(Ro))}}},qd=FA("top-left"),Jd=FA("top-right"),ed=FA("bottom-right"),Zd=FA("bottom-left"),Qc=function(Ir){return{name:"border-"+Ir+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(Fr,Pr){switch(Pr){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ef=Qc("top"),tf=Qc("right"),nf=Qc("bottom"),Tu=Qc("left"),TA=function(Ir){return{name:"border-"+Ir+"-width",initialValue:"0",type:0,prefix:!1,parse:function(Fr,Pr){return Io(Pr)?Pr.number:0}}},zA=TA("top"),rf=TA("right"),sf=TA("bottom"),nd=TA("left"),of={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},af={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"rtl":return 1;case"ltr":default:return 0}}},lf={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(Ir,Fr){return Fr.filter(oo).reduce(function(Pr,Nr){return Pr|Af(Nr.value)},0)}},Af=function(Ir){switch(Ir){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Rl={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Ya={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(Ir,Fr){return Fr.type===20&&Fr.value==="normal"?0:Fr.type===17||Fr.type===15?Fr.number:0}},Ha;(function(Ir){Ir.NORMAL="normal",Ir.STRICT="strict"})(Ha||(Ha={}));var cf={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"strict":return Ha.STRICT;case"normal":default:return Ha.NORMAL}}},rd={name:"line-height",initialValue:"normal",prefix:!1,type:4},bl=function(Ir,Fr){return oo(Ir)&&Ir.value==="normal"?1.2*Fr:Ir.type===17?Fr*Ir.number:Ro(Ir)?Bo(Ir,Fr):Fr},$a={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(Ir,Fr){return Fr.type===20&&Fr.value==="none"?null:Ll.parse(Ir,Fr)}},uf={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"inside":return 0;case"outside":default:return 1}}},ku={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},XA=function(Ir){return{name:"margin-"+Ir,initialValue:"0",prefix:!1,type:4}},sd=XA("top"),id=XA("right"),od=XA("bottom"),df=XA("left"),jc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(Ir,Fr){return Fr.filter(oo).map(function(Pr){switch(Pr.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Hc={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"break-word":return"break-word";case"normal":default:return"normal"}}},Dl=function(Ir){return{name:"padding-"+Ir,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Iu=Dl("top"),ff=Dl("right"),ad=Dl("bottom"),hf=Dl("left"),pf={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},gf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mf={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Ir,Fr){return Fr.length===1&&Yo(Fr[0],"none")?[]:Zo(Fr).map(function(Pr){for(var Nr={color:Sa.TRANSPARENT,offsetX:Vo,offsetY:Vo,blur:Vo},Wr=0,ds=0;ds<Pr.length;ds++){var xs=Pr[ds];Ua(xs)?(Wr===0?Nr.offsetX=xs:Wr===1?Nr.offsetY=xs:Nr.blur=xs,Wr++):Nr.color=Ia.parse(Ir,xs)}return Nr})}},vf={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},yf={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(Ir,Fr){if(Fr.type===20&&Fr.value==="none")return null;if(Fr.type===18){var Pr=bf[Fr.name];if(typeof Pr>"u")throw new Error('Attempting to parse an unsupported transform function "'+Fr.name+'"');return Pr(Fr.values)}return null}},ld=function(Ir){var Fr=Ir.filter(function(Pr){return Pr.type===17}).map(function(Pr){return Pr.number});return Fr.length===6?Fr:null},$c=function(Ir){var Fr=Ir.filter(function(Qs){return Qs.type===17}).map(function(Qs){return Qs.number}),Pr=Fr[0],Nr=Fr[1];Fr[2],Fr[3];var Wr=Fr[4],ds=Fr[5];Fr[6],Fr[7],Fr[8],Fr[9],Fr[10],Fr[11];var xs=Fr[12],js=Fr[13];return Fr[14],Fr[15],Fr.length===16?[Pr,Nr,Wr,ds,xs,js]:null},bf={matrix:ld,matrix3d:$c},Ad={type:16,number:50,flags:el},cd=[Ad,Ad],xr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(Ir,Fr){var Pr=Fr.filter(Ro);return Pr.length!==2?cd:[Pr[0],Pr[1]]}},Dr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Gr;(function(Ir){Ir.NORMAL="normal",Ir.BREAK_ALL="break-all",Ir.KEEP_ALL="keep-all"})(Gr||(Gr={}));for(var rs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"break-all":return Gr.BREAK_ALL;case"keep-all":return Gr.KEEP_ALL;case"normal":default:return Gr.NORMAL}}},vs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(Ir,Fr){if(Fr.type===20)return{auto:!0,order:0};if(No(Fr))return{auto:!1,order:Fr.number};throw new Error("Invalid z-index number parsed")}},Ss={name:"time",parse:function(Ir,Fr){if(Fr.type===15)switch(Fr.unit.toLowerCase()){case"s":return 1e3*Fr.number;case"ms":return Fr.number}throw new Error("Unsupported time type")}},Es={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(Ir,Fr){return No(Fr)?Fr.number:1}},Ns={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ls={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(Ir,Fr){return Fr.filter(oo).map(function(Pr){switch(Pr.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(Pr){return Pr!==0})}},Hs={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(Ir,Fr){var Pr=[],Nr=[];return Fr.forEach(function(Wr){switch(Wr.type){case 20:case 0:Pr.push(Wr.value);break;case 17:Pr.push(Wr.number.toString());break;case 4:Nr.push(Pr.join(" ")),Pr.length=0;break}}),Pr.length&&Nr.push(Pr.join(" ")),Nr.map(function(Wr){return Wr.indexOf(" ")===-1?Wr:"'"+Wr+"'"})}},ri={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},vi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(Ir,Fr){if(No(Fr))return Fr.number;if(oo(Fr))switch(Fr.value){case"bold":return 700;case"normal":default:return 400}return 400}},yi={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(Ir,Fr){return Fr.filter(oo).map(function(Pr){return Pr.value})}},ui={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(Ir,Fr){switch(Fr){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ti=function(Ir,Fr){return(Ir&Fr)!==0},xi={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(Ir,Fr){if(Fr.length===0)return[];var Pr=Fr[0];return Pr.type===20&&Pr.value==="none"?[]:Fr}},si={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(Ir,Fr){if(Fr.length===0)return null;var Pr=Fr[0];if(Pr.type===20&&Pr.value==="none")return null;for(var Nr=[],Wr=Fr.filter(Da),ds=0;ds<Wr.length;ds++){var xs=Wr[ds],js=Wr[ds+1];if(xs.type===20){var Qs=js&&No(js)?js.number:1;Nr.push({counter:xs.value,increment:Qs})}}return Nr}},ai={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(Ir,Fr){if(Fr.length===0)return[];for(var Pr=[],Nr=Fr.filter(Da),Wr=0;Wr<Nr.length;Wr++){var ds=Nr[Wr],xs=Nr[Wr+1];if(oo(ds)&&ds.value!=="none"){var js=xs&&No(xs)?xs.number:0;Pr.push({counter:ds.value,reset:js})}}return Pr}},_i={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(Ir,Fr){return Fr.filter(Io).map(function(Pr){return Ss.parse(Ir,Pr)})}},Li={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(Ir,Fr){if(Fr.length===0)return null;var Pr=Fr[0];if(Pr.type===20&&Pr.value==="none")return null;var Nr=[],Wr=Fr.filter(da);if(Wr.length%2!==0)return null;for(var ds=0;ds<Wr.length;ds+=2){var xs=Wr[ds].value,js=Wr[ds+1].value;Nr.push({open:xs,close:js})}return Nr}},Oi=function(Ir,Fr,Pr){if(!Ir)return"";var Nr=Ir[Math.min(Fr,Ir.length-1)];return Nr?Pr?Nr.open:Nr.close:""},zi={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(Ir,Fr){return Fr.length===1&&Yo(Fr[0],"none")?[]:Zo(Fr).map(function(Pr){for(var Nr={color:255,offsetX:Vo,offsetY:Vo,blur:Vo,spread:Vo,inset:!1},Wr=0,ds=0;ds<Pr.length;ds++){var xs=Pr[ds];Yo(xs,"inset")?Nr.inset=!0:Ua(xs)?(Wr===0?Nr.offsetX=xs:Wr===1?Nr.offsetY=xs:Wr===2?Nr.blur=xs:Nr.spread=xs,Wr++):Nr.color=Ia.parse(Ir,xs)}return Nr})}},$i={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(Ir,Fr){var Pr=[0,1,2],Nr=[];return Fr.filter(oo).forEach(function(Wr){switch(Wr.value){case"stroke":Nr.push(1);break;case"fill":Nr.push(0);break;case"markers":Nr.push(2);break}}),Pr.forEach(function(Wr){Nr.indexOf(Wr)===-1&&Nr.push(Wr)}),Nr}},ro={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Vi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(Ir,Fr){return Io(Fr)?Fr.number:0}},Co=function(){function Ir(Fr,Pr){var Nr,Wr;this.animationDuration=Ri(Fr,_i,Pr.animationDuration),this.backgroundClip=Ri(Fr,ml,Pr.backgroundClip),this.backgroundColor=Ri(Fr,Wo,Pr.backgroundColor),this.backgroundImage=Ri(Fr,Oc,Pr.backgroundImage),this.backgroundOrigin=Ri(Fr,Ma,Pr.backgroundOrigin),this.backgroundPosition=Ri(Fr,ja,Pr.backgroundPosition),this.backgroundRepeat=Ri(Fr,Mc,Pr.backgroundRepeat),this.backgroundSize=Ri(Fr,Rc,Pr.backgroundSize),this.borderTopColor=Ri(Fr,Zu,Pr.borderTopColor),this.borderRightColor=Ri(Fr,Eu,Pr.borderRightColor),this.borderBottomColor=Ri(Fr,Fu,Pr.borderBottomColor),this.borderLeftColor=Ri(Fr,Uc,Pr.borderLeftColor),this.borderTopLeftRadius=Ri(Fr,qd,Pr.borderTopLeftRadius),this.borderTopRightRadius=Ri(Fr,Jd,Pr.borderTopRightRadius),this.borderBottomRightRadius=Ri(Fr,ed,Pr.borderBottomRightRadius),this.borderBottomLeftRadius=Ri(Fr,Zd,Pr.borderBottomLeftRadius),this.borderTopStyle=Ri(Fr,ef,Pr.borderTopStyle),this.borderRightStyle=Ri(Fr,tf,Pr.borderRightStyle),this.borderBottomStyle=Ri(Fr,nf,Pr.borderBottomStyle),this.borderLeftStyle=Ri(Fr,Tu,Pr.borderLeftStyle),this.borderTopWidth=Ri(Fr,zA,Pr.borderTopWidth),this.borderRightWidth=Ri(Fr,rf,Pr.borderRightWidth),this.borderBottomWidth=Ri(Fr,sf,Pr.borderBottomWidth),this.borderLeftWidth=Ri(Fr,nd,Pr.borderLeftWidth),this.boxShadow=Ri(Fr,zi,Pr.boxShadow),this.color=Ri(Fr,of,Pr.color),this.direction=Ri(Fr,af,Pr.direction),this.display=Ri(Fr,lf,Pr.display),this.float=Ri(Fr,Rl,Pr.cssFloat),this.fontFamily=Ri(Fr,Hs,Pr.fontFamily),this.fontSize=Ri(Fr,ri,Pr.fontSize),this.fontStyle=Ri(Fr,ui,Pr.fontStyle),this.fontVariant=Ri(Fr,yi,Pr.fontVariant),this.fontWeight=Ri(Fr,vi,Pr.fontWeight),this.letterSpacing=Ri(Fr,Ya,Pr.letterSpacing),this.lineBreak=Ri(Fr,cf,Pr.lineBreak),this.lineHeight=Ri(Fr,rd,Pr.lineHeight),this.listStyleImage=Ri(Fr,$a,Pr.listStyleImage),this.listStylePosition=Ri(Fr,uf,Pr.listStylePosition),this.listStyleType=Ri(Fr,ku,Pr.listStyleType),this.marginTop=Ri(Fr,sd,Pr.marginTop),this.marginRight=Ri(Fr,id,Pr.marginRight),this.marginBottom=Ri(Fr,od,Pr.marginBottom),this.marginLeft=Ri(Fr,df,Pr.marginLeft),this.opacity=Ri(Fr,Es,Pr.opacity);var ds=Ri(Fr,jc,Pr.overflow);this.overflowX=ds[0],this.overflowY=ds[ds.length>1?1:0],this.overflowWrap=Ri(Fr,Hc,Pr.overflowWrap),this.paddingTop=Ri(Fr,Iu,Pr.paddingTop),this.paddingRight=Ri(Fr,ff,Pr.paddingRight),this.paddingBottom=Ri(Fr,ad,Pr.paddingBottom),this.paddingLeft=Ri(Fr,hf,Pr.paddingLeft),this.paintOrder=Ri(Fr,$i,Pr.paintOrder),this.position=Ri(Fr,gf,Pr.position),this.textAlign=Ri(Fr,pf,Pr.textAlign),this.textDecorationColor=Ri(Fr,Ns,(Nr=Pr.textDecorationColor)!==null&&Nr!==void 0?Nr:Pr.color),this.textDecorationLine=Ri(Fr,Ls,(Wr=Pr.textDecorationLine)!==null&&Wr!==void 0?Wr:Pr.textDecoration),this.textShadow=Ri(Fr,mf,Pr.textShadow),this.textTransform=Ri(Fr,vf,Pr.textTransform),this.transform=Ri(Fr,yf,Pr.transform),this.transformOrigin=Ri(Fr,xr,Pr.transformOrigin),this.visibility=Ri(Fr,Dr,Pr.visibility),this.webkitTextStrokeColor=Ri(Fr,ro,Pr.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ri(Fr,Vi,Pr.webkitTextStrokeWidth),this.wordBreak=Ri(Fr,rs,Pr.wordBreak),this.zIndex=Ri(Fr,vs,Pr.zIndex)}return Ir.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},Ir.prototype.isTransparent=function(){return za(this.backgroundColor)},Ir.prototype.isTransformed=function(){return this.transform!==null},Ir.prototype.isPositioned=function(){return this.position!==0},Ir.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Ir.prototype.isFloating=function(){return this.float!==0},Ir.prototype.isInlineLevel=function(){return Ti(this.display,4)||Ti(this.display,33554432)||Ti(this.display,268435456)||Ti(this.display,536870912)||Ti(this.display,67108864)||Ti(this.display,134217728)},Ir}(),Eo=function(){function Ir(Fr,Pr){this.content=Ri(Fr,xi,Pr.content),this.quotes=Ri(Fr,Li,Pr.quotes)}return Ir}(),mo=function(){function Ir(Fr,Pr){this.counterIncrement=Ri(Fr,si,Pr.counterIncrement),this.counterReset=Ri(Fr,ai,Pr.counterReset)}return Ir}(),Ri=function(Ir,Fr,Pr){var Nr=new lo,Wr=Pr!==null&&typeof Pr<"u"?Pr.toString():Fr.initialValue;Nr.write(Wr);var ds=new go(Nr.read());switch(Fr.type){case 2:var xs=ds.parseComponentValue();return Fr.parse(Ir,oo(xs)?xs.value:Fr.initialValue);case 0:return Fr.parse(Ir,ds.parseComponentValue());case 1:return Fr.parse(Ir,ds.parseComponentValues());case 4:return ds.parseComponentValue();case 3:switch(Fr.format){case"angle":return wA.parse(Ir,ds.parseComponentValue());case"color":return Ia.parse(Ir,ds.parseComponentValue());case"image":return Ll.parse(Ir,ds.parseComponentValue());case"length":var js=ds.parseComponentValue();return Ua(js)?js:Vo;case"length-percentage":var Qs=ds.parseComponentValue();return Ro(Qs)?Qs:Vo;case"time":return Ss.parse(Ir,ds.parseComponentValue())}break}},Oo="data-html2canvas-debug",To=function(Ir){var Fr=Ir.getAttribute(Oo);switch(Fr){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},uo=function(Ir,Fr){var Pr=To(Ir);return Pr===1||Fr===Pr},Fo=function(){function Ir(Fr,Pr){if(this.context=Fr,this.textNodes=[],this.elements=[],this.flags=0,uo(Pr,3))debugger;this.styles=new Co(Fr,window.getComputedStyle(Pr,null)),Tf(Pr)&&(this.styles.animationDuration.some(function(Nr){return Nr>0})&&(Pr.style.animationDuration="0s"),this.styles.transform!==null&&(Pr.style.transform="none")),this.bounds=gr(this.context,Pr),uo(Pr,4)&&(this.flags|=16)}return Ir}(),Ea="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sa=typeof Uint8Array>"u"?[]:new Uint8Array(256),yo=0;yo<Xo.length;yo++)sa[Xo.charCodeAt(yo)]=yo;for(var La=function(Ir){var Fr=Ir.length*.75,Pr=Ir.length,Nr,Wr=0,ds,xs,js,Qs;Ir[Ir.length-1]==="="&&(Fr--,Ir[Ir.length-2]==="="&&Fr--);var ii=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(Fr):new Array(Fr),Ai=Array.isArray(ii)?ii:new Uint8Array(ii);for(Nr=0;Nr<Pr;Nr+=4)ds=sa[Ir.charCodeAt(Nr)],xs=sa[Ir.charCodeAt(Nr+1)],js=sa[Ir.charCodeAt(Nr+2)],Qs=sa[Ir.charCodeAt(Nr+3)],Ai[Wr++]=ds<<2|xs>>4,Ai[Wr++]=(xs&15)<<4|js>>2,Ai[Wr++]=(js&3)<<6|Qs&63;return ii},Ra=function(Ir){for(var Fr=Ir.length,Pr=[],Nr=0;Nr<Fr;Nr+=2)Pr.push(Ir[Nr+1]<<8|Ir[Nr]);return Pr},ia=function(Ir){for(var Fr=Ir.length,Pr=[],Nr=0;Nr<Fr;Nr+=4)Pr.push(Ir[Nr+3]<<24|Ir[Nr+2]<<16|Ir[Nr+1]<<8|Ir[Nr]);return Pr},Uo=5,ca=11,Fa=2,sl=ca-Uo,ea=65536>>Uo,wl=1<<Uo,Bl=wl-1,kA=1024>>Uo,Ul=ea+kA,jo=Ul,Nu=32,ud=jo+Nu,dd=65536>>ca,Vc=1<<sl,YA=Vc-1,qA=function(Ir,Fr,Pr){return Ir.slice?Ir.slice(Fr,Pr):new Uint16Array(Array.prototype.slice.call(Ir,Fr,Pr))},qa=function(Ir,Fr,Pr){return Ir.slice?Ir.slice(Fr,Pr):new Uint32Array(Array.prototype.slice.call(Ir,Fr,Pr))},IA=function(Ir,Fr){var Pr=La(Ir),Nr=Array.isArray(Pr)?ia(Pr):new Uint32Array(Pr),Wr=Array.isArray(Pr)?Ra(Pr):new Uint16Array(Pr),ds=24,xs=qA(Wr,ds/2,Nr[4]/2),js=Nr[5]===2?qA(Wr,(ds+Nr[4])/2):qa(Nr,Math.ceil((ds+Nr[4])/4));return new NA(Nr[0],Nr[1],Nr[2],Nr[3],xs,js)},NA=function(){function Ir(Fr,Pr,Nr,Wr,ds,xs){this.initialValue=Fr,this.errorValue=Pr,this.highStart=Nr,this.highValueIndex=Wr,this.index=ds,this.data=xs}return Ir.prototype.get=function(Fr){var Pr;if(Fr>=0){if(Fr<55296||Fr>56319&&Fr<=65535)return Pr=this.index[Fr>>Uo],Pr=(Pr<<Fa)+(Fr&Bl),this.data[Pr];if(Fr<=65535)return Pr=this.index[ea+(Fr-55296>>Uo)],Pr=(Pr<<Fa)+(Fr&Bl),this.data[Pr];if(Fr<this.highStart)return Pr=ud-dd+(Fr>>ca),Pr=this.index[Pr],Pr+=Fr>>Uo&YA,Pr=this.index[Pr],Pr=(Pr<<Fa)+(Fr&Bl),this.data[Pr];if(Fr<=1114111)return this.data[this.highValueIndex]}return this.errorValue},Ir}(),Pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kc=typeof Uint8Array>"u"?[]:new Uint8Array(256),JA=0;JA<Pu.length;JA++)Kc[Pu.charCodeAt(JA)]=JA;var Gc=1,ZA=2,PA=3,_A=4,hd=5,wf=7,Wc=8,il=9,_u=10,pd=11,gd=12,Ou=13,tc=14,zc=15,md=function(Ir){for(var Fr=[],Pr=0,Nr=Ir.length;Pr<Nr;){var Wr=Ir.charCodeAt(Pr++);if(Wr>=55296&&Wr<=56319&&Pr<Nr){var ds=Ir.charCodeAt(Pr++);(ds&64512)===56320?Fr.push(((Wr&1023)<<10)+(ds&1023)+65536):(Fr.push(Wr),Pr--)}else Fr.push(Wr)}return Fr},Xc=function(){for(var Ir=[],Fr=0;Fr<arguments.length;Fr++)Ir[Fr]=arguments[Fr];if(String.fromCodePoint)return String.fromCodePoint.apply(String,Ir);var Pr=Ir.length;if(!Pr)return"";for(var Nr=[],Wr=-1,ds="";++Wr<Pr;){var xs=Ir[Wr];xs<=65535?Nr.push(xs):(xs-=65536,Nr.push((xs>>10)+55296,xs%1024+56320)),(Wr+1===Pr||Nr.length>16384)&&(ds+=String.fromCharCode.apply(String,Nr),Nr.length=0)}return ds},Mu=IA(Ea),ha="",Yc="",Bf=function(Ir){return Mu.get(Ir)},qc=function(Ir,Fr,Pr){var Nr=Pr-2,Wr=Fr[Nr],ds=Fr[Pr-1],xs=Fr[Pr];if(ds===ZA&&xs===PA)return ha;if(ds===ZA||ds===PA||ds===_A||xs===ZA||xs===PA||xs===_A)return Yc;if(ds===Wc&&[Wc,il,pd,gd].indexOf(xs)!==-1||(ds===pd||ds===il)&&(xs===il||xs===_u)||(ds===gd||ds===_u)&&xs===_u||xs===Ou||xs===hd||xs===wf||ds===Gc)return ha;if(ds===Ou&&xs===tc){for(;Wr===hd;)Wr=Fr[--Nr];if(Wr===tc)return ha}if(ds===zc&&xs===zc){for(var js=0;Wr===zc;)js++,Wr=Fr[--Nr];if(js%2===0)return ha}return Yc},vd=function(Ir){var Fr=md(Ir),Pr=Fr.length,Nr=0,Wr=0,ds=Fr.map(Bf);return{next:function(){if(Nr>=Pr)return{done:!0,value:null};for(var xs=ha;Nr<Pr&&(xs=qc(Fr,ds,++Nr))===ha;);if(xs!==ha||Nr===Pr){var js=Xc.apply(null,Fr.slice(Wr,Nr));return Wr=Nr,{value:js,done:!1}}return{done:!0,value:null}}}},Lu=function(Ir){for(var Fr=vd(Ir),Pr=[],Nr;!(Nr=Fr.next()).done;)Nr.value&&Pr.push(Nr.value.slice());return Pr},Ql=function(Ir){var Fr=123;if(Ir.createRange){var Pr=Ir.createRange();if(Pr.getBoundingClientRect){var Nr=Ir.createElement("boundtest");Nr.style.height=Fr+"px",Nr.style.display="block",Ir.body.appendChild(Nr),Pr.selectNode(Nr);var Wr=Pr.getBoundingClientRect(),ds=Math.round(Wr.height);if(Ir.body.removeChild(Nr),ds===Fr)return!0}}return!1},yd=function(Ir){var Fr=Ir.createElement("boundtest");Fr.style.width="50px",Fr.style.display="block",Fr.style.fontSize="12px",Fr.style.letterSpacing="0px",Fr.style.wordSpacing="0px",Ir.body.appendChild(Fr);var Pr=Ir.createRange();Fr.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var Nr=Fr.firstChild,Wr=mr(Nr.data).map(function(Qs){return yr(Qs)}),ds=0,xs={},js=Wr.every(function(Qs,ii){Pr.setStart(Nr,ds),Pr.setEnd(Nr,ds+Qs.length);var Ai=Pr.getBoundingClientRect();ds+=Qs.length;var mi=Ai.x>xs.x||Ai.y>xs.y;return xs=Ai,ii===0?!0:mi});return Ir.body.removeChild(Fr),js},bd=function(){return typeof new Image().crossOrigin<"u"},Cf=function(){return typeof new XMLHttpRequest().responseType=="string"},wd=function(Ir){var Fr=new Image,Pr=Ir.createElement("canvas"),Nr=Pr.getContext("2d");if(!Nr)return!1;Fr.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{Nr.drawImage(Fr,0,0),Pr.toDataURL()}catch{return!1}return!0},aA=function(Ir){return Ir[0]===0&&Ir[1]===255&&Ir[2]===0&&Ir[3]===255},Sf=function(Ir){var Fr=Ir.createElement("canvas"),Pr=100;Fr.width=Pr,Fr.height=Pr;var Nr=Fr.getContext("2d");if(!Nr)return Promise.reject(!1);Nr.fillStyle="rgb(0, 255, 0)",Nr.fillRect(0,0,Pr,Pr);var Wr=new Image,ds=Fr.toDataURL();Wr.src=ds;var xs=Jc(Pr,Pr,0,0,Wr);return Nr.fillStyle="red",Nr.fillRect(0,0,Pr,Pr),Bd(xs).then(function(js){Nr.drawImage(js,0,0);var Qs=Nr.getImageData(0,0,Pr,Pr).data;Nr.fillStyle="red",Nr.fillRect(0,0,Pr,Pr);var ii=Ir.createElement("div");return ii.style.backgroundImage="url("+ds+")",ii.style.height=Pr+"px",aA(Qs)?Bd(Jc(Pr,Pr,0,0,ii)):Promise.reject(!1)}).then(function(js){return Nr.drawImage(js,0,0),aA(Nr.getImageData(0,0,Pr,Pr).data)}).catch(function(){return!1})},Jc=function(Ir,Fr,Pr,Nr,Wr){var ds="http://www.w3.org/2000/svg",xs=document.createElementNS(ds,"svg"),js=document.createElementNS(ds,"foreignObject");return xs.setAttributeNS(null,"width",Ir.toString()),xs.setAttributeNS(null,"height",Fr.toString()),js.setAttributeNS(null,"width","100%"),js.setAttributeNS(null,"height","100%"),js.setAttributeNS(null,"x",Pr.toString()),js.setAttributeNS(null,"y",Nr.toString()),js.setAttributeNS(null,"externalResourcesRequired","true"),xs.appendChild(js),js.appendChild(Wr),xs},Bd=function(Ir){return new Promise(function(Fr,Pr){var Nr=new Image;Nr.onload=function(){return Fr(Nr)},Nr.onerror=Pr,Nr.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Ir))})},oa={get SUPPORT_RANGE_BOUNDS(){var Ir=Ql(document);return Object.defineProperty(oa,"SUPPORT_RANGE_BOUNDS",{value:Ir}),Ir},get SUPPORT_WORD_BREAKING(){var Ir=oa.SUPPORT_RANGE_BOUNDS&&yd(document);return Object.defineProperty(oa,"SUPPORT_WORD_BREAKING",{value:Ir}),Ir},get SUPPORT_SVG_DRAWING(){var Ir=wd(document);return Object.defineProperty(oa,"SUPPORT_SVG_DRAWING",{value:Ir}),Ir},get SUPPORT_FOREIGNOBJECT_DRAWING(){var Ir=typeof Array.from=="function"&&typeof window.fetch=="function"?Sf(document):Promise.resolve(!1);return Object.defineProperty(oa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:Ir}),Ir},get SUPPORT_CORS_IMAGES(){var Ir=bd();return Object.defineProperty(oa,"SUPPORT_CORS_IMAGES",{value:Ir}),Ir},get SUPPORT_RESPONSE_TYPE(){var Ir=Cf();return Object.defineProperty(oa,"SUPPORT_RESPONSE_TYPE",{value:Ir}),Ir},get SUPPORT_CORS_XHR(){var Ir="withCredentials"in new XMLHttpRequest;return Object.defineProperty(oa,"SUPPORT_CORS_XHR",{value:Ir}),Ir},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var Ir=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(oa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:Ir}),Ir}},nc=function(){function Ir(Fr,Pr){this.text=Fr,this.bounds=Pr}return Ir}(),rc=function(Ir,Fr,Pr,Nr){var Wr=Hl(Fr,Pr),ds=[],xs=0;return Wr.forEach(function(js){if(Pr.textDecorationLine.length||js.trim().length>0)if(oa.SUPPORT_RANGE_BOUNDS){var Qs=sc(Nr,xs,js.length).getClientRects();if(Qs.length>1){var ii=Ja(js),Ai=0;ii.forEach(function(Ni){ds.push(new nc(Ni,fr.fromDOMRectList(Ir,sc(Nr,Ai+xs,Ni.length).getClientRects()))),Ai+=Ni.length})}else ds.push(new nc(js,fr.fromDOMRectList(Ir,Qs)))}else{var mi=Nr.splitText(js.length);ds.push(new nc(js,Ru(Ir,Nr))),Nr=mi}else oa.SUPPORT_RANGE_BOUNDS||(Nr=Nr.splitText(js.length));xs+=js.length}),ds},Ru=function(Ir,Fr){var Pr=Fr.ownerDocument;if(Pr){var Nr=Pr.createElement("html2canvaswrapper");Nr.appendChild(Fr.cloneNode(!0));var Wr=Fr.parentNode;if(Wr){Wr.replaceChild(Nr,Fr);var ds=gr(Ir,Nr);return Nr.firstChild&&Wr.replaceChild(Nr.firstChild,Nr),ds}}return fr.EMPTY},sc=function(Ir,Fr,Pr){var Nr=Ir.ownerDocument;if(!Nr)throw new Error("Node has no owner document");var Wr=Nr.createRange();return Wr.setStart(Ir,Fr),Wr.setEnd(Ir,Fr+Pr),Wr},Ja=function(Ir){if(oa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Fr=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(Fr.segment(Ir)).map(function(Pr){return Pr.segment})}return Lu(Ir)},jl=function(Ir,Fr){if(oa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var Pr=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(Pr.segment(Ir)).map(function(Nr){return Nr.segment})}return Du(Ir,Fr)},Hl=function(Ir,Fr){return Fr.letterSpacing!==0?Ja(Ir):jl(Ir,Fr)},Zc=[32,160,4961,65792,65793,4153,4241],Du=function(Ir,Fr){for(var Pr=dc(Ir,{lineBreak:Fr.lineBreak,wordBreak:Fr.overflowWrap==="break-word"?"break-word":Fr.wordBreak}),Nr=[],Wr,ds=function(){if(Wr.value){var xs=Wr.value.slice(),js=mr(xs),Qs="";js.forEach(function(ii){Zc.indexOf(ii)===-1?Qs+=yr(ii):(Qs.length&&Nr.push(Qs),Nr.push(yr(ii)),Qs="")}),Qs.length&&Nr.push(Qs)}};!(Wr=Pr.next()).done;)ds();return Nr},Cd=function(){function Ir(Fr,Pr,Nr){this.text=xf(Pr.data,Nr.textTransform),this.textBounds=rc(Fr,this.text,Nr,Pr)}return Ir}(),xf=function(Ir,Fr){switch(Fr){case 1:return Ir.toLowerCase();case 3:return Ir.replace(Uu,Qu);case 2:return Ir.toUpperCase();default:return Ir}},Uu=/(^|\s|:|-|\(|\))([a-z])/g,Qu=function(Ir,Fr,Pr){return Ir.length>0?Fr+Pr.toUpperCase():Ir},Ch=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr.src=Nr.currentSrc||Nr.src,Wr.intrinsicWidth=Nr.naturalWidth,Wr.intrinsicHeight=Nr.naturalHeight,Wr.context.cache.addImage(Wr.src),Wr}return Fr}(Fo),Sh=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr.canvas=Nr,Wr.intrinsicWidth=Nr.width,Wr.intrinsicHeight=Nr.height,Wr}return Fr}(Fo),xh=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this,ds=new XMLSerializer,xs=gr(Pr,Nr);return Nr.setAttribute("width",xs.width+"px"),Nr.setAttribute("height",xs.height+"px"),Wr.svg="data:image/svg+xml,"+encodeURIComponent(ds.serializeToString(Nr)),Wr.intrinsicWidth=Nr.width.baseVal.value,Wr.intrinsicHeight=Nr.height.baseVal.value,Wr.context.cache.addImage(Wr.svg),Wr}return Fr}(Fo),Eh=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr.value=Nr.value,Wr}return Fr}(Fo),Ef=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr.start=Nr.start,Wr.reversed=typeof Nr.reversed=="boolean"&&Nr.reversed===!0,Wr}return Fr}(Fo),Hp=[{type:15,flags:0,unit:"px",number:3}],$p=[{type:16,flags:0,number:50}],Vp=function(Ir){return Ir.width>Ir.height?new fr(Ir.left+(Ir.width-Ir.height)/2,Ir.top,Ir.height,Ir.height):Ir.width<Ir.height?new fr(Ir.left,Ir.top+(Ir.height-Ir.width)/2,Ir.width,Ir.width):Ir},Kp=function(Ir){var Fr=Ir.type===Gp?new Array(Ir.value.length+1).join(""):Ir.value;return Fr.length===0?Ir.placeholder||"":Fr},Sd="checkbox",xd="radio",Gp="password",Fh=707406591,Ff=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;switch(Wr.type=Nr.type.toLowerCase(),Wr.checked=Nr.checked,Wr.value=Kp(Nr),(Wr.type===Sd||Wr.type===xd)&&(Wr.styles.backgroundColor=3739148031,Wr.styles.borderTopColor=Wr.styles.borderRightColor=Wr.styles.borderBottomColor=Wr.styles.borderLeftColor=2779096575,Wr.styles.borderTopWidth=Wr.styles.borderRightWidth=Wr.styles.borderBottomWidth=Wr.styles.borderLeftWidth=1,Wr.styles.borderTopStyle=Wr.styles.borderRightStyle=Wr.styles.borderBottomStyle=Wr.styles.borderLeftStyle=1,Wr.styles.backgroundClip=[0],Wr.styles.backgroundOrigin=[0],Wr.bounds=Vp(Wr.bounds)),Wr.type){case Sd:Wr.styles.borderTopRightRadius=Wr.styles.borderTopLeftRadius=Wr.styles.borderBottomRightRadius=Wr.styles.borderBottomLeftRadius=Hp;break;case xd:Wr.styles.borderTopRightRadius=Wr.styles.borderTopLeftRadius=Wr.styles.borderBottomRightRadius=Wr.styles.borderBottomLeftRadius=$p;break}return Wr}return Fr}(Fo),Th=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this,ds=Nr.options[Nr.selectedIndex||0];return Wr.value=ds&&ds.text||"",Wr}return Fr}(Fo),kh=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr.value=Nr.value,Wr}return Fr}(Fo),Ih=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;Wr.src=Nr.src,Wr.width=parseInt(Nr.width,10)||0,Wr.height=parseInt(Nr.height,10)||0,Wr.backgroundColor=Wr.styles.backgroundColor;try{if(Nr.contentWindow&&Nr.contentWindow.document&&Nr.contentWindow.document.documentElement){Wr.tree=Ph(Pr,Nr.contentWindow.document.documentElement);var ds=Nr.contentWindow.document.documentElement?Na(Pr,getComputedStyle(Nr.contentWindow.document.documentElement).backgroundColor):Sa.TRANSPARENT,xs=Nr.contentWindow.document.body?Na(Pr,getComputedStyle(Nr.contentWindow.document.body).backgroundColor):Sa.TRANSPARENT;Wr.backgroundColor=za(ds)?za(xs)?Wr.styles.backgroundColor:xs:ds}}catch{}return Wr}return Fr}(Fo),Wp=["OL","UL","MENU"],Ed=function(Ir,Fr,Pr,Nr){for(var Wr=Fr.firstChild,ds=void 0;Wr;Wr=ds)if(ds=Wr.nextSibling,_h(Wr)&&Wr.data.trim().length>0)Pr.textNodes.push(new Cd(Ir,Wr,Pr.styles));else if(eu(Wr))if(Uh(Wr)&&Wr.assignedNodes)Wr.assignedNodes().forEach(function(js){return Ed(Ir,js,Pr,Nr)});else{var xs=Nh(Ir,Wr);xs.styles.isVisible()&&(zp(Wr,xs,Nr)?xs.flags|=4:Xp(xs.styles)&&(xs.flags|=2),Wp.indexOf(Wr.tagName)!==-1&&(xs.flags|=8),Pr.elements.push(xs),Wr.slot,Wr.shadowRoot?Ed(Ir,Wr.shadowRoot,xs,Nr):!Td(Wr)&&!Oh(Wr)&&!kd(Wr)&&Ed(Ir,Wr,xs,Nr))}},Nh=function(Ir,Fr){return If(Fr)?new Ch(Ir,Fr):Mh(Fr)?new Sh(Ir,Fr):Oh(Fr)?new xh(Ir,Fr):Yp(Fr)?new Eh(Ir,Fr):qp(Fr)?new Ef(Ir,Fr):Jp(Fr)?new Ff(Ir,Fr):kd(Fr)?new Th(Ir,Fr):Td(Fr)?new kh(Ir,Fr):Rh(Fr)?new Ih(Ir,Fr):new Fo(Ir,Fr)},Ph=function(Ir,Fr){var Pr=Nh(Ir,Fr);return Pr.flags|=4,Ed(Ir,Fr,Pr,Pr),Pr},zp=function(Ir,Fr,Pr){return Fr.styles.isPositionedWithZIndex()||Fr.styles.opacity<1||Fr.styles.isTransformed()||kf(Ir)&&Pr.styles.isTransparent()},Xp=function(Ir){return Ir.isPositioned()||Ir.isFloating()},_h=function(Ir){return Ir.nodeType===Node.TEXT_NODE},eu=function(Ir){return Ir.nodeType===Node.ELEMENT_NODE},Tf=function(Ir){return eu(Ir)&&typeof Ir.style<"u"&&!Fd(Ir)},Fd=function(Ir){return typeof Ir.className=="object"},Yp=function(Ir){return Ir.tagName==="LI"},qp=function(Ir){return Ir.tagName==="OL"},Jp=function(Ir){return Ir.tagName==="INPUT"},Zp=function(Ir){return Ir.tagName==="HTML"},Oh=function(Ir){return Ir.tagName==="svg"},kf=function(Ir){return Ir.tagName==="BODY"},Mh=function(Ir){return Ir.tagName==="CANVAS"},Lh=function(Ir){return Ir.tagName==="VIDEO"},If=function(Ir){return Ir.tagName==="IMG"},Rh=function(Ir){return Ir.tagName==="IFRAME"},Dh=function(Ir){return Ir.tagName==="STYLE"},eg=function(Ir){return Ir.tagName==="SCRIPT"},Td=function(Ir){return Ir.tagName==="TEXTAREA"},kd=function(Ir){return Ir.tagName==="SELECT"},Uh=function(Ir){return Ir.tagName==="SLOT"},Qh=function(Ir){return Ir.tagName.indexOf("-")>0},tg=function(){function Ir(){this.counters={}}return Ir.prototype.getCounterValue=function(Fr){var Pr=this.counters[Fr];return Pr&&Pr.length?Pr[Pr.length-1]:1},Ir.prototype.getCounterValues=function(Fr){var Pr=this.counters[Fr];return Pr||[]},Ir.prototype.pop=function(Fr){var Pr=this;Fr.forEach(function(Nr){return Pr.counters[Nr].pop()})},Ir.prototype.parse=function(Fr){var Pr=this,Nr=Fr.counterIncrement,Wr=Fr.counterReset,ds=!0;Nr!==null&&Nr.forEach(function(js){var Qs=Pr.counters[js.counter];Qs&&js.increment!==0&&(ds=!1,Qs.length||Qs.push(1),Qs[Math.max(0,Qs.length-1)]+=js.increment)});var xs=[];return ds&&Wr.forEach(function(js){var Qs=Pr.counters[js.counter];xs.push(js.counter),Qs||(Qs=Pr.counters[js.counter]=[]),Qs.push(js.reset)}),xs},Ir}(),jh={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Hh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ng={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},rg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},tu=function(Ir,Fr,Pr,Nr,Wr,ds){return Ir<Fr||Ir>Pr?Hu(Ir,Wr,ds.length>0):Nr.integers.reduce(function(xs,js,Qs){for(;Ir>=js;)Ir-=js,xs+=Nr.values[Qs];return xs},"")+ds},$h=function(Ir,Fr,Pr,Nr){var Wr="";do Pr||Ir--,Wr=Nr(Ir)+Wr,Ir/=Fr;while(Ir*Fr>=Fr);return Wr},na=function(Ir,Fr,Pr,Nr,Wr){var ds=Pr-Fr+1;return(Ir<0?"-":"")+($h(Math.abs(Ir),ds,Nr,function(xs){return yr(Math.floor(xs%ds)+Fr)})+Wr)},ic=function(Ir,Fr,Pr){Pr===void 0&&(Pr=". ");var Nr=Fr.length;return $h(Math.abs(Ir),Nr,!1,function(Wr){return Fr[Math.floor(Wr%Nr)]})+Pr},nu=1,OA=2,MA=4,ju=8,lA=function(Ir,Fr,Pr,Nr,Wr,ds){if(Ir<-9999||Ir>9999)return Hu(Ir,4,Wr.length>0);var xs=Math.abs(Ir),js=Wr;if(xs===0)return Fr[0]+js;for(var Qs=0;xs>0&&Qs<=4;Qs++){var ii=xs%10;ii===0&&Ti(ds,nu)&&js!==""?js=Fr[ii]+js:ii>1||ii===1&&Qs===0||ii===1&&Qs===1&&Ti(ds,OA)||ii===1&&Qs===1&&Ti(ds,MA)&&Ir>100||ii===1&&Qs>1&&Ti(ds,ju)?js=Fr[ii]+(Qs>0?Pr[Qs-1]:"")+js:ii===1&&Qs>0&&(js=Pr[Qs-1]+js),xs=Math.floor(xs/10)}return(Ir<0?Nr:"")+js},Vh="",Kh="",Gh="",Nf="",Hu=function(Ir,Fr,Pr){var Nr=Pr?". ":"",Wr=Pr?"":"",ds=Pr?", ":"",xs=Pr?" ":"";switch(Fr){case 0:return""+xs;case 1:return""+xs;case 2:return""+xs;case 5:var js=na(Ir,48,57,!0,Nr);return js.length<4?"0"+js:js;case 4:return ic(Ir,"",Wr);case 6:return tu(Ir,1,3999,jh,3,Nr).toLowerCase();case 7:return tu(Ir,1,3999,jh,3,Nr);case 8:return na(Ir,945,969,!1,Nr);case 9:return na(Ir,97,122,!1,Nr);case 10:return na(Ir,65,90,!1,Nr);case 11:return na(Ir,1632,1641,!0,Nr);case 12:case 49:return tu(Ir,1,9999,Hh,3,Nr);case 35:return tu(Ir,1,9999,Hh,3,Nr).toLowerCase();case 13:return na(Ir,2534,2543,!0,Nr);case 14:case 30:return na(Ir,6112,6121,!0,Nr);case 15:return ic(Ir,"",Wr);case 16:return ic(Ir,"",Wr);case 17:case 48:return lA(Ir,"",Vh,"",Wr,OA|MA|ju);case 47:return lA(Ir,"",Kh,"",Wr,nu|OA|MA|ju);case 42:return lA(Ir,"",Vh,"",Wr,OA|MA|ju);case 41:return lA(Ir,"",Kh,"",Wr,nu|OA|MA|ju);case 26:return lA(Ir,"","",Gh,Wr,0);case 25:return lA(Ir,"","",Gh,Wr,nu|OA|MA);case 31:return lA(Ir,"","",Nf,ds,nu|OA|MA);case 33:return lA(Ir,"","",Nf,ds,0);case 32:return lA(Ir,"","",Nf,ds,nu|OA|MA);case 18:return na(Ir,2406,2415,!0,Nr);case 20:return tu(Ir,1,19999,rg,3,Nr);case 21:return na(Ir,2790,2799,!0,Nr);case 22:return na(Ir,2662,2671,!0,Nr);case 22:return tu(Ir,1,10999,ng,3,Nr);case 23:return ic(Ir,"");case 24:return ic(Ir,"");case 27:return na(Ir,3302,3311,!0,Nr);case 28:return ic(Ir,"",Wr);case 29:return ic(Ir,"",Wr);case 34:return na(Ir,3792,3801,!0,Nr);case 37:return na(Ir,6160,6169,!0,Nr);case 38:return na(Ir,4160,4169,!0,Nr);case 39:return na(Ir,2918,2927,!0,Nr);case 40:return na(Ir,1776,1785,!0,Nr);case 43:return na(Ir,3046,3055,!0,Nr);case 44:return na(Ir,3174,3183,!0,Nr);case 45:return na(Ir,3664,3673,!0,Nr);case 46:return na(Ir,3872,3881,!0,Nr);case 3:default:return na(Ir,48,57,!0,Nr)}},Wh="data-html2canvas-ignore",zh=function(){function Ir(Fr,Pr,Nr){if(this.context=Fr,this.options=Nr,this.scrolledElements=[],this.referenceElement=Pr,this.counters=new tg,this.quoteDepth=0,!Pr.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(Pr.ownerDocument.documentElement,!1)}return Ir.prototype.toIFrame=function(Fr,Pr){var Nr=this,Wr=sg(Fr,Pr);if(!Wr.contentWindow)return Promise.reject("Unable to find iframe window");var ds=Fr.defaultView.pageXOffset,xs=Fr.defaultView.pageYOffset,js=Wr.contentWindow,Qs=js.document,ii=ag(Wr).then(function(){return ur(Nr,void 0,void 0,function(){var Ai,mi;return dr(this,function(Ni){switch(Ni.label){case 0:return this.scrolledElements.forEach(ug),js&&(js.scrollTo(Pr.left,Pr.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(js.scrollY!==Pr.top||js.scrollX!==Pr.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(js.scrollX-Pr.left,js.scrollY-Pr.top,0,0))),Ai=this.options.onclone,mi=this.clonedReferenceElement,typeof mi>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Qs.fonts&&Qs.fonts.ready?[4,Qs.fonts.ready]:[3,2];case 1:Ni.sent(),Ni.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,og(Qs)]:[3,4];case 3:Ni.sent(),Ni.label=4;case 4:return typeof Ai=="function"?[2,Promise.resolve().then(function(){return Ai(Qs,mi)}).then(function(){return Wr})]:[2,Wr]}})})});return Qs.open(),Qs.write(Ag(document.doctype)+"<html></html>"),cg(this.referenceElement.ownerDocument,ds,xs),Qs.replaceChild(Qs.adoptNode(this.documentElement),Qs.documentElement),Qs.close(),ii},Ir.prototype.createElementClone=function(Fr){if(uo(Fr,2))debugger;if(Mh(Fr))return this.createCanvasClone(Fr);if(Lh(Fr))return this.createVideoClone(Fr);if(Dh(Fr))return this.createStyleClone(Fr);var Pr=Fr.cloneNode(!1);return If(Pr)&&(If(Fr)&&Fr.currentSrc&&Fr.currentSrc!==Fr.src&&(Pr.src=Fr.currentSrc,Pr.srcset=""),Pr.loading==="lazy"&&(Pr.loading="eager")),Qh(Pr)?this.createCustomElementClone(Pr):Pr},Ir.prototype.createCustomElementClone=function(Fr){var Pr=document.createElement("html2canvascustomelement");return Pf(Fr.style,Pr),Pr},Ir.prototype.createStyleClone=function(Fr){try{var Pr=Fr.sheet;if(Pr&&Pr.cssRules){var Nr=[].slice.call(Pr.cssRules,0).reduce(function(ds,xs){return xs&&typeof xs.cssText=="string"?ds+xs.cssText:ds},""),Wr=Fr.cloneNode(!1);return Wr.textContent=Nr,Wr}}catch(ds){if(this.context.logger.error("Unable to access cssRules property",ds),ds.name!=="SecurityError")throw ds}return Fr.cloneNode(!1)},Ir.prototype.createCanvasClone=function(Fr){var Pr;if(this.options.inlineImages&&Fr.ownerDocument){var Nr=Fr.ownerDocument.createElement("img");try{return Nr.src=Fr.toDataURL(),Nr}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",Fr)}}var Wr=Fr.cloneNode(!1);try{Wr.width=Fr.width,Wr.height=Fr.height;var ds=Fr.getContext("2d"),xs=Wr.getContext("2d");if(xs)if(!this.options.allowTaint&&ds)xs.putImageData(ds.getImageData(0,0,Fr.width,Fr.height),0,0);else{var js=(Pr=Fr.getContext("webgl2"))!==null&&Pr!==void 0?Pr:Fr.getContext("webgl");if(js){var Qs=js.getContextAttributes();(Qs==null?void 0:Qs.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",Fr)}xs.drawImage(Fr,0,0)}return Wr}catch{this.context.logger.info("Unable to clone canvas as it is tainted",Fr)}return Wr},Ir.prototype.createVideoClone=function(Fr){var Pr=Fr.ownerDocument.createElement("canvas");Pr.width=Fr.offsetWidth,Pr.height=Fr.offsetHeight;var Nr=Pr.getContext("2d");try{return Nr&&(Nr.drawImage(Fr,0,0,Pr.width,Pr.height),this.options.allowTaint||Nr.getImageData(0,0,Pr.width,Pr.height)),Pr}catch{this.context.logger.info("Unable to clone video as it is tainted",Fr)}var Wr=Fr.ownerDocument.createElement("canvas");return Wr.width=Fr.offsetWidth,Wr.height=Fr.offsetHeight,Wr},Ir.prototype.appendChildNode=function(Fr,Pr,Nr){(!eu(Pr)||!eg(Pr)&&!Pr.hasAttribute(Wh)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(Pr)))&&(!this.options.copyStyles||!eu(Pr)||!Dh(Pr))&&Fr.appendChild(this.cloneNode(Pr,Nr))},Ir.prototype.cloneChildNodes=function(Fr,Pr,Nr){for(var Wr=this,ds=Fr.shadowRoot?Fr.shadowRoot.firstChild:Fr.firstChild;ds;ds=ds.nextSibling)if(eu(ds)&&Uh(ds)&&typeof ds.assignedNodes=="function"){var xs=ds.assignedNodes();xs.length&&xs.forEach(function(js){return Wr.appendChildNode(Pr,js,Nr)})}else this.appendChildNode(Pr,ds,Nr)},Ir.prototype.cloneNode=function(Fr,Pr){if(_h(Fr))return document.createTextNode(Fr.data);if(!Fr.ownerDocument)return Fr.cloneNode(!1);var Nr=Fr.ownerDocument.defaultView;if(Nr&&eu(Fr)&&(Tf(Fr)||Fd(Fr))){var Wr=this.createElementClone(Fr);Wr.style.transitionProperty="none";var ds=Nr.getComputedStyle(Fr),xs=Nr.getComputedStyle(Fr,":before"),js=Nr.getComputedStyle(Fr,":after");this.referenceElement===Fr&&Tf(Wr)&&(this.clonedReferenceElement=Wr),kf(Wr)&&hg(Wr);var Qs=this.counters.parse(new mo(this.context,ds)),ii=this.resolvePseudoContent(Fr,Wr,xs,$u.BEFORE);Qh(Fr)&&(Pr=!0),Lh(Fr)||this.cloneChildNodes(Fr,Wr,Pr),ii&&Wr.insertBefore(ii,Wr.firstChild);var Ai=this.resolvePseudoContent(Fr,Wr,js,$u.AFTER);return Ai&&Wr.appendChild(Ai),this.counters.pop(Qs),(ds&&(this.options.copyStyles||Fd(Fr))&&!Rh(Fr)||Pr)&&Pf(ds,Wr),(Fr.scrollTop!==0||Fr.scrollLeft!==0)&&this.scrolledElements.push([Wr,Fr.scrollLeft,Fr.scrollTop]),(Td(Fr)||kd(Fr))&&(Td(Wr)||kd(Wr))&&(Wr.value=Fr.value),Wr}return Fr.cloneNode(!1)},Ir.prototype.resolvePseudoContent=function(Fr,Pr,Nr,Wr){var ds=this;if(Nr){var xs=Nr.content,js=Pr.ownerDocument;if(!(!js||!xs||xs==="none"||xs==="-moz-alt-content"||Nr.display==="none")){this.counters.parse(new mo(this.context,Nr));var Qs=new Eo(this.context,Nr),ii=js.createElement("html2canvaspseudoelement");Pf(Nr,ii),Qs.content.forEach(function(mi){if(mi.type===0)ii.appendChild(js.createTextNode(mi.value));else if(mi.type===22){var Ni=js.createElement("img");Ni.src=mi.value,Ni.style.opacity="1",ii.appendChild(Ni)}else if(mi.type===18){if(mi.name==="attr"){var Ji=mi.values.filter(oo);Ji.length&&ii.appendChild(js.createTextNode(Fr.getAttribute(Ji[0].value)||""))}else if(mi.name==="counter"){var Hi=mi.values.filter(ra),Ki=Hi[0],ho=Hi[1];if(Ki&&oo(Ki)){var to=ds.counters.getCounterValue(Ki.value),Zi=ho&&oo(ho)?ku.parse(ds.context,ho.value):3;ii.appendChild(js.createTextNode(Hu(to,Zi,!1)))}}else if(mi.name==="counters"){var So=mi.values.filter(ra),Ki=So[0],po=So[1],ho=So[2];if(Ki&&oo(Ki)){var Ao=ds.counters.getCounterValues(Ki.value),qi=ho&&oo(ho)?ku.parse(ds.context,ho.value):3,bo=po&&po.type===0?po.value:"",wo=Ao.map(function(Va){return Hu(Va,qi,!1)}).join(bo);ii.appendChild(js.createTextNode(wo))}}}else if(mi.type===20)switch(mi.value){case"open-quote":ii.appendChild(js.createTextNode(Oi(Qs.quotes,ds.quoteDepth++,!0)));break;case"close-quote":ii.appendChild(js.createTextNode(Oi(Qs.quotes,--ds.quoteDepth,!1)));break;default:ii.appendChild(js.createTextNode(mi.value))}}),ii.className=_f+" "+Of;var Ai=Wr===$u.BEFORE?" "+_f:" "+Of;return Fd(Pr)?Pr.className.baseValue+=Ai:Pr.className+=Ai,ii}}},Ir.destroy=function(Fr){return Fr.parentNode?(Fr.parentNode.removeChild(Fr),!0):!1},Ir}(),$u;(function(Ir){Ir[Ir.BEFORE=0]="BEFORE",Ir[Ir.AFTER=1]="AFTER"})($u||($u={}));var sg=function(Ir,Fr){var Pr=Ir.createElement("iframe");return Pr.className="html2canvas-container",Pr.style.visibility="hidden",Pr.style.position="fixed",Pr.style.left="-10000px",Pr.style.top="0px",Pr.style.border="0",Pr.width=Fr.width.toString(),Pr.height=Fr.height.toString(),Pr.scrolling="no",Pr.setAttribute(Wh,"true"),Ir.body.appendChild(Pr),Pr},ig=function(Ir){return new Promise(function(Fr){if(Ir.complete){Fr();return}if(!Ir.src){Fr();return}Ir.onload=Fr,Ir.onerror=Fr})},og=function(Ir){return Promise.all([].slice.call(Ir.images,0).map(ig))},ag=function(Ir){return new Promise(function(Fr,Pr){var Nr=Ir.contentWindow;if(!Nr)return Pr("No window assigned for iframe");var Wr=Nr.document;Nr.onload=Ir.onload=function(){Nr.onload=Ir.onload=null;var ds=setInterval(function(){Wr.body.childNodes.length>0&&Wr.readyState==="complete"&&(clearInterval(ds),Fr(Ir))},50)}})},lg=["all","d","content"],Pf=function(Ir,Fr){for(var Pr=Ir.length-1;Pr>=0;Pr--){var Nr=Ir.item(Pr);lg.indexOf(Nr)===-1&&Fr.style.setProperty(Nr,Ir.getPropertyValue(Nr))}return Fr},Ag=function(Ir){var Fr="";return Ir&&(Fr+="<!DOCTYPE ",Ir.name&&(Fr+=Ir.name),Ir.internalSubset&&(Fr+=Ir.internalSubset),Ir.publicId&&(Fr+='"'+Ir.publicId+'"'),Ir.systemId&&(Fr+='"'+Ir.systemId+'"'),Fr+=">"),Fr},cg=function(Ir,Fr,Pr){Ir&&Ir.defaultView&&(Fr!==Ir.defaultView.pageXOffset||Pr!==Ir.defaultView.pageYOffset)&&Ir.defaultView.scrollTo(Fr,Pr)},ug=function(Ir){var Fr=Ir[0],Pr=Ir[1],Nr=Ir[2];Fr.scrollLeft=Pr,Fr.scrollTop=Nr},dg=":before",fg=":after",_f="___html2canvas___pseudoelement_before",Of="___html2canvas___pseudoelement_after",Xh=`{
    content: "" !important;
    display: none !important;
}`,hg=function(Ir){pg(Ir,"."+_f+dg+Xh+`
         .`+Of+fg+Xh)},pg=function(Ir,Fr){var Pr=Ir.ownerDocument;if(Pr){var Nr=Pr.createElement("style");Nr.textContent=Fr,Ir.appendChild(Nr)}},Yh=function(){function Ir(){}return Ir.getOrigin=function(Fr){var Pr=Ir._link;return Pr?(Pr.href=Fr,Pr.href=Pr.href,Pr.protocol+Pr.hostname+Pr.port):"about:blank"},Ir.isSameOrigin=function(Fr){return Ir.getOrigin(Fr)===Ir._origin},Ir.setContext=function(Fr){Ir._link=Fr.document.createElement("a"),Ir._origin=Ir.getOrigin(Fr.location.href)},Ir._origin="about:blank",Ir}(),gg=function(){function Ir(Fr,Pr){this.context=Fr,this._options=Pr,this._cache={}}return Ir.prototype.addImage=function(Fr){var Pr=Promise.resolve();return this.has(Fr)||(Lf(Fr)||bg(Fr))&&(this._cache[Fr]=this.loadImage(Fr)).catch(function(){}),Pr},Ir.prototype.match=function(Fr){return this._cache[Fr]},Ir.prototype.loadImage=function(Fr){return ur(this,void 0,void 0,function(){var Pr,Nr,Wr,ds,xs=this;return dr(this,function(js){switch(js.label){case 0:return Pr=Yh.isSameOrigin(Fr),Nr=!Mf(Fr)&&this._options.useCORS===!0&&oa.SUPPORT_CORS_IMAGES&&!Pr,Wr=!Mf(Fr)&&!Pr&&!Lf(Fr)&&typeof this._options.proxy=="string"&&oa.SUPPORT_CORS_XHR&&!Nr,!Pr&&this._options.allowTaint===!1&&!Mf(Fr)&&!Lf(Fr)&&!Wr&&!Nr?[2]:(ds=Fr,Wr?[4,this.proxy(ds)]:[3,2]);case 1:ds=js.sent(),js.label=2;case 2:return this.context.logger.debug("Added image "+Fr.substring(0,256)),[4,new Promise(function(Qs,ii){var Ai=new Image;Ai.onload=function(){return Qs(Ai)},Ai.onerror=ii,(wg(ds)||Nr)&&(Ai.crossOrigin="anonymous"),Ai.src=ds,Ai.complete===!0&&setTimeout(function(){return Qs(Ai)},500),xs._options.imageTimeout>0&&setTimeout(function(){return ii("Timed out ("+xs._options.imageTimeout+"ms) loading image")},xs._options.imageTimeout)})];case 3:return[2,js.sent()]}})})},Ir.prototype.has=function(Fr){return typeof this._cache[Fr]<"u"},Ir.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Ir.prototype.proxy=function(Fr){var Pr=this,Nr=this._options.proxy;if(!Nr)throw new Error("No proxy defined");var Wr=Fr.substring(0,256);return new Promise(function(ds,xs){var js=oa.SUPPORT_RESPONSE_TYPE?"blob":"text",Qs=new XMLHttpRequest;Qs.onload=function(){if(Qs.status===200)if(js==="text")ds(Qs.response);else{var mi=new FileReader;mi.addEventListener("load",function(){return ds(mi.result)},!1),mi.addEventListener("error",function(Ni){return xs(Ni)},!1),mi.readAsDataURL(Qs.response)}else xs("Failed to proxy resource "+Wr+" with status code "+Qs.status)},Qs.onerror=xs;var ii=Nr.indexOf("?")>-1?"&":"?";if(Qs.open("GET",""+Nr+ii+"url="+encodeURIComponent(Fr)+"&responseType="+js),js!=="text"&&Qs instanceof XMLHttpRequest&&(Qs.responseType=js),Pr._options.imageTimeout){var Ai=Pr._options.imageTimeout;Qs.timeout=Ai,Qs.ontimeout=function(){return xs("Timed out ("+Ai+"ms) proxying "+Wr)}}Qs.send()})},Ir}(),mg=/^data:image\/svg\+xml/i,vg=/^data:image\/.*;base64,/i,yg=/^data:image\/.*/i,bg=function(Ir){return oa.SUPPORT_SVG_DRAWING||!Bg(Ir)},Mf=function(Ir){return yg.test(Ir)},wg=function(Ir){return vg.test(Ir)},Lf=function(Ir){return Ir.substr(0,4)==="blob"},Bg=function(Ir){return Ir.substr(-3).toLowerCase()==="svg"||mg.test(Ir)},Xi=function(){function Ir(Fr,Pr){this.type=0,this.x=Fr,this.y=Pr}return Ir.prototype.add=function(Fr,Pr){return new Ir(this.x+Fr,this.y+Pr)},Ir}(),ru=function(Ir,Fr,Pr){return new Xi(Ir.x+(Fr.x-Ir.x)*Pr,Ir.y+(Fr.y-Ir.y)*Pr)},Id=function(){function Ir(Fr,Pr,Nr,Wr){this.type=1,this.start=Fr,this.startControl=Pr,this.endControl=Nr,this.end=Wr}return Ir.prototype.subdivide=function(Fr,Pr){var Nr=ru(this.start,this.startControl,Fr),Wr=ru(this.startControl,this.endControl,Fr),ds=ru(this.endControl,this.end,Fr),xs=ru(Nr,Wr,Fr),js=ru(Wr,ds,Fr),Qs=ru(xs,js,Fr);return Pr?new Ir(this.start,Nr,xs,Qs):new Ir(Qs,js,ds,this.end)},Ir.prototype.add=function(Fr,Pr){return new Ir(this.start.add(Fr,Pr),this.startControl.add(Fr,Pr),this.endControl.add(Fr,Pr),this.end.add(Fr,Pr))},Ir.prototype.reverse=function(){return new Ir(this.end,this.endControl,this.startControl,this.start)},Ir}(),ol=function(Ir){return Ir.type===1},Cg=function(){function Ir(Fr){var Pr=Fr.styles,Nr=Fr.bounds,Wr=Ko(Pr.borderTopLeftRadius,Nr.width,Nr.height),ds=Wr[0],xs=Wr[1],js=Ko(Pr.borderTopRightRadius,Nr.width,Nr.height),Qs=js[0],ii=js[1],Ai=Ko(Pr.borderBottomRightRadius,Nr.width,Nr.height),mi=Ai[0],Ni=Ai[1],Ji=Ko(Pr.borderBottomLeftRadius,Nr.width,Nr.height),Hi=Ji[0],Ki=Ji[1],ho=[];ho.push((ds+Qs)/Nr.width),ho.push((Hi+mi)/Nr.width),ho.push((xs+Ki)/Nr.height),ho.push((ii+Ni)/Nr.height);var to=Math.max.apply(Math,ho);to>1&&(ds/=to,xs/=to,Qs/=to,ii/=to,mi/=to,Ni/=to,Hi/=to,Ki/=to);var Zi=Nr.width-Qs,So=Nr.height-Ni,po=Nr.width-mi,Ao=Nr.height-Ki,qi=Pr.borderTopWidth,bo=Pr.borderRightWidth,wo=Pr.borderBottomWidth,fo=Pr.borderLeftWidth,aa=Bo(Pr.paddingTop,Fr.bounds.width),Va=Bo(Pr.paddingRight,Fr.bounds.width),Za=Bo(Pr.paddingBottom,Fr.bounds.width),Lo=Bo(Pr.paddingLeft,Fr.bounds.width);this.topLeftBorderDoubleOuterBox=ds>0||xs>0?Ho(Nr.left+fo/3,Nr.top+qi/3,ds-fo/3,xs-qi/3,ko.TOP_LEFT):new Xi(Nr.left+fo/3,Nr.top+qi/3),this.topRightBorderDoubleOuterBox=ds>0||xs>0?Ho(Nr.left+Zi,Nr.top+qi/3,Qs-bo/3,ii-qi/3,ko.TOP_RIGHT):new Xi(Nr.left+Nr.width-bo/3,Nr.top+qi/3),this.bottomRightBorderDoubleOuterBox=mi>0||Ni>0?Ho(Nr.left+po,Nr.top+So,mi-bo/3,Ni-wo/3,ko.BOTTOM_RIGHT):new Xi(Nr.left+Nr.width-bo/3,Nr.top+Nr.height-wo/3),this.bottomLeftBorderDoubleOuterBox=Hi>0||Ki>0?Ho(Nr.left+fo/3,Nr.top+Ao,Hi-fo/3,Ki-wo/3,ko.BOTTOM_LEFT):new Xi(Nr.left+fo/3,Nr.top+Nr.height-wo/3),this.topLeftBorderDoubleInnerBox=ds>0||xs>0?Ho(Nr.left+fo*2/3,Nr.top+qi*2/3,ds-fo*2/3,xs-qi*2/3,ko.TOP_LEFT):new Xi(Nr.left+fo*2/3,Nr.top+qi*2/3),this.topRightBorderDoubleInnerBox=ds>0||xs>0?Ho(Nr.left+Zi,Nr.top+qi*2/3,Qs-bo*2/3,ii-qi*2/3,ko.TOP_RIGHT):new Xi(Nr.left+Nr.width-bo*2/3,Nr.top+qi*2/3),this.bottomRightBorderDoubleInnerBox=mi>0||Ni>0?Ho(Nr.left+po,Nr.top+So,mi-bo*2/3,Ni-wo*2/3,ko.BOTTOM_RIGHT):new Xi(Nr.left+Nr.width-bo*2/3,Nr.top+Nr.height-wo*2/3),this.bottomLeftBorderDoubleInnerBox=Hi>0||Ki>0?Ho(Nr.left+fo*2/3,Nr.top+Ao,Hi-fo*2/3,Ki-wo*2/3,ko.BOTTOM_LEFT):new Xi(Nr.left+fo*2/3,Nr.top+Nr.height-wo*2/3),this.topLeftBorderStroke=ds>0||xs>0?Ho(Nr.left+fo/2,Nr.top+qi/2,ds-fo/2,xs-qi/2,ko.TOP_LEFT):new Xi(Nr.left+fo/2,Nr.top+qi/2),this.topRightBorderStroke=ds>0||xs>0?Ho(Nr.left+Zi,Nr.top+qi/2,Qs-bo/2,ii-qi/2,ko.TOP_RIGHT):new Xi(Nr.left+Nr.width-bo/2,Nr.top+qi/2),this.bottomRightBorderStroke=mi>0||Ni>0?Ho(Nr.left+po,Nr.top+So,mi-bo/2,Ni-wo/2,ko.BOTTOM_RIGHT):new Xi(Nr.left+Nr.width-bo/2,Nr.top+Nr.height-wo/2),this.bottomLeftBorderStroke=Hi>0||Ki>0?Ho(Nr.left+fo/2,Nr.top+Ao,Hi-fo/2,Ki-wo/2,ko.BOTTOM_LEFT):new Xi(Nr.left+fo/2,Nr.top+Nr.height-wo/2),this.topLeftBorderBox=ds>0||xs>0?Ho(Nr.left,Nr.top,ds,xs,ko.TOP_LEFT):new Xi(Nr.left,Nr.top),this.topRightBorderBox=Qs>0||ii>0?Ho(Nr.left+Zi,Nr.top,Qs,ii,ko.TOP_RIGHT):new Xi(Nr.left+Nr.width,Nr.top),this.bottomRightBorderBox=mi>0||Ni>0?Ho(Nr.left+po,Nr.top+So,mi,Ni,ko.BOTTOM_RIGHT):new Xi(Nr.left+Nr.width,Nr.top+Nr.height),this.bottomLeftBorderBox=Hi>0||Ki>0?Ho(Nr.left,Nr.top+Ao,Hi,Ki,ko.BOTTOM_LEFT):new Xi(Nr.left,Nr.top+Nr.height),this.topLeftPaddingBox=ds>0||xs>0?Ho(Nr.left+fo,Nr.top+qi,Math.max(0,ds-fo),Math.max(0,xs-qi),ko.TOP_LEFT):new Xi(Nr.left+fo,Nr.top+qi),this.topRightPaddingBox=Qs>0||ii>0?Ho(Nr.left+Math.min(Zi,Nr.width-bo),Nr.top+qi,Zi>Nr.width+bo?0:Math.max(0,Qs-bo),Math.max(0,ii-qi),ko.TOP_RIGHT):new Xi(Nr.left+Nr.width-bo,Nr.top+qi),this.bottomRightPaddingBox=mi>0||Ni>0?Ho(Nr.left+Math.min(po,Nr.width-fo),Nr.top+Math.min(So,Nr.height-wo),Math.max(0,mi-bo),Math.max(0,Ni-wo),ko.BOTTOM_RIGHT):new Xi(Nr.left+Nr.width-bo,Nr.top+Nr.height-wo),this.bottomLeftPaddingBox=Hi>0||Ki>0?Ho(Nr.left+fo,Nr.top+Math.min(Ao,Nr.height-wo),Math.max(0,Hi-fo),Math.max(0,Ki-wo),ko.BOTTOM_LEFT):new Xi(Nr.left+fo,Nr.top+Nr.height-wo),this.topLeftContentBox=ds>0||xs>0?Ho(Nr.left+fo+Lo,Nr.top+qi+aa,Math.max(0,ds-(fo+Lo)),Math.max(0,xs-(qi+aa)),ko.TOP_LEFT):new Xi(Nr.left+fo+Lo,Nr.top+qi+aa),this.topRightContentBox=Qs>0||ii>0?Ho(Nr.left+Math.min(Zi,Nr.width+fo+Lo),Nr.top+qi+aa,Zi>Nr.width+fo+Lo?0:Qs-fo+Lo,ii-(qi+aa),ko.TOP_RIGHT):new Xi(Nr.left+Nr.width-(bo+Va),Nr.top+qi+aa),this.bottomRightContentBox=mi>0||Ni>0?Ho(Nr.left+Math.min(po,Nr.width-(fo+Lo)),Nr.top+Math.min(So,Nr.height+qi+aa),Math.max(0,mi-(bo+Va)),Ni-(wo+Za),ko.BOTTOM_RIGHT):new Xi(Nr.left+Nr.width-(bo+Va),Nr.top+Nr.height-(wo+Za)),this.bottomLeftContentBox=Hi>0||Ki>0?Ho(Nr.left+fo+Lo,Nr.top+Ao,Math.max(0,Hi-(fo+Lo)),Ki-(wo+Za),ko.BOTTOM_LEFT):new Xi(Nr.left+fo+Lo,Nr.top+Nr.height-(wo+Za))}return Ir}(),ko;(function(Ir){Ir[Ir.TOP_LEFT=0]="TOP_LEFT",Ir[Ir.TOP_RIGHT=1]="TOP_RIGHT",Ir[Ir.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Ir[Ir.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ko||(ko={}));var Ho=function(Ir,Fr,Pr,Nr,Wr){var ds=4*((Math.sqrt(2)-1)/3),xs=Pr*ds,js=Nr*ds,Qs=Ir+Pr,ii=Fr+Nr;switch(Wr){case ko.TOP_LEFT:return new Id(new Xi(Ir,ii),new Xi(Ir,ii-js),new Xi(Qs-xs,Fr),new Xi(Qs,Fr));case ko.TOP_RIGHT:return new Id(new Xi(Ir,Fr),new Xi(Ir+xs,Fr),new Xi(Qs,ii-js),new Xi(Qs,ii));case ko.BOTTOM_RIGHT:return new Id(new Xi(Qs,Fr),new Xi(Qs,Fr+js),new Xi(Ir+xs,ii),new Xi(Ir,ii));case ko.BOTTOM_LEFT:default:return new Id(new Xi(Qs,ii),new Xi(Qs-xs,ii),new Xi(Ir,Fr+js),new Xi(Ir,Fr))}},Nd=function(Ir){return[Ir.topLeftBorderBox,Ir.topRightBorderBox,Ir.bottomRightBorderBox,Ir.bottomLeftBorderBox]},Sg=function(Ir){return[Ir.topLeftContentBox,Ir.topRightContentBox,Ir.bottomRightContentBox,Ir.bottomLeftContentBox]},Pd=function(Ir){return[Ir.topLeftPaddingBox,Ir.topRightPaddingBox,Ir.bottomRightPaddingBox,Ir.bottomLeftPaddingBox]},xg=function(){function Ir(Fr,Pr,Nr){this.offsetX=Fr,this.offsetY=Pr,this.matrix=Nr,this.type=0,this.target=6}return Ir}(),_d=function(){function Ir(Fr,Pr){this.path=Fr,this.target=Pr,this.type=1}return Ir}(),Eg=function(){function Ir(Fr){this.opacity=Fr,this.type=2,this.target=6}return Ir}(),Fg=function(Ir){return Ir.type===0},qh=function(Ir){return Ir.type===1},Tg=function(Ir){return Ir.type===2},Jh=function(Ir,Fr){return Ir.length===Fr.length?Ir.some(function(Pr,Nr){return Pr===Fr[Nr]}):!1},kg=function(Ir,Fr,Pr,Nr,Wr){return Ir.map(function(ds,xs){switch(xs){case 0:return ds.add(Fr,Pr);case 1:return ds.add(Fr+Nr,Pr);case 2:return ds.add(Fr+Nr,Pr+Wr);case 3:return ds.add(Fr,Pr+Wr)}return ds})},Zh=function(){function Ir(Fr){this.element=Fr,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return Ir}(),ep=function(){function Ir(Fr,Pr){if(this.container=Fr,this.parent=Pr,this.effects=[],this.curves=new Cg(this.container),this.container.styles.opacity<1&&this.effects.push(new Eg(this.container.styles.opacity)),this.container.styles.transform!==null){var Nr=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Wr=this.container.bounds.top+this.container.styles.transformOrigin[1].number,ds=this.container.styles.transform;this.effects.push(new xg(Nr,Wr,ds))}if(this.container.styles.overflowX!==0){var xs=Nd(this.curves),js=Pd(this.curves);Jh(xs,js)?this.effects.push(new _d(xs,6)):(this.effects.push(new _d(xs,2)),this.effects.push(new _d(js,4)))}}return Ir.prototype.getEffects=function(Fr){for(var Pr=[2,3].indexOf(this.container.styles.position)===-1,Nr=this.parent,Wr=this.effects.slice(0);Nr;){var ds=Nr.effects.filter(function(Qs){return!qh(Qs)});if(Pr||Nr.container.styles.position!==0||!Nr.parent){if(Wr.unshift.apply(Wr,ds),Pr=[2,3].indexOf(Nr.container.styles.position)===-1,Nr.container.styles.overflowX!==0){var xs=Nd(Nr.curves),js=Pd(Nr.curves);Jh(xs,js)||Wr.unshift(new _d(js,6))}}else Wr.unshift.apply(Wr,ds);Nr=Nr.parent}return Wr.filter(function(Qs){return Ti(Qs.target,Fr)})},Ir}(),Rf=function(Ir,Fr,Pr,Nr){Ir.container.elements.forEach(function(Wr){var ds=Ti(Wr.flags,4),xs=Ti(Wr.flags,2),js=new ep(Wr,Ir);Ti(Wr.styles.display,2048)&&Nr.push(js);var Qs=Ti(Wr.flags,8)?[]:Nr;if(ds||xs){var ii=ds||Wr.styles.isPositioned()?Pr:Fr,Ai=new Zh(js);if(Wr.styles.isPositioned()||Wr.styles.opacity<1||Wr.styles.isTransformed()){var mi=Wr.styles.zIndex.order;if(mi<0){var Ni=0;ii.negativeZIndex.some(function(Hi,Ki){return mi>Hi.element.container.styles.zIndex.order?(Ni=Ki,!1):Ni>0}),ii.negativeZIndex.splice(Ni,0,Ai)}else if(mi>0){var Ji=0;ii.positiveZIndex.some(function(Hi,Ki){return mi>=Hi.element.container.styles.zIndex.order?(Ji=Ki+1,!1):Ji>0}),ii.positiveZIndex.splice(Ji,0,Ai)}else ii.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ai)}else Wr.styles.isFloating()?ii.nonPositionedFloats.push(Ai):ii.nonPositionedInlineLevel.push(Ai);Rf(js,Ai,ds?Ai:Pr,Qs)}else Wr.styles.isInlineLevel()?Fr.inlineLevel.push(js):Fr.nonInlineLevel.push(js),Rf(js,Fr,Pr,Qs);Ti(Wr.flags,8)&&tp(Wr,Qs)})},tp=function(Ir,Fr){for(var Pr=Ir instanceof Ef?Ir.start:1,Nr=Ir instanceof Ef?Ir.reversed:!1,Wr=0;Wr<Fr.length;Wr++){var ds=Fr[Wr];ds.container instanceof Eh&&typeof ds.container.value=="number"&&ds.container.value!==0&&(Pr=ds.container.value),ds.listValue=Hu(Pr,ds.container.styles.listStyleType,!0),Pr+=Nr?-1:1}},Ig=function(Ir){var Fr=new ep(Ir,null),Pr=new Zh(Fr),Nr=[];return Rf(Fr,Pr,Pr,Nr),tp(Fr.container,Nr),Pr},np=function(Ir,Fr){switch(Fr){case 0:return al(Ir.topLeftBorderBox,Ir.topLeftPaddingBox,Ir.topRightBorderBox,Ir.topRightPaddingBox);case 1:return al(Ir.topRightBorderBox,Ir.topRightPaddingBox,Ir.bottomRightBorderBox,Ir.bottomRightPaddingBox);case 2:return al(Ir.bottomRightBorderBox,Ir.bottomRightPaddingBox,Ir.bottomLeftBorderBox,Ir.bottomLeftPaddingBox);case 3:default:return al(Ir.bottomLeftBorderBox,Ir.bottomLeftPaddingBox,Ir.topLeftBorderBox,Ir.topLeftPaddingBox)}},Ng=function(Ir,Fr){switch(Fr){case 0:return al(Ir.topLeftBorderBox,Ir.topLeftBorderDoubleOuterBox,Ir.topRightBorderBox,Ir.topRightBorderDoubleOuterBox);case 1:return al(Ir.topRightBorderBox,Ir.topRightBorderDoubleOuterBox,Ir.bottomRightBorderBox,Ir.bottomRightBorderDoubleOuterBox);case 2:return al(Ir.bottomRightBorderBox,Ir.bottomRightBorderDoubleOuterBox,Ir.bottomLeftBorderBox,Ir.bottomLeftBorderDoubleOuterBox);case 3:default:return al(Ir.bottomLeftBorderBox,Ir.bottomLeftBorderDoubleOuterBox,Ir.topLeftBorderBox,Ir.topLeftBorderDoubleOuterBox)}},Pg=function(Ir,Fr){switch(Fr){case 0:return al(Ir.topLeftBorderDoubleInnerBox,Ir.topLeftPaddingBox,Ir.topRightBorderDoubleInnerBox,Ir.topRightPaddingBox);case 1:return al(Ir.topRightBorderDoubleInnerBox,Ir.topRightPaddingBox,Ir.bottomRightBorderDoubleInnerBox,Ir.bottomRightPaddingBox);case 2:return al(Ir.bottomRightBorderDoubleInnerBox,Ir.bottomRightPaddingBox,Ir.bottomLeftBorderDoubleInnerBox,Ir.bottomLeftPaddingBox);case 3:default:return al(Ir.bottomLeftBorderDoubleInnerBox,Ir.bottomLeftPaddingBox,Ir.topLeftBorderDoubleInnerBox,Ir.topLeftPaddingBox)}},_g=function(Ir,Fr){switch(Fr){case 0:return Od(Ir.topLeftBorderStroke,Ir.topRightBorderStroke);case 1:return Od(Ir.topRightBorderStroke,Ir.bottomRightBorderStroke);case 2:return Od(Ir.bottomRightBorderStroke,Ir.bottomLeftBorderStroke);case 3:default:return Od(Ir.bottomLeftBorderStroke,Ir.topLeftBorderStroke)}},Od=function(Ir,Fr){var Pr=[];return ol(Ir)?Pr.push(Ir.subdivide(.5,!1)):Pr.push(Ir),ol(Fr)?Pr.push(Fr.subdivide(.5,!0)):Pr.push(Fr),Pr},al=function(Ir,Fr,Pr,Nr){var Wr=[];return ol(Ir)?Wr.push(Ir.subdivide(.5,!1)):Wr.push(Ir),ol(Pr)?Wr.push(Pr.subdivide(.5,!0)):Wr.push(Pr),ol(Nr)?Wr.push(Nr.subdivide(.5,!0).reverse()):Wr.push(Nr),ol(Fr)?Wr.push(Fr.subdivide(.5,!1).reverse()):Wr.push(Fr),Wr},rp=function(Ir){var Fr=Ir.bounds,Pr=Ir.styles;return Fr.add(Pr.borderLeftWidth,Pr.borderTopWidth,-(Pr.borderRightWidth+Pr.borderLeftWidth),-(Pr.borderTopWidth+Pr.borderBottomWidth))},Md=function(Ir){var Fr=Ir.styles,Pr=Ir.bounds,Nr=Bo(Fr.paddingLeft,Pr.width),Wr=Bo(Fr.paddingRight,Pr.width),ds=Bo(Fr.paddingTop,Pr.width),xs=Bo(Fr.paddingBottom,Pr.width);return Pr.add(Nr+Fr.borderLeftWidth,ds+Fr.borderTopWidth,-(Fr.borderRightWidth+Fr.borderLeftWidth+Nr+Wr),-(Fr.borderTopWidth+Fr.borderBottomWidth+ds+xs))},Og=function(Ir,Fr){return Ir===0?Fr.bounds:Ir===2?Md(Fr):rp(Fr)},Mg=function(Ir,Fr){return Ir===0?Fr.bounds:Ir===2?Md(Fr):rp(Fr)},Df=function(Ir,Fr,Pr){var Nr=Og(iu(Ir.styles.backgroundOrigin,Fr),Ir),Wr=Mg(iu(Ir.styles.backgroundClip,Fr),Ir),ds=Lg(iu(Ir.styles.backgroundSize,Fr),Pr,Nr),xs=ds[0],js=ds[1],Qs=Ko(iu(Ir.styles.backgroundPosition,Fr),Nr.width-xs,Nr.height-js),ii=Rg(iu(Ir.styles.backgroundRepeat,Fr),Qs,ds,Nr,Wr),Ai=Math.round(Nr.left+Qs[0]),mi=Math.round(Nr.top+Qs[1]);return[ii,Ai,mi,xs,js]},su=function(Ir){return oo(Ir)&&Ir.value===oA.AUTO},Ld=function(Ir){return typeof Ir=="number"},Lg=function(Ir,Fr,Pr){var Nr=Fr[0],Wr=Fr[1],ds=Fr[2],xs=Ir[0],js=Ir[1];if(!xs)return[0,0];if(Ro(xs)&&js&&Ro(js))return[Bo(xs,Pr.width),Bo(js,Pr.height)];var Qs=Ld(ds);if(oo(xs)&&(xs.value===oA.CONTAIN||xs.value===oA.COVER)){if(Ld(ds)){var ii=Pr.width/Pr.height;return ii<ds!=(xs.value===oA.COVER)?[Pr.width,Pr.width/ds]:[Pr.height*ds,Pr.height]}return[Pr.width,Pr.height]}var Ai=Ld(Nr),mi=Ld(Wr),Ni=Ai||mi;if(su(xs)&&(!js||su(js))){if(Ai&&mi)return[Nr,Wr];if(!Qs&&!Ni)return[Pr.width,Pr.height];if(Ni&&Qs){var Ji=Ai?Nr:Wr*ds,Hi=mi?Wr:Nr/ds;return[Ji,Hi]}var Ki=Ai?Nr:Pr.width,ho=mi?Wr:Pr.height;return[Ki,ho]}if(Qs){var to=0,Zi=0;return Ro(xs)?to=Bo(xs,Pr.width):Ro(js)&&(Zi=Bo(js,Pr.height)),su(xs)?to=Zi*ds:(!js||su(js))&&(Zi=to/ds),[to,Zi]}var So=null,po=null;if(Ro(xs)?So=Bo(xs,Pr.width):js&&Ro(js)&&(po=Bo(js,Pr.height)),So!==null&&(!js||su(js))&&(po=Ai&&mi?So/Nr*Wr:Pr.height),po!==null&&su(xs)&&(So=Ai&&mi?po/Wr*Nr:Pr.width),So!==null&&po!==null)return[So,po];throw new Error("Unable to calculate background-size for element")},iu=function(Ir,Fr){var Pr=Ir[Fr];return typeof Pr>"u"?Ir[0]:Pr},Rg=function(Ir,Fr,Pr,Nr,Wr){var ds=Fr[0],xs=Fr[1],js=Pr[0],Qs=Pr[1];switch(Ir){case 2:return[new Xi(Math.round(Nr.left),Math.round(Nr.top+xs)),new Xi(Math.round(Nr.left+Nr.width),Math.round(Nr.top+xs)),new Xi(Math.round(Nr.left+Nr.width),Math.round(Qs+Nr.top+xs)),new Xi(Math.round(Nr.left),Math.round(Qs+Nr.top+xs))];case 3:return[new Xi(Math.round(Nr.left+ds),Math.round(Nr.top)),new Xi(Math.round(Nr.left+ds+js),Math.round(Nr.top)),new Xi(Math.round(Nr.left+ds+js),Math.round(Nr.height+Nr.top)),new Xi(Math.round(Nr.left+ds),Math.round(Nr.height+Nr.top))];case 1:return[new Xi(Math.round(Nr.left+ds),Math.round(Nr.top+xs)),new Xi(Math.round(Nr.left+ds+js),Math.round(Nr.top+xs)),new Xi(Math.round(Nr.left+ds+js),Math.round(Nr.top+xs+Qs)),new Xi(Math.round(Nr.left+ds),Math.round(Nr.top+xs+Qs))];default:return[new Xi(Math.round(Wr.left),Math.round(Wr.top)),new Xi(Math.round(Wr.left+Wr.width),Math.round(Wr.top)),new Xi(Math.round(Wr.left+Wr.width),Math.round(Wr.height+Wr.top)),new Xi(Math.round(Wr.left),Math.round(Wr.height+Wr.top))]}},Dg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sp="Hidden Text",Ug=function(){function Ir(Fr){this._data={},this._document=Fr}return Ir.prototype.parseMetrics=function(Fr,Pr){var Nr=this._document.createElement("div"),Wr=this._document.createElement("img"),ds=this._document.createElement("span"),xs=this._document.body;Nr.style.visibility="hidden",Nr.style.fontFamily=Fr,Nr.style.fontSize=Pr,Nr.style.margin="0",Nr.style.padding="0",Nr.style.whiteSpace="nowrap",xs.appendChild(Nr),Wr.src=Dg,Wr.width=1,Wr.height=1,Wr.style.margin="0",Wr.style.padding="0",Wr.style.verticalAlign="baseline",ds.style.fontFamily=Fr,ds.style.fontSize=Pr,ds.style.margin="0",ds.style.padding="0",ds.appendChild(this._document.createTextNode(sp)),Nr.appendChild(ds),Nr.appendChild(Wr);var js=Wr.offsetTop-ds.offsetTop+2;Nr.removeChild(ds),Nr.appendChild(this._document.createTextNode(sp)),Nr.style.lineHeight="normal",Wr.style.verticalAlign="super";var Qs=Wr.offsetTop-Nr.offsetTop+2;return xs.removeChild(Nr),{baseline:js,middle:Qs}},Ir.prototype.getMetrics=function(Fr,Pr){var Nr=Fr+" "+Pr;return typeof this._data[Nr]>"u"&&(this._data[Nr]=this.parseMetrics(Fr,Pr)),this._data[Nr]},Ir}(),ip=function(){function Ir(Fr,Pr){this.context=Fr,this.options=Pr}return Ir}(),Qg=1e4,jg=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr._activeEffects=[],Wr.canvas=Nr.canvas?Nr.canvas:document.createElement("canvas"),Wr.ctx=Wr.canvas.getContext("2d"),Nr.canvas||(Wr.canvas.width=Math.floor(Nr.width*Nr.scale),Wr.canvas.height=Math.floor(Nr.height*Nr.scale),Wr.canvas.style.width=Nr.width+"px",Wr.canvas.style.height=Nr.height+"px"),Wr.fontMetrics=new Ug(document),Wr.ctx.scale(Wr.options.scale,Wr.options.scale),Wr.ctx.translate(-Nr.x,-Nr.y),Wr.ctx.textBaseline="bottom",Wr._activeEffects=[],Wr.context.logger.debug("Canvas renderer initialized ("+Nr.width+"x"+Nr.height+") with scale "+Nr.scale),Wr}return Fr.prototype.applyEffects=function(Pr){for(var Nr=this;this._activeEffects.length;)this.popEffect();Pr.forEach(function(Wr){return Nr.applyEffect(Wr)})},Fr.prototype.applyEffect=function(Pr){this.ctx.save(),Tg(Pr)&&(this.ctx.globalAlpha=Pr.opacity),Fg(Pr)&&(this.ctx.translate(Pr.offsetX,Pr.offsetY),this.ctx.transform(Pr.matrix[0],Pr.matrix[1],Pr.matrix[2],Pr.matrix[3],Pr.matrix[4],Pr.matrix[5]),this.ctx.translate(-Pr.offsetX,-Pr.offsetY)),qh(Pr)&&(this.path(Pr.path),this.ctx.clip()),this._activeEffects.push(Pr)},Fr.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Fr.prototype.renderStack=function(Pr){return ur(this,void 0,void 0,function(){var Nr;return dr(this,function(Wr){switch(Wr.label){case 0:return Nr=Pr.element.container.styles,Nr.isVisible()?[4,this.renderStackContent(Pr)]:[3,2];case 1:Wr.sent(),Wr.label=2;case 2:return[2]}})})},Fr.prototype.renderNode=function(Pr){return ur(this,void 0,void 0,function(){return dr(this,function(Nr){switch(Nr.label){case 0:if(Ti(Pr.container.flags,16))debugger;return Pr.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(Pr)]:[3,3];case 1:return Nr.sent(),[4,this.renderNodeContent(Pr)];case 2:Nr.sent(),Nr.label=3;case 3:return[2]}})})},Fr.prototype.renderTextWithLetterSpacing=function(Pr,Nr,Wr){var ds=this;if(Nr===0)this.ctx.fillText(Pr.text,Pr.bounds.left,Pr.bounds.top+Wr);else{var xs=Ja(Pr.text);xs.reduce(function(js,Qs){return ds.ctx.fillText(Qs,js,Pr.bounds.top+Wr),js+ds.ctx.measureText(Qs).width},Pr.bounds.left)}},Fr.prototype.createFontStyle=function(Pr){var Nr=Pr.fontVariant.filter(function(xs){return xs==="normal"||xs==="small-caps"}).join(""),Wr=Gg(Pr.fontFamily).join(", "),ds=Io(Pr.fontSize)?""+Pr.fontSize.number+Pr.fontSize.unit:Pr.fontSize.number+"px";return[[Pr.fontStyle,Nr,Pr.fontWeight,ds,Wr].join(" "),Wr,ds]},Fr.prototype.renderTextNode=function(Pr,Nr){return ur(this,void 0,void 0,function(){var Wr,ds,xs,js,Qs,ii,Ai,mi,Ni=this;return dr(this,function(Ji){return Wr=this.createFontStyle(Nr),ds=Wr[0],xs=Wr[1],js=Wr[2],this.ctx.font=ds,this.ctx.direction=Nr.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Qs=this.fontMetrics.getMetrics(xs,js),ii=Qs.baseline,Ai=Qs.middle,mi=Nr.paintOrder,Pr.textBounds.forEach(function(Hi){mi.forEach(function(Ki){switch(Ki){case 0:Ni.ctx.fillStyle=Go(Nr.color),Ni.renderTextWithLetterSpacing(Hi,Nr.letterSpacing,ii);var ho=Nr.textShadow;ho.length&&Hi.text.trim().length&&(ho.slice(0).reverse().forEach(function(to){Ni.ctx.shadowColor=Go(to.color),Ni.ctx.shadowOffsetX=to.offsetX.number*Ni.options.scale,Ni.ctx.shadowOffsetY=to.offsetY.number*Ni.options.scale,Ni.ctx.shadowBlur=to.blur.number,Ni.renderTextWithLetterSpacing(Hi,Nr.letterSpacing,ii)}),Ni.ctx.shadowColor="",Ni.ctx.shadowOffsetX=0,Ni.ctx.shadowOffsetY=0,Ni.ctx.shadowBlur=0),Nr.textDecorationLine.length&&(Ni.ctx.fillStyle=Go(Nr.textDecorationColor||Nr.color),Nr.textDecorationLine.forEach(function(to){switch(to){case 1:Ni.ctx.fillRect(Hi.bounds.left,Math.round(Hi.bounds.top+ii),Hi.bounds.width,1);break;case 2:Ni.ctx.fillRect(Hi.bounds.left,Math.round(Hi.bounds.top),Hi.bounds.width,1);break;case 3:Ni.ctx.fillRect(Hi.bounds.left,Math.ceil(Hi.bounds.top+Ai),Hi.bounds.width,1);break}}));break;case 1:Nr.webkitTextStrokeWidth&&Hi.text.trim().length&&(Ni.ctx.strokeStyle=Go(Nr.webkitTextStrokeColor),Ni.ctx.lineWidth=Nr.webkitTextStrokeWidth,Ni.ctx.lineJoin=window.chrome?"miter":"round",Ni.ctx.strokeText(Hi.text,Hi.bounds.left,Hi.bounds.top+ii)),Ni.ctx.strokeStyle="",Ni.ctx.lineWidth=0,Ni.ctx.lineJoin="miter";break}})}),[2]})})},Fr.prototype.renderReplacedElement=function(Pr,Nr,Wr){if(Wr&&Pr.intrinsicWidth>0&&Pr.intrinsicHeight>0){var ds=Md(Pr),xs=Pd(Nr);this.path(xs),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Wr,0,0,Pr.intrinsicWidth,Pr.intrinsicHeight,ds.left,ds.top,ds.width,ds.height),this.ctx.restore()}},Fr.prototype.renderNodeContent=function(Pr){return ur(this,void 0,void 0,function(){var Nr,Wr,ds,xs,js,Qs,Zi,Zi,ii,Ai,mi,Ni,po,Ji,Hi,Ao,Ki,ho,to,Zi,So,po,Ao;return dr(this,function(qi){switch(qi.label){case 0:this.applyEffects(Pr.getEffects(4)),Nr=Pr.container,Wr=Pr.curves,ds=Nr.styles,xs=0,js=Nr.textNodes,qi.label=1;case 1:return xs<js.length?(Qs=js[xs],[4,this.renderTextNode(Qs,ds)]):[3,4];case 2:qi.sent(),qi.label=3;case 3:return xs++,[3,1];case 4:if(!(Nr instanceof Ch))return[3,8];qi.label=5;case 5:return qi.trys.push([5,7,,8]),[4,this.context.cache.match(Nr.src)];case 6:return Zi=qi.sent(),this.renderReplacedElement(Nr,Wr,Zi),[3,8];case 7:return qi.sent(),this.context.logger.error("Error loading image "+Nr.src),[3,8];case 8:if(Nr instanceof Sh&&this.renderReplacedElement(Nr,Wr,Nr.canvas),!(Nr instanceof xh))return[3,12];qi.label=9;case 9:return qi.trys.push([9,11,,12]),[4,this.context.cache.match(Nr.svg)];case 10:return Zi=qi.sent(),this.renderReplacedElement(Nr,Wr,Zi),[3,12];case 11:return qi.sent(),this.context.logger.error("Error loading svg "+Nr.svg.substring(0,255)),[3,12];case 12:return Nr instanceof Ih&&Nr.tree?(ii=new Fr(this.context,{scale:this.options.scale,backgroundColor:Nr.backgroundColor,x:0,y:0,width:Nr.width,height:Nr.height}),[4,ii.render(Nr.tree)]):[3,14];case 13:Ai=qi.sent(),Nr.width&&Nr.height&&this.ctx.drawImage(Ai,0,0,Nr.width,Nr.height,Nr.bounds.left,Nr.bounds.top,Nr.bounds.width,Nr.bounds.height),qi.label=14;case 14:if(Nr instanceof Ff&&(mi=Math.min(Nr.bounds.width,Nr.bounds.height),Nr.type===Sd?Nr.checked&&(this.ctx.save(),this.path([new Xi(Nr.bounds.left+mi*.39363,Nr.bounds.top+mi*.79),new Xi(Nr.bounds.left+mi*.16,Nr.bounds.top+mi*.5549),new Xi(Nr.bounds.left+mi*.27347,Nr.bounds.top+mi*.44071),new Xi(Nr.bounds.left+mi*.39694,Nr.bounds.top+mi*.5649),new Xi(Nr.bounds.left+mi*.72983,Nr.bounds.top+mi*.23),new Xi(Nr.bounds.left+mi*.84,Nr.bounds.top+mi*.34085),new Xi(Nr.bounds.left+mi*.39363,Nr.bounds.top+mi*.79)]),this.ctx.fillStyle=Go(Fh),this.ctx.fill(),this.ctx.restore()):Nr.type===xd&&Nr.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(Nr.bounds.left+mi/2,Nr.bounds.top+mi/2,mi/4,0,Math.PI*2,!0),this.ctx.fillStyle=Go(Fh),this.ctx.fill(),this.ctx.restore())),Hg(Nr)&&Nr.value.length){switch(Ni=this.createFontStyle(ds),po=Ni[0],Ji=Ni[1],Hi=this.fontMetrics.getMetrics(po,Ji).baseline,this.ctx.font=po,this.ctx.fillStyle=Go(ds.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Vg(Nr.styles.textAlign),Ao=Md(Nr),Ki=0,Nr.styles.textAlign){case 1:Ki+=Ao.width/2;break;case 2:Ki+=Ao.width;break}ho=Ao.add(Ki,0,0,-Ao.height/2+1),this.ctx.save(),this.path([new Xi(Ao.left,Ao.top),new Xi(Ao.left+Ao.width,Ao.top),new Xi(Ao.left+Ao.width,Ao.top+Ao.height),new Xi(Ao.left,Ao.top+Ao.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new nc(Nr.value,ho),ds.letterSpacing,Hi),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ti(Nr.styles.display,2048))return[3,20];if(Nr.styles.listStyleImage===null)return[3,19];if(to=Nr.styles.listStyleImage,to.type!==0)return[3,18];Zi=void 0,So=to.url,qi.label=15;case 15:return qi.trys.push([15,17,,18]),[4,this.context.cache.match(So)];case 16:return Zi=qi.sent(),this.ctx.drawImage(Zi,Nr.bounds.left-(Zi.width+10),Nr.bounds.top),[3,18];case 17:return qi.sent(),this.context.logger.error("Error loading list-style-image "+So),[3,18];case 18:return[3,20];case 19:Pr.listValue&&Nr.styles.listStyleType!==-1&&(po=this.createFontStyle(ds)[0],this.ctx.font=po,this.ctx.fillStyle=Go(ds.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ao=new fr(Nr.bounds.left,Nr.bounds.top+Bo(Nr.styles.paddingTop,Nr.bounds.width),Nr.bounds.width,bl(ds.lineHeight,ds.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new nc(Pr.listValue,Ao),ds.letterSpacing,bl(ds.lineHeight,ds.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),qi.label=20;case 20:return[2]}})})},Fr.prototype.renderStackContent=function(Pr){return ur(this,void 0,void 0,function(){var Nr,Wr,to,ds,xs,to,js,Qs,to,ii,Ai,to,mi,Ni,to,Ji,Hi,to,Ki,ho,to;return dr(this,function(Zi){switch(Zi.label){case 0:if(Ti(Pr.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(Pr.element)];case 1:Zi.sent(),Nr=0,Wr=Pr.negativeZIndex,Zi.label=2;case 2:return Nr<Wr.length?(to=Wr[Nr],[4,this.renderStack(to)]):[3,5];case 3:Zi.sent(),Zi.label=4;case 4:return Nr++,[3,2];case 5:return[4,this.renderNodeContent(Pr.element)];case 6:Zi.sent(),ds=0,xs=Pr.nonInlineLevel,Zi.label=7;case 7:return ds<xs.length?(to=xs[ds],[4,this.renderNode(to)]):[3,10];case 8:Zi.sent(),Zi.label=9;case 9:return ds++,[3,7];case 10:js=0,Qs=Pr.nonPositionedFloats,Zi.label=11;case 11:return js<Qs.length?(to=Qs[js],[4,this.renderStack(to)]):[3,14];case 12:Zi.sent(),Zi.label=13;case 13:return js++,[3,11];case 14:ii=0,Ai=Pr.nonPositionedInlineLevel,Zi.label=15;case 15:return ii<Ai.length?(to=Ai[ii],[4,this.renderStack(to)]):[3,18];case 16:Zi.sent(),Zi.label=17;case 17:return ii++,[3,15];case 18:mi=0,Ni=Pr.inlineLevel,Zi.label=19;case 19:return mi<Ni.length?(to=Ni[mi],[4,this.renderNode(to)]):[3,22];case 20:Zi.sent(),Zi.label=21;case 21:return mi++,[3,19];case 22:Ji=0,Hi=Pr.zeroOrAutoZIndexOrTransformedOrOpacity,Zi.label=23;case 23:return Ji<Hi.length?(to=Hi[Ji],[4,this.renderStack(to)]):[3,26];case 24:Zi.sent(),Zi.label=25;case 25:return Ji++,[3,23];case 26:Ki=0,ho=Pr.positiveZIndex,Zi.label=27;case 27:return Ki<ho.length?(to=ho[Ki],[4,this.renderStack(to)]):[3,30];case 28:Zi.sent(),Zi.label=29;case 29:return Ki++,[3,27];case 30:return[2]}})})},Fr.prototype.mask=function(Pr){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(Pr.slice(0).reverse()),this.ctx.closePath()},Fr.prototype.path=function(Pr){this.ctx.beginPath(),this.formatPath(Pr),this.ctx.closePath()},Fr.prototype.formatPath=function(Pr){var Nr=this;Pr.forEach(function(Wr,ds){var xs=ol(Wr)?Wr.start:Wr;ds===0?Nr.ctx.moveTo(xs.x,xs.y):Nr.ctx.lineTo(xs.x,xs.y),ol(Wr)&&Nr.ctx.bezierCurveTo(Wr.startControl.x,Wr.startControl.y,Wr.endControl.x,Wr.endControl.y,Wr.end.x,Wr.end.y)})},Fr.prototype.renderRepeat=function(Pr,Nr,Wr,ds){this.path(Pr),this.ctx.fillStyle=Nr,this.ctx.translate(Wr,ds),this.ctx.fill(),this.ctx.translate(-Wr,-ds)},Fr.prototype.resizeImage=function(Pr,Nr,Wr){var ds;if(Pr.width===Nr&&Pr.height===Wr)return Pr;var xs=(ds=this.canvas.ownerDocument)!==null&&ds!==void 0?ds:document,js=xs.createElement("canvas");js.width=Math.max(1,Nr),js.height=Math.max(1,Wr);var Qs=js.getContext("2d");return Qs.drawImage(Pr,0,0,Pr.width,Pr.height,0,0,Nr,Wr),js},Fr.prototype.renderBackgroundImage=function(Pr){return ur(this,void 0,void 0,function(){var Nr,Wr,ds,xs,js,Qs;return dr(this,function(ii){switch(ii.label){case 0:Nr=Pr.styles.backgroundImage.length-1,Wr=function(Ai){var mi,Ni,Ji,aa,Ka,Ga,Lo,ba,wo,Hi,aa,Ka,Ga,Lo,ba,Ki,ho,to,Zi,So,po,Ao,qi,bo,wo,fo,aa,Va,Za,Lo,ba,LA,Ka,Ga,oc,$l,RA,ac,Ac,AA,cc,cA;return dr(this,function(ou){switch(ou.label){case 0:if(Ai.type!==0)return[3,5];mi=void 0,Ni=Ai.url,ou.label=1;case 1:return ou.trys.push([1,3,,4]),[4,ds.context.cache.match(Ni)];case 2:return mi=ou.sent(),[3,4];case 3:return ou.sent(),ds.context.logger.error("Error loading background-image "+Ni),[3,4];case 4:return mi&&(Ji=Df(Pr,Nr,[mi.width,mi.height,mi.width/mi.height]),aa=Ji[0],Ka=Ji[1],Ga=Ji[2],Lo=Ji[3],ba=Ji[4],wo=ds.ctx.createPattern(ds.resizeImage(mi,Lo,ba),"repeat"),ds.renderRepeat(aa,wo,Ka,Ga)),[3,6];case 5:yl(Ai)?(Hi=Df(Pr,Nr,[null,null,null]),aa=Hi[0],Ka=Hi[1],Ga=Hi[2],Lo=Hi[3],ba=Hi[4],Ki=CA(Ai.angle,Lo,ba),ho=Ki[0],to=Ki[1],Zi=Ki[2],So=Ki[3],po=Ki[4],Ao=document.createElement("canvas"),Ao.width=Lo,Ao.height=ba,qi=Ao.getContext("2d"),bo=qi.createLinearGradient(to,So,Zi,po),fa(Ai.stops,ho).forEach(function(Vu){return bo.addColorStop(Vu.stop,Go(Vu.color))}),qi.fillStyle=bo,qi.fillRect(0,0,Lo,ba),Lo>0&&ba>0&&(wo=ds.ctx.createPattern(Ao,"repeat"),ds.renderRepeat(aa,wo,Ka,Ga))):WA(Ai)&&(fo=Df(Pr,Nr,[null,null,null]),aa=fo[0],Va=fo[1],Za=fo[2],Lo=fo[3],ba=fo[4],LA=Ai.position.length===0?[Zl]:Ai.position,Ka=Bo(LA[0],Lo),Ga=Bo(LA[LA.length-1],ba),oc=nA(Ai,Ka,Ga,Lo,ba),$l=oc[0],RA=oc[1],$l>0&&RA>0&&(ac=ds.ctx.createRadialGradient(Va+Ka,Za+Ga,0,Va+Ka,Za+Ga,$l),fa(Ai.stops,$l*2).forEach(function(Vu){return ac.addColorStop(Vu.stop,Go(Vu.color))}),ds.path(aa),ds.ctx.fillStyle=ac,$l!==RA?(Ac=Pr.bounds.left+.5*Pr.bounds.width,AA=Pr.bounds.top+.5*Pr.bounds.height,cc=RA/$l,cA=1/cc,ds.ctx.save(),ds.ctx.translate(Ac,AA),ds.ctx.transform(1,0,0,cc,0,0),ds.ctx.translate(-Ac,-AA),ds.ctx.fillRect(Va,cA*(Za-AA)+AA,Lo,ba*cA),ds.ctx.restore()):ds.ctx.fill())),ou.label=6;case 6:return Nr--,[2]}})},ds=this,xs=0,js=Pr.styles.backgroundImage.slice(0).reverse(),ii.label=1;case 1:return xs<js.length?(Qs=js[xs],[5,Wr(Qs)]):[3,4];case 2:ii.sent(),ii.label=3;case 3:return xs++,[3,1];case 4:return[2]}})})},Fr.prototype.renderSolidBorder=function(Pr,Nr,Wr){return ur(this,void 0,void 0,function(){return dr(this,function(ds){return this.path(np(Wr,Nr)),this.ctx.fillStyle=Go(Pr),this.ctx.fill(),[2]})})},Fr.prototype.renderDoubleBorder=function(Pr,Nr,Wr,ds){return ur(this,void 0,void 0,function(){var xs,js;return dr(this,function(Qs){switch(Qs.label){case 0:return Nr<3?[4,this.renderSolidBorder(Pr,Wr,ds)]:[3,2];case 1:return Qs.sent(),[2];case 2:return xs=Ng(ds,Wr),this.path(xs),this.ctx.fillStyle=Go(Pr),this.ctx.fill(),js=Pg(ds,Wr),this.path(js),this.ctx.fill(),[2]}})})},Fr.prototype.renderNodeBackgroundAndBorders=function(Pr){return ur(this,void 0,void 0,function(){var Nr,Wr,ds,xs,js,Qs,ii,Ai,mi=this;return dr(this,function(Ni){switch(Ni.label){case 0:return this.applyEffects(Pr.getEffects(2)),Nr=Pr.container.styles,Wr=!za(Nr.backgroundColor)||Nr.backgroundImage.length,ds=[{style:Nr.borderTopStyle,color:Nr.borderTopColor,width:Nr.borderTopWidth},{style:Nr.borderRightStyle,color:Nr.borderRightColor,width:Nr.borderRightWidth},{style:Nr.borderBottomStyle,color:Nr.borderBottomColor,width:Nr.borderBottomWidth},{style:Nr.borderLeftStyle,color:Nr.borderLeftColor,width:Nr.borderLeftWidth}],xs=$g(iu(Nr.backgroundClip,0),Pr.curves),Wr||Nr.boxShadow.length?(this.ctx.save(),this.path(xs),this.ctx.clip(),za(Nr.backgroundColor)||(this.ctx.fillStyle=Go(Nr.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(Pr.container)]):[3,2];case 1:Ni.sent(),this.ctx.restore(),Nr.boxShadow.slice(0).reverse().forEach(function(Ji){mi.ctx.save();var Hi=Nd(Pr.curves),Ki=Ji.inset?0:Qg,ho=kg(Hi,-Ki+(Ji.inset?1:-1)*Ji.spread.number,(Ji.inset?1:-1)*Ji.spread.number,Ji.spread.number*(Ji.inset?-2:2),Ji.spread.number*(Ji.inset?-2:2));Ji.inset?(mi.path(Hi),mi.ctx.clip(),mi.mask(ho)):(mi.mask(Hi),mi.ctx.clip(),mi.path(ho)),mi.ctx.shadowOffsetX=Ji.offsetX.number+Ki,mi.ctx.shadowOffsetY=Ji.offsetY.number,mi.ctx.shadowColor=Go(Ji.color),mi.ctx.shadowBlur=Ji.blur.number,mi.ctx.fillStyle=Ji.inset?Go(Ji.color):"rgba(0,0,0,1)",mi.ctx.fill(),mi.ctx.restore()}),Ni.label=2;case 2:js=0,Qs=0,ii=ds,Ni.label=3;case 3:return Qs<ii.length?(Ai=ii[Qs],Ai.style!==0&&!za(Ai.color)&&Ai.width>0?Ai.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ai.color,Ai.width,js,Pr.curves,2)]:[3,11]):[3,13];case 4:return Ni.sent(),[3,11];case 5:return Ai.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ai.color,Ai.width,js,Pr.curves,3)];case 6:return Ni.sent(),[3,11];case 7:return Ai.style!==4?[3,9]:[4,this.renderDoubleBorder(Ai.color,Ai.width,js,Pr.curves)];case 8:return Ni.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ai.color,js,Pr.curves)];case 10:Ni.sent(),Ni.label=11;case 11:js++,Ni.label=12;case 12:return Qs++,[3,3];case 13:return[2]}})})},Fr.prototype.renderDashedDottedBorder=function(Pr,Nr,Wr,ds,xs){return ur(this,void 0,void 0,function(){var js,Qs,ii,Ai,mi,Ni,Ji,Hi,Ki,ho,to,Zi,So,po,Ao,qi,Ao,qi;return dr(this,function(bo){return this.ctx.save(),js=_g(ds,Wr),Qs=np(ds,Wr),xs===2&&(this.path(Qs),this.ctx.clip()),ol(Qs[0])?(ii=Qs[0].start.x,Ai=Qs[0].start.y):(ii=Qs[0].x,Ai=Qs[0].y),ol(Qs[1])?(mi=Qs[1].end.x,Ni=Qs[1].end.y):(mi=Qs[1].x,Ni=Qs[1].y),Wr===0||Wr===2?Ji=Math.abs(ii-mi):Ji=Math.abs(Ai-Ni),this.ctx.beginPath(),xs===3?this.formatPath(js):this.formatPath(Qs.slice(0,2)),Hi=Nr<3?Nr*3:Nr*2,Ki=Nr<3?Nr*2:Nr,xs===3&&(Hi=Nr,Ki=Nr),ho=!0,Ji<=Hi*2?ho=!1:Ji<=Hi*2+Ki?(to=Ji/(2*Hi+Ki),Hi*=to,Ki*=to):(Zi=Math.floor((Ji+Ki)/(Hi+Ki)),So=(Ji-Zi*Hi)/(Zi-1),po=(Ji-(Zi+1)*Hi)/Zi,Ki=po<=0||Math.abs(Ki-So)<Math.abs(Ki-po)?So:po),ho&&(xs===3?this.ctx.setLineDash([0,Hi+Ki]):this.ctx.setLineDash([Hi,Ki])),xs===3?(this.ctx.lineCap="round",this.ctx.lineWidth=Nr):this.ctx.lineWidth=Nr*2+1.1,this.ctx.strokeStyle=Go(Pr),this.ctx.stroke(),this.ctx.setLineDash([]),xs===2&&(ol(Qs[0])&&(Ao=Qs[3],qi=Qs[0],this.ctx.beginPath(),this.formatPath([new Xi(Ao.end.x,Ao.end.y),new Xi(qi.start.x,qi.start.y)]),this.ctx.stroke()),ol(Qs[1])&&(Ao=Qs[1],qi=Qs[2],this.ctx.beginPath(),this.formatPath([new Xi(Ao.end.x,Ao.end.y),new Xi(qi.start.x,qi.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},Fr.prototype.render=function(Pr){return ur(this,void 0,void 0,function(){var Nr;return dr(this,function(Wr){switch(Wr.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Go(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),Nr=Ig(Pr),[4,this.renderStack(Nr)];case 1:return Wr.sent(),this.applyEffects([]),[2,this.canvas]}})})},Fr}(ip),Hg=function(Ir){return Ir instanceof kh||Ir instanceof Th?!0:Ir instanceof Ff&&Ir.type!==xd&&Ir.type!==Sd},$g=function(Ir,Fr){switch(Ir){case 0:return Nd(Fr);case 2:return Sg(Fr);case 1:default:return Pd(Fr)}},Vg=function(Ir){switch(Ir){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Kg=["-apple-system","system-ui"],Gg=function(Ir){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?Ir.filter(function(Fr){return Kg.indexOf(Fr)===-1}):Ir},Wg=function(Ir){Ar(Fr,Ir);function Fr(Pr,Nr){var Wr=Ir.call(this,Pr,Nr)||this;return Wr.canvas=Nr.canvas?Nr.canvas:document.createElement("canvas"),Wr.ctx=Wr.canvas.getContext("2d"),Wr.options=Nr,Wr.canvas.width=Math.floor(Nr.width*Nr.scale),Wr.canvas.height=Math.floor(Nr.height*Nr.scale),Wr.canvas.style.width=Nr.width+"px",Wr.canvas.style.height=Nr.height+"px",Wr.ctx.scale(Wr.options.scale,Wr.options.scale),Wr.ctx.translate(-Nr.x,-Nr.y),Wr.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+Nr.width+"x"+Nr.height+" at "+Nr.x+","+Nr.y+") with scale "+Nr.scale),Wr}return Fr.prototype.render=function(Pr){return ur(this,void 0,void 0,function(){var Nr,Wr;return dr(this,function(ds){switch(ds.label){case 0:return Nr=Jc(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,Pr),[4,zg(Nr)];case 1:return Wr=ds.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Go(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Wr,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},Fr}(ip),zg=function(Ir){return new Promise(function(Fr,Pr){var Nr=new Image;Nr.onload=function(){Fr(Nr)},Nr.onerror=Pr,Nr.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(Ir))})},Xg=function(){function Ir(Fr){var Pr=Fr.id,Nr=Fr.enabled;this.id=Pr,this.enabled=Nr,this.start=Date.now()}return Ir.prototype.debug=function(){for(var Fr=[],Pr=0;Pr<arguments.length;Pr++)Fr[Pr]=arguments[Pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,hr([this.id,this.getTime()+"ms"],Fr)):this.info.apply(this,Fr))},Ir.prototype.getTime=function(){return Date.now()-this.start},Ir.prototype.info=function(){for(var Fr=[],Pr=0;Pr<arguments.length;Pr++)Fr[Pr]=arguments[Pr];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,hr([this.id,this.getTime()+"ms"],Fr))},Ir.prototype.warn=function(){for(var Fr=[],Pr=0;Pr<arguments.length;Pr++)Fr[Pr]=arguments[Pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,hr([this.id,this.getTime()+"ms"],Fr)):this.info.apply(this,Fr))},Ir.prototype.error=function(){for(var Fr=[],Pr=0;Pr<arguments.length;Pr++)Fr[Pr]=arguments[Pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,hr([this.id,this.getTime()+"ms"],Fr)):this.info.apply(this,Fr))},Ir.instances={},Ir}(),Yg=function(){function Ir(Fr,Pr){var Nr;this.windowBounds=Pr,this.instanceName="#"+Ir.instanceCount++,this.logger=new Xg({id:this.instanceName,enabled:Fr.logging}),this.cache=(Nr=Fr.cache)!==null&&Nr!==void 0?Nr:new gg(this,Fr)}return Ir.instanceCount=1,Ir}(),qg=function(Ir,Fr){return Fr===void 0&&(Fr={}),Jg(Ir,Fr)};typeof window<"u"&&Yh.setContext(window);var Jg=function(Ir,Fr){return ur(void 0,void 0,void 0,function(){var Pr,Nr,Wr,ds,xs,js,Qs,ii,Ai,mi,Ni,Ji,Hi,Ki,ho,to,Zi,So,po,Ao,bo,qi,bo,wo,fo,aa,Va,Za,Lo,ba,LA,Ka,Ga,oc,$l,RA,ac,Ac,AA,cc;return dr(this,function(cA){switch(cA.label){case 0:if(!Ir||typeof Ir!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(Pr=Ir.ownerDocument,!Pr)throw new Error("Element is not attached to a Document");if(Nr=Pr.defaultView,!Nr)throw new Error("Document is not attached to a Window");return Wr={allowTaint:(wo=Fr.allowTaint)!==null&&wo!==void 0?wo:!1,imageTimeout:(fo=Fr.imageTimeout)!==null&&fo!==void 0?fo:15e3,proxy:Fr.proxy,useCORS:(aa=Fr.useCORS)!==null&&aa!==void 0?aa:!1},ds=cr({logging:(Va=Fr.logging)!==null&&Va!==void 0?Va:!0,cache:Fr.cache},Wr),xs={windowWidth:(Za=Fr.windowWidth)!==null&&Za!==void 0?Za:Nr.innerWidth,windowHeight:(Lo=Fr.windowHeight)!==null&&Lo!==void 0?Lo:Nr.innerHeight,scrollX:(ba=Fr.scrollX)!==null&&ba!==void 0?ba:Nr.pageXOffset,scrollY:(LA=Fr.scrollY)!==null&&LA!==void 0?LA:Nr.pageYOffset},js=new fr(xs.scrollX,xs.scrollY,xs.windowWidth,xs.windowHeight),Qs=new Yg(ds,js),ii=(Ka=Fr.foreignObjectRendering)!==null&&Ka!==void 0?Ka:!1,Ai={allowTaint:(Ga=Fr.allowTaint)!==null&&Ga!==void 0?Ga:!1,onclone:Fr.onclone,ignoreElements:Fr.ignoreElements,inlineImages:ii,copyStyles:ii},Qs.logger.debug("Starting document clone with size "+js.width+"x"+js.height+" scrolled to "+-js.left+","+-js.top),mi=new zh(Qs,Ir,Ai),Ni=mi.clonedReferenceElement,Ni?[4,mi.toIFrame(Pr,js)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ji=cA.sent(),Hi=kf(Ni)||Zp(Ni)?pr(Ni.ownerDocument):gr(Qs,Ni),Ki=Hi.width,ho=Hi.height,to=Hi.left,Zi=Hi.top,So=Zg(Qs,Ni,Fr.backgroundColor),po={canvas:Fr.canvas,backgroundColor:So,scale:($l=(oc=Fr.scale)!==null&&oc!==void 0?oc:Nr.devicePixelRatio)!==null&&$l!==void 0?$l:1,x:((RA=Fr.x)!==null&&RA!==void 0?RA:0)+to,y:((ac=Fr.y)!==null&&ac!==void 0?ac:0)+Zi,width:(Ac=Fr.width)!==null&&Ac!==void 0?Ac:Math.ceil(Ki),height:(AA=Fr.height)!==null&&AA!==void 0?AA:Math.ceil(ho)},ii?(Qs.logger.debug("Document cloned, using foreign object rendering"),bo=new Wg(Qs,po),[4,bo.render(Ni)]):[3,3];case 2:return Ao=cA.sent(),[3,5];case 3:return Qs.logger.debug("Document cloned, element located at "+to+","+Zi+" with size "+Ki+"x"+ho+" using computed rendering"),Qs.logger.debug("Starting DOM parsing"),qi=Ph(Qs,Ni),So===qi.styles.backgroundColor&&(qi.styles.backgroundColor=Sa.TRANSPARENT),Qs.logger.debug("Starting renderer for element at "+po.x+","+po.y+" with size "+po.width+"x"+po.height),bo=new jg(Qs,po),[4,bo.render(qi)];case 4:Ao=cA.sent(),cA.label=5;case 5:return(!((cc=Fr.removeContainer)!==null&&cc!==void 0)||cc)&&(zh.destroy(Ji)||Qs.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Qs.logger.debug("Finished rendering"),[2,Ao]}})})},Zg=function(Ir,Fr,Pr){var Nr=Fr.ownerDocument,Wr=Nr.documentElement?Na(Ir,getComputedStyle(Nr.documentElement).backgroundColor):Sa.TRANSPARENT,ds=Nr.body?Na(Ir,getComputedStyle(Nr.body).backgroundColor):Sa.TRANSPARENT,xs=typeof Pr=="string"?Na(Ir,Pr):Pr===null?Sa.TRANSPARENT:4294967295;return Fr===Nr.documentElement?za(Wr)?za(ds)?xs:ds:Wr:xs};return qg})}(html2canvas)),html2canvas.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */(function(ar,or){(function(Ar,cr){ar.exports=cr(require$$0$1,requireHtml2canvas())})(self,function(lr,Ar){return function(){var cr={"./src/plugin/hyperlinks.js":function(fr,gr,pr){pr.r(gr),pr("./node_modules/core-js/modules/web.dom-collections.for-each.js"),pr("./node_modules/core-js/modules/es.string.link.js");var mr=pr("./src/worker.js"),yr=pr("./src/utils.js"),vr=[],br={toContainer:mr.default.prototype.toContainer,toPdf:mr.default.prototype.toPdf};mr.default.prototype.toContainer=function(){return br.toContainer.call(this).then(function(){if(this.opt.enableLinks){var Br=this.prop.container,Sr=Br.querySelectorAll("a"),Er=(0,yr.unitConvert)(Br.getBoundingClientRect(),this.prop.pageSize.k);vr=[],Array.prototype.forEach.call(Sr,function(Tr){for(var kr=Tr.getClientRects(),Or=0;Or<kr.length;Or++){var Rr=(0,yr.unitConvert)(kr[Or],this.prop.pageSize.k);Rr.left-=Er.left,Rr.top-=Er.top;var Lr=Math.floor(Rr.top/this.prop.pageSize.inner.height)+1,_r=this.opt.margin[0]+Rr.top%this.prop.pageSize.inner.height,Hr=this.opt.margin[1]+Rr.left;vr.push({page:Lr,top:_r,left:Hr,clientRect:Rr,link:Tr})}},this)}})},mr.default.prototype.toPdf=function(){return br.toPdf.call(this).then(function(){if(this.opt.enableLinks){vr.forEach(function(Sr){this.prop.pdf.setPage(Sr.page),this.prop.pdf.link(Sr.left,Sr.top,Sr.clientRect.width,Sr.clientRect.height,{url:Sr.link.href})},this);var Br=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(Br)}})}},"./src/plugin/jspdf-plugin.js":function(fr,gr,pr){pr.r(gr),pr("./node_modules/core-js/modules/es.symbol.js"),pr("./node_modules/core-js/modules/es.symbol.description.js"),pr("./node_modules/core-js/modules/es.object.to-string.js"),pr("./node_modules/core-js/modules/es.symbol.iterator.js"),pr("./node_modules/core-js/modules/es.array.iterator.js"),pr("./node_modules/core-js/modules/es.string.iterator.js"),pr("./node_modules/core-js/modules/web.dom-collections.iterator.js");var mr=pr("jspdf");function yr(vr){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yr=function(wr){return typeof wr}:yr=function(wr){return wr&&typeof Symbol=="function"&&wr.constructor===Symbol&&wr!==Symbol.prototype?"symbol":typeof wr},yr(vr)}mr.jsPDF.getPageSize=function(vr,br,wr){if(yr(vr)==="object"){var Cr=vr;vr=Cr.orientation,br=Cr.unit||br,wr=Cr.format||wr}br=br||"mm",wr=wr||"a4",vr=(""+(vr||"P")).toLowerCase();var Br=(""+wr).toLowerCase(),Sr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(br){case"pt":var Er=1;break;case"mm":var Er=72/25.4;break;case"cm":var Er=72/2.54;break;case"in":var Er=72;break;case"px":var Er=72/96;break;case"pc":var Er=12;break;case"em":var Er=12;break;case"ex":var Er=6;break;default:throw"Invalid unit: "+br}if(Sr.hasOwnProperty(Br))var Tr=Sr[Br][1]/Er,kr=Sr[Br][0]/Er;else try{var Tr=wr[1],kr=wr[0]}catch{throw new Error("Invalid format: "+wr)}if(vr==="p"||vr==="portrait"){if(vr="p",kr>Tr){var Or=kr;kr=Tr,Tr=Or}}else if(vr==="l"||vr==="landscape"){if(vr="l",Tr>kr){var Or=kr;kr=Tr,Tr=Or}}else throw"Invalid orientation: "+vr;var Rr={width:kr,height:Tr,unit:br,k:Er};return Rr},gr.default=mr.jsPDF},"./src/plugin/pagebreaks.js":function(fr,gr,pr){pr.r(gr),pr("./node_modules/core-js/modules/es.array.concat.js"),pr("./node_modules/core-js/modules/es.array.slice.js"),pr("./node_modules/core-js/modules/es.array.join.js"),pr("./node_modules/core-js/modules/web.dom-collections.for-each.js"),pr("./node_modules/core-js/modules/es.object.keys.js");var mr=pr("./src/worker.js"),yr=pr("./src/utils.js"),vr={toContainer:mr.default.prototype.toContainer};mr.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},mr.default.prototype.toContainer=function(){return vr.toContainer.call(this).then(function(){var Cr=this.prop.container,Br=this.prop.pageSize.inner.px.height,Sr=[].concat(this.opt.pagebreak.mode),Er={avoidAll:Sr.indexOf("avoid-all")!==-1,css:Sr.indexOf("css")!==-1,legacy:Sr.indexOf("legacy")!==-1},Tr={},kr=this;["before","after","avoid"].forEach(function(Lr){var _r=Er.avoidAll&&Lr==="avoid";Tr[Lr]=_r?[]:[].concat(kr.opt.pagebreak[Lr]||[]),Tr[Lr].length>0&&(Tr[Lr]=Array.prototype.slice.call(Cr.querySelectorAll(Tr[Lr].join(", "))))});var Or=Cr.querySelectorAll(".html2pdf__page-break");Or=Array.prototype.slice.call(Or);var Rr=Cr.querySelectorAll("*");Array.prototype.forEach.call(Rr,function(_r){var Hr={before:!1,after:Er.legacy&&Or.indexOf(_r)!==-1,avoid:Er.avoidAll};if(Er.css){var Mr=window.getComputedStyle(_r),Ur=["always","page","left","right"],Kr=["avoid","avoid-page"];Hr={before:Hr.before||Ur.indexOf(Mr.breakBefore||Mr.pageBreakBefore)!==-1,after:Hr.after||Ur.indexOf(Mr.breakAfter||Mr.pageBreakAfter)!==-1,avoid:Hr.avoid||Kr.indexOf(Mr.breakInside||Mr.pageBreakInside)!==-1}}Object.keys(Hr).forEach(function(is){Hr[is]=Hr[is]||Tr[is].indexOf(_r)!==-1});var Xr=_r.getBoundingClientRect();if(Hr.avoid&&!Hr.before){var Yr=Math.floor(Xr.top/Br),Zr=Math.floor(Xr.bottom/Br),ns=Math.abs(Xr.bottom-Xr.top)/Br;Zr!==Yr&&ns<=1&&(Hr.before=!0)}if(Hr.before){var As=(0,yr.createElement)("div",{style:{display:"block",height:Br-Xr.top%Br+"px"}});_r.parentNode.insertBefore(As,_r)}if(Hr.after){var As=(0,yr.createElement)("div",{style:{display:"block",height:Br-Xr.bottom%Br+"px"}});_r.parentNode.insertBefore(As,_r.nextSibling)}})})}},"./src/utils.js":function(fr,gr,pr){pr.r(gr),pr.d(gr,{objType:function(){return yr},createElement:function(){return vr},cloneNode:function(){return br},unitConvert:function(){return wr},toPx:function(){return Cr}}),pr("./node_modules/core-js/modules/es.number.constructor.js"),pr("./node_modules/core-js/modules/es.symbol.js"),pr("./node_modules/core-js/modules/es.symbol.description.js"),pr("./node_modules/core-js/modules/es.object.to-string.js"),pr("./node_modules/core-js/modules/es.symbol.iterator.js"),pr("./node_modules/core-js/modules/es.array.iterator.js"),pr("./node_modules/core-js/modules/es.string.iterator.js"),pr("./node_modules/core-js/modules/web.dom-collections.iterator.js");function mr(Br){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mr=function(Er){return typeof Er}:mr=function(Er){return Er&&typeof Symbol=="function"&&Er.constructor===Symbol&&Er!==Symbol.prototype?"symbol":typeof Er},mr(Br)}var yr=function(Sr){var Er=mr(Sr);return Er==="undefined"?"undefined":Er==="string"||Sr instanceof String?"string":Er==="number"||Sr instanceof Number?"number":Er==="function"||Sr instanceof Function?"function":Sr&&Sr.constructor===Array?"array":Sr&&Sr.nodeType===1?"element":Er==="object"?"object":"unknown"},vr=function(Sr,Er){var Tr=document.createElement(Sr);if(Er.className&&(Tr.className=Er.className),Er.innerHTML){Tr.innerHTML=Er.innerHTML;for(var kr=Tr.getElementsByTagName("script"),Or=kr.length;Or-- >0;null)kr[Or].parentNode.removeChild(kr[Or])}for(var Rr in Er.style)Tr.style[Rr]=Er.style[Rr];return Tr},br=function Br(Sr,Er){for(var Tr=Sr.nodeType===3?document.createTextNode(Sr.nodeValue):Sr.cloneNode(!1),kr=Sr.firstChild;kr;kr=kr.nextSibling)(Er===!0||kr.nodeType!==1||kr.nodeName!=="SCRIPT")&&Tr.appendChild(Br(kr,Er));return Sr.nodeType===1&&(Sr.nodeName==="CANVAS"?(Tr.width=Sr.width,Tr.height=Sr.height,Tr.getContext("2d").drawImage(Sr,0,0)):(Sr.nodeName==="TEXTAREA"||Sr.nodeName==="SELECT")&&(Tr.value=Sr.value),Tr.addEventListener("load",function(){Tr.scrollTop=Sr.scrollTop,Tr.scrollLeft=Sr.scrollLeft},!0)),Tr},wr=function(Sr,Er){if(yr(Sr)==="number")return Sr*72/96/Er;var Tr={};for(var kr in Sr)Tr[kr]=Sr[kr]*72/96/Er;return Tr},Cr=function(Sr,Er){return Math.floor(Sr*Er/72*96)}},"./src/worker.js":function(fr,gr,pr){pr.r(gr),pr("./node_modules/core-js/modules/es.object.assign.js"),pr("./node_modules/core-js/modules/es.array.map.js"),pr("./node_modules/core-js/modules/es.object.keys.js"),pr("./node_modules/core-js/modules/es.array.concat.js"),pr("./node_modules/core-js/modules/es.object.to-string.js"),pr("./node_modules/core-js/modules/es.regexp.to-string.js"),pr("./node_modules/core-js/modules/es.function.name.js"),pr("./node_modules/core-js/modules/web.dom-collections.for-each.js");var mr=pr("jspdf"),yr=pr("html2canvas"),vr=pr("./src/utils.js"),br=pr("./node_modules/es6-promise/dist/es6-promise.js"),wr=pr.n(br),Cr=wr().Promise,Br=function Sr(Er){var Tr=Object.assign(Sr.convert(Cr.resolve()),JSON.parse(JSON.stringify(Sr.template))),kr=Sr.convert(Cr.resolve(),Tr);return kr=kr.setProgress(1,Sr,1,[Sr]),kr=kr.set(Er),kr};Br.prototype=Object.create(Cr.prototype),Br.prototype.constructor=Br,Br.convert=function(Er,Tr){return Er.__proto__=Tr||Br.prototype,Er},Br.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},Br.prototype.from=function(Er,Tr){function kr(Or){switch((0,vr.objType)(Or)){case"string":return"string";case"element":return Or.nodeName.toLowerCase&&Or.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(Tr=Tr||kr(Er),Tr){case"string":return this.set({src:(0,vr.createElement)("div",{innerHTML:Er})});case"element":return this.set({src:Er});case"canvas":return this.set({canvas:Er});case"img":return this.set({img:Er});default:return this.error("Unknown source type.")}})},Br.prototype.to=function(Er){switch(Er){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Br.prototype.toContainer=function(){var Er=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(Er).then(function(){var kr={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},Or={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};kr.opacity=0;var Rr=(0,vr.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,vr.createElement)("div",{className:"html2pdf__overlay",style:kr}),this.prop.container=(0,vr.createElement)("div",{className:"html2pdf__container",style:Or}),this.prop.container.appendChild(Rr),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},Br.prototype.toCanvas=function(){var Er=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Er).then(function(){var kr=Object.assign({},this.opt.html2canvas);return delete kr.onrendered,yr(this.prop.container,kr)}).then(function(kr){var Or=this.opt.html2canvas.onrendered||function(){};Or(kr),this.prop.canvas=kr,document.body.removeChild(this.prop.overlay)})},Br.prototype.toImg=function(){var Er=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(Er).then(function(){var kr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=kr})},Br.prototype.toPdf=function(){var Er=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(Er).then(function(){var kr=this.prop.canvas,Or=this.opt,Rr=kr.height,Lr=Math.floor(kr.width*this.prop.pageSize.inner.ratio),_r=Math.ceil(Rr/Lr),Hr=this.prop.pageSize.inner.height,Mr=document.createElement("canvas"),Ur=Mr.getContext("2d");Mr.width=kr.width,Mr.height=Lr,this.prop.pdf=this.prop.pdf||new mr.jsPDF(Or.jsPDF);for(var Kr=0;Kr<_r;Kr++){Kr===_r-1&&Rr%Lr!==0&&(Mr.height=Rr%Lr,Hr=Mr.height*this.prop.pageSize.inner.width/Mr.width);var Xr=Mr.width,Yr=Mr.height;Ur.fillStyle="white",Ur.fillRect(0,0,Xr,Yr),Ur.drawImage(kr,0,Kr*Lr,Xr,Yr,0,0,Xr,Yr),Kr&&this.prop.pdf.addPage();var Zr=Mr.toDataURL("image/"+Or.image.type,Or.image.quality);this.prop.pdf.addImage(Zr,Or.image.type,Or.margin[1],Or.margin[0],this.prop.pageSize.inner.width,Hr)}})},Br.prototype.output=function(Er,Tr,kr){return kr=kr||"pdf",kr.toLowerCase()==="img"||kr.toLowerCase()==="image"?this.outputImg(Er,Tr):this.outputPdf(Er,Tr)},Br.prototype.outputPdf=function(Er,Tr){var kr=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(kr).then(function(){return this.prop.pdf.output(Er,Tr)})},Br.prototype.outputImg=function(Er,Tr){var kr=[function(){return this.prop.img||this.toImg()}];return this.thenList(kr).then(function(){switch(Er){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Er+'" is not supported.'}})},Br.prototype.save=function(Er){var Tr=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(Tr).set(Er?{filename:Er}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Br.prototype.set=function(Er){if((0,vr.objType)(Er)!=="object")return this;var Tr=Object.keys(Er||{}).map(function(kr){switch(kr){case"margin":return this.setMargin.bind(this,Er.margin);case"jsPDF":return function(){return this.opt.jsPDF=Er.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Er.pageSize);default:return kr in Br.template.prop?function(){this.prop[kr]=Er[kr]}:function(){this.opt[kr]=Er[kr]}}},this);return this.then(function(){return this.thenList(Tr)})},Br.prototype.get=function(Er,Tr){return this.then(function(){var Or=Er in Br.template.prop?this.prop[Er]:this.opt[Er];return Tr?Tr(Or):Or})},Br.prototype.setMargin=function(Er){return this.then(function(){switch((0,vr.objType)(Er)){case"number":Er=[Er,Er,Er,Er];case"array":if(Er.length===2&&(Er=[Er[0],Er[1],Er[0],Er[1]]),Er.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Er}).then(this.setPageSize)},Br.prototype.setPageSize=function(Er){return this.then(function(){Er=Er||mr.jsPDF.getPageSize(this.opt.jsPDF),Er.hasOwnProperty("inner")||(Er.inner={width:Er.width-this.opt.margin[1]-this.opt.margin[3],height:Er.height-this.opt.margin[0]-this.opt.margin[2]},Er.inner.px={width:(0,vr.toPx)(Er.inner.width,Er.k),height:(0,vr.toPx)(Er.inner.height,Er.k)},Er.inner.ratio=Er.inner.height/Er.inner.width),this.prop.pageSize=Er})},Br.prototype.setProgress=function(Er,Tr,kr,Or){return Er!=null&&(this.progress.val=Er),Tr!=null&&(this.progress.state=Tr),kr!=null&&(this.progress.n=kr),Or!=null&&(this.progress.stack=Or),this.progress.ratio=this.progress.val/this.progress.state,this},Br.prototype.updateProgress=function(Er,Tr,kr,Or){return this.setProgress(Er?this.progress.val+Er:null,Tr||null,kr?this.progress.n+kr:null,Or?this.progress.stack.concat(Or):null)},Br.prototype.then=function(Er,Tr){var kr=this;return this.thenCore(Er,Tr,function(Rr,Lr){return kr.updateProgress(null,null,1,[Rr]),Cr.prototype.then.call(this,function(Hr){return kr.updateProgress(null,Rr),Hr}).then(Rr,Lr).then(function(Hr){return kr.updateProgress(1),Hr})})},Br.prototype.thenCore=function(Er,Tr,kr){kr=kr||Cr.prototype.then;var Or=this;Er&&(Er=Er.bind(Or)),Tr&&(Tr=Tr.bind(Or));var Rr=Cr.toString().indexOf("[native code]")!==-1&&Cr.name==="Promise",Lr=Rr?Or:Br.convert(Object.assign({},Or),Cr.prototype),_r=kr.call(Lr,Er,Tr);return Br.convert(_r,Or.__proto__)},Br.prototype.thenExternal=function(Er,Tr){return Cr.prototype.then.call(this,Er,Tr)},Br.prototype.thenList=function(Er){var Tr=this;return Er.forEach(function(Or){Tr=Tr.thenCore(Or)}),Tr},Br.prototype.catch=function(Sr){Sr&&(Sr=Sr.bind(this));var Er=Cr.prototype.catch.call(this,Sr);return Br.convert(Er,this)},Br.prototype.catchExternal=function(Er){return Cr.prototype.catch.call(this,Er)},Br.prototype.error=function(Er){return this.then(function(){throw new Error(Er)})},Br.prototype.using=Br.prototype.set,Br.prototype.saveAs=Br.prototype.save,Br.prototype.export=Br.prototype.output,Br.prototype.run=Br.prototype.then,gr.default=Br},"./node_modules/core-js/internals/a-function.js":function(fr){fr.exports=function(gr){if(typeof gr!="function")throw TypeError(String(gr)+" is not a function");return gr}},"./node_modules/core-js/internals/a-possible-prototype.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-object.js");fr.exports=function(yr){if(!mr(yr)&&yr!==null)throw TypeError("Can't set "+String(yr)+" as a prototype");return yr}},"./node_modules/core-js/internals/add-to-unscopables.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/well-known-symbol.js"),yr=pr("./node_modules/core-js/internals/object-create.js"),vr=pr("./node_modules/core-js/internals/object-define-property.js"),br=mr("unscopables"),wr=Array.prototype;wr[br]==null&&vr.f(wr,br,{configurable:!0,value:yr(null)}),fr.exports=function(Cr){wr[br][Cr]=!0}},"./node_modules/core-js/internals/an-object.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-object.js");fr.exports=function(yr){if(!mr(yr))throw TypeError(String(yr)+" is not an object");return yr}},"./node_modules/core-js/internals/array-for-each.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/array-iteration.js").forEach,yr=pr("./node_modules/core-js/internals/array-method-is-strict.js"),vr=yr("forEach");fr.exports=vr?[].forEach:function(wr){return mr(this,wr,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-includes.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-indexed-object.js"),yr=pr("./node_modules/core-js/internals/to-length.js"),vr=pr("./node_modules/core-js/internals/to-absolute-index.js"),br=function(wr){return function(Cr,Br,Sr){var Er=mr(Cr),Tr=yr(Er.length),kr=vr(Sr,Tr),Or;if(wr&&Br!=Br){for(;Tr>kr;)if(Or=Er[kr++],Or!=Or)return!0}else for(;Tr>kr;kr++)if((wr||kr in Er)&&Er[kr]===Br)return wr||kr||0;return!wr&&-1}};fr.exports={includes:br(!0),indexOf:br(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/function-bind-context.js"),yr=pr("./node_modules/core-js/internals/indexed-object.js"),vr=pr("./node_modules/core-js/internals/to-object.js"),br=pr("./node_modules/core-js/internals/to-length.js"),wr=pr("./node_modules/core-js/internals/array-species-create.js"),Cr=[].push,Br=function(Sr){var Er=Sr==1,Tr=Sr==2,kr=Sr==3,Or=Sr==4,Rr=Sr==6,Lr=Sr==7,_r=Sr==5||Rr;return function(Hr,Mr,Ur,Kr){for(var Xr=vr(Hr),Yr=yr(Xr),Zr=mr(Mr,Ur,3),ns=br(Yr.length),As=0,is=Kr||wr,gs=Er?is(Hr,ns):Tr||Lr?is(Hr,0):void 0,Os,Vr;ns>As;As++)if((_r||As in Yr)&&(Os=Yr[As],Vr=Zr(Os,As,Xr),Sr))if(Er)gs[As]=Vr;else if(Vr)switch(Sr){case 3:return!0;case 5:return Os;case 6:return As;case 2:Cr.call(gs,Os)}else switch(Sr){case 4:return!1;case 7:Cr.call(gs,Os)}return Rr?-1:kr||Or?Or:gs}};fr.exports={forEach:Br(0),map:Br(1),filter:Br(2),some:Br(3),every:Br(4),find:Br(5),findIndex:Br(6),filterReject:Br(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js"),yr=pr("./node_modules/core-js/internals/well-known-symbol.js"),vr=pr("./node_modules/core-js/internals/engine-v8-version.js"),br=yr("species");fr.exports=function(wr){return vr>=51||!mr(function(){var Cr=[],Br=Cr.constructor={};return Br[br]=function(){return{foo:1}},Cr[wr](Boolean).foo!==1})}},"./node_modules/core-js/internals/array-method-is-strict.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js");fr.exports=function(yr,vr){var br=[][yr];return!!br&&mr(function(){br.call(null,vr||function(){throw 1},1)})}},"./node_modules/core-js/internals/array-species-constructor.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-object.js"),yr=pr("./node_modules/core-js/internals/is-array.js"),vr=pr("./node_modules/core-js/internals/well-known-symbol.js"),br=vr("species");fr.exports=function(wr){var Cr;return yr(wr)&&(Cr=wr.constructor,typeof Cr=="function"&&(Cr===Array||yr(Cr.prototype))?Cr=void 0:mr(Cr)&&(Cr=Cr[br],Cr===null&&(Cr=void 0))),Cr===void 0?Array:Cr}},"./node_modules/core-js/internals/array-species-create.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/array-species-constructor.js");fr.exports=function(yr,vr){return new(mr(yr))(vr===0?0:vr)}},"./node_modules/core-js/internals/classof-raw.js":function(fr){var gr={}.toString;fr.exports=function(pr){return gr.call(pr).slice(8,-1)}},"./node_modules/core-js/internals/classof.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-string-tag-support.js"),yr=pr("./node_modules/core-js/internals/classof-raw.js"),vr=pr("./node_modules/core-js/internals/well-known-symbol.js"),br=vr("toStringTag"),wr=yr(function(){return arguments}())=="Arguments",Cr=function(Br,Sr){try{return Br[Sr]}catch{}};fr.exports=mr?yr:function(Br){var Sr,Er,Tr;return Br===void 0?"Undefined":Br===null?"Null":typeof(Er=Cr(Sr=Object(Br),br))=="string"?Er:wr?yr(Sr):(Tr=yr(Sr))=="Object"&&typeof Sr.callee=="function"?"Arguments":Tr}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/has.js"),yr=pr("./node_modules/core-js/internals/own-keys.js"),vr=pr("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),br=pr("./node_modules/core-js/internals/object-define-property.js");fr.exports=function(wr,Cr){for(var Br=yr(Cr),Sr=br.f,Er=vr.f,Tr=0;Tr<Br.length;Tr++){var kr=Br[Tr];mr(wr,kr)||Sr(wr,kr,Er(Cr,kr))}}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js");fr.exports=!mr(function(){function yr(){}return yr.prototype.constructor=null,Object.getPrototypeOf(new yr)!==yr.prototype})},"./node_modules/core-js/internals/create-html.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/require-object-coercible.js"),yr=pr("./node_modules/core-js/internals/to-string.js"),vr=/"/g;fr.exports=function(br,wr,Cr,Br){var Sr=yr(mr(br)),Er="<"+wr;return Cr!==""&&(Er+=" "+Cr+'="'+yr(Br).replace(vr,"&quot;")+'"'),Er+">"+Sr+"</"+wr+">"}},"./node_modules/core-js/internals/create-iterator-constructor.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,yr=pr("./node_modules/core-js/internals/object-create.js"),vr=pr("./node_modules/core-js/internals/create-property-descriptor.js"),br=pr("./node_modules/core-js/internals/set-to-string-tag.js"),wr=pr("./node_modules/core-js/internals/iterators.js"),Cr=function(){return this};fr.exports=function(Br,Sr,Er){var Tr=Sr+" Iterator";return Br.prototype=yr(mr,{next:vr(1,Er)}),br(Br,Tr,!1,!0),wr[Tr]=Cr,Br}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/object-define-property.js"),vr=pr("./node_modules/core-js/internals/create-property-descriptor.js");fr.exports=mr?function(br,wr,Cr){return yr.f(br,wr,vr(1,Cr))}:function(br,wr,Cr){return br[wr]=Cr,br}},"./node_modules/core-js/internals/create-property-descriptor.js":function(fr){fr.exports=function(gr,pr){return{enumerable:!(gr&1),configurable:!(gr&2),writable:!(gr&4),value:pr}}},"./node_modules/core-js/internals/create-property.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-property-key.js"),yr=pr("./node_modules/core-js/internals/object-define-property.js"),vr=pr("./node_modules/core-js/internals/create-property-descriptor.js");fr.exports=function(br,wr,Cr){var Br=mr(wr);Br in br?yr.f(br,Br,vr(0,Cr)):br[Br]=Cr}},"./node_modules/core-js/internals/define-iterator.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/create-iterator-constructor.js"),vr=pr("./node_modules/core-js/internals/object-get-prototype-of.js"),br=pr("./node_modules/core-js/internals/object-set-prototype-of.js"),wr=pr("./node_modules/core-js/internals/set-to-string-tag.js"),Cr=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),Br=pr("./node_modules/core-js/internals/redefine.js"),Sr=pr("./node_modules/core-js/internals/well-known-symbol.js"),Er=pr("./node_modules/core-js/internals/is-pure.js"),Tr=pr("./node_modules/core-js/internals/iterators.js"),kr=pr("./node_modules/core-js/internals/iterators-core.js"),Or=kr.IteratorPrototype,Rr=kr.BUGGY_SAFARI_ITERATORS,Lr=Sr("iterator"),_r="keys",Hr="values",Mr="entries",Ur=function(){return this};fr.exports=function(Kr,Xr,Yr,Zr,ns,As,is){yr(Yr,Xr,Zr);var gs=function(bs){if(bs===ns&&zr)return zr;if(!Rr&&bs in Qr)return Qr[bs];switch(bs){case _r:return function(){return new Yr(this,bs)};case Hr:return function(){return new Yr(this,bs)};case Mr:return function(){return new Yr(this,bs)}}return function(){return new Yr(this)}},Os=Xr+" Iterator",Vr=!1,Qr=Kr.prototype,$r=Qr[Lr]||Qr["@@iterator"]||ns&&Qr[ns],zr=!Rr&&$r||gs(ns),cs=Xr=="Array"&&Qr.entries||$r,Jr,ls,hs;if(cs&&(Jr=vr(cs.call(new Kr)),Or!==Object.prototype&&Jr.next&&(!Er&&vr(Jr)!==Or&&(br?br(Jr,Or):typeof Jr[Lr]!="function"&&Cr(Jr,Lr,Ur)),wr(Jr,Os,!0,!0),Er&&(Tr[Os]=Ur))),ns==Hr&&$r&&$r.name!==Hr&&(Vr=!0,zr=function(){return $r.call(this)}),(!Er||is)&&Qr[Lr]!==zr&&Cr(Qr,Lr,zr),Tr[Xr]=zr,ns)if(ls={values:gs(Hr),keys:As?zr:gs(_r),entries:gs(Mr)},is)for(hs in ls)(Rr||Vr||!(hs in Qr))&&Br(Qr,hs,ls[hs]);else mr({target:Xr,proto:!0,forced:Rr||Vr},ls);return ls}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/path.js"),yr=pr("./node_modules/core-js/internals/has.js"),vr=pr("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),br=pr("./node_modules/core-js/internals/object-define-property.js").f;fr.exports=function(wr){var Cr=mr.Symbol||(mr.Symbol={});yr(Cr,wr)||br(Cr,wr,{value:vr.f(wr)})}},"./node_modules/core-js/internals/descriptors.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js");fr.exports=!mr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"./node_modules/core-js/internals/document-create-element.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/is-object.js"),vr=mr.document,br=yr(vr)&&yr(vr.createElement);fr.exports=function(wr){return br?vr.createElement(wr):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(fr){fr.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/engine-user-agent.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/get-built-in.js");fr.exports=mr("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/engine-user-agent.js"),vr=mr.process,br=mr.Deno,wr=vr&&vr.versions||br&&br.version,Cr=wr&&wr.v8,Br,Sr;Cr?(Br=Cr.split("."),Sr=Br[0]<4?1:Br[0]+Br[1]):yr&&(Br=yr.match(/Edge\/(\d+)/),(!Br||Br[1]>=74)&&(Br=yr.match(/Chrome\/(\d+)/),Br&&(Sr=Br[1]))),fr.exports=Sr&&+Sr},"./node_modules/core-js/internals/enum-bug-keys.js":function(fr){fr.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,vr=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),br=pr("./node_modules/core-js/internals/redefine.js"),wr=pr("./node_modules/core-js/internals/set-global.js"),Cr=pr("./node_modules/core-js/internals/copy-constructor-properties.js"),Br=pr("./node_modules/core-js/internals/is-forced.js");fr.exports=function(Sr,Er){var Tr=Sr.target,kr=Sr.global,Or=Sr.stat,Rr,Lr,_r,Hr,Mr,Ur;if(kr?Lr=mr:Or?Lr=mr[Tr]||wr(Tr,{}):Lr=(mr[Tr]||{}).prototype,Lr)for(_r in Er){if(Mr=Er[_r],Sr.noTargetGet?(Ur=yr(Lr,_r),Hr=Ur&&Ur.value):Hr=Lr[_r],Rr=Br(kr?_r:Tr+(Or?".":"#")+_r,Sr.forced),!Rr&&Hr!==void 0){if(typeof Mr==typeof Hr)continue;Cr(Mr,Hr)}(Sr.sham||Hr&&Hr.sham)&&vr(Mr,"sham",!0),br(Lr,_r,Mr,Sr)}}},"./node_modules/core-js/internals/fails.js":function(fr){fr.exports=function(gr){try{return!!gr()}catch{return!0}}},"./node_modules/core-js/internals/function-bind-context.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/a-function.js");fr.exports=function(yr,vr,br){if(mr(yr),vr===void 0)return yr;switch(br){case 0:return function(){return yr.call(vr)};case 1:return function(wr){return yr.call(vr,wr)};case 2:return function(wr,Cr){return yr.call(vr,wr,Cr)};case 3:return function(wr,Cr,Br){return yr.call(vr,wr,Cr,Br)}}return function(){return yr.apply(vr,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=function(vr){return typeof vr=="function"?vr:void 0};fr.exports=function(vr,br){return arguments.length<2?yr(mr[vr]):mr[vr]&&mr[vr][br]}},"./node_modules/core-js/internals/global.js":function(fr){var gr=function(pr){return pr&&pr.Math==Math&&pr};fr.exports=gr(typeof globalThis=="object"&&globalThis)||gr(typeof window=="object"&&window)||gr(typeof self=="object"&&self)||gr(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-object.js"),yr={}.hasOwnProperty;fr.exports=Object.hasOwn||function(br,wr){return yr.call(mr(br),wr)}},"./node_modules/core-js/internals/hidden-keys.js":function(fr){fr.exports={}},"./node_modules/core-js/internals/html.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/get-built-in.js");fr.exports=mr("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/fails.js"),vr=pr("./node_modules/core-js/internals/document-create-element.js");fr.exports=!mr&&!yr(function(){return Object.defineProperty(vr("div"),"a",{get:function(){return 7}}).a!=7})},"./node_modules/core-js/internals/indexed-object.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js"),yr=pr("./node_modules/core-js/internals/classof-raw.js"),vr="".split;fr.exports=mr(function(){return!Object("z").propertyIsEnumerable(0)})?function(br){return yr(br)=="String"?vr.call(br,""):Object(br)}:Object},"./node_modules/core-js/internals/inherit-if-required.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-object.js"),yr=pr("./node_modules/core-js/internals/object-set-prototype-of.js");fr.exports=function(vr,br,wr){var Cr,Br;return yr&&typeof(Cr=br.constructor)=="function"&&Cr!==wr&&mr(Br=Cr.prototype)&&Br!==wr.prototype&&yr(vr,Br),vr}},"./node_modules/core-js/internals/inspect-source.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/shared-store.js"),yr=Function.toString;typeof mr.inspectSource!="function"&&(mr.inspectSource=function(vr){return yr.call(vr)}),fr.exports=mr.inspectSource},"./node_modules/core-js/internals/internal-state.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/native-weak-map.js"),yr=pr("./node_modules/core-js/internals/global.js"),vr=pr("./node_modules/core-js/internals/is-object.js"),br=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),wr=pr("./node_modules/core-js/internals/has.js"),Cr=pr("./node_modules/core-js/internals/shared-store.js"),Br=pr("./node_modules/core-js/internals/shared-key.js"),Sr=pr("./node_modules/core-js/internals/hidden-keys.js"),Er="Object already initialized",Tr=yr.WeakMap,kr,Or,Rr,Lr=function(Yr){return Rr(Yr)?Or(Yr):kr(Yr,{})},_r=function(Yr){return function(Zr){var ns;if(!vr(Zr)||(ns=Or(Zr)).type!==Yr)throw TypeError("Incompatible receiver, "+Yr+" required");return ns}};if(mr||Cr.state){var Hr=Cr.state||(Cr.state=new Tr),Mr=Hr.get,Ur=Hr.has,Kr=Hr.set;kr=function(Yr,Zr){if(Ur.call(Hr,Yr))throw new TypeError(Er);return Zr.facade=Yr,Kr.call(Hr,Yr,Zr),Zr},Or=function(Yr){return Mr.call(Hr,Yr)||{}},Rr=function(Yr){return Ur.call(Hr,Yr)}}else{var Xr=Br("state");Sr[Xr]=!0,kr=function(Yr,Zr){if(wr(Yr,Xr))throw new TypeError(Er);return Zr.facade=Yr,br(Yr,Xr,Zr),Zr},Or=function(Yr){return wr(Yr,Xr)?Yr[Xr]:{}},Rr=function(Yr){return wr(Yr,Xr)}}fr.exports={set:kr,get:Or,has:Rr,enforce:Lr,getterFor:_r}},"./node_modules/core-js/internals/is-array.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/classof-raw.js");fr.exports=Array.isArray||function(vr){return mr(vr)=="Array"}},"./node_modules/core-js/internals/is-forced.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js"),yr=/#|\.prototype\./,vr=function(Sr,Er){var Tr=wr[br(Sr)];return Tr==Br?!0:Tr==Cr?!1:typeof Er=="function"?mr(Er):!!Er},br=vr.normalize=function(Sr){return String(Sr).replace(yr,".").toLowerCase()},wr=vr.data={},Cr=vr.NATIVE="N",Br=vr.POLYFILL="P";fr.exports=vr},"./node_modules/core-js/internals/is-object.js":function(fr){fr.exports=function(gr){return typeof gr=="object"?gr!==null:typeof gr=="function"}},"./node_modules/core-js/internals/is-pure.js":function(fr){fr.exports=!1},"./node_modules/core-js/internals/is-symbol.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/get-built-in.js"),yr=pr("./node_modules/core-js/internals/use-symbol-as-uid.js");fr.exports=yr?function(vr){return typeof vr=="symbol"}:function(vr){var br=mr("Symbol");return typeof br=="function"&&Object(vr)instanceof br}},"./node_modules/core-js/internals/iterators-core.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js"),yr=pr("./node_modules/core-js/internals/object-get-prototype-of.js"),vr=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),br=pr("./node_modules/core-js/internals/has.js"),wr=pr("./node_modules/core-js/internals/well-known-symbol.js"),Cr=pr("./node_modules/core-js/internals/is-pure.js"),Br=wr("iterator"),Sr=!1,Er=function(){return this},Tr,kr,Or;[].keys&&(Or=[].keys(),"next"in Or?(kr=yr(yr(Or)),kr!==Object.prototype&&(Tr=kr)):Sr=!0);var Rr=Tr==null||mr(function(){var Lr={};return Tr[Br].call(Lr)!==Lr});Rr&&(Tr={}),(!Cr||Rr)&&!br(Tr,Br)&&vr(Tr,Br,Er),fr.exports={IteratorPrototype:Tr,BUGGY_SAFARI_ITERATORS:Sr}},"./node_modules/core-js/internals/iterators.js":function(fr){fr.exports={}},"./node_modules/core-js/internals/native-symbol.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/engine-v8-version.js"),yr=pr("./node_modules/core-js/internals/fails.js");fr.exports=!!Object.getOwnPropertySymbols&&!yr(function(){var vr=Symbol();return!String(vr)||!(Object(vr)instanceof Symbol)||!Symbol.sham&&mr&&mr<41})},"./node_modules/core-js/internals/native-weak-map.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/inspect-source.js"),vr=mr.WeakMap;fr.exports=typeof vr=="function"&&/native code/.test(yr(vr))},"./node_modules/core-js/internals/object-assign.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/fails.js"),vr=pr("./node_modules/core-js/internals/object-keys.js"),br=pr("./node_modules/core-js/internals/object-get-own-property-symbols.js"),wr=pr("./node_modules/core-js/internals/object-property-is-enumerable.js"),Cr=pr("./node_modules/core-js/internals/to-object.js"),Br=pr("./node_modules/core-js/internals/indexed-object.js"),Sr=Object.assign,Er=Object.defineProperty;fr.exports=!Sr||yr(function(){if(mr&&Sr({b:1},Sr(Er({},"a",{enumerable:!0,get:function(){Er(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Tr={},kr={},Or=Symbol(),Rr="abcdefghijklmnopqrst";return Tr[Or]=7,Rr.split("").forEach(function(Lr){kr[Lr]=Lr}),Sr({},Tr)[Or]!=7||vr(Sr({},kr)).join("")!=Rr})?function(kr,Or){for(var Rr=Cr(kr),Lr=arguments.length,_r=1,Hr=br.f,Mr=wr.f;Lr>_r;)for(var Ur=Br(arguments[_r++]),Kr=Hr?vr(Ur).concat(Hr(Ur)):vr(Ur),Xr=Kr.length,Yr=0,Zr;Xr>Yr;)Zr=Kr[Yr++],(!mr||Mr.call(Ur,Zr))&&(Rr[Zr]=Ur[Zr]);return Rr}:Sr},"./node_modules/core-js/internals/object-create.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/an-object.js"),yr=pr("./node_modules/core-js/internals/object-define-properties.js"),vr=pr("./node_modules/core-js/internals/enum-bug-keys.js"),br=pr("./node_modules/core-js/internals/hidden-keys.js"),wr=pr("./node_modules/core-js/internals/html.js"),Cr=pr("./node_modules/core-js/internals/document-create-element.js"),Br=pr("./node_modules/core-js/internals/shared-key.js"),Sr=">",Er="<",Tr="prototype",kr="script",Or=Br("IE_PROTO"),Rr=function(){},Lr=function(Kr){return Er+kr+Sr+Kr+Er+"/"+kr+Sr},_r=function(Kr){Kr.write(Lr("")),Kr.close();var Xr=Kr.parentWindow.Object;return Kr=null,Xr},Hr=function(){var Kr=Cr("iframe"),Xr="java"+kr+":",Yr;if(Kr.style)return Kr.style.display="none",wr.appendChild(Kr),Kr.src=String(Xr),Yr=Kr.contentWindow.document,Yr.open(),Yr.write(Lr("document.F=Object")),Yr.close(),Yr.F},Mr,Ur=function(){try{Mr=new ActiveXObject("htmlfile")}catch{}Ur=document.domain&&Mr?_r(Mr):Hr()||_r(Mr);for(var Kr=vr.length;Kr--;)delete Ur[Tr][vr[Kr]];return Ur()};br[Or]=!0,fr.exports=Object.create||function(Xr,Yr){var Zr;return Xr!==null?(Rr[Tr]=mr(Xr),Zr=new Rr,Rr[Tr]=null,Zr[Or]=Xr):Zr=Ur(),Yr===void 0?Zr:yr(Zr,Yr)}},"./node_modules/core-js/internals/object-define-properties.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/object-define-property.js"),vr=pr("./node_modules/core-js/internals/an-object.js"),br=pr("./node_modules/core-js/internals/object-keys.js");fr.exports=mr?Object.defineProperties:function(Cr,Br){vr(Cr);for(var Sr=br(Br),Er=Sr.length,Tr=0,kr;Er>Tr;)yr.f(Cr,kr=Sr[Tr++],Br[kr]);return Cr}},"./node_modules/core-js/internals/object-define-property.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/ie8-dom-define.js"),vr=pr("./node_modules/core-js/internals/an-object.js"),br=pr("./node_modules/core-js/internals/to-property-key.js"),wr=Object.defineProperty;gr.f=mr?wr:function(Br,Sr,Er){if(vr(Br),Sr=br(Sr),vr(Er),yr)try{return wr(Br,Sr,Er)}catch{}if("get"in Er||"set"in Er)throw TypeError("Accessors not supported");return"value"in Er&&(Br[Sr]=Er.value),Br}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/object-property-is-enumerable.js"),vr=pr("./node_modules/core-js/internals/create-property-descriptor.js"),br=pr("./node_modules/core-js/internals/to-indexed-object.js"),wr=pr("./node_modules/core-js/internals/to-property-key.js"),Cr=pr("./node_modules/core-js/internals/has.js"),Br=pr("./node_modules/core-js/internals/ie8-dom-define.js"),Sr=Object.getOwnPropertyDescriptor;gr.f=mr?Sr:function(Tr,kr){if(Tr=br(Tr),kr=wr(kr),Br)try{return Sr(Tr,kr)}catch{}if(Cr(Tr,kr))return vr(!yr.f.call(Tr,kr),Tr[kr])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-indexed-object.js"),yr=pr("./node_modules/core-js/internals/object-get-own-property-names.js").f,vr={}.toString,br=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],wr=function(Cr){try{return yr(Cr)}catch{return br.slice()}};fr.exports.f=function(Br){return br&&vr.call(Br)=="[object Window]"?wr(Br):yr(mr(Br))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/object-keys-internal.js"),yr=pr("./node_modules/core-js/internals/enum-bug-keys.js"),vr=yr.concat("length","prototype");gr.f=Object.getOwnPropertyNames||function(wr){return mr(wr,vr)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(fr,gr){gr.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/has.js"),yr=pr("./node_modules/core-js/internals/to-object.js"),vr=pr("./node_modules/core-js/internals/shared-key.js"),br=pr("./node_modules/core-js/internals/correct-prototype-getter.js"),wr=vr("IE_PROTO"),Cr=Object.prototype;fr.exports=br?Object.getPrototypeOf:function(Br){return Br=yr(Br),mr(Br,wr)?Br[wr]:typeof Br.constructor=="function"&&Br instanceof Br.constructor?Br.constructor.prototype:Br instanceof Object?Cr:null}},"./node_modules/core-js/internals/object-keys-internal.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/has.js"),yr=pr("./node_modules/core-js/internals/to-indexed-object.js"),vr=pr("./node_modules/core-js/internals/array-includes.js").indexOf,br=pr("./node_modules/core-js/internals/hidden-keys.js");fr.exports=function(wr,Cr){var Br=yr(wr),Sr=0,Er=[],Tr;for(Tr in Br)!mr(br,Tr)&&mr(Br,Tr)&&Er.push(Tr);for(;Cr.length>Sr;)mr(Br,Tr=Cr[Sr++])&&(~vr(Er,Tr)||Er.push(Tr));return Er}},"./node_modules/core-js/internals/object-keys.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/object-keys-internal.js"),yr=pr("./node_modules/core-js/internals/enum-bug-keys.js");fr.exports=Object.keys||function(br){return mr(br,yr)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(fr,gr){var pr={}.propertyIsEnumerable,mr=Object.getOwnPropertyDescriptor,yr=mr&&!pr.call({1:2},1);gr.f=yr?function(br){var wr=mr(this,br);return!!wr&&wr.enumerable}:pr},"./node_modules/core-js/internals/object-set-prototype-of.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/an-object.js"),yr=pr("./node_modules/core-js/internals/a-possible-prototype.js");fr.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var vr=!1,br={},wr;try{wr=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,wr.call(br,[]),vr=br instanceof Array}catch{}return function(Br,Sr){return mr(Br),yr(Sr),vr?wr.call(Br,Sr):Br.__proto__=Sr,Br}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-string-tag-support.js"),yr=pr("./node_modules/core-js/internals/classof.js");fr.exports=mr?{}.toString:function(){return"[object "+yr(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-object.js");fr.exports=function(yr,vr){var br,wr;if(vr==="string"&&typeof(br=yr.toString)=="function"&&!mr(wr=br.call(yr))||typeof(br=yr.valueOf)=="function"&&!mr(wr=br.call(yr))||vr!=="string"&&typeof(br=yr.toString)=="function"&&!mr(wr=br.call(yr)))return wr;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/get-built-in.js"),yr=pr("./node_modules/core-js/internals/object-get-own-property-names.js"),vr=pr("./node_modules/core-js/internals/object-get-own-property-symbols.js"),br=pr("./node_modules/core-js/internals/an-object.js");fr.exports=mr("Reflect","ownKeys")||function(Cr){var Br=yr.f(br(Cr)),Sr=vr.f;return Sr?Br.concat(Sr(Cr)):Br}},"./node_modules/core-js/internals/path.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js");fr.exports=mr},"./node_modules/core-js/internals/redefine.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),vr=pr("./node_modules/core-js/internals/has.js"),br=pr("./node_modules/core-js/internals/set-global.js"),wr=pr("./node_modules/core-js/internals/inspect-source.js"),Cr=pr("./node_modules/core-js/internals/internal-state.js"),Br=Cr.get,Sr=Cr.enforce,Er=String(String).split("String");(fr.exports=function(Tr,kr,Or,Rr){var Lr=Rr?!!Rr.unsafe:!1,_r=Rr?!!Rr.enumerable:!1,Hr=Rr?!!Rr.noTargetGet:!1,Mr;if(typeof Or=="function"&&(typeof kr=="string"&&!vr(Or,"name")&&yr(Or,"name",kr),Mr=Sr(Or),Mr.source||(Mr.source=Er.join(typeof kr=="string"?kr:""))),Tr===mr){_r?Tr[kr]=Or:br(kr,Or);return}else Lr?!Hr&&Tr[kr]&&(_r=!0):delete Tr[kr];_r?Tr[kr]=Or:yr(Tr,kr,Or)})(Function.prototype,"toString",function(){return typeof this=="function"&&Br(this).source||wr(this)})},"./node_modules/core-js/internals/regexp-flags.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/an-object.js");fr.exports=function(){var yr=mr(this),vr="";return yr.global&&(vr+="g"),yr.ignoreCase&&(vr+="i"),yr.multiline&&(vr+="m"),yr.dotAll&&(vr+="s"),yr.unicode&&(vr+="u"),yr.sticky&&(vr+="y"),vr}},"./node_modules/core-js/internals/require-object-coercible.js":function(fr){fr.exports=function(gr){if(gr==null)throw TypeError("Can't call method on "+gr);return gr}},"./node_modules/core-js/internals/set-global.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js");fr.exports=function(yr,vr){try{Object.defineProperty(mr,yr,{value:vr,configurable:!0,writable:!0})}catch{mr[yr]=vr}return vr}},"./node_modules/core-js/internals/set-to-string-tag.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/object-define-property.js").f,yr=pr("./node_modules/core-js/internals/has.js"),vr=pr("./node_modules/core-js/internals/well-known-symbol.js"),br=vr("toStringTag");fr.exports=function(wr,Cr,Br){wr&&!yr(wr=Br?wr:wr.prototype,br)&&mr(wr,br,{configurable:!0,value:Cr})}},"./node_modules/core-js/internals/shared-key.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/shared.js"),yr=pr("./node_modules/core-js/internals/uid.js"),vr=mr("keys");fr.exports=function(br){return vr[br]||(vr[br]=yr(br))}},"./node_modules/core-js/internals/shared-store.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/set-global.js"),vr="__core-js_shared__",br=mr[vr]||yr(vr,{});fr.exports=br},"./node_modules/core-js/internals/shared.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-pure.js"),yr=pr("./node_modules/core-js/internals/shared-store.js");(fr.exports=function(vr,br){return yr[vr]||(yr[vr]=br!==void 0?br:{})})("versions",[]).push({version:"3.16.0",mode:mr?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/internals/string-html-forced.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/fails.js");fr.exports=function(yr){return mr(function(){var vr=""[yr]('"');return vr!==vr.toLowerCase()||vr.split('"').length>3})}},"./node_modules/core-js/internals/string-multibyte.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-integer.js"),yr=pr("./node_modules/core-js/internals/to-string.js"),vr=pr("./node_modules/core-js/internals/require-object-coercible.js"),br=function(wr){return function(Cr,Br){var Sr=yr(vr(Cr)),Er=mr(Br),Tr=Sr.length,kr,Or;return Er<0||Er>=Tr?wr?"":void 0:(kr=Sr.charCodeAt(Er),kr<55296||kr>56319||Er+1===Tr||(Or=Sr.charCodeAt(Er+1))<56320||Or>57343?wr?Sr.charAt(Er):kr:wr?Sr.slice(Er,Er+2):(kr-55296<<10)+(Or-56320)+65536)}};fr.exports={codeAt:br(!1),charAt:br(!0)}},"./node_modules/core-js/internals/string-trim.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/require-object-coercible.js"),yr=pr("./node_modules/core-js/internals/to-string.js"),vr=pr("./node_modules/core-js/internals/whitespaces.js"),br="["+vr+"]",wr=RegExp("^"+br+br+"*"),Cr=RegExp(br+br+"*$"),Br=function(Sr){return function(Er){var Tr=yr(mr(Er));return Sr&1&&(Tr=Tr.replace(wr,"")),Sr&2&&(Tr=Tr.replace(Cr,"")),Tr}};fr.exports={start:Br(1),end:Br(2),trim:Br(3)}},"./node_modules/core-js/internals/to-absolute-index.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-integer.js"),yr=Math.max,vr=Math.min;fr.exports=function(br,wr){var Cr=mr(br);return Cr<0?yr(Cr+wr,0):vr(Cr,wr)}},"./node_modules/core-js/internals/to-indexed-object.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/indexed-object.js"),yr=pr("./node_modules/core-js/internals/require-object-coercible.js");fr.exports=function(vr){return mr(yr(vr))}},"./node_modules/core-js/internals/to-integer.js":function(fr){var gr=Math.ceil,pr=Math.floor;fr.exports=function(mr){return isNaN(mr=+mr)?0:(mr>0?pr:gr)(mr)}},"./node_modules/core-js/internals/to-length.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-integer.js"),yr=Math.min;fr.exports=function(vr){return vr>0?yr(mr(vr),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/require-object-coercible.js");fr.exports=function(yr){return Object(mr(yr))}},"./node_modules/core-js/internals/to-primitive.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-object.js"),yr=pr("./node_modules/core-js/internals/is-symbol.js"),vr=pr("./node_modules/core-js/internals/ordinary-to-primitive.js"),br=pr("./node_modules/core-js/internals/well-known-symbol.js"),wr=br("toPrimitive");fr.exports=function(Cr,Br){if(!mr(Cr)||yr(Cr))return Cr;var Sr=Cr[wr],Er;if(Sr!==void 0){if(Br===void 0&&(Br="default"),Er=Sr.call(Cr,Br),!mr(Er)||yr(Er))return Er;throw TypeError("Can't convert object to primitive value")}return Br===void 0&&(Br="number"),vr(Cr,Br)}},"./node_modules/core-js/internals/to-property-key.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-primitive.js"),yr=pr("./node_modules/core-js/internals/is-symbol.js");fr.exports=function(vr){var br=mr(vr,"string");return yr(br)?br:String(br)}},"./node_modules/core-js/internals/to-string-tag-support.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/well-known-symbol.js"),yr=mr("toStringTag"),vr={};vr[yr]="z",fr.exports=String(vr)==="[object z]"},"./node_modules/core-js/internals/to-string.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/is-symbol.js");fr.exports=function(yr){if(mr(yr))throw TypeError("Cannot convert a Symbol value to a string");return String(yr)}},"./node_modules/core-js/internals/uid.js":function(fr){var gr=0,pr=Math.random();fr.exports=function(mr){return"Symbol("+String(mr===void 0?"":mr)+")_"+(++gr+pr).toString(36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/native-symbol.js");fr.exports=mr&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/well-known-symbol.js");gr.f=mr},"./node_modules/core-js/internals/well-known-symbol.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/shared.js"),vr=pr("./node_modules/core-js/internals/has.js"),br=pr("./node_modules/core-js/internals/uid.js"),wr=pr("./node_modules/core-js/internals/native-symbol.js"),Cr=pr("./node_modules/core-js/internals/use-symbol-as-uid.js"),Br=yr("wks"),Sr=mr.Symbol,Er=Cr?Sr:Sr&&Sr.withoutSetter||br;fr.exports=function(Tr){return(!vr(Br,Tr)||!(wr||typeof Br[Tr]=="string"))&&(wr&&vr(Sr,Tr)?Br[Tr]=Sr[Tr]:Br[Tr]=Er("Symbol."+Tr)),Br[Tr]}},"./node_modules/core-js/internals/whitespaces.js":function(fr){fr.exports=`	
\v\f\r \u2028\u2029\uFEFF`},"./node_modules/core-js/modules/es.array.concat.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/fails.js"),vr=pr("./node_modules/core-js/internals/is-array.js"),br=pr("./node_modules/core-js/internals/is-object.js"),wr=pr("./node_modules/core-js/internals/to-object.js"),Cr=pr("./node_modules/core-js/internals/to-length.js"),Br=pr("./node_modules/core-js/internals/create-property.js"),Sr=pr("./node_modules/core-js/internals/array-species-create.js"),Er=pr("./node_modules/core-js/internals/array-method-has-species-support.js"),Tr=pr("./node_modules/core-js/internals/well-known-symbol.js"),kr=pr("./node_modules/core-js/internals/engine-v8-version.js"),Or=Tr("isConcatSpreadable"),Rr=9007199254740991,Lr="Maximum allowed index exceeded",_r=kr>=51||!yr(function(){var Kr=[];return Kr[Or]=!1,Kr.concat()[0]!==Kr}),Hr=Er("concat"),Mr=function(Kr){if(!br(Kr))return!1;var Xr=Kr[Or];return Xr!==void 0?!!Xr:vr(Kr)},Ur=!_r||!Hr;mr({target:"Array",proto:!0,forced:Ur},{concat:function(Xr){var Yr=wr(this),Zr=Sr(Yr,0),ns=0,As,is,gs,Os,Vr;for(As=-1,gs=arguments.length;As<gs;As++)if(Vr=As===-1?Yr:arguments[As],Mr(Vr)){if(Os=Cr(Vr.length),ns+Os>Rr)throw TypeError(Lr);for(is=0;is<Os;is++,ns++)is in Vr&&Br(Zr,ns,Vr[is])}else{if(ns>=Rr)throw TypeError(Lr);Br(Zr,ns++,Vr)}return Zr.length=ns,Zr}})},"./node_modules/core-js/modules/es.array.iterator.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-indexed-object.js"),yr=pr("./node_modules/core-js/internals/add-to-unscopables.js"),vr=pr("./node_modules/core-js/internals/iterators.js"),br=pr("./node_modules/core-js/internals/internal-state.js"),wr=pr("./node_modules/core-js/internals/define-iterator.js"),Cr="Array Iterator",Br=br.set,Sr=br.getterFor(Cr);fr.exports=wr(Array,"Array",function(Er,Tr){Br(this,{type:Cr,target:mr(Er),index:0,kind:Tr})},function(){var Er=Sr(this),Tr=Er.target,kr=Er.kind,Or=Er.index++;return!Tr||Or>=Tr.length?(Er.target=void 0,{value:void 0,done:!0}):kr=="keys"?{value:Or,done:!1}:kr=="values"?{value:Tr[Or],done:!1}:{value:[Or,Tr[Or]],done:!1}},"values"),vr.Arguments=vr.Array,yr("keys"),yr("values"),yr("entries")},"./node_modules/core-js/modules/es.array.join.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/indexed-object.js"),vr=pr("./node_modules/core-js/internals/to-indexed-object.js"),br=pr("./node_modules/core-js/internals/array-method-is-strict.js"),wr=[].join,Cr=yr!=Object,Br=br("join",",");mr({target:"Array",proto:!0,forced:Cr||!Br},{join:function(Er){return wr.call(vr(this),Er===void 0?",":Er)}})},"./node_modules/core-js/modules/es.array.map.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/array-iteration.js").map,vr=pr("./node_modules/core-js/internals/array-method-has-species-support.js"),br=vr("map");mr({target:"Array",proto:!0,forced:!br},{map:function(Cr){return yr(this,Cr,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/is-object.js"),vr=pr("./node_modules/core-js/internals/is-array.js"),br=pr("./node_modules/core-js/internals/to-absolute-index.js"),wr=pr("./node_modules/core-js/internals/to-length.js"),Cr=pr("./node_modules/core-js/internals/to-indexed-object.js"),Br=pr("./node_modules/core-js/internals/create-property.js"),Sr=pr("./node_modules/core-js/internals/well-known-symbol.js"),Er=pr("./node_modules/core-js/internals/array-method-has-species-support.js"),Tr=Er("slice"),kr=Sr("species"),Or=[].slice,Rr=Math.max;mr({target:"Array",proto:!0,forced:!Tr},{slice:function(_r,Hr){var Mr=Cr(this),Ur=wr(Mr.length),Kr=br(_r,Ur),Xr=br(Hr===void 0?Ur:Hr,Ur),Yr,Zr,ns;if(vr(Mr)&&(Yr=Mr.constructor,typeof Yr=="function"&&(Yr===Array||vr(Yr.prototype))?Yr=void 0:yr(Yr)&&(Yr=Yr[kr],Yr===null&&(Yr=void 0)),Yr===Array||Yr===void 0))return Or.call(Mr,Kr,Xr);for(Zr=new(Yr===void 0?Array:Yr)(Rr(Xr-Kr,0)),ns=0;Kr<Xr;Kr++,ns++)Kr in Mr&&Br(Zr,ns,Mr[Kr]);return Zr.length=ns,Zr}})},"./node_modules/core-js/modules/es.function.name.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/object-define-property.js").f,vr=Function.prototype,br=vr.toString,wr=/^\s*function ([^ (]*)/,Cr="name";mr&&!(Cr in vr)&&yr(vr,Cr,{configurable:!0,get:function(){try{return br.call(this).match(wr)[1]}catch{return""}}})},"./node_modules/core-js/modules/es.number.constructor.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/descriptors.js"),yr=pr("./node_modules/core-js/internals/global.js"),vr=pr("./node_modules/core-js/internals/is-forced.js"),br=pr("./node_modules/core-js/internals/redefine.js"),wr=pr("./node_modules/core-js/internals/has.js"),Cr=pr("./node_modules/core-js/internals/classof-raw.js"),Br=pr("./node_modules/core-js/internals/inherit-if-required.js"),Sr=pr("./node_modules/core-js/internals/is-symbol.js"),Er=pr("./node_modules/core-js/internals/to-primitive.js"),Tr=pr("./node_modules/core-js/internals/fails.js"),kr=pr("./node_modules/core-js/internals/object-create.js"),Or=pr("./node_modules/core-js/internals/object-get-own-property-names.js").f,Rr=pr("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Lr=pr("./node_modules/core-js/internals/object-define-property.js").f,_r=pr("./node_modules/core-js/internals/string-trim.js").trim,Hr="Number",Mr=yr[Hr],Ur=Mr.prototype,Kr=Cr(kr(Ur))==Hr,Xr=function(is){if(Sr(is))throw TypeError("Cannot convert a Symbol value to a number");var gs=Er(is,"number"),Os,Vr,Qr,$r,zr,cs,Jr,ls;if(typeof gs=="string"&&gs.length>2){if(gs=_r(gs),Os=gs.charCodeAt(0),Os===43||Os===45){if(Vr=gs.charCodeAt(2),Vr===88||Vr===120)return NaN}else if(Os===48){switch(gs.charCodeAt(1)){case 66:case 98:Qr=2,$r=49;break;case 79:case 111:Qr=8,$r=55;break;default:return+gs}for(zr=gs.slice(2),cs=zr.length,Jr=0;Jr<cs;Jr++)if(ls=zr.charCodeAt(Jr),ls<48||ls>$r)return NaN;return parseInt(zr,Qr)}}return+gs};if(vr(Hr,!Mr(" 0o1")||!Mr("0b1")||Mr("+0x1"))){for(var Yr=function(gs){var Os=arguments.length<1?0:gs,Vr=this;return Vr instanceof Yr&&(Kr?Tr(function(){Ur.valueOf.call(Vr)}):Cr(Vr)!=Hr)?Br(new Mr(Xr(Os)),Vr,Yr):Xr(Os)},Zr=mr?Or(Mr):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),ns=0,As;Zr.length>ns;ns++)wr(Mr,As=Zr[ns])&&!wr(Yr,As)&&Lr(Yr,As,Rr(Mr,As));Yr.prototype=Ur,Ur.constructor=Yr,br(yr,Hr,Yr)}},"./node_modules/core-js/modules/es.object.assign.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/object-assign.js");mr({target:"Object",stat:!0,forced:Object.assign!==yr},{assign:yr})},"./node_modules/core-js/modules/es.object.keys.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/to-object.js"),vr=pr("./node_modules/core-js/internals/object-keys.js"),br=pr("./node_modules/core-js/internals/fails.js"),wr=br(function(){vr(1)});mr({target:"Object",stat:!0,forced:wr},{keys:function(Br){return vr(yr(Br))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/to-string-tag-support.js"),yr=pr("./node_modules/core-js/internals/redefine.js"),vr=pr("./node_modules/core-js/internals/object-to-string.js");mr||yr(Object.prototype,"toString",vr,{unsafe:!0})},"./node_modules/core-js/modules/es.regexp.to-string.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/redefine.js"),yr=pr("./node_modules/core-js/internals/an-object.js"),vr=pr("./node_modules/core-js/internals/to-string.js"),br=pr("./node_modules/core-js/internals/fails.js"),wr=pr("./node_modules/core-js/internals/regexp-flags.js"),Cr="toString",Br=RegExp.prototype,Sr=Br[Cr],Er=br(function(){return Sr.call({source:"a",flags:"b"})!="/a/b"}),Tr=Sr.name!=Cr;(Er||Tr)&&mr(RegExp.prototype,Cr,function(){var Or=yr(this),Rr=vr(Or.source),Lr=Or.flags,_r=vr(Lr===void 0&&Or instanceof RegExp&&!("flags"in Br)?wr.call(Or):Lr);return"/"+Rr+"/"+_r},{unsafe:!0})},"./node_modules/core-js/modules/es.string.iterator.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/string-multibyte.js").charAt,yr=pr("./node_modules/core-js/internals/to-string.js"),vr=pr("./node_modules/core-js/internals/internal-state.js"),br=pr("./node_modules/core-js/internals/define-iterator.js"),wr="String Iterator",Cr=vr.set,Br=vr.getterFor(wr);br(String,"String",function(Sr){Cr(this,{type:wr,string:yr(Sr),index:0})},function(){var Er=Br(this),Tr=Er.string,kr=Er.index,Or;return kr>=Tr.length?{value:void 0,done:!0}:(Or=mr(Tr,kr),Er.index+=Or.length,{value:Or,done:!1})})},"./node_modules/core-js/modules/es.string.link.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/create-html.js"),vr=pr("./node_modules/core-js/internals/string-html-forced.js");mr({target:"String",proto:!0,forced:vr("link")},{link:function(wr){return yr(this,"a","href",wr)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/descriptors.js"),vr=pr("./node_modules/core-js/internals/global.js"),br=pr("./node_modules/core-js/internals/has.js"),wr=pr("./node_modules/core-js/internals/is-object.js"),Cr=pr("./node_modules/core-js/internals/object-define-property.js").f,Br=pr("./node_modules/core-js/internals/copy-constructor-properties.js"),Sr=vr.Symbol;if(yr&&typeof Sr=="function"&&(!("description"in Sr.prototype)||Sr().description!==void 0)){var Er={},Tr=function(){var Hr=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),Mr=this instanceof Tr?new Sr(Hr):Hr===void 0?Sr():Sr(Hr);return Hr===""&&(Er[Mr]=!0),Mr};Br(Tr,Sr);var kr=Tr.prototype=Sr.prototype;kr.constructor=Tr;var Or=kr.toString,Rr=String(Sr("test"))=="Symbol(test)",Lr=/^Symbol\((.*)\)[^)]+$/;Cr(kr,"description",{configurable:!0,get:function(){var Hr=wr(this)?this.valueOf():this,Mr=Or.call(Hr);if(br(Er,Hr))return"";var Ur=Rr?Mr.slice(7,-1):Mr.replace(Lr,"$1");return Ur===""?void 0:Ur}}),mr({global:!0,forced:!0},{Symbol:Tr})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/define-well-known-symbol.js");mr("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/export.js"),yr=pr("./node_modules/core-js/internals/global.js"),vr=pr("./node_modules/core-js/internals/get-built-in.js"),br=pr("./node_modules/core-js/internals/is-pure.js"),wr=pr("./node_modules/core-js/internals/descriptors.js"),Cr=pr("./node_modules/core-js/internals/native-symbol.js"),Br=pr("./node_modules/core-js/internals/fails.js"),Sr=pr("./node_modules/core-js/internals/has.js"),Er=pr("./node_modules/core-js/internals/is-array.js"),Tr=pr("./node_modules/core-js/internals/is-object.js"),kr=pr("./node_modules/core-js/internals/is-symbol.js"),Or=pr("./node_modules/core-js/internals/an-object.js"),Rr=pr("./node_modules/core-js/internals/to-object.js"),Lr=pr("./node_modules/core-js/internals/to-indexed-object.js"),_r=pr("./node_modules/core-js/internals/to-property-key.js"),Hr=pr("./node_modules/core-js/internals/to-string.js"),Mr=pr("./node_modules/core-js/internals/create-property-descriptor.js"),Ur=pr("./node_modules/core-js/internals/object-create.js"),Kr=pr("./node_modules/core-js/internals/object-keys.js"),Xr=pr("./node_modules/core-js/internals/object-get-own-property-names.js"),Yr=pr("./node_modules/core-js/internals/object-get-own-property-names-external.js"),Zr=pr("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ns=pr("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),As=pr("./node_modules/core-js/internals/object-define-property.js"),is=pr("./node_modules/core-js/internals/object-property-is-enumerable.js"),gs=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),Os=pr("./node_modules/core-js/internals/redefine.js"),Vr=pr("./node_modules/core-js/internals/shared.js"),Qr=pr("./node_modules/core-js/internals/shared-key.js"),$r=pr("./node_modules/core-js/internals/hidden-keys.js"),zr=pr("./node_modules/core-js/internals/uid.js"),cs=pr("./node_modules/core-js/internals/well-known-symbol.js"),Jr=pr("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ls=pr("./node_modules/core-js/internals/define-well-known-symbol.js"),hs=pr("./node_modules/core-js/internals/set-to-string-tag.js"),bs=pr("./node_modules/core-js/internals/internal-state.js"),Ts=pr("./node_modules/core-js/internals/array-iteration.js").forEach,Ds=Qr("hidden"),us="Symbol",ps="prototype",ms=cs("toPrimitive"),ss=bs.set,ks=bs.getterFor(us),as=Object[ps],fs=yr.Symbol,ws=vr("JSON","stringify"),Is=ns.f,Ps=As.f,Ws=Yr.f,Ks=is.f,Fs=Vr("symbols"),ni=Vr("op-symbols"),li=Vr("string-to-symbol-registry"),Si=Vr("symbol-to-string-registry"),Us=Vr("wks"),Cs=yr.QObject,Bs=!Cs||!Cs[ps]||!Cs[ps].findChild,$s=wr&&Br(function(){return Ur(Ps({},"a",{get:function(){return Ps(this,"a",{value:7}).a}})).a!=7})?function(Js,oi,hi){var Bi=Is(as,oi);Bi&&delete as[oi],Ps(Js,oi,hi),Bi&&Js!==as&&Ps(as,oi,Bi)}:Ps,qs=function(Js,oi){var hi=Fs[Js]=Ur(fs[ps]);return ss(hi,{type:us,tag:Js,description:oi}),wr||(hi.description=oi),hi},bi=function(oi,hi,Bi){oi===as&&bi(ni,hi,Bi),Or(oi);var Ii=_r(hi);return Or(Bi),Sr(Fs,Ii)?(Bi.enumerable?(Sr(oi,Ds)&&oi[Ds][Ii]&&(oi[Ds][Ii]=!1),Bi=Ur(Bi,{enumerable:Mr(0,!1)})):(Sr(oi,Ds)||Ps(oi,Ds,Mr(1,{})),oi[Ds][Ii]=!0),$s(oi,Ii,Bi)):Ps(oi,Ii,Bi)},zs=function(oi,hi){Or(oi);var Bi=Lr(hi),Ii=Kr(Bi).concat(Ei(Bi));return Ts(Ii,function(Ms){(!wr||Ys.call(Bi,Ms))&&bi(oi,Ms,Bi[Ms])}),oi},Vs=function(oi,hi){return hi===void 0?Ur(oi):zs(Ur(oi),hi)},Ys=function(oi){var hi=_r(oi),Bi=Ks.call(this,hi);return this===as&&Sr(Fs,hi)&&!Sr(ni,hi)?!1:Bi||!Sr(this,hi)||!Sr(Fs,hi)||Sr(this,Ds)&&this[Ds][hi]?Bi:!0},fi=function(oi,hi){var Bi=Lr(oi),Ii=_r(hi);if(!(Bi===as&&Sr(Fs,Ii)&&!Sr(ni,Ii))){var Ms=Is(Bi,Ii);return Ms&&Sr(Fs,Ii)&&!(Sr(Bi,Ds)&&Bi[Ds][Ii])&&(Ms.enumerable=!0),Ms}},Pi=function(oi){var hi=Ws(Lr(oi)),Bi=[];return Ts(hi,function(Ii){!Sr(Fs,Ii)&&!Sr($r,Ii)&&Bi.push(Ii)}),Bi},Ei=function(oi){var hi=oi===as,Bi=Ws(hi?ni:Lr(oi)),Ii=[];return Ts(Bi,function(Ms){Sr(Fs,Ms)&&(!hi||Sr(as,Ms))&&Ii.push(Fs[Ms])}),Ii};if(Cr||(fs=function(){if(this instanceof fs)throw TypeError("Symbol is not a constructor");var oi=!arguments.length||arguments[0]===void 0?void 0:Hr(arguments[0]),hi=zr(oi),Bi=function(Ii){this===as&&Bi.call(ni,Ii),Sr(this,Ds)&&Sr(this[Ds],hi)&&(this[Ds][hi]=!1),$s(this,hi,Mr(1,Ii))};return wr&&Bs&&$s(as,hi,{configurable:!0,set:Bi}),qs(hi,oi)},Os(fs[ps],"toString",function(){return ks(this).tag}),Os(fs,"withoutSetter",function(Js){return qs(zr(Js),Js)}),is.f=Ys,As.f=bi,ns.f=fi,Xr.f=Yr.f=Pi,Zr.f=Ei,Jr.f=function(Js){return qs(cs(Js),Js)},wr&&(Ps(fs[ps],"description",{configurable:!0,get:function(){return ks(this).description}}),br||Os(as,"propertyIsEnumerable",Ys,{unsafe:!0}))),mr({global:!0,wrap:!0,forced:!Cr,sham:!Cr},{Symbol:fs}),Ts(Kr(Us),function(Js){ls(Js)}),mr({target:us,stat:!0,forced:!Cr},{for:function(Js){var oi=Hr(Js);if(Sr(li,oi))return li[oi];var hi=fs(oi);return li[oi]=hi,Si[hi]=oi,hi},keyFor:function(oi){if(!kr(oi))throw TypeError(oi+" is not a symbol");if(Sr(Si,oi))return Si[oi]},useSetter:function(){Bs=!0},useSimple:function(){Bs=!1}}),mr({target:"Object",stat:!0,forced:!Cr,sham:!wr},{create:Vs,defineProperty:bi,defineProperties:zs,getOwnPropertyDescriptor:fi}),mr({target:"Object",stat:!0,forced:!Cr},{getOwnPropertyNames:Pi,getOwnPropertySymbols:Ei}),mr({target:"Object",stat:!0,forced:Br(function(){Zr.f(1)})},{getOwnPropertySymbols:function(oi){return Zr.f(Rr(oi))}}),ws){var Rs=!Cr||Br(function(){var Js=fs();return ws([Js])!="[null]"||ws({a:Js})!="{}"||ws(Object(Js))!="{}"});mr({target:"JSON",stat:!0,forced:Rs},{stringify:function(oi,hi,Bi){for(var Ii=[oi],Ms=1,_s;arguments.length>Ms;)Ii.push(arguments[Ms++]);if(_s=hi,!(!Tr(hi)&&oi===void 0||kr(oi)))return Er(hi)||(hi=function(Xs,Zs){if(typeof _s=="function"&&(Zs=_s.call(this,Xs,Zs)),!kr(Zs))return Zs}),Ii[1]=hi,ws.apply(null,Ii)}})}fs[ps][ms]||gs(fs[ps],ms,fs[ps].valueOf),hs(fs,us),$r[Ds]=!0},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/dom-iterables.js"),vr=pr("./node_modules/core-js/internals/array-for-each.js"),br=pr("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var wr in yr){var Cr=mr[wr],Br=Cr&&Cr.prototype;if(Br&&Br.forEach!==vr)try{br(Br,"forEach",vr)}catch{Br.forEach=vr}}},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(fr,gr,pr){var mr=pr("./node_modules/core-js/internals/global.js"),yr=pr("./node_modules/core-js/internals/dom-iterables.js"),vr=pr("./node_modules/core-js/modules/es.array.iterator.js"),br=pr("./node_modules/core-js/internals/create-non-enumerable-property.js"),wr=pr("./node_modules/core-js/internals/well-known-symbol.js"),Cr=wr("iterator"),Br=wr("toStringTag"),Sr=vr.values;for(var Er in yr){var Tr=mr[Er],kr=Tr&&Tr.prototype;if(kr){if(kr[Cr]!==Sr)try{br(kr,Cr,Sr)}catch{kr[Cr]=Sr}if(kr[Br]||br(kr,Br,Er),yr[Er]){for(var Or in vr)if(kr[Or]!==vr[Or])try{br(kr,Or,vr[Or])}catch{kr[Or]=vr[Or]}}}}},"./node_modules/es6-promise/dist/es6-promise.js":function(fr){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(gr,pr){fr.exports=pr()})(this,function(){function gr(Cs){var Bs=typeof Cs;return Cs!==null&&(Bs==="object"||Bs==="function")}function pr(Cs){return typeof Cs=="function"}var mr=void 0;Array.isArray?mr=Array.isArray:mr=function(Cs){return Object.prototype.toString.call(Cs)==="[object Array]"};var yr=mr,vr=0,br=void 0,wr=void 0,Cr=function(Bs,$s){Kr[vr]=Bs,Kr[vr+1]=$s,vr+=2,vr===2&&(wr?wr(Xr):Zr())};function Br(Cs){wr=Cs}function Sr(Cs){Cr=Cs}var Er=typeof window<"u"?window:void 0,Tr=Er||{},kr=Tr.MutationObserver||Tr.WebKitMutationObserver,Or=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",Rr=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function Lr(){return function(){return process.nextTick(Xr)}}function _r(){return typeof br<"u"?function(){br(Xr)}:Ur()}function Hr(){var Cs=0,Bs=new kr(Xr),$s=document.createTextNode("");return Bs.observe($s,{characterData:!0}),function(){$s.data=Cs=++Cs%2}}function Mr(){var Cs=new MessageChannel;return Cs.port1.onmessage=Xr,function(){return Cs.port2.postMessage(0)}}function Ur(){var Cs=setTimeout;return function(){return Cs(Xr,1)}}var Kr=new Array(1e3);function Xr(){for(var Cs=0;Cs<vr;Cs+=2){var Bs=Kr[Cs],$s=Kr[Cs+1];Bs($s),Kr[Cs]=void 0,Kr[Cs+1]=void 0}vr=0}function Yr(){try{var Cs=Function("return this")().require("vertx");return br=Cs.runOnLoop||Cs.runOnContext,_r()}catch{return Ur()}}var Zr=void 0;Or?Zr=Lr():kr?Zr=Hr():Rr?Zr=Mr():Er===void 0?Zr=Yr():Zr=Ur();function ns(Cs,Bs){var $s=this,qs=new this.constructor(gs);qs[is]===void 0&&ws(qs);var bi=$s._state;if(bi){var zs=arguments[bi-1];Cr(function(){return ss(bi,qs,zs,$s._result)})}else ps($s,qs,Cs,Bs);return qs}function As(Cs){var Bs=this;if(Cs&&typeof Cs=="object"&&Cs.constructor===Bs)return Cs;var $s=new Bs(gs);return bs($s,Cs),$s}var is=Math.random().toString(36).substring(2);function gs(){}var Os=void 0,Vr=1,Qr=2;function $r(){return new TypeError("You cannot resolve a promise with itself")}function zr(){return new TypeError("A promises callback cannot return that same promise.")}function cs(Cs,Bs,$s,qs){try{Cs.call(Bs,$s,qs)}catch(bi){return bi}}function Jr(Cs,Bs,$s){Cr(function(qs){var bi=!1,zs=cs($s,Bs,function(Vs){bi||(bi=!0,Bs!==Vs?bs(qs,Vs):Ds(qs,Vs))},function(Vs){bi||(bi=!0,us(qs,Vs))},"Settle: "+(qs._label||" unknown promise"));!bi&&zs&&(bi=!0,us(qs,zs))},Cs)}function ls(Cs,Bs){Bs._state===Vr?Ds(Cs,Bs._result):Bs._state===Qr?us(Cs,Bs._result):ps(Bs,void 0,function($s){return bs(Cs,$s)},function($s){return us(Cs,$s)})}function hs(Cs,Bs,$s){Bs.constructor===Cs.constructor&&$s===ns&&Bs.constructor.resolve===As?ls(Cs,Bs):$s===void 0?Ds(Cs,Bs):pr($s)?Jr(Cs,Bs,$s):Ds(Cs,Bs)}function bs(Cs,Bs){if(Cs===Bs)us(Cs,$r());else if(gr(Bs)){var $s=void 0;try{$s=Bs.then}catch(qs){us(Cs,qs);return}hs(Cs,Bs,$s)}else Ds(Cs,Bs)}function Ts(Cs){Cs._onerror&&Cs._onerror(Cs._result),ms(Cs)}function Ds(Cs,Bs){Cs._state===Os&&(Cs._result=Bs,Cs._state=Vr,Cs._subscribers.length!==0&&Cr(ms,Cs))}function us(Cs,Bs){Cs._state===Os&&(Cs._state=Qr,Cs._result=Bs,Cr(Ts,Cs))}function ps(Cs,Bs,$s,qs){var bi=Cs._subscribers,zs=bi.length;Cs._onerror=null,bi[zs]=Bs,bi[zs+Vr]=$s,bi[zs+Qr]=qs,zs===0&&Cs._state&&Cr(ms,Cs)}function ms(Cs){var Bs=Cs._subscribers,$s=Cs._state;if(Bs.length!==0){for(var qs=void 0,bi=void 0,zs=Cs._result,Vs=0;Vs<Bs.length;Vs+=3)qs=Bs[Vs],bi=Bs[Vs+$s],qs?ss($s,qs,bi,zs):bi(zs);Cs._subscribers.length=0}}function ss(Cs,Bs,$s,qs){var bi=pr($s),zs=void 0,Vs=void 0,Ys=!0;if(bi){try{zs=$s(qs)}catch(fi){Ys=!1,Vs=fi}if(Bs===zs){us(Bs,zr());return}}else zs=qs;Bs._state!==Os||(bi&&Ys?bs(Bs,zs):Ys===!1?us(Bs,Vs):Cs===Vr?Ds(Bs,zs):Cs===Qr&&us(Bs,zs))}function ks(Cs,Bs){try{Bs(function(qs){bs(Cs,qs)},function(qs){us(Cs,qs)})}catch($s){us(Cs,$s)}}var as=0;function fs(){return as++}function ws(Cs){Cs[is]=as++,Cs._state=void 0,Cs._result=void 0,Cs._subscribers=[]}function Is(){return new Error("Array Methods must be provided an Array")}var Ps=function(){function Cs(Bs,$s){this._instanceConstructor=Bs,this.promise=new Bs(gs),this.promise[is]||ws(this.promise),yr($s)?(this.length=$s.length,this._remaining=$s.length,this._result=new Array(this.length),this.length===0?Ds(this.promise,this._result):(this.length=this.length||0,this._enumerate($s),this._remaining===0&&Ds(this.promise,this._result))):us(this.promise,Is())}return Cs.prototype._enumerate=function($s){for(var qs=0;this._state===Os&&qs<$s.length;qs++)this._eachEntry($s[qs],qs)},Cs.prototype._eachEntry=function($s,qs){var bi=this._instanceConstructor,zs=bi.resolve;if(zs===As){var Vs=void 0,Ys=void 0,fi=!1;try{Vs=$s.then}catch(Ei){fi=!0,Ys=Ei}if(Vs===ns&&$s._state!==Os)this._settledAt($s._state,qs,$s._result);else if(typeof Vs!="function")this._remaining--,this._result[qs]=$s;else if(bi===Si){var Pi=new bi(gs);fi?us(Pi,Ys):hs(Pi,$s,Vs),this._willSettleAt(Pi,qs)}else this._willSettleAt(new bi(function(Ei){return Ei($s)}),qs)}else this._willSettleAt(zs($s),qs)},Cs.prototype._settledAt=function($s,qs,bi){var zs=this.promise;zs._state===Os&&(this._remaining--,$s===Qr?us(zs,bi):this._result[qs]=bi),this._remaining===0&&Ds(zs,this._result)},Cs.prototype._willSettleAt=function($s,qs){var bi=this;ps($s,void 0,function(zs){return bi._settledAt(Vr,qs,zs)},function(zs){return bi._settledAt(Qr,qs,zs)})},Cs}();function Ws(Cs){return new Ps(this,Cs).promise}function Ks(Cs){var Bs=this;return yr(Cs)?new Bs(function($s,qs){for(var bi=Cs.length,zs=0;zs<bi;zs++)Bs.resolve(Cs[zs]).then($s,qs)}):new Bs(function($s,qs){return qs(new TypeError("You must pass an array to race."))})}function Fs(Cs){var Bs=this,$s=new Bs(gs);return us($s,Cs),$s}function ni(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function li(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Si=function(){function Cs(Bs){this[is]=fs(),this._result=this._state=void 0,this._subscribers=[],gs!==Bs&&(typeof Bs!="function"&&ni(),this instanceof Cs?ks(this,Bs):li())}return Cs.prototype.catch=function($s){return this.then(null,$s)},Cs.prototype.finally=function($s){var qs=this,bi=qs.constructor;return pr($s)?qs.then(function(zs){return bi.resolve($s()).then(function(){return zs})},function(zs){return bi.resolve($s()).then(function(){throw zs})}):qs.then($s,$s)},Cs}();Si.prototype.then=ns,Si.all=Ws,Si.race=Ks,Si.resolve=As,Si.reject=Fs,Si._setScheduler=Br,Si._setAsap=Sr,Si._asap=Cr;function Us(){var Cs=void 0;if(typeof commonjsGlobal<"u")Cs=commonjsGlobal;else if(typeof self<"u")Cs=self;else try{Cs=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Bs=Cs.Promise;if(Bs){var $s=null;try{$s=Object.prototype.toString.call(Bs.resolve())}catch{}if($s==="[object Promise]"&&!Bs.cast)return}Cs.Promise=Si}return Si.polyfill=Us,Si.Promise=Si,Si})},html2canvas:function(fr){fr.exports=Ar},jspdf:function(fr){fr.exports=lr}},ur={};function dr(fr){var gr=ur[fr];if(gr!==void 0)return gr.exports;var pr=ur[fr]={exports:{}};return cr[fr].call(pr.exports,pr,pr.exports,dr),pr.exports}(function(){dr.n=function(fr){var gr=fr&&fr.__esModule?function(){return fr.default}:function(){return fr};return dr.d(gr,{a:gr}),gr}})(),function(){dr.d=function(fr,gr){for(var pr in gr)dr.o(gr,pr)&&!dr.o(fr,pr)&&Object.defineProperty(fr,pr,{enumerable:!0,get:gr[pr]})}}(),function(){dr.o=function(fr,gr){return Object.prototype.hasOwnProperty.call(fr,gr)}}(),function(){dr.r=function(fr){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(fr,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(fr,"__esModule",{value:!0})}}();var hr={};return function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/dr.r(hr);var fr=dr("./src/worker.js");dr("./src/plugin/jspdf-plugin.js"),dr("./src/plugin/pagebreaks.js"),dr("./src/plugin/hyperlinks.js");var gr=function pr(mr,yr){var vr=new pr.Worker(yr);return mr?vr.from(mr).save():vr};gr.Worker=fr.default,hr.default=gr}(),hr=hr.default,hr}()})})(html2pdf$1);var html2pdfExports=html2pdf$1.exports;const html2pdf=getDefaultExportFromCjs(html2pdfExports),_hoisted_1$c={class:"w-full"},_hoisted_2$a={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6"},_hoisted_3$a={class:"text-2xl font-bold text-gray-900 dark:text-white"},_hoisted_4$9={class:"flex flex-wrap items-center gap-2 sm:gap-4"},_hoisted_5$8=["disabled"],_hoisted_6$8={class:"bg-white dark:bg-slate-800 rounded-lg shadow p-4 sm:p-6"},_hoisted_7$8={class:"mb-6 space-y-4"},_hoisted_8$8={class:"flex flex-col sm:flex-row gap-4"},_hoisted_9$8={class:"flex flex-wrap items-center gap-2"},_hoisted_10$7={class:"flex flex-wrap gap-2"},_hoisted_11$7=["onClick"],_hoisted_12$7={class:"editor-container min-h-[400px] border border-gray-300 dark:border-gray-600 rounded-lg"},_hoisted_13$7={class:"border-b border-gray-200 dark:border-gray-700 p-4 overflow-x-auto bg-white dark:bg-slate-800"},_hoisted_14$6={class:"flex flex-wrap gap-2 min-w-max"},_hoisted_15$6={class:"relative"},_hoisted_16$5=["value"],_hoisted_17$4=["value"],_hoisted_18$4={class:"relative"},_hoisted_19$4={class:"p-4"},_hoisted_20$4={class:"flex items-center gap-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-slate-700 cursor-pointer"},_hoisted_21$4={class:"flex flex-col gap-4"},_hoisted_22$4={class:"flex items-center justify-between"},_hoisted_23$3={class:"grid grid-cols-4 sm:grid-cols-6 gap-2"},_hoisted_24$3=["onClick"],_hoisted_25$2={class:"flex flex-col sm:flex-row items-center gap-2"},_hoisted_26$2={class:"flex justify-end gap-2"},_sfc_main$c={__name:"NoteEditor",setup(ar){const or=useRoute(),lr=useRouter(),Ar=useNotesStore(),cr=useSubjectsStore(),ur=computed(()=>or.params.id==="new"),dr=computed(()=>ur.value?null:Number(or.params.id)),hr=ref(""),fr=ref(""),gr=ref(null),pr=ref([]),mr=ref(""),yr=ref(!1),vr=ref(!1);ref(!1);const br=ref(!1),wr=ref("#000000"),Cr=ref("Arial"),Br=ref(!1),Sr=["8px","10px","12px","14px","16px","18px","20px","24px","28px","32px","36px","48px"],Er=ref("16px"),Tr=ref({x:0,y:0}),kr=["Arial","Times New Roman","Courier New","Georgia","Verdana","Helvetica"],Or=ref(null),Rr=ref(!1),Lr=ref({title:"",message:"",type:"info"}),_r=bs=>{Lr.value={title:"Error",message:bs,type:"error"},Rr.value=!0},Hr=ref(!1);ref(!1);const Mr=ref(""),Ur=ref({x:0,y:0});onMounted(async()=>{if(!ur.value){yr.value=!0;try{const bs=await Ar.getNoteById(dr.value);bs?(hr.value=bs.title,fr.value=bs.content,gr.value=bs.subjectId,pr.value=bs.tags||[]):lr.push("/notes")}catch(bs){console.error("Error loading note:",bs)}finally{yr.value=!1}}Or.value=new Editor({extensions:[StarterKit.configure({heading:{levels:[1,2,3],HTMLAttributes:{class:"font-bold"}},bulletList:{HTMLAttributes:{class:"list-disc pl-4"}},orderedList:{HTMLAttributes:{class:"list-decimal pl-4"}}}),Underline,Strike,Subscript,Superscript,TextAlign.configure({types:["heading","paragraph","image"]}),FontFamily.configure({types:["textStyle"]}),FontSize.configure({types:["textStyle"]}),TextStyle,Link.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 hover:text-blue-800 underline cursor-pointer"}}),Image$1.configure({HTMLAttributes:{class:"max-w-full h-auto"}}),TaskList,TaskItem.configure({nested:!0}),Highlight.configure({multicolor:!0}),Color],content:fr.value,onUpdate:({editor:bs})=>{fr.value=bs.getHTML()}}),document.addEventListener("fullscreenchange",()=>{Br.value=!!document.fullscreenElement}),Or.value.on("update",()=>{if(Or.value.isActive("link")){const bs=Or.value.getAttributes("link");Mr.value=bs.href||""}else Mr.value=""})});const Kr=()=>{mr.value.trim()&&!pr.value.includes(mr.value.trim())&&(pr.value.push(mr.value.trim()),mr.value="")},Xr=bs=>{pr.value.splice(bs,1)},Yr=async()=>{if(!hr.value.trim()){_r("Por favor ingresa un ttulo para la nota");return}if(!gr.value){_r("Por favor selecciona una materia");return}vr.value=!0;try{const bs=cr.subjects.find(Ds=>Ds.id===gr.value),Ts={title:hr.value.trim(),content:Or.value?Or.value.getHTML():"",subjectId:gr.value,tags:[...pr.value],subjectName:bs.name};ur.value?await Ar.addNote(Ts):await Ar.updateNote(dr.value,Ts),lr.push("/notes")}catch(bs){console.error("Error saving note:",bs),_r("Error al guardar la nota: "+((bs==null?void 0:bs.message)||bs))}finally{vr.value=!1}},Zr=()=>{Lr.value={title:"Confirmar eliminacin",message:"Ests seguro de que quieres eliminar esta nota?",type:"warning"},Rr.value=!0},ns=async()=>{try{await Ar.deleteNote(dr.value),lr.push("/notes")}catch(bs){console.error("Error deleting note:",bs),_r("Error al eliminar la nota")}},As=bs=>{const Ts=bs.target.files[0];if(Ts){const Ds=new FileReader;Ds.onload=us=>{Or.value.chain().focus().setImage({src:us.target.result}).run(),Hr.value=!1},Ds.readAsDataURL(Ts)}},is=()=>{const bs=prompt("URL de la imagen");bs&&Or.value.chain().focus().setImage({src:bs}).run(),Hr.value=!1},gs=bs=>{Or.value.chain().focus().setTextAlign(bs).run()},Os=bs=>{Cr.value=bs,Or.value.chain().focus().setFontFamily(bs).run()},Vr=bs=>{wr.value=bs,Or.value.chain().focus().setColor(bs).run(),Jr()},Qr=bs=>{Er.value=bs,Or.value.chain().focus().setFontSize(bs).run()},$r=()=>{Br.value=!Br.value;const bs=document.querySelector(".editor-container");Br.value?bs.requestFullscreen():document.exitFullscreen()},zr=()=>{if(!hr.value.trim()){_r("Por favor ingresa un ttulo para la nota antes de descargar");return}const bs=document.createElement("div");bs.innerHTML=`
    <div style="padding: 20px;">
      <div style="font-size: 14px;">${Or.value.getHTML()}</div>
    </div>
  `.trim();const Ts={margin:1,filename:`${hr.value}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(Ts).from(bs).save()},cs=bs=>{const Ds=bs.currentTarget.getBoundingClientRect();window.innerWidth<640?Tr.value={x:window.innerWidth/2,y:window.innerHeight/2}:Tr.value={x:Ds.left+Ds.width/2,y:Ds.bottom},br.value=!0},Jr=()=>{br.value=!1},ls=bs=>{const Ds=bs.currentTarget.getBoundingClientRect();Ur.value={x:Ds.left+Ds.width/2,y:Ds.bottom},Hr.value=!0},hs=()=>{Hr.value=!1};return(bs,Ts)=>{var Ds,us,ps,ms,ss,ks,as,fs,ws,Is,Ps,Ws,Ks;return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("h1",_hoisted_3$a,toDisplayString(ur.value?"Nueva Nota":"Editar Nota"),1),createBaseVNode("div",_hoisted_4$9,[createBaseVNode("button",{onClick:zr,class:"w-full sm:w-auto px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2"},[createVNode(unref(Icon),{icon:"mdi:file-pdf-box",class:"w-5 h-5"}),Ts[25]||(Ts[25]=createBaseVNode("span",{class:"hidden sm:inline"},"Descargar PDF",-1)),Ts[26]||(Ts[26]=createBaseVNode("span",{class:"sm:hidden"},"PDF",-1))]),ur.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:Zr,class:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium"}," Eliminar ")),createBaseVNode("button",{onClick:Yr,disabled:vr.value,class:"w-full sm:w-auto px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 font-medium"}," Guardar ",8,_hoisted_5$8)])]),createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",_hoisted_7$8,[createBaseVNode("div",_hoisted_8$8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ts[0]||(Ts[0]=Fs=>hr.value=Fs),type:"text",placeholder:"Ttulo de la nota",class:"w-full p-2 rounded bg-white dark:bg-slate-700 border border-gray-300 dark:border-gray-600"},null,512),[[vModelText,hr.value]]),createBaseVNode("div",_hoisted_9$8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":Ts[1]||(Ts[1]=Fs=>mr.value=Fs),onKeyup:withKeys(Kr,["enter"]),type:"text",placeholder:"Agregar etiqueta",class:"flex-1 min-w-[200px] p-2 rounded bg-white dark:bg-slate-700 border border-gray-300 dark:border-gray-600"},null,544),[[vModelText,mr.value]]),createBaseVNode("button",{onClick:Kr,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600"}," Agregar ")])]),createBaseVNode("div",_hoisted_10$7,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(pr.value,(Fs,ni)=>(openBlock(),createElementBlock("span",{key:ni,class:"inline-flex items-center gap-1 px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded-full text-sm"},[createTextVNode(toDisplayString(Fs)+" ",1),createBaseVNode("button",{onClick:li=>Xr(ni),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},"  ",8,_hoisted_11$7)]))),128))]),createVNode(_sfc_main$f,{modelValue:gr.value,"onUpdate:modelValue":Ts[2]||(Ts[2]=Fs=>gr.value=Fs),class:"w-full"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_12$7,[createBaseVNode("div",_hoisted_13$7,[createBaseVNode("div",_hoisted_14$6,[createBaseVNode("button",{onClick:Ts[3]||(Ts[3]=Fs=>Or.value.chain().focus().toggleBold().run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(Ds=Or.value)==null?void 0:Ds.isActive("bold")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-bold",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[4]||(Ts[4]=Fs=>Or.value.chain().focus().toggleItalic().run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(us=Or.value)==null?void 0:us.isActive("italic")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-italic",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[5]||(Ts[5]=Fs=>Or.value.chain().focus().toggleUnderline().run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(ps=Or.value)==null?void 0:ps.isActive("underline")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-underline",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[6]||(Ts[6]=Fs=>Or.value.chain().focus().toggleStrike().run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(ms=Or.value)==null?void 0:ms.isActive("strike")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-strikethrough",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[7]||(Ts[7]=Fs=>Or.value.chain().focus().toggleHeading({level:1}).run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(ss=Or.value)==null?void 0:ss.isActive("heading",{level:1})},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-header-1",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[8]||(Ts[8]=Fs=>Or.value.chain().focus().toggleHeading({level:2}).run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(ks=Or.value)==null?void 0:ks.isActive("heading",{level:2})},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-header-2",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[9]||(Ts[9]=Fs=>Or.value.chain().focus().toggleHeading({level:3}).run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(as=Or.value)==null?void 0:as.isActive("heading",{level:3})},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-header-3",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[10]||(Ts[10]=Fs=>Or.value.chain().focus().toggleBulletList().run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(fs=Or.value)==null?void 0:fs.isActive("bulletList")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-list-bulleted",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[11]||(Ts[11]=Fs=>Or.value.chain().focus().toggleOrderedList().run()),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(ws=Or.value)==null?void 0:ws.isActive("orderedList")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-list-numbered",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[12]||(Ts[12]=Fs=>gs("left")),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(Is=Or.value)==null?void 0:Is.isActive({textAlign:"left"})},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-align-left",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[13]||(Ts[13]=Fs=>gs("center")),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(Ps=Or.value)==null?void 0:Ps.isActive({textAlign:"center"})},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-align-center",class:"w-5 h-5"})],2),createBaseVNode("button",{onClick:Ts[14]||(Ts[14]=Fs=>gs("right")),class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(Ws=Or.value)==null?void 0:Ws.isActive({textAlign:"right"})},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"])},[createVNode(unref(Icon),{icon:"mdi:format-align-right",class:"w-5 h-5"})],2),createBaseVNode("div",_hoisted_15$6,[createBaseVNode("button",{onClick:ls,class:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"},[createVNode(unref(Icon),{icon:"mdi:image-plus",class:"w-5 h-5"})])]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ts[15]||(Ts[15]=Fs=>Cr.value=Fs),onChange:Ts[16]||(Ts[16]=Fs=>Os(Fs.target.value)),class:"p-2 rounded bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 w-32"},[(openBlock(),createElementBlock(Fragment$1,null,renderList(kr,Fs=>createBaseVNode("option",{key:Fs,value:Fs},toDisplayString(Fs),9,_hoisted_16$5)),64))],544),[[vModelSelect,Cr.value]]),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ts[17]||(Ts[17]=Fs=>Er.value=Fs),onChange:Ts[18]||(Ts[18]=Fs=>Qr(Fs.target.value)),class:"p-2 rounded bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 w-20"},[(openBlock(),createElementBlock(Fragment$1,null,renderList(Sr,Fs=>createBaseVNode("option",{key:Fs,value:Fs},toDisplayString(Fs),9,_hoisted_17$4)),64))],544),[[vModelSelect,Er.value]]),createBaseVNode("div",_hoisted_18$4,[createBaseVNode("button",{onClick:cs,class:normalizeClass([{"bg-gray-200 dark:bg-gray-700":(Ks=Or.value)==null?void 0:Ks.isActive("textStyle")},"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-1"])},[createVNode(unref(Icon),{icon:"mdi:palette",class:"w-5 h-5"}),createBaseVNode("span",{class:"w-3 h-3 rounded-full border border-gray-300 dark:border-gray-600",style:normalizeStyle({backgroundColor:wr.value})},null,4)],2)]),createBaseVNode("button",{onClick:$r,class:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700"},[createVNode(unref(Icon),{icon:Br.value?"mdi:fullscreen-exit":"mdi:fullscreen",class:"w-5 h-5"},null,8,["icon"])])])]),createBaseVNode("div",_hoisted_19$4,[createVNode(unref(EditorContent),{editor:Or.value,class:"prose dark:prose-invert max-w-none"},null,8,["editor"])])])]),createVNode(_sfc_main$d,{show:Rr.value,title:Lr.value.title,message:Lr.value.message,type:Lr.value.type,onClose:Ts[19]||(Ts[19]=Fs=>Rr.value=!1),onConfirm:ns},null,8,["show","title","message","type"]),(openBlock(),createBlock(Teleport,{to:"body"},[Hr.value?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 z-[9999]",onClick:hs},[createBaseVNode("div",{class:"absolute bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-gray-300 dark:border-gray-600 p-2 min-w-[200px]",style:normalizeStyle({top:`${Ur.value.y}px`,left:`${Ur.value.x}px`,transform:"translateX(-50%)"}),onClick:Ts[20]||(Ts[20]=withModifiers(()=>{},["stop"]))},[createBaseVNode("label",_hoisted_20$4,[createBaseVNode("input",{type:"file",accept:"image/*",class:"hidden",onChange:As},null,32),createVNode(unref(Icon),{icon:"mdi:upload",class:"w-5 h-5"}),Ts[27]||(Ts[27]=createBaseVNode("span",null,"Subir imagen",-1))]),createBaseVNode("button",{onClick:is,class:"flex items-center gap-2 p-2 rounded hover:bg-gray-100 dark:hover:bg-slate-700 w-full text-left"},[createVNode(unref(Icon),{icon:"mdi:link-variant",class:"w-5 h-5"}),Ts[28]||(Ts[28]=createBaseVNode("span",null,"Agregar por URL",-1))])],4)])):createCommentVNode("",!0)])),(openBlock(),createBlock(Teleport,{to:"body"},[br.value?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 z-[9999] bg-black/50",onClick:Jr},[createBaseVNode("div",{class:"absolute bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-gray-300 dark:border-gray-600 p-4 w-[280px] sm:w-[320px]",style:normalizeStyle({top:`${Tr.value.y}px`,left:`${Tr.value.x}px`,transform:"translate(-50%, -50%)"}),onClick:Ts[24]||(Ts[24]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_21$4,[createBaseVNode("div",_hoisted_22$4,[Ts[29]||(Ts[29]=createBaseVNode("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Seleccionar color",-1)),createBaseVNode("button",{onClick:Jr,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[createVNode(unref(Icon),{icon:"mdi:close",class:"w-5 h-5"})])]),createBaseVNode("div",_hoisted_23$3,[(openBlock(),createElementBlock(Fragment$1,null,renderList(["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#808080","#A52A2A","#FFC0CB","#FFD700","#4B0082","#FF1493"],Fs=>createBaseVNode("button",{key:Fs,onClick:ni=>Vr(Fs),class:normalizeClass(["w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 hover:scale-110 transition-transform",{"ring-2 ring-primary-500":wr.value===Fs}]),style:normalizeStyle({backgroundColor:Fs})},null,14,_hoisted_24$3)),64))]),createBaseVNode("div",_hoisted_25$2,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":Ts[21]||(Ts[21]=Fs=>wr.value=Fs),class:"w-12 h-12 p-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700"},null,512),[[vModelText,wr.value]]),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":Ts[22]||(Ts[22]=Fs=>wr.value=Fs),class:"w-full sm:flex-1 p-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"#000000"},null,512),[[vModelText,wr.value]])]),createBaseVNode("div",_hoisted_26$2,[createBaseVNode("button",{onClick:Jr,class:"px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg"}," Cancelar "),createBaseVNode("button",{onClick:Ts[23]||(Ts[23]=Fs=>Vr(wr.value)),class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700"}," Aplicar ")])])],4)])):createCommentVNode("",!0)]))])}}},_hoisted_1$b={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4"},_hoisted_2$9={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},_hoisted_3$9={class:"md:col-span-2"},_hoisted_4$8={key:0,class:"text-center py-8"},_hoisted_5$7={key:1,class:"text-center py-8"},_hoisted_6$7={key:2,class:"space-y-4"},_hoisted_7$7={class:"flex-grow"},_hoisted_8$7={class:"flex items-center gap-2 mb-1"},_hoisted_9$7={class:"text-xs text-gray-600 dark:text-gray-300"},_hoisted_10$6={class:"text-lg font-semibold text-gray-900 dark:text-white"},_hoisted_11$6={key:0,class:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2"},_hoisted_12$6={class:"flex flex-wrap items-center gap-2 mt-2"},_hoisted_13$6={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_14$5={class:"flex flex-row md:flex-col gap-2"},_hoisted_15$5=["onClick"],_hoisted_16$4=["onClick"],_sfc_main$b={__name:"TasksPage",setup(ar){const or=useTasksStore(),lr=useSubjectsStore(),Ar=ref(null),cr=ref(""),ur=ref("all");onMounted(async()=>{await lr.fetchSubjects(),await or.fetchTasks(),"Notification"in window&&Notification.permission==="default"&&await or.requestNotificationPermission()});const dr=computed(()=>{let Cr=or.tasks;if(Ar.value&&(Cr=Cr.filter(Br=>Br.subjectId===Ar.value)),ur.value!=="all"&&(Cr=Cr.filter(Br=>Br.status===ur.value)),cr.value){const Br=cr.value.toLowerCase();Cr=Cr.filter(Sr=>Sr.title.toLowerCase().includes(Br)||Sr.description&&Sr.description.toLowerCase().includes(Br))}return[...Cr].sort((Br,Sr)=>new Date(Br.dueDate)-new Date(Sr.dueDate))}),hr=Cr=>format(new Date(Cr),"d MMM, yyyy",{locale:es}),fr=Cr=>lr.subjects.find(Br=>Br.id===Cr)||{name:"Sin materia",color:"#94a3b8"},gr=Cr=>{cr.value=Cr},pr=()=>{Ar.value=null,cr.value="",ur.value="all"},mr=Cr=>{const Br={low:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",medium:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",high:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800"};return Br[Cr]||Br.medium},yr=Cr=>{const Br={pending:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800","in-progress":"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",completed:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800"};return Br[Cr]||Br.pending},vr=Cr=>({low:"Baja",medium:"Media",high:"Alta"})[Cr]||"Media",br=Cr=>({pending:"Pendiente","in-progress":"En Progreso",completed:"Completada"})[Cr]||"Pendiente",wr=async(Cr,Br)=>{try{const Sr=await or.getTaskById(Cr);Sr&&await or.updateTask(Cr,{...Sr,status:Br})}catch(Sr){console.error("Error updating task status:",Sr)}};return(Cr,Br)=>{const Sr=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$b,[Br[3]||(Br[3]=createBaseVNode("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Tareas",-1)),createVNode(Sr,{to:"/tasks/new",class:"btn btn-primary flex items-center justify-center"},{default:withCtx(()=>Br[2]||(Br[2]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Nueva Tarea ")])),_:1,__:[2]})]),createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$9,[createVNode(_sfc_main$g,{placeholder:"Buscar tarea...",onSearch:gr})]),createBaseVNode("div",null,[createVNode(_sfc_main$f,{modelValue:Ar.value,"onUpdate:modelValue":Br[0]||(Br[0]=Er=>Ar.value=Er)},null,8,["modelValue"])]),createBaseVNode("div",null,[Br[5]||(Br[5]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Estado ",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Br[1]||(Br[1]=Er=>ur.value=Er),class:"input"},Br[4]||(Br[4]=[createBaseVNode("option",{value:"all"},"Todos",-1),createBaseVNode("option",{value:"pending"},"Pendientes",-1),createBaseVNode("option",{value:"in-progress"},"En Progreso",-1),createBaseVNode("option",{value:"completed"},"Completadas",-1)]),512),[[vModelSelect,ur.value]])])]),unref(or).loading?(openBlock(),createElementBlock("div",_hoisted_4$8,Br[6]||(Br[6]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando tareas...",-1)]))):dr.value.length===0?(openBlock(),createElementBlock("div",_hoisted_5$7,[Br[7]||(Br[7]=createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"No se encontraron tareas",-1)),Ar.value||cr.value||ur.value!=="all"?(openBlock(),createElementBlock("button",{key:0,onClick:pr,class:"mt-2 text-primary-600 dark:text-primary-400 hover:underline"}," Borrar filtros ")):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_6$7,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(dr.value,Er=>(openBlock(),createElementBlock("div",{key:Er.id,class:"card flex flex-col md:flex-row md:items-center gap-4"},[createBaseVNode("div",_hoisted_7$7,[createBaseVNode("div",_hoisted_8$7,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full",style:normalizeStyle({backgroundColor:fr(Er.subjectId).color})},null,4),createBaseVNode("span",_hoisted_9$7,toDisplayString(fr(Er.subjectId).name),1)]),createVNode(Sr,{to:`/tasks/${Er.id}`,class:"block"},{default:withCtx(()=>[createBaseVNode("h3",_hoisted_10$6,toDisplayString(Er.title),1)]),_:2},1032,["to"]),Er.description?(openBlock(),createElementBlock("p",_hoisted_11$6,toDisplayString(Er.description),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_12$6,[createBaseVNode("span",_hoisted_13$6," Vence: "+toDisplayString(hr(Er.dueDate)),1),createBaseVNode("span",{class:normalizeClass(["inline-block px-2 py-1 text-xs rounded-full border",mr(Er.priority)])},toDisplayString(vr(Er.priority)),3),createBaseVNode("span",{class:normalizeClass(["inline-block px-2 py-1 text-xs rounded-full border",yr(Er.status)])},toDisplayString(br(Er.status)),3)])]),createBaseVNode("div",_hoisted_14$5,[createVNode(Sr,{to:`/tasks/${Er.id}`,class:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},{default:withCtx(()=>Br[8]||(Br[8]=[createTextVNode(" Editar ")])),_:2,__:[8]},1032,["to"]),Er.status!=="completed"?(openBlock(),createElementBlock("button",{key:0,onClick:Tr=>wr(Er.id,"completed"),class:"px-3 py-2 bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-lg text-sm hover:bg-green-200 dark:hover:bg-green-800/30 transition-colors"}," Completar ",8,_hoisted_15$5)):(openBlock(),createElementBlock("button",{key:1,onClick:Tr=>wr(Er.id,"pending"),class:"px-3 py-2 bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 rounded-lg text-sm hover:bg-yellow-200 dark:hover:bg-yellow-800/30 transition-colors"}," Reabrir ",8,_hoisted_16$4))])]))),128))]))])}}},_hoisted_1$a={class:"flex items-center justify-between mb-6"},_hoisted_2$8={class:"text-2xl font-bold text-gray-900 dark:text-white"},_hoisted_3$8={class:"flex space-x-2"},_hoisted_4$7=["disabled"],_hoisted_5$6={key:0,class:"text-center py-8"},_hoisted_6$6={key:1,class:"card"},_hoisted_7$6={class:"mb-4"},_hoisted_8$6={class:"mb-4"},_hoisted_9$6={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},_hoisted_10$5={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},_hoisted_11$5={class:"text-sm text-gray-500 dark:text-gray-400 mt-4"},_hoisted_12$5={key:0},_hoisted_13$5={key:1},_sfc_main$a={__name:"TaskEditor",setup(ar){const or=useRoute(),lr=useRouter(),Ar=useTasksStore(),cr=useSubjectsStore(),ur=computed(()=>or.params.id==="new"),dr=computed(()=>ur.value?null:Number(or.params.id)),hr=ref(""),fr=ref(""),gr=ref(""),pr=ref(null),mr=ref("medium"),yr=ref("pending"),vr=ref(!1),br=ref(!1),wr=ref(!1),Cr=ref(!1),Br=ref("default"),Sr=ref(!1),Er=ref({title:"",message:"",type:"info"});onMounted(async()=>{if(ur.value){const Mr=new Date;Mr.setDate(Mr.getDate()+1),gr.value=Tr(Mr.toISOString())}else{vr.value=!0;try{const Mr=await Ar.getTaskById(dr.value);Mr?(hr.value=Mr.title,fr.value=Mr.description||"",gr.value=Tr(Mr.dueDate),pr.value=Mr.subjectId,mr.value=Mr.priority||"medium",yr.value=Mr.status||"pending"):lr.push("/tasks")}catch(Mr){console.error("Error loading task:",Mr)}finally{vr.value=!1}}typeof window<"u"&&"Notification"in window&&(Cr.value=!0,Br.value=Notification.permission)});const Tr=Mr=>format(new Date(Mr),"yyyy-MM-dd"),kr=Mr=>{Er.value={title:"Error",message:Mr,type:"error"},Sr.value=!0},Or=async()=>{try{if(!hr.value.trim()){kr("Por favor ingresa un ttulo para la tarea");return}if(!gr.value){kr("Por favor selecciona una fecha de vencimiento");return}if(!pr.value){kr("Por favor selecciona una materia");return}const Mr=cr.subjects.find(Kr=>Kr.id===pr.value),Ur={title:hr.value.trim(),description:fr.value.trim(),dueDate:new Date(gr.value).toISOString(),subjectId:pr.value,priority:mr.value,status:yr.value,subjectName:Mr.name};ur.value?await Ar.addTask(Ur):await Ar.updateTask(dr.value,Ur),lr.push("/tasks")}catch(Mr){console.error("Error saving task:",Mr),kr("Error al guardar la tarea")}},Rr=()=>{wr.value=!0},Lr=()=>{wr.value=!1},_r=async()=>{try{await Ar.deleteTask(dr.value),lr.push("/tasks")}catch(Mr){console.error("Error deleting task:",Mr),kr("Error al eliminar la tarea")}},Hr=async()=>{if(Cr.value){const Mr=await Ar.requestNotificationPermission();Br.value=Mr}};return(Mr,Ur)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$a,[createBaseVNode("h1",_hoisted_2$8,toDisplayString(ur.value?"Nueva Tarea":"Editar Tarea"),1),createBaseVNode("div",_hoisted_3$8,[ur.value?createCommentVNode("",!0):(openBlock(),createElementBlock("button",{key:0,onClick:Rr,class:"btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}," Eliminar ")),createBaseVNode("button",{onClick:Or,class:"btn btn-primary",disabled:br.value},toDisplayString(br.value?"Guardando...":"Guardar"),9,_hoisted_4$7)])]),vr.value?(openBlock(),createElementBlock("div",_hoisted_5$6,Ur[7]||(Ur[7]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando tarea...",-1)]))):(openBlock(),createElementBlock("div",_hoisted_6$6,[createBaseVNode("div",_hoisted_7$6,[Ur[8]||(Ur[8]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Ttulo "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":Ur[0]||(Ur[0]=Kr=>hr.value=Kr),placeholder:"Ttulo de la tarea",class:"input"},null,512),[[vModelText,hr.value]])]),createBaseVNode("div",_hoisted_8$6,[Ur[9]||(Ur[9]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Descripcin ",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":Ur[1]||(Ur[1]=Kr=>fr.value=Kr),placeholder:"Descripcin de la tarea",rows:"4",class:"input"},null,512),[[vModelText,fr.value]])]),createBaseVNode("div",_hoisted_9$6,[createBaseVNode("div",null,[Ur[10]||(Ur[10]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Fecha de vencimiento "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":Ur[2]||(Ur[2]=Kr=>gr.value=Kr),class:"input"},null,512),[[vModelText,gr.value]])]),createBaseVNode("div",null,[createVNode(_sfc_main$f,{modelValue:pr.value,"onUpdate:modelValue":Ur[3]||(Ur[3]=Kr=>pr.value=Kr),required:!0},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_10$5,[createBaseVNode("div",null,[Ur[12]||(Ur[12]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Prioridad ",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ur[4]||(Ur[4]=Kr=>mr.value=Kr),class:"input"},Ur[11]||(Ur[11]=[createBaseVNode("option",{value:"low"},"Baja",-1),createBaseVNode("option",{value:"medium"},"Media",-1),createBaseVNode("option",{value:"high"},"Alta",-1)]),512),[[vModelSelect,mr.value]])]),createBaseVNode("div",null,[Ur[14]||(Ur[14]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Estado ",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Ur[5]||(Ur[5]=Kr=>yr.value=Kr),class:"input"},Ur[13]||(Ur[13]=[createBaseVNode("option",{value:"pending"},"Pendiente",-1),createBaseVNode("option",{value:"in-progress"},"En Progreso",-1),createBaseVNode("option",{value:"completed"},"Completada",-1)]),512),[[vModelSelect,yr.value]])])]),createBaseVNode("div",_hoisted_11$5,[Cr.value&&Br.value==="granted"?(openBlock(),createElementBlock("p",_hoisted_12$5," Se enviar una notificacin un da antes de la fecha de vencimiento. ")):Cr.value&&Br.value!=="denied"?(openBlock(),createElementBlock("p",_hoisted_13$5,[createBaseVNode("button",{onClick:Hr,class:"text-primary-600 dark:text-primary-400 hover:underline"}," Habilitar notificaciones "),Ur[15]||(Ur[15]=createTextVNode(" para recibir recordatorios de tareas. "))])):createCommentVNode("",!0)])])),wr.value?(openBlock(),createElementBlock("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:withModifiers(Lr,["self"])},[createBaseVNode("div",{class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6"},[Ur[16]||(Ur[16]=createBaseVNode("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Confirmar Eliminacin",-1)),Ur[17]||(Ur[17]=createBaseVNode("p",{class:"text-gray-600 dark:text-gray-300 mb-6"}," Ests seguro de que deseas eliminar esta tarea? Esta accin no se puede deshacer. ",-1)),createBaseVNode("div",{class:"flex justify-end space-x-3"},[createBaseVNode("button",{onClick:Lr,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:_r,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar ")])])])):createCommentVNode("",!0),createVNode(_sfc_main$d,{show:Sr.value,title:Er.value.title,message:Er.value.message,type:Er.value.type,onClose:Ur[6]||(Ur[6]=Kr=>Sr.value=!1),onConfirm:Mr.handleConfirmDelete},null,8,["show","title","message","type","onConfirm"])]))}};var vuedraggable_umd={exports:{}};const require$$0=getAugmentedNamespace(vue_runtime_esmBundler);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ownKeys(ar,or){var lr=Object.keys(ar);if(Object.getOwnPropertySymbols){var Ar=Object.getOwnPropertySymbols(ar);or&&(Ar=Ar.filter(function(cr){return Object.getOwnPropertyDescriptor(ar,cr).enumerable})),lr.push.apply(lr,Ar)}return lr}function _objectSpread2(ar){for(var or=1;or<arguments.length;or++){var lr=arguments[or]!=null?arguments[or]:{};or%2?ownKeys(Object(lr),!0).forEach(function(Ar){_defineProperty(ar,Ar,lr[Ar])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ar,Object.getOwnPropertyDescriptors(lr)):ownKeys(Object(lr)).forEach(function(Ar){Object.defineProperty(ar,Ar,Object.getOwnPropertyDescriptor(lr,Ar))})}return ar}function _typeof(ar){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(or){return typeof or}:_typeof=function(or){return or&&typeof Symbol=="function"&&or.constructor===Symbol&&or!==Symbol.prototype?"symbol":typeof or},_typeof(ar)}function _defineProperty(ar,or,lr){return or in ar?Object.defineProperty(ar,or,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ar[or]=lr,ar}function _extends(){return _extends=Object.assign||function(ar){for(var or=1;or<arguments.length;or++){var lr=arguments[or];for(var Ar in lr)Object.prototype.hasOwnProperty.call(lr,Ar)&&(ar[Ar]=lr[Ar])}return ar},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(ar,or){if(ar==null)return{};var lr={},Ar=Object.keys(ar),cr,ur;for(ur=0;ur<Ar.length;ur++)cr=Ar[ur],!(or.indexOf(cr)>=0)&&(lr[cr]=ar[cr]);return lr}function _objectWithoutProperties(ar,or){if(ar==null)return{};var lr=_objectWithoutPropertiesLoose(ar,or),Ar,cr;if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(ar);for(cr=0;cr<ur.length;cr++)Ar=ur[cr],!(or.indexOf(Ar)>=0)&&Object.prototype.propertyIsEnumerable.call(ar,Ar)&&(lr[Ar]=ar[Ar])}return lr}function _toConsumableArray(ar){return _arrayWithoutHoles(ar)||_iterableToArray(ar)||_unsupportedIterableToArray(ar)||_nonIterableSpread()}function _arrayWithoutHoles(ar){if(Array.isArray(ar))return _arrayLikeToArray(ar)}function _iterableToArray(ar){if(typeof Symbol<"u"&&ar[Symbol.iterator]!=null||ar["@@iterator"]!=null)return Array.from(ar)}function _unsupportedIterableToArray(ar,or){if(ar){if(typeof ar=="string")return _arrayLikeToArray(ar,or);var lr=Object.prototype.toString.call(ar).slice(8,-1);if(lr==="Object"&&ar.constructor&&(lr=ar.constructor.name),lr==="Map"||lr==="Set")return Array.from(ar);if(lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lr))return _arrayLikeToArray(ar,or)}}function _arrayLikeToArray(ar,or){(or==null||or>ar.length)&&(or=ar.length);for(var lr=0,Ar=new Array(or);lr<or;lr++)Ar[lr]=ar[lr];return Ar}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var version="1.14.0";function userAgent(ar){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(ar)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on(ar,or,lr){ar.addEventListener(or,lr,!IE11OrLess&&captureMode)}function off(ar,or,lr){ar.removeEventListener(or,lr,!IE11OrLess&&captureMode)}function matches(ar,or){if(or){if(or[0]===">"&&(or=or.substring(1)),ar)try{if(ar.matches)return ar.matches(or);if(ar.msMatchesSelector)return ar.msMatchesSelector(or);if(ar.webkitMatchesSelector)return ar.webkitMatchesSelector(or)}catch{return!1}return!1}}function getParentOrHost(ar){return ar.host&&ar!==document&&ar.host.nodeType?ar.host:ar.parentNode}function closest(ar,or,lr,Ar){if(ar){lr=lr||document;do{if(or!=null&&(or[0]===">"?ar.parentNode===lr&&matches(ar,or):matches(ar,or))||Ar&&ar===lr)return ar;if(ar===lr)break}while(ar=getParentOrHost(ar))}return null}var R_SPACE=/\s+/g;function toggleClass(ar,or,lr){if(ar&&or)if(ar.classList)ar.classList[lr?"add":"remove"](or);else{var Ar=(" "+ar.className+" ").replace(R_SPACE," ").replace(" "+or+" "," ");ar.className=(Ar+(lr?" "+or:"")).replace(R_SPACE," ")}}function css(ar,or,lr){var Ar=ar&&ar.style;if(Ar){if(lr===void 0)return document.defaultView&&document.defaultView.getComputedStyle?lr=document.defaultView.getComputedStyle(ar,""):ar.currentStyle&&(lr=ar.currentStyle),or===void 0?lr:lr[or];!(or in Ar)&&or.indexOf("webkit")===-1&&(or="-webkit-"+or),Ar[or]=lr+(typeof lr=="string"?"":"px")}}function matrix(ar,or){var lr="";if(typeof ar=="string")lr=ar;else do{var Ar=css(ar,"transform");Ar&&Ar!=="none"&&(lr=Ar+" "+lr)}while(!or&&(ar=ar.parentNode));var cr=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return cr&&new cr(lr)}function find(ar,or,lr){if(ar){var Ar=ar.getElementsByTagName(or),cr=0,ur=Ar.length;if(lr)for(;cr<ur;cr++)lr(Ar[cr],cr);return Ar}return[]}function getWindowScrollingElement(){var ar=document.scrollingElement;return ar||document.documentElement}function getRect(ar,or,lr,Ar,cr){if(!(!ar.getBoundingClientRect&&ar!==window)){var ur,dr,hr,fr,gr,pr,mr;if(ar!==window&&ar.parentNode&&ar!==getWindowScrollingElement()?(ur=ar.getBoundingClientRect(),dr=ur.top,hr=ur.left,fr=ur.bottom,gr=ur.right,pr=ur.height,mr=ur.width):(dr=0,hr=0,fr=window.innerHeight,gr=window.innerWidth,pr=window.innerHeight,mr=window.innerWidth),(or||lr)&&ar!==window&&(cr=cr||ar.parentNode,!IE11OrLess))do if(cr&&cr.getBoundingClientRect&&(css(cr,"transform")!=="none"||lr&&css(cr,"position")!=="static")){var yr=cr.getBoundingClientRect();dr-=yr.top+parseInt(css(cr,"border-top-width")),hr-=yr.left+parseInt(css(cr,"border-left-width")),fr=dr+ur.height,gr=hr+ur.width;break}while(cr=cr.parentNode);if(Ar&&ar!==window){var vr=matrix(cr||ar),br=vr&&vr.a,wr=vr&&vr.d;vr&&(dr/=wr,hr/=br,mr/=br,pr/=wr,fr=dr+pr,gr=hr+mr)}return{top:dr,left:hr,bottom:fr,right:gr,width:mr,height:pr}}}function isScrolledPast(ar,or,lr){for(var Ar=getParentAutoScrollElement(ar,!0),cr=getRect(ar)[or];Ar;){var ur=getRect(Ar)[lr],dr=void 0;if(dr=cr>=ur,!dr)return Ar;if(Ar===getWindowScrollingElement())break;Ar=getParentAutoScrollElement(Ar,!1)}return!1}function getChild(ar,or,lr,Ar){for(var cr=0,ur=0,dr=ar.children;ur<dr.length;){if(dr[ur].style.display!=="none"&&dr[ur]!==Sortable.ghost&&(Ar||dr[ur]!==Sortable.dragged)&&closest(dr[ur],lr.draggable,ar,!1)){if(cr===or)return dr[ur];cr++}ur++}return null}function lastChild(ar,or){for(var lr=ar.lastElementChild;lr&&(lr===Sortable.ghost||css(lr,"display")==="none"||or&&!matches(lr,or));)lr=lr.previousElementSibling;return lr||null}function index(ar,or){var lr=0;if(!ar||!ar.parentNode)return-1;for(;ar=ar.previousElementSibling;)ar.nodeName.toUpperCase()!=="TEMPLATE"&&ar!==Sortable.clone&&(!or||matches(ar,or))&&lr++;return lr}function getRelativeScrollOffset(ar){var or=0,lr=0,Ar=getWindowScrollingElement();if(ar)do{var cr=matrix(ar),ur=cr.a,dr=cr.d;or+=ar.scrollLeft*ur,lr+=ar.scrollTop*dr}while(ar!==Ar&&(ar=ar.parentNode));return[or,lr]}function indexOfObject(ar,or){for(var lr in ar)if(ar.hasOwnProperty(lr)){for(var Ar in or)if(or.hasOwnProperty(Ar)&&or[Ar]===ar[lr][Ar])return Number(lr)}return-1}function getParentAutoScrollElement(ar,or){if(!ar||!ar.getBoundingClientRect)return getWindowScrollingElement();var lr=ar,Ar=!1;do if(lr.clientWidth<lr.scrollWidth||lr.clientHeight<lr.scrollHeight){var cr=css(lr);if(lr.clientWidth<lr.scrollWidth&&(cr.overflowX=="auto"||cr.overflowX=="scroll")||lr.clientHeight<lr.scrollHeight&&(cr.overflowY=="auto"||cr.overflowY=="scroll")){if(!lr.getBoundingClientRect||lr===document.body)return getWindowScrollingElement();if(Ar||or)return lr;Ar=!0}}while(lr=lr.parentNode);return getWindowScrollingElement()}function extend(ar,or){if(ar&&or)for(var lr in or)or.hasOwnProperty(lr)&&(ar[lr]=or[lr]);return ar}function isRectEqual(ar,or){return Math.round(ar.top)===Math.round(or.top)&&Math.round(ar.left)===Math.round(or.left)&&Math.round(ar.height)===Math.round(or.height)&&Math.round(ar.width)===Math.round(or.width)}var _throttleTimeout;function throttle(ar,or){return function(){if(!_throttleTimeout){var lr=arguments,Ar=this;lr.length===1?ar.call(Ar,lr[0]):ar.apply(Ar,lr),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},or)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(ar,or,lr){ar.scrollLeft+=or,ar.scrollTop+=lr}function clone(ar){var or=window.Polymer,lr=window.jQuery||window.Zepto;return or&&or.dom?or.dom(ar).cloneNode(!0):lr?lr(ar).clone(!0)[0]:ar.cloneNode(!0)}function setRect(ar,or){css(ar,"position","absolute"),css(ar,"top",or.top),css(ar,"left",or.left),css(ar,"width",or.width),css(ar,"height",or.height)}function unsetRect(ar){css(ar,"position",""),css(ar,"top",""),css(ar,"left",""),css(ar,"width",""),css(ar,"height","")}var expando="Sortable"+new Date().getTime();function AnimationStateManager(){var ar=[],or;return{captureAnimationState:function(){if(ar=[],!!this.options.animation){var Ar=[].slice.call(this.el.children);Ar.forEach(function(cr){if(!(css(cr,"display")==="none"||cr===Sortable.ghost)){ar.push({target:cr,rect:getRect(cr)});var ur=_objectSpread2({},ar[ar.length-1].rect);if(cr.thisAnimationDuration){var dr=matrix(cr,!0);dr&&(ur.top-=dr.f,ur.left-=dr.e)}cr.fromRect=ur}})}},addAnimationState:function(Ar){ar.push(Ar)},removeAnimationState:function(Ar){ar.splice(indexOfObject(ar,{target:Ar}),1)},animateAll:function(Ar){var cr=this;if(!this.options.animation){clearTimeout(or),typeof Ar=="function"&&Ar();return}var ur=!1,dr=0;ar.forEach(function(hr){var fr=0,gr=hr.target,pr=gr.fromRect,mr=getRect(gr),yr=gr.prevFromRect,vr=gr.prevToRect,br=hr.rect,wr=matrix(gr,!0);wr&&(mr.top-=wr.f,mr.left-=wr.e),gr.toRect=mr,gr.thisAnimationDuration&&isRectEqual(yr,mr)&&!isRectEqual(pr,mr)&&(br.top-mr.top)/(br.left-mr.left)===(pr.top-mr.top)/(pr.left-mr.left)&&(fr=calculateRealTime(br,yr,vr,cr.options)),isRectEqual(mr,pr)||(gr.prevFromRect=pr,gr.prevToRect=mr,fr||(fr=cr.options.animation),cr.animate(gr,br,mr,fr)),fr&&(ur=!0,dr=Math.max(dr,fr),clearTimeout(gr.animationResetTimer),gr.animationResetTimer=setTimeout(function(){gr.animationTime=0,gr.prevFromRect=null,gr.fromRect=null,gr.prevToRect=null,gr.thisAnimationDuration=null},fr),gr.thisAnimationDuration=fr)}),clearTimeout(or),ur?or=setTimeout(function(){typeof Ar=="function"&&Ar()},dr):typeof Ar=="function"&&Ar(),ar=[]},animate:function(Ar,cr,ur,dr){if(dr){css(Ar,"transition",""),css(Ar,"transform","");var hr=matrix(this.el),fr=hr&&hr.a,gr=hr&&hr.d,pr=(cr.left-ur.left)/(fr||1),mr=(cr.top-ur.top)/(gr||1);Ar.animatingX=!!pr,Ar.animatingY=!!mr,css(Ar,"transform","translate3d("+pr+"px,"+mr+"px,0)"),this.forRepaintDummy=repaint(Ar),css(Ar,"transition","transform "+dr+"ms"+(this.options.easing?" "+this.options.easing:"")),css(Ar,"transform","translate3d(0,0,0)"),typeof Ar.animated=="number"&&clearTimeout(Ar.animated),Ar.animated=setTimeout(function(){css(Ar,"transition",""),css(Ar,"transform",""),Ar.animated=!1,Ar.animatingX=!1,Ar.animatingY=!1},dr)}}}}function repaint(ar){return ar.offsetWidth}function calculateRealTime(ar,or,lr,Ar){return Math.sqrt(Math.pow(or.top-ar.top,2)+Math.pow(or.left-ar.left,2))/Math.sqrt(Math.pow(or.top-lr.top,2)+Math.pow(or.left-lr.left,2))*Ar.animation}var plugins=[],defaults={initializeByDefault:!0},PluginManager={mount:function(or){for(var lr in defaults)defaults.hasOwnProperty(lr)&&!(lr in or)&&(or[lr]=defaults[lr]);plugins.forEach(function(Ar){if(Ar.pluginName===or.pluginName)throw"Sortable: Cannot mount plugin ".concat(or.pluginName," more than once")}),plugins.push(or)},pluginEvent:function(or,lr,Ar){var cr=this;this.eventCanceled=!1,Ar.cancel=function(){cr.eventCanceled=!0};var ur=or+"Global";plugins.forEach(function(dr){lr[dr.pluginName]&&(lr[dr.pluginName][ur]&&lr[dr.pluginName][ur](_objectSpread2({sortable:lr},Ar)),lr.options[dr.pluginName]&&lr[dr.pluginName][or]&&lr[dr.pluginName][or](_objectSpread2({sortable:lr},Ar)))})},initializePlugins:function(or,lr,Ar,cr){plugins.forEach(function(hr){var fr=hr.pluginName;if(!(!or.options[fr]&&!hr.initializeByDefault)){var gr=new hr(or,lr,or.options);gr.sortable=or,gr.options=or.options,or[fr]=gr,_extends(Ar,gr.defaults)}});for(var ur in or.options)if(or.options.hasOwnProperty(ur)){var dr=this.modifyOption(or,ur,or.options[ur]);typeof dr<"u"&&(or.options[ur]=dr)}},getEventProperties:function(or,lr){var Ar={};return plugins.forEach(function(cr){typeof cr.eventProperties=="function"&&_extends(Ar,cr.eventProperties.call(lr[cr.pluginName],or))}),Ar},modifyOption:function(or,lr,Ar){var cr;return plugins.forEach(function(ur){or[ur.pluginName]&&ur.optionListeners&&typeof ur.optionListeners[lr]=="function"&&(cr=ur.optionListeners[lr].call(or[ur.pluginName],Ar))}),cr}};function dispatchEvent$1(ar){var or=ar.sortable,lr=ar.rootEl,Ar=ar.name,cr=ar.targetEl,ur=ar.cloneEl,dr=ar.toEl,hr=ar.fromEl,fr=ar.oldIndex,gr=ar.newIndex,pr=ar.oldDraggableIndex,mr=ar.newDraggableIndex,yr=ar.originalEvent,vr=ar.putSortable,br=ar.extraEventProperties;if(or=or||lr&&lr[expando],!!or){var wr,Cr=or.options,Br="on"+Ar.charAt(0).toUpperCase()+Ar.substr(1);window.CustomEvent&&!IE11OrLess&&!Edge?wr=new CustomEvent(Ar,{bubbles:!0,cancelable:!0}):(wr=document.createEvent("Event"),wr.initEvent(Ar,!0,!0)),wr.to=dr||lr,wr.from=hr||lr,wr.item=cr||lr,wr.clone=ur,wr.oldIndex=fr,wr.newIndex=gr,wr.oldDraggableIndex=pr,wr.newDraggableIndex=mr,wr.originalEvent=yr,wr.pullMode=vr?vr.lastPutMode:void 0;var Sr=_objectSpread2(_objectSpread2({},br),PluginManager.getEventProperties(Ar,or));for(var Er in Sr)wr[Er]=Sr[Er];lr&&lr.dispatchEvent(wr),Cr[Br]&&Cr[Br].call(or,wr)}}var _excluded=["evt"],pluginEvent=function(or,lr){var Ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},cr=Ar.evt,ur=_objectWithoutProperties(Ar,_excluded);PluginManager.pluginEvent.bind(Sortable)(or,lr,_objectSpread2({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent:cr,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(hr){_dispatchEvent({sortable:lr,name:hr,originalEvent:cr})}},ur))};function _dispatchEvent(ar){dispatchEvent$1(_objectSpread2({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},ar))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document<"u",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var ar=document.createElement("x");return ar.style.cssText="pointer-events:auto",ar.style.pointerEvents==="auto"}}(),_detectDirection=function(or,lr){var Ar=css(or),cr=parseInt(Ar.width)-parseInt(Ar.paddingLeft)-parseInt(Ar.paddingRight)-parseInt(Ar.borderLeftWidth)-parseInt(Ar.borderRightWidth),ur=getChild(or,0,lr),dr=getChild(or,1,lr),hr=ur&&css(ur),fr=dr&&css(dr),gr=hr&&parseInt(hr.marginLeft)+parseInt(hr.marginRight)+getRect(ur).width,pr=fr&&parseInt(fr.marginLeft)+parseInt(fr.marginRight)+getRect(dr).width;if(Ar.display==="flex")return Ar.flexDirection==="column"||Ar.flexDirection==="column-reverse"?"vertical":"horizontal";if(Ar.display==="grid")return Ar.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(ur&&hr.float&&hr.float!=="none"){var mr=hr.float==="left"?"left":"right";return dr&&(fr.clear==="both"||fr.clear===mr)?"vertical":"horizontal"}return ur&&(hr.display==="block"||hr.display==="flex"||hr.display==="table"||hr.display==="grid"||gr>=cr&&Ar[CSSFloatProperty]==="none"||dr&&Ar[CSSFloatProperty]==="none"&&gr+pr>cr)?"vertical":"horizontal"},_dragElInRowColumn=function(or,lr,Ar){var cr=Ar?or.left:or.top,ur=Ar?or.right:or.bottom,dr=Ar?or.width:or.height,hr=Ar?lr.left:lr.top,fr=Ar?lr.right:lr.bottom,gr=Ar?lr.width:lr.height;return cr===hr||ur===fr||cr+dr/2===hr+gr/2},_detectNearestEmptySortable=function(or,lr){var Ar;return sortables.some(function(cr){var ur=cr[expando].options.emptyInsertThreshold;if(!(!ur||lastChild(cr))){var dr=getRect(cr),hr=or>=dr.left-ur&&or<=dr.right+ur,fr=lr>=dr.top-ur&&lr<=dr.bottom+ur;if(hr&&fr)return Ar=cr}}),Ar},_prepareGroup=function(or){function lr(ur,dr){return function(hr,fr,gr,pr){var mr=hr.options.group.name&&fr.options.group.name&&hr.options.group.name===fr.options.group.name;if(ur==null&&(dr||mr))return!0;if(ur==null||ur===!1)return!1;if(dr&&ur==="clone")return ur;if(typeof ur=="function")return lr(ur(hr,fr,gr,pr),dr)(hr,fr,gr,pr);var yr=(dr?hr:fr).options.group.name;return ur===!0||typeof ur=="string"&&ur===yr||ur.join&&ur.indexOf(yr)>-1}}var Ar={},cr=or.group;(!cr||_typeof(cr)!="object")&&(cr={name:cr}),Ar.name=cr.name,Ar.checkPull=lr(cr.pull,!0),Ar.checkPut=lr(cr.put),Ar.revertClone=cr.revertClone,or.group=Ar},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&document.addEventListener("click",function(ar){if(ignoreNextClick)return ar.preventDefault(),ar.stopPropagation&&ar.stopPropagation(),ar.stopImmediatePropagation&&ar.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(or){if(dragEl){or=or.touches?or.touches[0]:or;var lr=_detectNearestEmptySortable(or.clientX,or.clientY);if(lr){var Ar={};for(var cr in or)or.hasOwnProperty(cr)&&(Ar[cr]=or[cr]);Ar.target=Ar.rootEl=lr,Ar.preventDefault=void 0,Ar.stopPropagation=void 0,lr[expando]._onDragOver(Ar)}}},_checkOutsideTargetEl=function(or){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(or.target)};function Sortable(ar,or){if(!(ar&&ar.nodeType&&ar.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(ar));this.el=ar,this.options=or=_extends({},or),ar[expando]=this;var lr={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(ar.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(ar,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(dr,hr){dr.setData("Text",hr.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Sortable.supportPointer!==!1&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};PluginManager.initializePlugins(this,ar,lr);for(var Ar in lr)!(Ar in or)&&(or[Ar]=lr[Ar]);_prepareGroup(or);for(var cr in this)cr.charAt(0)==="_"&&typeof this[cr]=="function"&&(this[cr]=this[cr].bind(this));this.nativeDraggable=or.forceFallback?!1:supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),or.supportPointer?on(ar,"pointerdown",this._onTapStart):(on(ar,"mousedown",this._onTapStart),on(ar,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(ar,"dragover",this),on(ar,"dragenter",this)),sortables.push(this.el),or.store&&or.store.get&&this.sort(or.store.get(this)||[]),_extends(this,AnimationStateManager())}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(or){!this.el.contains(or)&&or!==this.el&&(lastTarget=null)},_getDirection:function(or,lr){return typeof this.options.direction=="function"?this.options.direction.call(this,or,lr,dragEl):this.options.direction},_onTapStart:function(or){if(or.cancelable){var lr=this,Ar=this.el,cr=this.options,ur=cr.preventOnFilter,dr=or.type,hr=or.touches&&or.touches[0]||or.pointerType&&or.pointerType==="touch"&&or,fr=(hr||or).target,gr=or.target.shadowRoot&&(or.path&&or.path[0]||or.composedPath&&or.composedPath()[0])||fr,pr=cr.filter;if(_saveInputCheckedState(Ar),!dragEl&&!(/mousedown|pointerdown/.test(dr)&&or.button!==0||cr.disabled)&&!gr.isContentEditable&&!(!this.nativeDraggable&&Safari&&fr&&fr.tagName.toUpperCase()==="SELECT")&&(fr=closest(fr,cr.draggable,Ar,!1),!(fr&&fr.animated)&&lastDownEl!==fr)){if(oldIndex=index(fr),oldDraggableIndex=index(fr,cr.draggable),typeof pr=="function"){if(pr.call(this,or,fr,this)){_dispatchEvent({sortable:lr,rootEl:gr,name:"filter",targetEl:fr,toEl:Ar,fromEl:Ar}),pluginEvent("filter",lr,{evt:or}),ur&&or.cancelable&&or.preventDefault();return}}else if(pr&&(pr=pr.split(",").some(function(mr){if(mr=closest(gr,mr.trim(),Ar,!1),mr)return _dispatchEvent({sortable:lr,rootEl:mr,name:"filter",targetEl:fr,fromEl:Ar,toEl:Ar}),pluginEvent("filter",lr,{evt:or}),!0}),pr)){ur&&or.cancelable&&or.preventDefault();return}cr.handle&&!closest(gr,cr.handle,Ar,!1)||this._prepareDragStart(or,hr,fr)}}},_prepareDragStart:function(or,lr,Ar){var cr=this,ur=cr.el,dr=cr.options,hr=ur.ownerDocument,fr;if(Ar&&!dragEl&&Ar.parentNode===ur){var gr=getRect(Ar);if(rootEl=ur,dragEl=Ar,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=Ar,activeGroup=dr.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(lr||or).clientX,clientY:(lr||or).clientY},tapDistanceLeft=tapEvt.clientX-gr.left,tapDistanceTop=tapEvt.clientY-gr.top,this._lastX=(lr||or).clientX,this._lastY=(lr||or).clientY,dragEl.style["will-change"]="all",fr=function(){if(pluginEvent("delayEnded",cr,{evt:or}),Sortable.eventCanceled){cr._onDrop();return}cr._disableDelayedDragEvents(),!FireFox&&cr.nativeDraggable&&(dragEl.draggable=!0),cr._triggerDragStart(or,lr),_dispatchEvent({sortable:cr,name:"choose",originalEvent:or}),toggleClass(dragEl,dr.chosenClass,!0)},dr.ignore.split(",").forEach(function(pr){find(dragEl,pr.trim(),_disableDraggable)}),on(hr,"dragover",nearestEmptyInsertDetectEvent),on(hr,"mousemove",nearestEmptyInsertDetectEvent),on(hr,"touchmove",nearestEmptyInsertDetectEvent),on(hr,"mouseup",cr._onDrop),on(hr,"touchend",cr._onDrop),on(hr,"touchcancel",cr._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:or}),dr.delay&&(!dr.delayOnTouchOnly||lr)&&(!this.nativeDraggable||!(Edge||IE11OrLess))){if(Sortable.eventCanceled){this._onDrop();return}on(hr,"mouseup",cr._disableDelayedDrag),on(hr,"touchend",cr._disableDelayedDrag),on(hr,"touchcancel",cr._disableDelayedDrag),on(hr,"mousemove",cr._delayedDragTouchMoveHandler),on(hr,"touchmove",cr._delayedDragTouchMoveHandler),dr.supportPointer&&on(hr,"pointermove",cr._delayedDragTouchMoveHandler),cr._dragStartTimer=setTimeout(fr,dr.delay)}else fr()}},_delayedDragTouchMoveHandler:function(or){var lr=or.touches?or.touches[0]:or;Math.max(Math.abs(lr.clientX-this._lastX),Math.abs(lr.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var or=this.el.ownerDocument;off(or,"mouseup",this._disableDelayedDrag),off(or,"touchend",this._disableDelayedDrag),off(or,"touchcancel",this._disableDelayedDrag),off(or,"mousemove",this._delayedDragTouchMoveHandler),off(or,"touchmove",this._delayedDragTouchMoveHandler),off(or,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(or,lr){lr=lr||or.pointerType=="touch"&&or,!this.nativeDraggable||lr?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):lr?on(document,"touchmove",this._onTouchMove):on(document,"mousemove",this._onTouchMove):(on(dragEl,"dragend",this),on(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(or,lr){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:lr}),this.nativeDraggable&&on(document,"dragover",_checkOutsideTargetEl);var Ar=this.options;!or&&toggleClass(dragEl,Ar.dragClass,!1),toggleClass(dragEl,Ar.ghostClass,!0),Sortable.active=this,or&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:lr})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var or=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),lr=or;or&&or.shadowRoot&&(or=or.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY),or!==lr);)lr=or;if(dragEl.parentNode[expando]._isOutsideThisEl(or),lr)do{if(lr[expando]){var Ar=void 0;if(Ar=lr[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:or,rootEl:lr}),Ar&&!this.options.dragoverBubble)break}or=lr}while(lr=lr.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(or){if(tapEvt){var lr=this.options,Ar=lr.fallbackTolerance,cr=lr.fallbackOffset,ur=or.touches?or.touches[0]:or,dr=ghostEl&&matrix(ghostEl,!0),hr=ghostEl&&dr&&dr.a,fr=ghostEl&&dr&&dr.d,gr=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),pr=(ur.clientX-tapEvt.clientX+cr.x)/(hr||1)+(gr?gr[0]-ghostRelativeParentInitialScroll[0]:0)/(hr||1),mr=(ur.clientY-tapEvt.clientY+cr.y)/(fr||1)+(gr?gr[1]-ghostRelativeParentInitialScroll[1]:0)/(fr||1);if(!Sortable.active&&!awaitingDragStarted){if(Ar&&Math.max(Math.abs(ur.clientX-this._lastX),Math.abs(ur.clientY-this._lastY))<Ar)return;this._onDragStart(or,!0)}if(ghostEl){dr?(dr.e+=pr-(lastDx||0),dr.f+=mr-(lastDy||0)):dr={a:1,b:0,c:0,d:1,e:pr,f:mr};var yr="matrix(".concat(dr.a,",").concat(dr.b,",").concat(dr.c,",").concat(dr.d,",").concat(dr.e,",").concat(dr.f,")");css(ghostEl,"webkitTransform",yr),css(ghostEl,"mozTransform",yr),css(ghostEl,"msTransform",yr),css(ghostEl,"transform",yr),lastDx=pr,lastDy=mr,touchEvt=ur}or.cancelable&&or.preventDefault()}},_appendGhost:function(){if(!ghostEl){var or=this.options.fallbackOnBody?document.body:rootEl,lr=getRect(dragEl,!0,PositionGhostAbsolutely,!0,or),Ar=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=or;css(ghostRelativeParent,"position")==="static"&&css(ghostRelativeParent,"transform")==="none"&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),lr.top+=ghostRelativeParent.scrollTop,lr.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}ghostEl=dragEl.cloneNode(!0),toggleClass(ghostEl,Ar.ghostClass,!1),toggleClass(ghostEl,Ar.fallbackClass,!0),toggleClass(ghostEl,Ar.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",lr.top),css(ghostEl,"left",lr.left),css(ghostEl,"width",lr.width),css(ghostEl,"height",lr.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,or.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(or,lr){var Ar=this,cr=or.dataTransfer,ur=Ar.options;if(pluginEvent("dragStart",this,{evt:or}),Sortable.eventCanceled){this._onDrop();return}pluginEvent("setupClone",this),Sortable.eventCanceled||(cloneEl=clone(dragEl),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),Ar.cloneId=_nextTick(function(){pluginEvent("clone",Ar),!Sortable.eventCanceled&&(Ar.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),Ar._hideClone(),_dispatchEvent({sortable:Ar,name:"clone"}))}),!lr&&toggleClass(dragEl,ur.dragClass,!0),lr?(ignoreNextClick=!0,Ar._loopId=setInterval(Ar._emulateDragOver,50)):(off(document,"mouseup",Ar._onDrop),off(document,"touchend",Ar._onDrop),off(document,"touchcancel",Ar._onDrop),cr&&(cr.effectAllowed="move",ur.setData&&ur.setData.call(Ar,cr,dragEl)),on(document,"drop",Ar),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,Ar._dragStartId=_nextTick(Ar._dragStarted.bind(Ar,lr,or)),on(document,"selectstart",Ar),moved=!0,Safari&&css(document.body,"user-select","none")},_onDragOver:function(or){var lr=this.el,Ar=or.target,cr,ur,dr,hr=this.options,fr=hr.group,gr=Sortable.active,pr=activeGroup===fr,mr=hr.sort,yr=putSortable||gr,vr,br=this,wr=!1;if(_silent)return;function Cr(As,is){pluginEvent(As,br,_objectSpread2({evt:or,isOwner:pr,axis:vr?"vertical":"horizontal",revert:dr,dragRect:cr,targetRect:ur,canSort:mr,fromSortable:yr,target:Ar,completed:Sr,onMove:function(Os,Vr){return _onMove(rootEl,lr,dragEl,cr,Os,getRect(Os),or,Vr)},changed:Er},is))}function Br(){Cr("dragOverAnimationCapture"),br.captureAnimationState(),br!==yr&&yr.captureAnimationState()}function Sr(As){return Cr("dragOverCompleted",{insertion:As}),As&&(pr?gr._hideClone():gr._showClone(br),br!==yr&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:gr.options.ghostClass,!1),toggleClass(dragEl,hr.ghostClass,!0)),putSortable!==br&&br!==Sortable.active?putSortable=br:br===Sortable.active&&putSortable&&(putSortable=null),yr===br&&(br._ignoreWhileAnimating=Ar),br.animateAll(function(){Cr("dragOverAnimationComplete"),br._ignoreWhileAnimating=null}),br!==yr&&(yr.animateAll(),yr._ignoreWhileAnimating=null)),(Ar===dragEl&&!dragEl.animated||Ar===lr&&!Ar.animated)&&(lastTarget=null),!hr.dragoverBubble&&!or.rootEl&&Ar!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(or.target),!As&&nearestEmptyInsertDetectEvent(or)),!hr.dragoverBubble&&or.stopPropagation&&or.stopPropagation(),wr=!0}function Er(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,hr.draggable),_dispatchEvent({sortable:br,name:"change",toEl:lr,newIndex,newDraggableIndex,originalEvent:or})}if(or.preventDefault!==void 0&&or.cancelable&&or.preventDefault(),Ar=closest(Ar,hr.draggable,lr,!0),Cr("dragOver"),Sortable.eventCanceled)return wr;if(dragEl.contains(or.target)||Ar.animated&&Ar.animatingX&&Ar.animatingY||br._ignoreWhileAnimating===Ar)return Sr(!1);if(ignoreNextClick=!1,gr&&!hr.disabled&&(pr?mr||(dr=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,gr,dragEl,or))&&fr.checkPut(this,gr,dragEl,or))){if(vr=this._getDirection(or,Ar)==="vertical",cr=getRect(dragEl),Cr("dragOverValid"),Sortable.eventCanceled)return wr;if(dr)return parentEl=rootEl,Br(),this._hideClone(),Cr("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),Sr(!0);var Tr=lastChild(lr,hr.draggable);if(!Tr||_ghostIsLast(or,vr,this)&&!Tr.animated){if(Tr===dragEl)return Sr(!1);if(Tr&&lr===or.target&&(Ar=Tr),Ar&&(ur=getRect(Ar)),_onMove(rootEl,lr,dragEl,cr,Ar,ur,or,!!Ar)!==!1)return Br(),lr.appendChild(dragEl),parentEl=lr,Er(),Sr(!0)}else if(Tr&&_ghostIsFirst(or,vr,this)){var kr=getChild(lr,0,hr,!0);if(kr===dragEl)return Sr(!1);if(Ar=kr,ur=getRect(Ar),_onMove(rootEl,lr,dragEl,cr,Ar,ur,or,!1)!==!1)return Br(),lr.insertBefore(dragEl,kr),parentEl=lr,Er(),Sr(!0)}else if(Ar.parentNode===lr){ur=getRect(Ar);var Or=0,Rr,Lr=dragEl.parentNode!==lr,_r=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||cr,Ar.animated&&Ar.toRect||ur,vr),Hr=vr?"top":"left",Mr=isScrolledPast(Ar,"top","top")||isScrolledPast(dragEl,"top","top"),Ur=Mr?Mr.scrollTop:void 0;lastTarget!==Ar&&(Rr=ur[Hr],pastFirstInvertThresh=!1,isCircumstantialInvert=!_r&&hr.invertSwap||Lr),Or=_getSwapDirection(or,Ar,ur,vr,_r?1:hr.swapThreshold,hr.invertedSwapThreshold==null?hr.swapThreshold:hr.invertedSwapThreshold,isCircumstantialInvert,lastTarget===Ar);var Kr;if(Or!==0){var Xr=index(dragEl);do Xr-=Or,Kr=parentEl.children[Xr];while(Kr&&(css(Kr,"display")==="none"||Kr===ghostEl))}if(Or===0||Kr===Ar)return Sr(!1);lastTarget=Ar,lastDirection=Or;var Yr=Ar.nextElementSibling,Zr=!1;Zr=Or===1;var ns=_onMove(rootEl,lr,dragEl,cr,Ar,ur,or,Zr);if(ns!==!1)return(ns===1||ns===-1)&&(Zr=ns===1),_silent=!0,setTimeout(_unsilent,30),Br(),Zr&&!Yr?lr.appendChild(dragEl):Ar.parentNode.insertBefore(dragEl,Zr?Yr:Ar),Mr&&scrollBy(Mr,0,Ur-Mr.scrollTop),parentEl=dragEl.parentNode,Rr!==void 0&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(Rr-getRect(Ar)[Hr])),Er(),Sr(!0)}if(lr.contains(dragEl))return Sr(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var or=this.el.ownerDocument;off(or,"mouseup",this._onDrop),off(or,"touchend",this._onDrop),off(or,"pointerup",this._onDrop),off(or,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(or){var lr=this.el,Ar=this.options;if(newIndex=index(dragEl),newDraggableIndex=index(dragEl,Ar.draggable),pluginEvent("drop",this,{evt:or}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,Ar.draggable),Sortable.eventCanceled){this._nulling();return}awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(lr,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),or&&(moved&&(or.cancelable&&or.preventDefault(),!Ar.dropBubble&&or.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&putSortable.lastPutMode!=="clone")&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:or}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:or}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:or}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:or}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:or})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:or}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:or})),Sortable.active&&((newIndex==null||newIndex===-1)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:or}),this.save()))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(or){or.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(or){switch(or.type){case"drop":case"dragend":this._onDrop(or);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(or),_globalDragOver(or));break;case"selectstart":or.preventDefault();break}},toArray:function(){for(var or=[],lr,Ar=this.el.children,cr=0,ur=Ar.length,dr=this.options;cr<ur;cr++)lr=Ar[cr],closest(lr,dr.draggable,this.el,!1)&&or.push(lr.getAttribute(dr.dataIdAttr)||_generateId(lr));return or},sort:function(or,lr){var Ar={},cr=this.el;this.toArray().forEach(function(ur,dr){var hr=cr.children[dr];closest(hr,this.options.draggable,cr,!1)&&(Ar[ur]=hr)},this),lr&&this.captureAnimationState(),or.forEach(function(ur){Ar[ur]&&(cr.removeChild(Ar[ur]),cr.appendChild(Ar[ur]))}),lr&&this.animateAll()},save:function(){var or=this.options.store;or&&or.set&&or.set(this)},closest:function(or,lr){return closest(or,lr||this.options.draggable,this.el,!1)},option:function(or,lr){var Ar=this.options;if(lr===void 0)return Ar[or];var cr=PluginManager.modifyOption(this,or,lr);typeof cr<"u"?Ar[or]=cr:Ar[or]=lr,or==="group"&&_prepareGroup(Ar)},destroy:function(){pluginEvent("destroy",this);var or=this.el;or[expando]=null,off(or,"mousedown",this._onTapStart),off(or,"touchstart",this._onTapStart),off(or,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(or,"dragover",this),off(or,"dragenter",this)),Array.prototype.forEach.call(or.querySelectorAll("[draggable]"),function(lr){lr.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=or=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(or){if(or.lastPutMode!=="clone"){this._hideClone();return}if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode==rootEl&&!this.options.group.revertClone?rootEl.insertBefore(cloneEl,dragEl):nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}};function _globalDragOver(ar){ar.dataTransfer&&(ar.dataTransfer.dropEffect="move"),ar.cancelable&&ar.preventDefault()}function _onMove(ar,or,lr,Ar,cr,ur,dr,hr){var fr,gr=ar[expando],pr=gr.options.onMove,mr;return window.CustomEvent&&!IE11OrLess&&!Edge?fr=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(fr=document.createEvent("Event"),fr.initEvent("move",!0,!0)),fr.to=or,fr.from=ar,fr.dragged=lr,fr.draggedRect=Ar,fr.related=cr||or,fr.relatedRect=ur||getRect(or),fr.willInsertAfter=hr,fr.originalEvent=dr,ar.dispatchEvent(fr),pr&&(mr=pr.call(gr,fr,dr)),mr}function _disableDraggable(ar){ar.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(ar,or,lr){var Ar=getRect(getChild(lr.el,0,lr.options,!0)),cr=10;return or?ar.clientX<Ar.left-cr||ar.clientY<Ar.top&&ar.clientX<Ar.right:ar.clientY<Ar.top-cr||ar.clientY<Ar.bottom&&ar.clientX<Ar.left}function _ghostIsLast(ar,or,lr){var Ar=getRect(lastChild(lr.el,lr.options.draggable)),cr=10;return or?ar.clientX>Ar.right+cr||ar.clientX<=Ar.right&&ar.clientY>Ar.bottom&&ar.clientX>=Ar.left:ar.clientX>Ar.right&&ar.clientY>Ar.top||ar.clientX<=Ar.right&&ar.clientY>Ar.bottom+cr}function _getSwapDirection(ar,or,lr,Ar,cr,ur,dr,hr){var fr=Ar?ar.clientY:ar.clientX,gr=Ar?lr.height:lr.width,pr=Ar?lr.top:lr.left,mr=Ar?lr.bottom:lr.right,yr=!1;if(!dr){if(hr&&targetMoveDistance<gr*cr){if(!pastFirstInvertThresh&&(lastDirection===1?fr>pr+gr*ur/2:fr<mr-gr*ur/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)yr=!0;else if(lastDirection===1?fr<pr+targetMoveDistance:fr>mr-targetMoveDistance)return-lastDirection}else if(fr>pr+gr*(1-cr)/2&&fr<mr-gr*(1-cr)/2)return _getInsertDirection(or)}return yr=yr||dr,yr&&(fr<pr+gr*ur/2||fr>mr-gr*ur/2)?fr>pr+gr/2?1:-1:0}function _getInsertDirection(ar){return index(dragEl)<index(ar)?1:-1}function _generateId(ar){for(var or=ar.tagName+ar.className+ar.src+ar.href+ar.textContent,lr=or.length,Ar=0;lr--;)Ar+=or.charCodeAt(lr);return Ar.toString(36)}function _saveInputCheckedState(ar){savedInputChecked.length=0;for(var or=ar.getElementsByTagName("input"),lr=or.length;lr--;){var Ar=or[lr];Ar.checked&&savedInputChecked.push(Ar)}}function _nextTick(ar){return setTimeout(ar,0)}function _cancelNextTick(ar){return clearTimeout(ar)}documentExists&&on(document,"touchmove",function(ar){(Sortable.active||awaitingDragStarted)&&ar.cancelable&&ar.preventDefault()});Sortable.utils={on,off,css,find,is:function(or,lr){return!!closest(or,lr,or,!1)},extend,throttle,closest,toggleClass,clone,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild};Sortable.get=function(ar){return ar[expando]};Sortable.mount=function(){for(var ar=arguments.length,or=new Array(ar),lr=0;lr<ar;lr++)or[lr]=arguments[lr];or[0].constructor===Array&&(or=or[0]),or.forEach(function(Ar){if(!Ar.prototype||!Ar.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(Ar));Ar.utils&&(Sortable.utils=_objectSpread2(_objectSpread2({},Sortable.utils),Ar.utils)),PluginManager.mount(Ar)})};Sortable.create=function(ar,or){return new Sortable(ar,or)};Sortable.version=version;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function ar(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var or in this)or.charAt(0)==="_"&&typeof this[or]=="function"&&(this[or]=this[or].bind(this))}return ar.prototype={dragStarted:function(lr){var Ar=lr.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):Ar.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(lr){var Ar=lr.originalEvent;!this.options.dragOverBubble&&!Ar.rootEl&&this._handleAutoScroll(Ar)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(lr){this._handleAutoScroll(lr,!0)},_handleAutoScroll:function(lr,Ar){var cr=this,ur=(lr.touches?lr.touches[0]:lr).clientX,dr=(lr.touches?lr.touches[0]:lr).clientY,hr=document.elementFromPoint(ur,dr);if(touchEvt$1=lr,Ar||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll(lr,this.options,hr,Ar);var fr=getParentAutoScrollElement(hr,!0);scrolling&&(!pointerElemChangedInterval||ur!==lastAutoScrollX||dr!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var gr=getParentAutoScrollElement(document.elementFromPoint(ur,dr),!0);gr!==fr&&(fr=gr,clearAutoScrolls()),autoScroll(lr,cr.options,gr,Ar)},10),lastAutoScrollX=ur,lastAutoScrollY=dr)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(hr,!0)===getWindowScrollingElement()){clearAutoScrolls();return}autoScroll(lr,this.options,getParentAutoScrollElement(hr,!1),!1)}}},_extends(ar,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(ar){clearInterval(ar.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle(function(ar,or,lr,Ar){if(or.scroll){var cr=(ar.touches?ar.touches[0]:ar).clientX,ur=(ar.touches?ar.touches[0]:ar).clientY,dr=or.scrollSensitivity,hr=or.scrollSpeed,fr=getWindowScrollingElement(),gr=!1,pr;scrollRootEl!==lr&&(scrollRootEl=lr,clearAutoScrolls(),scrollEl=or.scroll,pr=or.scrollFn,scrollEl===!0&&(scrollEl=getParentAutoScrollElement(lr,!0)));var mr=0,yr=scrollEl;do{var vr=yr,br=getRect(vr),wr=br.top,Cr=br.bottom,Br=br.left,Sr=br.right,Er=br.width,Tr=br.height,kr=void 0,Or=void 0,Rr=vr.scrollWidth,Lr=vr.scrollHeight,_r=css(vr),Hr=vr.scrollLeft,Mr=vr.scrollTop;vr===fr?(kr=Er<Rr&&(_r.overflowX==="auto"||_r.overflowX==="scroll"||_r.overflowX==="visible"),Or=Tr<Lr&&(_r.overflowY==="auto"||_r.overflowY==="scroll"||_r.overflowY==="visible")):(kr=Er<Rr&&(_r.overflowX==="auto"||_r.overflowX==="scroll"),Or=Tr<Lr&&(_r.overflowY==="auto"||_r.overflowY==="scroll"));var Ur=kr&&(Math.abs(Sr-cr)<=dr&&Hr+Er<Rr)-(Math.abs(Br-cr)<=dr&&!!Hr),Kr=Or&&(Math.abs(Cr-ur)<=dr&&Mr+Tr<Lr)-(Math.abs(wr-ur)<=dr&&!!Mr);if(!autoScrolls[mr])for(var Xr=0;Xr<=mr;Xr++)autoScrolls[Xr]||(autoScrolls[Xr]={});(autoScrolls[mr].vx!=Ur||autoScrolls[mr].vy!=Kr||autoScrolls[mr].el!==vr)&&(autoScrolls[mr].el=vr,autoScrolls[mr].vx=Ur,autoScrolls[mr].vy=Kr,clearInterval(autoScrolls[mr].pid),(Ur!=0||Kr!=0)&&(gr=!0,autoScrolls[mr].pid=setInterval((function(){Ar&&this.layer===0&&Sortable.active._onTouchMove(touchEvt$1);var Yr=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*hr:0,Zr=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*hr:0;typeof pr=="function"&&pr.call(Sortable.dragged.parentNode[expando],Zr,Yr,ar,touchEvt$1,autoScrolls[this.layer].el)!=="continue"||scrollBy(autoScrolls[this.layer].el,Zr,Yr)}).bind({layer:mr}),24))),mr++}while(or.bubbleScroll&&yr!==fr&&(yr=getParentAutoScrollElement(yr,!1)));scrolling=gr}},30),drop=function(or){var lr=or.originalEvent,Ar=or.putSortable,cr=or.dragEl,ur=or.activeSortable,dr=or.dispatchSortableEvent,hr=or.hideGhostForTarget,fr=or.unhideGhostForTarget;if(lr){var gr=Ar||ur;hr();var pr=lr.changedTouches&&lr.changedTouches.length?lr.changedTouches[0]:lr,mr=document.elementFromPoint(pr.clientX,pr.clientY);fr(),gr&&!gr.el.contains(mr)&&(dr("spill"),this.onSpill({dragEl:cr,putSortable:Ar}))}};function Revert(){}Revert.prototype={startIndex:null,dragStart:function(or){var lr=or.oldDraggableIndex;this.startIndex=lr},onSpill:function(or){var lr=or.dragEl,Ar=or.putSortable;this.sortable.captureAnimationState(),Ar&&Ar.captureAnimationState();var cr=getChild(this.sortable.el,this.startIndex,this.options);cr?this.sortable.el.insertBefore(lr,cr):this.sortable.el.appendChild(lr),this.sortable.animateAll(),Ar&&Ar.animateAll()},drop};_extends(Revert,{pluginName:"revertOnSpill"});function Remove(){}Remove.prototype={onSpill:function(or){var lr=or.dragEl,Ar=or.putSortable,cr=Ar||this.sortable;cr.captureAnimationState(),lr.parentNode&&lr.parentNode.removeChild(lr),cr.animateAll()},drop};_extends(Remove,{pluginName:"removeOnSpill"});var lastSwapEl;function SwapPlugin(){function ar(){this.defaults={swapClass:"sortable-swap-highlight"}}return ar.prototype={dragStart:function(lr){var Ar=lr.dragEl;lastSwapEl=Ar},dragOverValid:function(lr){var Ar=lr.completed,cr=lr.target,ur=lr.onMove,dr=lr.activeSortable,hr=lr.changed,fr=lr.cancel;if(dr.options.swap){var gr=this.sortable.el,pr=this.options;if(cr&&cr!==gr){var mr=lastSwapEl;ur(cr)!==!1?(toggleClass(cr,pr.swapClass,!0),lastSwapEl=cr):lastSwapEl=null,mr&&mr!==lastSwapEl&&toggleClass(mr,pr.swapClass,!1)}hr(),Ar(!0),fr()}},drop:function(lr){var Ar=lr.activeSortable,cr=lr.putSortable,ur=lr.dragEl,dr=cr||this.sortable,hr=this.options;lastSwapEl&&toggleClass(lastSwapEl,hr.swapClass,!1),lastSwapEl&&(hr.swap||cr&&cr.options.swap)&&ur!==lastSwapEl&&(dr.captureAnimationState(),dr!==Ar&&Ar.captureAnimationState(),swapNodes(ur,lastSwapEl),dr.animateAll(),dr!==Ar&&Ar.animateAll())},nulling:function(){lastSwapEl=null}},_extends(ar,{pluginName:"swap",eventProperties:function(){return{swapItem:lastSwapEl}}})}function swapNodes(ar,or){var lr=ar.parentNode,Ar=or.parentNode,cr,ur;!lr||!Ar||lr.isEqualNode(or)||Ar.isEqualNode(ar)||(cr=index(ar),ur=index(or),lr.isEqualNode(Ar)&&cr<ur&&ur++,lr.insertBefore(or,lr.children[cr]),Ar.insertBefore(ar,Ar.children[ur]))}var multiDragElements=[],multiDragClones=[],lastMultiDragSelect,multiDragSortable,initialFolding=!1,folding=!1,dragStarted=!1,dragEl$1,clonesFromRect,clonesHidden;function MultiDragPlugin(){function ar(or){for(var lr in this)lr.charAt(0)==="_"&&typeof this[lr]=="function"&&(this[lr]=this[lr].bind(this));or.options.supportPointer?on(document,"pointerup",this._deselectMultiDrag):(on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag)),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(cr,ur){var dr="";multiDragElements.length&&multiDragSortable===or?multiDragElements.forEach(function(hr,fr){dr+=(fr?", ":"")+hr.textContent}):dr=ur.textContent,cr.setData("Text",dr)}}}return ar.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(lr){var Ar=lr.dragEl;dragEl$1=Ar},delayEnded:function(){this.isMultiDrag=~multiDragElements.indexOf(dragEl$1)},setupClone:function(lr){var Ar=lr.sortable,cr=lr.cancel;if(this.isMultiDrag){for(var ur=0;ur<multiDragElements.length;ur++)multiDragClones.push(clone(multiDragElements[ur])),multiDragClones[ur].sortableIndex=multiDragElements[ur].sortableIndex,multiDragClones[ur].draggable=!1,multiDragClones[ur].style["will-change"]="",toggleClass(multiDragClones[ur],this.options.selectedClass,!1),multiDragElements[ur]===dragEl$1&&toggleClass(multiDragClones[ur],this.options.chosenClass,!1);Ar._hideClone(),cr()}},clone:function(lr){var Ar=lr.sortable,cr=lr.rootEl,ur=lr.dispatchSortableEvent,dr=lr.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||multiDragElements.length&&multiDragSortable===Ar&&(insertMultiDragClones(!0,cr),ur("clone"),dr()))},showClone:function(lr){var Ar=lr.cloneNowShown,cr=lr.rootEl,ur=lr.cancel;this.isMultiDrag&&(insertMultiDragClones(!1,cr),multiDragClones.forEach(function(dr){css(dr,"display","")}),Ar(),clonesHidden=!1,ur())},hideClone:function(lr){var Ar=this;lr.sortable;var cr=lr.cloneNowHidden,ur=lr.cancel;this.isMultiDrag&&(multiDragClones.forEach(function(dr){css(dr,"display","none"),Ar.options.removeCloneOnHide&&dr.parentNode&&dr.parentNode.removeChild(dr)}),cr(),clonesHidden=!0,ur())},dragStartGlobal:function(lr){lr.sortable,!this.isMultiDrag&&multiDragSortable&&multiDragSortable.multiDrag._deselectMultiDrag(),multiDragElements.forEach(function(Ar){Ar.sortableIndex=index(Ar)}),multiDragElements=multiDragElements.sort(function(Ar,cr){return Ar.sortableIndex-cr.sortableIndex}),dragStarted=!0},dragStarted:function(lr){var Ar=this,cr=lr.sortable;if(this.isMultiDrag){if(this.options.sort&&(cr.captureAnimationState(),this.options.animation)){multiDragElements.forEach(function(dr){dr!==dragEl$1&&css(dr,"position","absolute")});var ur=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(dr){dr!==dragEl$1&&setRect(dr,ur)}),folding=!0,initialFolding=!0}cr.animateAll(function(){folding=!1,initialFolding=!1,Ar.options.animation&&multiDragElements.forEach(function(dr){unsetRect(dr)}),Ar.options.sort&&removeMultiDragElements()})}},dragOver:function(lr){var Ar=lr.target,cr=lr.completed,ur=lr.cancel;folding&&~multiDragElements.indexOf(Ar)&&(cr(!1),ur())},revert:function(lr){var Ar=lr.fromSortable,cr=lr.rootEl,ur=lr.sortable,dr=lr.dragRect;multiDragElements.length>1&&(multiDragElements.forEach(function(hr){ur.addAnimationState({target:hr,rect:folding?getRect(hr):dr}),unsetRect(hr),hr.fromRect=dr,Ar.removeAnimationState(hr)}),folding=!1,insertMultiDragElements(!this.options.removeCloneOnHide,cr))},dragOverCompleted:function(lr){var Ar=lr.sortable,cr=lr.isOwner,ur=lr.insertion,dr=lr.activeSortable,hr=lr.parentEl,fr=lr.putSortable,gr=this.options;if(ur){if(cr&&dr._hideClone(),initialFolding=!1,gr.animation&&multiDragElements.length>1&&(folding||!cr&&!dr.options.sort&&!fr)){var pr=getRect(dragEl$1,!1,!0,!0);multiDragElements.forEach(function(yr){yr!==dragEl$1&&(setRect(yr,pr),hr.appendChild(yr))}),folding=!0}if(!cr)if(folding||removeMultiDragElements(),multiDragElements.length>1){var mr=clonesHidden;dr._showClone(Ar),dr.options.animation&&!clonesHidden&&mr&&multiDragClones.forEach(function(yr){dr.addAnimationState({target:yr,rect:clonesFromRect}),yr.fromRect=clonesFromRect,yr.thisAnimationDuration=null})}else dr._showClone(Ar)}},dragOverAnimationCapture:function(lr){var Ar=lr.dragRect,cr=lr.isOwner,ur=lr.activeSortable;if(multiDragElements.forEach(function(hr){hr.thisAnimationDuration=null}),ur.options.animation&&!cr&&ur.multiDrag.isMultiDrag){clonesFromRect=_extends({},Ar);var dr=matrix(dragEl$1,!0);clonesFromRect.top-=dr.f,clonesFromRect.left-=dr.e}},dragOverAnimationComplete:function(){folding&&(folding=!1,removeMultiDragElements())},drop:function(lr){var Ar=lr.originalEvent,cr=lr.rootEl,ur=lr.parentEl,dr=lr.sortable,hr=lr.dispatchSortableEvent,fr=lr.oldIndex,gr=lr.putSortable,pr=gr||this.sortable;if(Ar){var mr=this.options,yr=ur.children;if(!dragStarted)if(mr.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),toggleClass(dragEl$1,mr.selectedClass,!~multiDragElements.indexOf(dragEl$1)),~multiDragElements.indexOf(dragEl$1))multiDragElements.splice(multiDragElements.indexOf(dragEl$1),1),lastMultiDragSelect=null,dispatchEvent$1({sortable:dr,rootEl:cr,name:"deselect",targetEl:dragEl$1});else{if(multiDragElements.push(dragEl$1),dispatchEvent$1({sortable:dr,rootEl:cr,name:"select",targetEl:dragEl$1}),Ar.shiftKey&&lastMultiDragSelect&&dr.el.contains(lastMultiDragSelect)){var vr=index(lastMultiDragSelect),br=index(dragEl$1);if(~vr&&~br&&vr!==br){var wr,Cr;for(br>vr?(Cr=vr,wr=br):(Cr=br,wr=vr+1);Cr<wr;Cr++)~multiDragElements.indexOf(yr[Cr])||(toggleClass(yr[Cr],mr.selectedClass,!0),multiDragElements.push(yr[Cr]),dispatchEvent$1({sortable:dr,rootEl:cr,name:"select",targetEl:yr[Cr]}))}}else lastMultiDragSelect=dragEl$1;multiDragSortable=pr}if(dragStarted&&this.isMultiDrag){if(folding=!1,(ur[expando].options.sort||ur!==cr)&&multiDragElements.length>1){var Br=getRect(dragEl$1),Sr=index(dragEl$1,":not(."+this.options.selectedClass+")");if(!initialFolding&&mr.animation&&(dragEl$1.thisAnimationDuration=null),pr.captureAnimationState(),!initialFolding&&(mr.animation&&(dragEl$1.fromRect=Br,multiDragElements.forEach(function(Tr){if(Tr.thisAnimationDuration=null,Tr!==dragEl$1){var kr=folding?getRect(Tr):Br;Tr.fromRect=kr,pr.addAnimationState({target:Tr,rect:kr})}})),removeMultiDragElements(),multiDragElements.forEach(function(Tr){yr[Sr]?ur.insertBefore(Tr,yr[Sr]):ur.appendChild(Tr),Sr++}),fr===index(dragEl$1))){var Er=!1;multiDragElements.forEach(function(Tr){if(Tr.sortableIndex!==index(Tr)){Er=!0;return}}),Er&&hr("update")}multiDragElements.forEach(function(Tr){unsetRect(Tr)}),pr.animateAll()}multiDragSortable=pr}(cr===ur||gr&&gr.lastPutMode!=="clone")&&multiDragClones.forEach(function(Tr){Tr.parentNode&&Tr.parentNode.removeChild(Tr)})}},nullingGlobal:function(){this.isMultiDrag=dragStarted=!1,multiDragClones.length=0},destroyGlobal:function(){this._deselectMultiDrag(),off(document,"pointerup",this._deselectMultiDrag),off(document,"mouseup",this._deselectMultiDrag),off(document,"touchend",this._deselectMultiDrag),off(document,"keydown",this._checkKeyDown),off(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(lr){if(!(typeof dragStarted<"u"&&dragStarted)&&multiDragSortable===this.sortable&&!(lr&&closest(lr.target,this.options.draggable,this.sortable.el,!1))&&!(lr&&lr.button!==0))for(;multiDragElements.length;){var Ar=multiDragElements[0];toggleClass(Ar,this.options.selectedClass,!1),multiDragElements.shift(),dispatchEvent$1({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:Ar})}},_checkKeyDown:function(lr){lr.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(lr){lr.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},_extends(ar,{pluginName:"multiDrag",utils:{select:function(lr){var Ar=lr.parentNode[expando];!Ar||!Ar.options.multiDrag||~multiDragElements.indexOf(lr)||(multiDragSortable&&multiDragSortable!==Ar&&(multiDragSortable.multiDrag._deselectMultiDrag(),multiDragSortable=Ar),toggleClass(lr,Ar.options.selectedClass,!0),multiDragElements.push(lr))},deselect:function(lr){var Ar=lr.parentNode[expando],cr=multiDragElements.indexOf(lr);!Ar||!Ar.options.multiDrag||!~cr||(toggleClass(lr,Ar.options.selectedClass,!1),multiDragElements.splice(cr,1))}},eventProperties:function(){var lr=this,Ar=[],cr=[];return multiDragElements.forEach(function(ur){Ar.push({multiDragElement:ur,index:ur.sortableIndex});var dr;folding&&ur!==dragEl$1?dr=-1:folding?dr=index(ur,":not(."+lr.options.selectedClass+")"):dr=index(ur),cr.push({multiDragElement:ur,index:dr})}),{items:_toConsumableArray(multiDragElements),clones:[].concat(multiDragClones),oldIndicies:Ar,newIndicies:cr}},optionListeners:{multiDragKey:function(lr){return lr=lr.toLowerCase(),lr==="ctrl"?lr="Control":lr.length>1&&(lr=lr.charAt(0).toUpperCase()+lr.substr(1)),lr}}})}function insertMultiDragElements(ar,or){multiDragElements.forEach(function(lr,Ar){var cr=or.children[lr.sortableIndex+(ar?Number(Ar):0)];cr?or.insertBefore(lr,cr):or.appendChild(lr)})}function insertMultiDragClones(ar,or){multiDragClones.forEach(function(lr,Ar){var cr=or.children[lr.sortableIndex+(ar?Number(Ar):0)];cr?or.insertBefore(lr,cr):or.appendChild(lr)})}function removeMultiDragElements(){multiDragElements.forEach(function(ar){ar!==dragEl$1&&ar.parentNode&&ar.parentNode.removeChild(ar)})}Sortable.mount(new AutoScrollPlugin);Sortable.mount(Remove,Revert);const sortable_esm=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:MultiDragPlugin,Sortable,Swap:SwapPlugin,default:Sortable},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(sortable_esm);(function(ar,or){(function(Ar,cr){ar.exports=cr(require$$0,require$$1)})(typeof self<"u"?self:commonjsGlobal,function(lr,Ar){return function(cr){var ur={};function dr(hr){if(ur[hr])return ur[hr].exports;var fr=ur[hr]={i:hr,l:!1,exports:{}};return cr[hr].call(fr.exports,fr,fr.exports,dr),fr.l=!0,fr.exports}return dr.m=cr,dr.c=ur,dr.d=function(hr,fr,gr){dr.o(hr,fr)||Object.defineProperty(hr,fr,{enumerable:!0,get:gr})},dr.r=function(hr){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(hr,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(hr,"__esModule",{value:!0})},dr.t=function(hr,fr){if(fr&1&&(hr=dr(hr)),fr&8||fr&4&&typeof hr=="object"&&hr&&hr.__esModule)return hr;var gr=Object.create(null);if(dr.r(gr),Object.defineProperty(gr,"default",{enumerable:!0,value:hr}),fr&2&&typeof hr!="string")for(var pr in hr)dr.d(gr,pr,(function(mr){return hr[mr]}).bind(null,pr));return gr},dr.n=function(hr){var fr=hr&&hr.__esModule?function(){return hr.default}:function(){return hr};return dr.d(fr,"a",fr),fr},dr.o=function(hr,fr){return Object.prototype.hasOwnProperty.call(hr,fr)},dr.p="",dr(dr.s="fb15")}({"00ee":function(cr,ur,dr){var hr=dr("b622"),fr=hr("toStringTag"),gr={};gr[fr]="z",cr.exports=String(gr)==="[object z]"},"0366":function(cr,ur,dr){var hr=dr("1c0b");cr.exports=function(fr,gr,pr){if(hr(fr),gr===void 0)return fr;switch(pr){case 0:return function(){return fr.call(gr)};case 1:return function(mr){return fr.call(gr,mr)};case 2:return function(mr,yr){return fr.call(gr,mr,yr)};case 3:return function(mr,yr,vr){return fr.call(gr,mr,yr,vr)}}return function(){return fr.apply(gr,arguments)}}},"057f":function(cr,ur,dr){var hr=dr("fc6a"),fr=dr("241c").f,gr={}.toString,pr=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mr=function(yr){try{return fr(yr)}catch{return pr.slice()}};cr.exports.f=function(vr){return pr&&gr.call(vr)=="[object Window]"?mr(vr):fr(hr(vr))}},"06cf":function(cr,ur,dr){var hr=dr("83ab"),fr=dr("d1e7"),gr=dr("5c6c"),pr=dr("fc6a"),mr=dr("c04e"),yr=dr("5135"),vr=dr("0cfb"),br=Object.getOwnPropertyDescriptor;ur.f=hr?br:function(Cr,Br){if(Cr=pr(Cr),Br=mr(Br,!0),vr)try{return br(Cr,Br)}catch{}if(yr(Cr,Br))return gr(!fr.f.call(Cr,Br),Cr[Br])}},"0cfb":function(cr,ur,dr){var hr=dr("83ab"),fr=dr("d039"),gr=dr("cc12");cr.exports=!hr&&!fr(function(){return Object.defineProperty(gr("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("d58f").left,gr=dr("a640"),pr=dr("ae40"),mr=gr("reduce"),yr=pr("reduce",{1:0});hr({target:"Array",proto:!0,forced:!mr||!yr},{reduce:function(br){return fr(this,br,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(cr,ur,dr){var hr=dr("c6b6"),fr=dr("9263");cr.exports=function(gr,pr){var mr=gr.exec;if(typeof mr=="function"){var yr=mr.call(gr,pr);if(typeof yr!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return yr}if(hr(gr)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return fr.call(gr,pr)}},"159b":function(cr,ur,dr){var hr=dr("da84"),fr=dr("fdbc"),gr=dr("17c2"),pr=dr("9112");for(var mr in fr){var yr=hr[mr],vr=yr&&yr.prototype;if(vr&&vr.forEach!==gr)try{pr(vr,"forEach",gr)}catch{vr.forEach=gr}}},"17c2":function(cr,ur,dr){var hr=dr("b727").forEach,fr=dr("a640"),gr=dr("ae40"),pr=fr("forEach"),mr=gr("forEach");cr.exports=!pr||!mr?function(vr){return hr(this,vr,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(cr,ur,dr){var hr=dr("d066");cr.exports=hr("document","documentElement")},"1c0b":function(cr,ur){cr.exports=function(dr){if(typeof dr!="function")throw TypeError(String(dr)+" is not a function");return dr}},"1c7e":function(cr,ur,dr){var hr=dr("b622"),fr=hr("iterator"),gr=!1;try{var pr=0,mr={next:function(){return{done:!!pr++}},return:function(){gr=!0}};mr[fr]=function(){return this},Array.from(mr,function(){throw 2})}catch{}cr.exports=function(yr,vr){if(!vr&&!gr)return!1;var br=!1;try{var wr={};wr[fr]=function(){return{next:function(){return{done:br=!0}}}},yr(wr)}catch{}return br}},"1d80":function(cr,ur){cr.exports=function(dr){if(dr==null)throw TypeError("Can't call method on "+dr);return dr}},"1dde":function(cr,ur,dr){var hr=dr("d039"),fr=dr("b622"),gr=dr("2d00"),pr=fr("species");cr.exports=function(mr){return gr>=51||!hr(function(){var yr=[],vr=yr.constructor={};return vr[pr]=function(){return{foo:1}},yr[mr](Boolean).foo!==1})}},"23cb":function(cr,ur,dr){var hr=dr("a691"),fr=Math.max,gr=Math.min;cr.exports=function(pr,mr){var yr=hr(pr);return yr<0?fr(yr+mr,0):gr(yr,mr)}},"23e7":function(cr,ur,dr){var hr=dr("da84"),fr=dr("06cf").f,gr=dr("9112"),pr=dr("6eeb"),mr=dr("ce4e"),yr=dr("e893"),vr=dr("94ca");cr.exports=function(br,wr){var Cr=br.target,Br=br.global,Sr=br.stat,Er,Tr,kr,Or,Rr,Lr;if(Br?Tr=hr:Sr?Tr=hr[Cr]||mr(Cr,{}):Tr=(hr[Cr]||{}).prototype,Tr)for(kr in wr){if(Rr=wr[kr],br.noTargetGet?(Lr=fr(Tr,kr),Or=Lr&&Lr.value):Or=Tr[kr],Er=vr(Br?kr:Cr+(Sr?".":"#")+kr,br.forced),!Er&&Or!==void 0){if(typeof Rr==typeof Or)continue;yr(Rr,Or)}(br.sham||Or&&Or.sham)&&gr(Rr,"sham",!0),pr(Tr,kr,Rr,br)}}},"241c":function(cr,ur,dr){var hr=dr("ca84"),fr=dr("7839"),gr=fr.concat("length","prototype");ur.f=Object.getOwnPropertyNames||function(mr){return hr(mr,gr)}},"25f0":function(cr,ur,dr){var hr=dr("6eeb"),fr=dr("825a"),gr=dr("d039"),pr=dr("ad6d"),mr="toString",yr=RegExp.prototype,vr=yr[mr],br=gr(function(){return vr.call({source:"a",flags:"b"})!="/a/b"}),wr=vr.name!=mr;(br||wr)&&hr(RegExp.prototype,mr,function(){var Br=fr(this),Sr=String(Br.source),Er=Br.flags,Tr=String(Er===void 0&&Br instanceof RegExp&&!("flags"in yr)?pr.call(Br):Er);return"/"+Sr+"/"+Tr},{unsafe:!0})},"2ca0":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("06cf").f,gr=dr("50c4"),pr=dr("5a34"),mr=dr("1d80"),yr=dr("ab13"),vr=dr("c430"),br="".startsWith,wr=Math.min,Cr=yr("startsWith"),Br=!vr&&!Cr&&!!function(){var Sr=fr(String.prototype,"startsWith");return Sr&&!Sr.writable}();hr({target:"String",proto:!0,forced:!Br&&!Cr},{startsWith:function(Er){var Tr=String(mr(this));pr(Er);var kr=gr(wr(arguments.length>1?arguments[1]:void 0,Tr.length)),Or=String(Er);return br?br.call(Tr,Or,kr):Tr.slice(kr,kr+Or.length)===Or}})},"2d00":function(cr,ur,dr){var hr=dr("da84"),fr=dr("342f"),gr=hr.process,pr=gr&&gr.versions,mr=pr&&pr.v8,yr,vr;mr?(yr=mr.split("."),vr=yr[0]+yr[1]):fr&&(yr=fr.match(/Edge\/(\d+)/),(!yr||yr[1]>=74)&&(yr=fr.match(/Chrome\/(\d+)/),yr&&(vr=yr[1]))),cr.exports=vr&&+vr},"342f":function(cr,ur,dr){var hr=dr("d066");cr.exports=hr("navigator","userAgent")||""},"35a1":function(cr,ur,dr){var hr=dr("f5df"),fr=dr("3f8c"),gr=dr("b622"),pr=gr("iterator");cr.exports=function(mr){if(mr!=null)return mr[pr]||mr["@@iterator"]||fr[hr(mr)]}},"37e8":function(cr,ur,dr){var hr=dr("83ab"),fr=dr("9bf2"),gr=dr("825a"),pr=dr("df75");cr.exports=hr?Object.defineProperties:function(yr,vr){gr(yr);for(var br=pr(vr),wr=br.length,Cr=0,Br;wr>Cr;)fr.f(yr,Br=br[Cr++],vr[Br]);return yr}},"3bbe":function(cr,ur,dr){var hr=dr("861d");cr.exports=function(fr){if(!hr(fr)&&fr!==null)throw TypeError("Can't set "+String(fr)+" as a prototype");return fr}},"3ca3":function(cr,ur,dr){var hr=dr("6547").charAt,fr=dr("69f3"),gr=dr("7dd0"),pr="String Iterator",mr=fr.set,yr=fr.getterFor(pr);gr(String,"String",function(vr){mr(this,{type:pr,string:String(vr),index:0})},function(){var br=yr(this),wr=br.string,Cr=br.index,Br;return Cr>=wr.length?{value:void 0,done:!0}:(Br=hr(wr,Cr),br.index+=Br.length,{value:Br,done:!1})})},"3f8c":function(cr,ur){cr.exports={}},4160:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("17c2");hr({target:"Array",proto:!0,forced:[].forEach!=fr},{forEach:fr})},"428f":function(cr,ur,dr){var hr=dr("da84");cr.exports=hr},"44ad":function(cr,ur,dr){var hr=dr("d039"),fr=dr("c6b6"),gr="".split;cr.exports=hr(function(){return!Object("z").propertyIsEnumerable(0)})?function(pr){return fr(pr)=="String"?gr.call(pr,""):Object(pr)}:Object},"44d2":function(cr,ur,dr){var hr=dr("b622"),fr=dr("7c73"),gr=dr("9bf2"),pr=hr("unscopables"),mr=Array.prototype;mr[pr]==null&&gr.f(mr,pr,{configurable:!0,value:fr(null)}),cr.exports=function(yr){mr[pr][yr]=!0}},"44e7":function(cr,ur,dr){var hr=dr("861d"),fr=dr("c6b6"),gr=dr("b622"),pr=gr("match");cr.exports=function(mr){var yr;return hr(mr)&&((yr=mr[pr])!==void 0?!!yr:fr(mr)=="RegExp")}},4930:function(cr,ur,dr){var hr=dr("d039");cr.exports=!!Object.getOwnPropertySymbols&&!hr(function(){return!String(Symbol())})},"4d64":function(cr,ur,dr){var hr=dr("fc6a"),fr=dr("50c4"),gr=dr("23cb"),pr=function(mr){return function(yr,vr,br){var wr=hr(yr),Cr=fr(wr.length),Br=gr(br,Cr),Sr;if(mr&&vr!=vr){for(;Cr>Br;)if(Sr=wr[Br++],Sr!=Sr)return!0}else for(;Cr>Br;Br++)if((mr||Br in wr)&&wr[Br]===vr)return mr||Br||0;return!mr&&-1}};cr.exports={includes:pr(!0),indexOf:pr(!1)}},"4de4":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("b727").filter,gr=dr("1dde"),pr=dr("ae40"),mr=gr("filter"),yr=pr("filter");hr({target:"Array",proto:!0,forced:!mr||!yr},{filter:function(br){return fr(this,br,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(cr,ur,dr){var hr=dr("0366"),fr=dr("7b0b"),gr=dr("9bdd"),pr=dr("e95a"),mr=dr("50c4"),yr=dr("8418"),vr=dr("35a1");cr.exports=function(wr){var Cr=fr(wr),Br=typeof this=="function"?this:Array,Sr=arguments.length,Er=Sr>1?arguments[1]:void 0,Tr=Er!==void 0,kr=vr(Cr),Or=0,Rr,Lr,_r,Hr,Mr,Ur;if(Tr&&(Er=hr(Er,Sr>2?arguments[2]:void 0,2)),kr!=null&&!(Br==Array&&pr(kr)))for(Hr=kr.call(Cr),Mr=Hr.next,Lr=new Br;!(_r=Mr.call(Hr)).done;Or++)Ur=Tr?gr(Hr,Er,[_r.value,Or],!0):_r.value,yr(Lr,Or,Ur);else for(Rr=mr(Cr.length),Lr=new Br(Rr);Rr>Or;Or++)Ur=Tr?Er(Cr[Or],Or):Cr[Or],yr(Lr,Or,Ur);return Lr.length=Or,Lr}},"4fad":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("6f53").entries;hr({target:"Object",stat:!0},{entries:function(pr){return fr(pr)}})},"50c4":function(cr,ur,dr){var hr=dr("a691"),fr=Math.min;cr.exports=function(gr){return gr>0?fr(hr(gr),9007199254740991):0}},5135:function(cr,ur){var dr={}.hasOwnProperty;cr.exports=function(hr,fr){return dr.call(hr,fr)}},5319:function(cr,ur,dr){var hr=dr("d784"),fr=dr("825a"),gr=dr("7b0b"),pr=dr("50c4"),mr=dr("a691"),yr=dr("1d80"),vr=dr("8aa5"),br=dr("14c3"),wr=Math.max,Cr=Math.min,Br=Math.floor,Sr=/\$([$&'`]|\d\d?|<[^>]*>)/g,Er=/\$([$&'`]|\d\d?)/g,Tr=function(kr){return kr===void 0?kr:String(kr)};hr("replace",2,function(kr,Or,Rr,Lr){var _r=Lr.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Hr=Lr.REPLACE_KEEPS_$0,Mr=_r?"$":"$0";return[function(Xr,Yr){var Zr=yr(this),ns=Xr==null?void 0:Xr[kr];return ns!==void 0?ns.call(Xr,Zr,Yr):Or.call(String(Zr),Xr,Yr)},function(Kr,Xr){if(!_r&&Hr||typeof Xr=="string"&&Xr.indexOf(Mr)===-1){var Yr=Rr(Or,Kr,this,Xr);if(Yr.done)return Yr.value}var Zr=fr(Kr),ns=String(this),As=typeof Xr=="function";As||(Xr=String(Xr));var is=Zr.global;if(is){var gs=Zr.unicode;Zr.lastIndex=0}for(var Os=[];;){var Vr=br(Zr,ns);if(Vr===null||(Os.push(Vr),!is))break;var Qr=String(Vr[0]);Qr===""&&(Zr.lastIndex=vr(ns,pr(Zr.lastIndex),gs))}for(var $r="",zr=0,cs=0;cs<Os.length;cs++){Vr=Os[cs];for(var Jr=String(Vr[0]),ls=wr(Cr(mr(Vr.index),ns.length),0),hs=[],bs=1;bs<Vr.length;bs++)hs.push(Tr(Vr[bs]));var Ts=Vr.groups;if(As){var Ds=[Jr].concat(hs,ls,ns);Ts!==void 0&&Ds.push(Ts);var us=String(Xr.apply(void 0,Ds))}else us=Ur(Jr,ns,ls,hs,Ts,Xr);ls>=zr&&($r+=ns.slice(zr,ls)+us,zr=ls+Jr.length)}return $r+ns.slice(zr)}];function Ur(Kr,Xr,Yr,Zr,ns,As){var is=Yr+Kr.length,gs=Zr.length,Os=Er;return ns!==void 0&&(ns=gr(ns),Os=Sr),Or.call(As,Os,function(Vr,Qr){var $r;switch(Qr.charAt(0)){case"$":return"$";case"&":return Kr;case"`":return Xr.slice(0,Yr);case"'":return Xr.slice(is);case"<":$r=ns[Qr.slice(1,-1)];break;default:var zr=+Qr;if(zr===0)return Vr;if(zr>gs){var cs=Br(zr/10);return cs===0?Vr:cs<=gs?Zr[cs-1]===void 0?Qr.charAt(1):Zr[cs-1]+Qr.charAt(1):Vr}$r=Zr[zr-1]}return $r===void 0?"":$r})}})},5692:function(cr,ur,dr){var hr=dr("c430"),fr=dr("c6cd");(cr.exports=function(gr,pr){return fr[gr]||(fr[gr]=pr!==void 0?pr:{})})("versions",[]).push({version:"3.6.5",mode:hr?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(cr,ur,dr){var hr=dr("d066"),fr=dr("241c"),gr=dr("7418"),pr=dr("825a");cr.exports=hr("Reflect","ownKeys")||function(yr){var vr=fr.f(pr(yr)),br=gr.f;return br?vr.concat(br(yr)):vr}},"5a34":function(cr,ur,dr){var hr=dr("44e7");cr.exports=function(fr){if(hr(fr))throw TypeError("The method doesn't accept regular expressions");return fr}},"5c6c":function(cr,ur){cr.exports=function(dr,hr){return{enumerable:!(dr&1),configurable:!(dr&2),writable:!(dr&4),value:hr}}},"5db7":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("a2bf"),gr=dr("7b0b"),pr=dr("50c4"),mr=dr("1c0b"),yr=dr("65f0");hr({target:"Array",proto:!0},{flatMap:function(br){var wr=gr(this),Cr=pr(wr.length),Br;return mr(br),Br=yr(wr,0),Br.length=fr(Br,wr,wr,Cr,0,1,br,arguments.length>1?arguments[1]:void 0),Br}})},6547:function(cr,ur,dr){var hr=dr("a691"),fr=dr("1d80"),gr=function(pr){return function(mr,yr){var vr=String(fr(mr)),br=hr(yr),wr=vr.length,Cr,Br;return br<0||br>=wr?pr?"":void 0:(Cr=vr.charCodeAt(br),Cr<55296||Cr>56319||br+1===wr||(Br=vr.charCodeAt(br+1))<56320||Br>57343?pr?vr.charAt(br):Cr:pr?vr.slice(br,br+2):(Cr-55296<<10)+(Br-56320)+65536)}};cr.exports={codeAt:gr(!1),charAt:gr(!0)}},"65f0":function(cr,ur,dr){var hr=dr("861d"),fr=dr("e8b5"),gr=dr("b622"),pr=gr("species");cr.exports=function(mr,yr){var vr;return fr(mr)&&(vr=mr.constructor,typeof vr=="function"&&(vr===Array||fr(vr.prototype))?vr=void 0:hr(vr)&&(vr=vr[pr],vr===null&&(vr=void 0))),new(vr===void 0?Array:vr)(yr===0?0:yr)}},"69f3":function(cr,ur,dr){var hr=dr("7f9a"),fr=dr("da84"),gr=dr("861d"),pr=dr("9112"),mr=dr("5135"),yr=dr("f772"),vr=dr("d012"),br=fr.WeakMap,wr,Cr,Br,Sr=function(_r){return Br(_r)?Cr(_r):wr(_r,{})},Er=function(_r){return function(Hr){var Mr;if(!gr(Hr)||(Mr=Cr(Hr)).type!==_r)throw TypeError("Incompatible receiver, "+_r+" required");return Mr}};if(hr){var Tr=new br,kr=Tr.get,Or=Tr.has,Rr=Tr.set;wr=function(_r,Hr){return Rr.call(Tr,_r,Hr),Hr},Cr=function(_r){return kr.call(Tr,_r)||{}},Br=function(_r){return Or.call(Tr,_r)}}else{var Lr=yr("state");vr[Lr]=!0,wr=function(_r,Hr){return pr(_r,Lr,Hr),Hr},Cr=function(_r){return mr(_r,Lr)?_r[Lr]:{}},Br=function(_r){return mr(_r,Lr)}}cr.exports={set:wr,get:Cr,has:Br,enforce:Sr,getterFor:Er}},"6eeb":function(cr,ur,dr){var hr=dr("da84"),fr=dr("9112"),gr=dr("5135"),pr=dr("ce4e"),mr=dr("8925"),yr=dr("69f3"),vr=yr.get,br=yr.enforce,wr=String(String).split("String");(cr.exports=function(Cr,Br,Sr,Er){var Tr=Er?!!Er.unsafe:!1,kr=Er?!!Er.enumerable:!1,Or=Er?!!Er.noTargetGet:!1;if(typeof Sr=="function"&&(typeof Br=="string"&&!gr(Sr,"name")&&fr(Sr,"name",Br),br(Sr).source=wr.join(typeof Br=="string"?Br:"")),Cr===hr){kr?Cr[Br]=Sr:pr(Br,Sr);return}else Tr?!Or&&Cr[Br]&&(kr=!0):delete Cr[Br];kr?Cr[Br]=Sr:fr(Cr,Br,Sr)})(Function.prototype,"toString",function(){return typeof this=="function"&&vr(this).source||mr(this)})},"6f53":function(cr,ur,dr){var hr=dr("83ab"),fr=dr("df75"),gr=dr("fc6a"),pr=dr("d1e7").f,mr=function(yr){return function(vr){for(var br=gr(vr),wr=fr(br),Cr=wr.length,Br=0,Sr=[],Er;Cr>Br;)Er=wr[Br++],(!hr||pr.call(br,Er))&&Sr.push(yr?[Er,br[Er]]:br[Er]);return Sr}};cr.exports={entries:mr(!0),values:mr(!1)}},"73d9":function(cr,ur,dr){var hr=dr("44d2");hr("flatMap")},7418:function(cr,ur){ur.f=Object.getOwnPropertySymbols},"746f":function(cr,ur,dr){var hr=dr("428f"),fr=dr("5135"),gr=dr("e538"),pr=dr("9bf2").f;cr.exports=function(mr){var yr=hr.Symbol||(hr.Symbol={});fr(yr,mr)||pr(yr,mr,{value:gr.f(mr)})}},7839:function(cr,ur){cr.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(cr,ur,dr){var hr=dr("1d80");cr.exports=function(fr){return Object(hr(fr))}},"7c73":function(cr,ur,dr){var hr=dr("825a"),fr=dr("37e8"),gr=dr("7839"),pr=dr("d012"),mr=dr("1be4"),yr=dr("cc12"),vr=dr("f772"),br=">",wr="<",Cr="prototype",Br="script",Sr=vr("IE_PROTO"),Er=function(){},Tr=function(_r){return wr+Br+br+_r+wr+"/"+Br+br},kr=function(_r){_r.write(Tr("")),_r.close();var Hr=_r.parentWindow.Object;return _r=null,Hr},Or=function(){var _r=yr("iframe"),Hr="java"+Br+":",Mr;return _r.style.display="none",mr.appendChild(_r),_r.src=String(Hr),Mr=_r.contentWindow.document,Mr.open(),Mr.write(Tr("document.F=Object")),Mr.close(),Mr.F},Rr,Lr=function(){try{Rr=document.domain&&new ActiveXObject("htmlfile")}catch{}Lr=Rr?kr(Rr):Or();for(var _r=gr.length;_r--;)delete Lr[Cr][gr[_r]];return Lr()};pr[Sr]=!0,cr.exports=Object.create||function(Hr,Mr){var Ur;return Hr!==null?(Er[Cr]=hr(Hr),Ur=new Er,Er[Cr]=null,Ur[Sr]=Hr):Ur=Lr(),Mr===void 0?Ur:fr(Ur,Mr)}},"7dd0":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("9ed3"),gr=dr("e163"),pr=dr("d2bb"),mr=dr("d44e"),yr=dr("9112"),vr=dr("6eeb"),br=dr("b622"),wr=dr("c430"),Cr=dr("3f8c"),Br=dr("ae93"),Sr=Br.IteratorPrototype,Er=Br.BUGGY_SAFARI_ITERATORS,Tr=br("iterator"),kr="keys",Or="values",Rr="entries",Lr=function(){return this};cr.exports=function(_r,Hr,Mr,Ur,Kr,Xr,Yr){fr(Mr,Hr,Ur);var Zr=function(cs){if(cs===Kr&&Os)return Os;if(!Er&&cs in is)return is[cs];switch(cs){case kr:return function(){return new Mr(this,cs)};case Or:return function(){return new Mr(this,cs)};case Rr:return function(){return new Mr(this,cs)}}return function(){return new Mr(this)}},ns=Hr+" Iterator",As=!1,is=_r.prototype,gs=is[Tr]||is["@@iterator"]||Kr&&is[Kr],Os=!Er&&gs||Zr(Kr),Vr=Hr=="Array"&&is.entries||gs,Qr,$r,zr;if(Vr&&(Qr=gr(Vr.call(new _r)),Sr!==Object.prototype&&Qr.next&&(!wr&&gr(Qr)!==Sr&&(pr?pr(Qr,Sr):typeof Qr[Tr]!="function"&&yr(Qr,Tr,Lr)),mr(Qr,ns,!0,!0),wr&&(Cr[ns]=Lr))),Kr==Or&&gs&&gs.name!==Or&&(As=!0,Os=function(){return gs.call(this)}),(!wr||Yr)&&is[Tr]!==Os&&yr(is,Tr,Os),Cr[Hr]=Os,Kr)if($r={values:Zr(Or),keys:Xr?Os:Zr(kr),entries:Zr(Rr)},Yr)for(zr in $r)(Er||As||!(zr in is))&&vr(is,zr,$r[zr]);else hr({target:Hr,proto:!0,forced:Er||As},$r);return $r}},"7f9a":function(cr,ur,dr){var hr=dr("da84"),fr=dr("8925"),gr=hr.WeakMap;cr.exports=typeof gr=="function"&&/native code/.test(fr(gr))},"825a":function(cr,ur,dr){var hr=dr("861d");cr.exports=function(fr){if(!hr(fr))throw TypeError(String(fr)+" is not an object");return fr}},"83ab":function(cr,ur,dr){var hr=dr("d039");cr.exports=!hr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(cr,ur,dr){var hr=dr("c04e"),fr=dr("9bf2"),gr=dr("5c6c");cr.exports=function(pr,mr,yr){var vr=hr(mr);vr in pr?fr.f(pr,vr,gr(0,yr)):pr[vr]=yr}},"861d":function(cr,ur){cr.exports=function(dr){return typeof dr=="object"?dr!==null:typeof dr=="function"}},8875:function(cr,ur,dr){var hr,fr,gr;(function(pr,mr){fr=[],hr=mr,gr=typeof hr=="function"?hr.apply(ur,fr):hr,gr!==void 0&&(cr.exports=gr)})(typeof self<"u"?self:this,function(){function pr(){var mr=Object.getOwnPropertyDescriptor(document,"currentScript");if(!mr&&"currentScript"in document&&document.currentScript||mr&&mr.get!==pr&&document.currentScript)return document.currentScript;try{throw new Error}catch(Rr){var yr=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,vr=/@([^@]*):(\d+):(\d+)\s*$/ig,br=yr.exec(Rr.stack)||vr.exec(Rr.stack),wr=br&&br[1]||!1,Cr=br&&br[2]||!1,Br=document.location.href.replace(document.location.hash,""),Sr,Er,Tr,kr=document.getElementsByTagName("script");wr===Br&&(Sr=document.documentElement.outerHTML,Er=new RegExp("(?:[^\\n]+?\\n){0,"+(Cr-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),Tr=Sr.replace(Er,"$1").trim());for(var Or=0;Or<kr.length;Or++)if(kr[Or].readyState==="interactive"||kr[Or].src===wr||wr===Br&&kr[Or].innerHTML&&kr[Or].innerHTML.trim()===Tr)return kr[Or];return null}}return pr})},8925:function(cr,ur,dr){var hr=dr("c6cd"),fr=Function.toString;typeof hr.inspectSource!="function"&&(hr.inspectSource=function(gr){return fr.call(gr)}),cr.exports=hr.inspectSource},"8aa5":function(cr,ur,dr){var hr=dr("6547").charAt;cr.exports=function(fr,gr,pr){return gr+(pr?hr(fr,gr).length:1)}},"8bbf":function(cr,ur){cr.exports=lr},"90e3":function(cr,ur){var dr=0,hr=Math.random();cr.exports=function(fr){return"Symbol("+String(fr===void 0?"":fr)+")_"+(++dr+hr).toString(36)}},9112:function(cr,ur,dr){var hr=dr("83ab"),fr=dr("9bf2"),gr=dr("5c6c");cr.exports=hr?function(pr,mr,yr){return fr.f(pr,mr,gr(1,yr))}:function(pr,mr,yr){return pr[mr]=yr,pr}},9263:function(cr,ur,dr){var hr=dr("ad6d"),fr=dr("9f7f"),gr=RegExp.prototype.exec,pr=String.prototype.replace,mr=gr,yr=function(){var Cr=/a/,Br=/b*/g;return gr.call(Cr,"a"),gr.call(Br,"a"),Cr.lastIndex!==0||Br.lastIndex!==0}(),vr=fr.UNSUPPORTED_Y||fr.BROKEN_CARET,br=/()??/.exec("")[1]!==void 0,wr=yr||br||vr;wr&&(mr=function(Br){var Sr=this,Er,Tr,kr,Or,Rr=vr&&Sr.sticky,Lr=hr.call(Sr),_r=Sr.source,Hr=0,Mr=Br;return Rr&&(Lr=Lr.replace("y",""),Lr.indexOf("g")===-1&&(Lr+="g"),Mr=String(Br).slice(Sr.lastIndex),Sr.lastIndex>0&&(!Sr.multiline||Sr.multiline&&Br[Sr.lastIndex-1]!==`
`)&&(_r="(?: "+_r+")",Mr=" "+Mr,Hr++),Tr=new RegExp("^(?:"+_r+")",Lr)),br&&(Tr=new RegExp("^"+_r+"$(?!\\s)",Lr)),yr&&(Er=Sr.lastIndex),kr=gr.call(Rr?Tr:Sr,Mr),Rr?kr?(kr.input=kr.input.slice(Hr),kr[0]=kr[0].slice(Hr),kr.index=Sr.lastIndex,Sr.lastIndex+=kr[0].length):Sr.lastIndex=0:yr&&kr&&(Sr.lastIndex=Sr.global?kr.index+kr[0].length:Er),br&&kr&&kr.length>1&&pr.call(kr[0],Tr,function(){for(Or=1;Or<arguments.length-2;Or++)arguments[Or]===void 0&&(kr[Or]=void 0)}),kr}),cr.exports=mr},"94ca":function(cr,ur,dr){var hr=dr("d039"),fr=/#|\.prototype\./,gr=function(br,wr){var Cr=mr[pr(br)];return Cr==vr?!0:Cr==yr?!1:typeof wr=="function"?hr(wr):!!wr},pr=gr.normalize=function(br){return String(br).replace(fr,".").toLowerCase()},mr=gr.data={},yr=gr.NATIVE="N",vr=gr.POLYFILL="P";cr.exports=gr},"99af":function(cr,ur,dr){var hr=dr("23e7"),fr=dr("d039"),gr=dr("e8b5"),pr=dr("861d"),mr=dr("7b0b"),yr=dr("50c4"),vr=dr("8418"),br=dr("65f0"),wr=dr("1dde"),Cr=dr("b622"),Br=dr("2d00"),Sr=Cr("isConcatSpreadable"),Er=9007199254740991,Tr="Maximum allowed index exceeded",kr=Br>=51||!fr(function(){var _r=[];return _r[Sr]=!1,_r.concat()[0]!==_r}),Or=wr("concat"),Rr=function(_r){if(!pr(_r))return!1;var Hr=_r[Sr];return Hr!==void 0?!!Hr:gr(_r)},Lr=!kr||!Or;hr({target:"Array",proto:!0,forced:Lr},{concat:function(Hr){var Mr=mr(this),Ur=br(Mr,0),Kr=0,Xr,Yr,Zr,ns,As;for(Xr=-1,Zr=arguments.length;Xr<Zr;Xr++)if(As=Xr===-1?Mr:arguments[Xr],Rr(As)){if(ns=yr(As.length),Kr+ns>Er)throw TypeError(Tr);for(Yr=0;Yr<ns;Yr++,Kr++)Yr in As&&vr(Ur,Kr,As[Yr])}else{if(Kr>=Er)throw TypeError(Tr);vr(Ur,Kr++,As)}return Ur.length=Kr,Ur}})},"9bdd":function(cr,ur,dr){var hr=dr("825a");cr.exports=function(fr,gr,pr,mr){try{return mr?gr(hr(pr)[0],pr[1]):gr(pr)}catch(vr){var yr=fr.return;throw yr!==void 0&&hr(yr.call(fr)),vr}}},"9bf2":function(cr,ur,dr){var hr=dr("83ab"),fr=dr("0cfb"),gr=dr("825a"),pr=dr("c04e"),mr=Object.defineProperty;ur.f=hr?mr:function(vr,br,wr){if(gr(vr),br=pr(br,!0),gr(wr),fr)try{return mr(vr,br,wr)}catch{}if("get"in wr||"set"in wr)throw TypeError("Accessors not supported");return"value"in wr&&(vr[br]=wr.value),vr}},"9ed3":function(cr,ur,dr){var hr=dr("ae93").IteratorPrototype,fr=dr("7c73"),gr=dr("5c6c"),pr=dr("d44e"),mr=dr("3f8c"),yr=function(){return this};cr.exports=function(vr,br,wr){var Cr=br+" Iterator";return vr.prototype=fr(hr,{next:gr(1,wr)}),pr(vr,Cr,!1,!0),mr[Cr]=yr,vr}},"9f7f":function(cr,ur,dr){var hr=dr("d039");function fr(gr,pr){return RegExp(gr,pr)}ur.UNSUPPORTED_Y=hr(function(){var gr=fr("a","y");return gr.lastIndex=2,gr.exec("abcd")!=null}),ur.BROKEN_CARET=hr(function(){var gr=fr("^r","gy");return gr.lastIndex=2,gr.exec("str")!=null})},a2bf:function(cr,ur,dr){var hr=dr("e8b5"),fr=dr("50c4"),gr=dr("0366"),pr=function(mr,yr,vr,br,wr,Cr,Br,Sr){for(var Er=wr,Tr=0,kr=Br?gr(Br,Sr,3):!1,Or;Tr<br;){if(Tr in vr){if(Or=kr?kr(vr[Tr],Tr,yr):vr[Tr],Cr>0&&hr(Or))Er=pr(mr,yr,Or,fr(Or.length),Er,Cr-1)-1;else{if(Er>=9007199254740991)throw TypeError("Exceed the acceptable array length");mr[Er]=Or}Er++}Tr++}return Er};cr.exports=pr},a352:function(cr,ur){cr.exports=Ar},a434:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("23cb"),gr=dr("a691"),pr=dr("50c4"),mr=dr("7b0b"),yr=dr("65f0"),vr=dr("8418"),br=dr("1dde"),wr=dr("ae40"),Cr=br("splice"),Br=wr("splice",{ACCESSORS:!0,0:0,1:2}),Sr=Math.max,Er=Math.min,Tr=9007199254740991,kr="Maximum allowed length exceeded";hr({target:"Array",proto:!0,forced:!Cr||!Br},{splice:function(Rr,Lr){var _r=mr(this),Hr=pr(_r.length),Mr=fr(Rr,Hr),Ur=arguments.length,Kr,Xr,Yr,Zr,ns,As;if(Ur===0?Kr=Xr=0:Ur===1?(Kr=0,Xr=Hr-Mr):(Kr=Ur-2,Xr=Er(Sr(gr(Lr),0),Hr-Mr)),Hr+Kr-Xr>Tr)throw TypeError(kr);for(Yr=yr(_r,Xr),Zr=0;Zr<Xr;Zr++)ns=Mr+Zr,ns in _r&&vr(Yr,Zr,_r[ns]);if(Yr.length=Xr,Kr<Xr){for(Zr=Mr;Zr<Hr-Xr;Zr++)ns=Zr+Xr,As=Zr+Kr,ns in _r?_r[As]=_r[ns]:delete _r[As];for(Zr=Hr;Zr>Hr-Xr+Kr;Zr--)delete _r[Zr-1]}else if(Kr>Xr)for(Zr=Hr-Xr;Zr>Mr;Zr--)ns=Zr+Xr-1,As=Zr+Kr-1,ns in _r?_r[As]=_r[ns]:delete _r[As];for(Zr=0;Zr<Kr;Zr++)_r[Zr+Mr]=arguments[Zr+2];return _r.length=Hr-Xr+Kr,Yr}})},a4d3:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("da84"),gr=dr("d066"),pr=dr("c430"),mr=dr("83ab"),yr=dr("4930"),vr=dr("fdbf"),br=dr("d039"),wr=dr("5135"),Cr=dr("e8b5"),Br=dr("861d"),Sr=dr("825a"),Er=dr("7b0b"),Tr=dr("fc6a"),kr=dr("c04e"),Or=dr("5c6c"),Rr=dr("7c73"),Lr=dr("df75"),_r=dr("241c"),Hr=dr("057f"),Mr=dr("7418"),Ur=dr("06cf"),Kr=dr("9bf2"),Xr=dr("d1e7"),Yr=dr("9112"),Zr=dr("6eeb"),ns=dr("5692"),As=dr("f772"),is=dr("d012"),gs=dr("90e3"),Os=dr("b622"),Vr=dr("e538"),Qr=dr("746f"),$r=dr("d44e"),zr=dr("69f3"),cs=dr("b727").forEach,Jr=As("hidden"),ls="Symbol",hs="prototype",bs=Os("toPrimitive"),Ts=zr.set,Ds=zr.getterFor(ls),us=Object[hs],ps=fr.Symbol,ms=gr("JSON","stringify"),ss=Ur.f,ks=Kr.f,as=Hr.f,fs=Xr.f,ws=ns("symbols"),Is=ns("op-symbols"),Ps=ns("string-to-symbol-registry"),Ws=ns("symbol-to-string-registry"),Ks=ns("wks"),Fs=fr.QObject,ni=!Fs||!Fs[hs]||!Fs[hs].findChild,li=mr&&br(function(){return Rr(ks({},"a",{get:function(){return ks(this,"a",{value:7}).a}})).a!=7})?function(fi,Pi,Ei){var Rs=ss(us,Pi);Rs&&delete us[Pi],ks(fi,Pi,Ei),Rs&&fi!==us&&ks(us,Pi,Rs)}:ks,Si=function(fi,Pi){var Ei=ws[fi]=Rr(ps[hs]);return Ts(Ei,{type:ls,tag:fi,description:Pi}),mr||(Ei.description=Pi),Ei},Us=vr?function(fi){return typeof fi=="symbol"}:function(fi){return Object(fi)instanceof ps},Cs=function(Pi,Ei,Rs){Pi===us&&Cs(Is,Ei,Rs),Sr(Pi);var Js=kr(Ei,!0);return Sr(Rs),wr(ws,Js)?(Rs.enumerable?(wr(Pi,Jr)&&Pi[Jr][Js]&&(Pi[Jr][Js]=!1),Rs=Rr(Rs,{enumerable:Or(0,!1)})):(wr(Pi,Jr)||ks(Pi,Jr,Or(1,{})),Pi[Jr][Js]=!0),li(Pi,Js,Rs)):ks(Pi,Js,Rs)},Bs=function(Pi,Ei){Sr(Pi);var Rs=Tr(Ei),Js=Lr(Rs).concat(Vs(Rs));return cs(Js,function(oi){(!mr||qs.call(Rs,oi))&&Cs(Pi,oi,Rs[oi])}),Pi},$s=function(Pi,Ei){return Ei===void 0?Rr(Pi):Bs(Rr(Pi),Ei)},qs=function(Pi){var Ei=kr(Pi,!0),Rs=fs.call(this,Ei);return this===us&&wr(ws,Ei)&&!wr(Is,Ei)?!1:Rs||!wr(this,Ei)||!wr(ws,Ei)||wr(this,Jr)&&this[Jr][Ei]?Rs:!0},bi=function(Pi,Ei){var Rs=Tr(Pi),Js=kr(Ei,!0);if(!(Rs===us&&wr(ws,Js)&&!wr(Is,Js))){var oi=ss(Rs,Js);return oi&&wr(ws,Js)&&!(wr(Rs,Jr)&&Rs[Jr][Js])&&(oi.enumerable=!0),oi}},zs=function(Pi){var Ei=as(Tr(Pi)),Rs=[];return cs(Ei,function(Js){!wr(ws,Js)&&!wr(is,Js)&&Rs.push(Js)}),Rs},Vs=function(Pi){var Ei=Pi===us,Rs=as(Ei?Is:Tr(Pi)),Js=[];return cs(Rs,function(oi){wr(ws,oi)&&(!Ei||wr(us,oi))&&Js.push(ws[oi])}),Js};if(yr||(ps=function(){if(this instanceof ps)throw TypeError("Symbol is not a constructor");var Pi=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Ei=gs(Pi),Rs=function(Js){this===us&&Rs.call(Is,Js),wr(this,Jr)&&wr(this[Jr],Ei)&&(this[Jr][Ei]=!1),li(this,Ei,Or(1,Js))};return mr&&ni&&li(us,Ei,{configurable:!0,set:Rs}),Si(Ei,Pi)},Zr(ps[hs],"toString",function(){return Ds(this).tag}),Zr(ps,"withoutSetter",function(fi){return Si(gs(fi),fi)}),Xr.f=qs,Kr.f=Cs,Ur.f=bi,_r.f=Hr.f=zs,Mr.f=Vs,Vr.f=function(fi){return Si(Os(fi),fi)},mr&&(ks(ps[hs],"description",{configurable:!0,get:function(){return Ds(this).description}}),pr||Zr(us,"propertyIsEnumerable",qs,{unsafe:!0}))),hr({global:!0,wrap:!0,forced:!yr,sham:!yr},{Symbol:ps}),cs(Lr(Ks),function(fi){Qr(fi)}),hr({target:ls,stat:!0,forced:!yr},{for:function(fi){var Pi=String(fi);if(wr(Ps,Pi))return Ps[Pi];var Ei=ps(Pi);return Ps[Pi]=Ei,Ws[Ei]=Pi,Ei},keyFor:function(Pi){if(!Us(Pi))throw TypeError(Pi+" is not a symbol");if(wr(Ws,Pi))return Ws[Pi]},useSetter:function(){ni=!0},useSimple:function(){ni=!1}}),hr({target:"Object",stat:!0,forced:!yr,sham:!mr},{create:$s,defineProperty:Cs,defineProperties:Bs,getOwnPropertyDescriptor:bi}),hr({target:"Object",stat:!0,forced:!yr},{getOwnPropertyNames:zs,getOwnPropertySymbols:Vs}),hr({target:"Object",stat:!0,forced:br(function(){Mr.f(1)})},{getOwnPropertySymbols:function(Pi){return Mr.f(Er(Pi))}}),ms){var Ys=!yr||br(function(){var fi=ps();return ms([fi])!="[null]"||ms({a:fi})!="{}"||ms(Object(fi))!="{}"});hr({target:"JSON",stat:!0,forced:Ys},{stringify:function(Pi,Ei,Rs){for(var Js=[Pi],oi=1,hi;arguments.length>oi;)Js.push(arguments[oi++]);if(hi=Ei,!(!Br(Ei)&&Pi===void 0||Us(Pi)))return Cr(Ei)||(Ei=function(Bi,Ii){if(typeof hi=="function"&&(Ii=hi.call(this,Bi,Ii)),!Us(Ii))return Ii}),Js[1]=Ei,ms.apply(null,Js)}})}ps[hs][bs]||Yr(ps[hs],bs,ps[hs].valueOf),$r(ps,ls),is[Jr]=!0},a630:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("4df4"),gr=dr("1c7e"),pr=!gr(function(mr){Array.from(mr)});hr({target:"Array",stat:!0,forced:pr},{from:fr})},a640:function(cr,ur,dr){var hr=dr("d039");cr.exports=function(fr,gr){var pr=[][fr];return!!pr&&hr(function(){pr.call(null,gr||function(){throw 1},1)})}},a691:function(cr,ur){var dr=Math.ceil,hr=Math.floor;cr.exports=function(fr){return isNaN(fr=+fr)?0:(fr>0?hr:dr)(fr)}},ab13:function(cr,ur,dr){var hr=dr("b622"),fr=hr("match");cr.exports=function(gr){var pr=/./;try{"/./"[gr](pr)}catch{try{return pr[fr]=!1,"/./"[gr](pr)}catch{}}return!1}},ac1f:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("9263");hr({target:"RegExp",proto:!0,forced:/./.exec!==fr},{exec:fr})},ad6d:function(cr,ur,dr){var hr=dr("825a");cr.exports=function(){var fr=hr(this),gr="";return fr.global&&(gr+="g"),fr.ignoreCase&&(gr+="i"),fr.multiline&&(gr+="m"),fr.dotAll&&(gr+="s"),fr.unicode&&(gr+="u"),fr.sticky&&(gr+="y"),gr}},ae40:function(cr,ur,dr){var hr=dr("83ab"),fr=dr("d039"),gr=dr("5135"),pr=Object.defineProperty,mr={},yr=function(vr){throw vr};cr.exports=function(vr,br){if(gr(mr,vr))return mr[vr];br||(br={});var wr=[][vr],Cr=gr(br,"ACCESSORS")?br.ACCESSORS:!1,Br=gr(br,0)?br[0]:yr,Sr=gr(br,1)?br[1]:void 0;return mr[vr]=!!wr&&!fr(function(){if(Cr&&!hr)return!0;var Er={length:-1};Cr?pr(Er,1,{enumerable:!0,get:yr}):Er[1]=1,wr.call(Er,Br,Sr)})}},ae93:function(cr,ur,dr){var hr=dr("e163"),fr=dr("9112"),gr=dr("5135"),pr=dr("b622"),mr=dr("c430"),yr=pr("iterator"),vr=!1,br=function(){return this},wr,Cr,Br;[].keys&&(Br=[].keys(),"next"in Br?(Cr=hr(hr(Br)),Cr!==Object.prototype&&(wr=Cr)):vr=!0),wr==null&&(wr={}),!mr&&!gr(wr,yr)&&fr(wr,yr,br),cr.exports={IteratorPrototype:wr,BUGGY_SAFARI_ITERATORS:vr}},b041:function(cr,ur,dr){var hr=dr("00ee"),fr=dr("f5df");cr.exports=hr?{}.toString:function(){return"[object "+fr(this)+"]"}},b0c0:function(cr,ur,dr){var hr=dr("83ab"),fr=dr("9bf2").f,gr=Function.prototype,pr=gr.toString,mr=/^\s*function ([^ (]*)/,yr="name";hr&&!(yr in gr)&&fr(gr,yr,{configurable:!0,get:function(){try{return pr.call(this).match(mr)[1]}catch{return""}}})},b622:function(cr,ur,dr){var hr=dr("da84"),fr=dr("5692"),gr=dr("5135"),pr=dr("90e3"),mr=dr("4930"),yr=dr("fdbf"),vr=fr("wks"),br=hr.Symbol,wr=yr?br:br&&br.withoutSetter||pr;cr.exports=function(Cr){return gr(vr,Cr)||(mr&&gr(br,Cr)?vr[Cr]=br[Cr]:vr[Cr]=wr("Symbol."+Cr)),vr[Cr]}},b64b:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("7b0b"),gr=dr("df75"),pr=dr("d039"),mr=pr(function(){gr(1)});hr({target:"Object",stat:!0,forced:mr},{keys:function(vr){return gr(fr(vr))}})},b727:function(cr,ur,dr){var hr=dr("0366"),fr=dr("44ad"),gr=dr("7b0b"),pr=dr("50c4"),mr=dr("65f0"),yr=[].push,vr=function(br){var wr=br==1,Cr=br==2,Br=br==3,Sr=br==4,Er=br==6,Tr=br==5||Er;return function(kr,Or,Rr,Lr){for(var _r=gr(kr),Hr=fr(_r),Mr=hr(Or,Rr,3),Ur=pr(Hr.length),Kr=0,Xr=Lr||mr,Yr=wr?Xr(kr,Ur):Cr?Xr(kr,0):void 0,Zr,ns;Ur>Kr;Kr++)if((Tr||Kr in Hr)&&(Zr=Hr[Kr],ns=Mr(Zr,Kr,_r),br)){if(wr)Yr[Kr]=ns;else if(ns)switch(br){case 3:return!0;case 5:return Zr;case 6:return Kr;case 2:yr.call(Yr,Zr)}else if(Sr)return!1}return Er?-1:Br||Sr?Sr:Yr}};cr.exports={forEach:vr(0),map:vr(1),filter:vr(2),some:vr(3),every:vr(4),find:vr(5),findIndex:vr(6)}},c04e:function(cr,ur,dr){var hr=dr("861d");cr.exports=function(fr,gr){if(!hr(fr))return fr;var pr,mr;if(gr&&typeof(pr=fr.toString)=="function"&&!hr(mr=pr.call(fr))||typeof(pr=fr.valueOf)=="function"&&!hr(mr=pr.call(fr))||!gr&&typeof(pr=fr.toString)=="function"&&!hr(mr=pr.call(fr)))return mr;throw TypeError("Can't convert object to primitive value")}},c430:function(cr,ur){cr.exports=!1},c6b6:function(cr,ur){var dr={}.toString;cr.exports=function(hr){return dr.call(hr).slice(8,-1)}},c6cd:function(cr,ur,dr){var hr=dr("da84"),fr=dr("ce4e"),gr="__core-js_shared__",pr=hr[gr]||fr(gr,{});cr.exports=pr},c740:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("b727").findIndex,gr=dr("44d2"),pr=dr("ae40"),mr="findIndex",yr=!0,vr=pr(mr);mr in[]&&Array(1)[mr](function(){yr=!1}),hr({target:"Array",proto:!0,forced:yr||!vr},{findIndex:function(wr){return fr(this,wr,arguments.length>1?arguments[1]:void 0)}}),gr(mr)},c8ba:function(cr,ur){var dr;dr=function(){return this}();try{dr=dr||new Function("return this")()}catch{typeof window=="object"&&(dr=window)}cr.exports=dr},c975:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("4d64").indexOf,gr=dr("a640"),pr=dr("ae40"),mr=[].indexOf,yr=!!mr&&1/[1].indexOf(1,-0)<0,vr=gr("indexOf"),br=pr("indexOf",{ACCESSORS:!0,1:0});hr({target:"Array",proto:!0,forced:yr||!vr||!br},{indexOf:function(Cr){return yr?mr.apply(this,arguments)||0:fr(this,Cr,arguments.length>1?arguments[1]:void 0)}})},ca84:function(cr,ur,dr){var hr=dr("5135"),fr=dr("fc6a"),gr=dr("4d64").indexOf,pr=dr("d012");cr.exports=function(mr,yr){var vr=fr(mr),br=0,wr=[],Cr;for(Cr in vr)!hr(pr,Cr)&&hr(vr,Cr)&&wr.push(Cr);for(;yr.length>br;)hr(vr,Cr=yr[br++])&&(~gr(wr,Cr)||wr.push(Cr));return wr}},caad:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("4d64").includes,gr=dr("44d2"),pr=dr("ae40"),mr=pr("indexOf",{ACCESSORS:!0,1:0});hr({target:"Array",proto:!0,forced:!mr},{includes:function(vr){return fr(this,vr,arguments.length>1?arguments[1]:void 0)}}),gr("includes")},cc12:function(cr,ur,dr){var hr=dr("da84"),fr=dr("861d"),gr=hr.document,pr=fr(gr)&&fr(gr.createElement);cr.exports=function(mr){return pr?gr.createElement(mr):{}}},ce4e:function(cr,ur,dr){var hr=dr("da84"),fr=dr("9112");cr.exports=function(gr,pr){try{fr(hr,gr,pr)}catch{hr[gr]=pr}return pr}},d012:function(cr,ur){cr.exports={}},d039:function(cr,ur){cr.exports=function(dr){try{return!!dr()}catch{return!0}}},d066:function(cr,ur,dr){var hr=dr("428f"),fr=dr("da84"),gr=function(pr){return typeof pr=="function"?pr:void 0};cr.exports=function(pr,mr){return arguments.length<2?gr(hr[pr])||gr(fr[pr]):hr[pr]&&hr[pr][mr]||fr[pr]&&fr[pr][mr]}},d1e7:function(cr,ur,dr){var hr={}.propertyIsEnumerable,fr=Object.getOwnPropertyDescriptor,gr=fr&&!hr.call({1:2},1);ur.f=gr?function(mr){var yr=fr(this,mr);return!!yr&&yr.enumerable}:hr},d28b:function(cr,ur,dr){var hr=dr("746f");hr("iterator")},d2bb:function(cr,ur,dr){var hr=dr("825a"),fr=dr("3bbe");cr.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var gr=!1,pr={},mr;try{mr=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,mr.call(pr,[]),gr=pr instanceof Array}catch{}return function(vr,br){return hr(vr),fr(br),gr?mr.call(vr,br):vr.__proto__=br,vr}}():void 0)},d3b7:function(cr,ur,dr){var hr=dr("00ee"),fr=dr("6eeb"),gr=dr("b041");hr||fr(Object.prototype,"toString",gr,{unsafe:!0})},d44e:function(cr,ur,dr){var hr=dr("9bf2").f,fr=dr("5135"),gr=dr("b622"),pr=gr("toStringTag");cr.exports=function(mr,yr,vr){mr&&!fr(mr=vr?mr:mr.prototype,pr)&&hr(mr,pr,{configurable:!0,value:yr})}},d58f:function(cr,ur,dr){var hr=dr("1c0b"),fr=dr("7b0b"),gr=dr("44ad"),pr=dr("50c4"),mr=function(yr){return function(vr,br,wr,Cr){hr(br);var Br=fr(vr),Sr=gr(Br),Er=pr(Br.length),Tr=yr?Er-1:0,kr=yr?-1:1;if(wr<2)for(;;){if(Tr in Sr){Cr=Sr[Tr],Tr+=kr;break}if(Tr+=kr,yr?Tr<0:Er<=Tr)throw TypeError("Reduce of empty array with no initial value")}for(;yr?Tr>=0:Er>Tr;Tr+=kr)Tr in Sr&&(Cr=br(Cr,Sr[Tr],Tr,Br));return Cr}};cr.exports={left:mr(!1),right:mr(!0)}},d784:function(cr,ur,dr){dr("ac1f");var hr=dr("6eeb"),fr=dr("d039"),gr=dr("b622"),pr=dr("9263"),mr=dr("9112"),yr=gr("species"),vr=!fr(function(){var Sr=/./;return Sr.exec=function(){var Er=[];return Er.groups={a:"7"},Er},"".replace(Sr,"$<a>")!=="7"}),br=function(){return"a".replace(/./,"$0")==="$0"}(),wr=gr("replace"),Cr=function(){return/./[wr]?/./[wr]("a","$0")==="":!1}(),Br=!fr(function(){var Sr=/(?:)/,Er=Sr.exec;Sr.exec=function(){return Er.apply(this,arguments)};var Tr="ab".split(Sr);return Tr.length!==2||Tr[0]!=="a"||Tr[1]!=="b"});cr.exports=function(Sr,Er,Tr,kr){var Or=gr(Sr),Rr=!fr(function(){var Kr={};return Kr[Or]=function(){return 7},""[Sr](Kr)!=7}),Lr=Rr&&!fr(function(){var Kr=!1,Xr=/a/;return Sr==="split"&&(Xr={},Xr.constructor={},Xr.constructor[yr]=function(){return Xr},Xr.flags="",Xr[Or]=/./[Or]),Xr.exec=function(){return Kr=!0,null},Xr[Or](""),!Kr});if(!Rr||!Lr||Sr==="replace"&&!(vr&&br&&!Cr)||Sr==="split"&&!Br){var _r=/./[Or],Hr=Tr(Or,""[Sr],function(Kr,Xr,Yr,Zr,ns){return Xr.exec===pr?Rr&&!ns?{done:!0,value:_r.call(Xr,Yr,Zr)}:{done:!0,value:Kr.call(Yr,Xr,Zr)}:{done:!1}},{REPLACE_KEEPS_$0:br,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Cr}),Mr=Hr[0],Ur=Hr[1];hr(String.prototype,Sr,Mr),hr(RegExp.prototype,Or,Er==2?function(Kr,Xr){return Ur.call(Kr,this,Xr)}:function(Kr){return Ur.call(Kr,this)})}kr&&mr(RegExp.prototype[Or],"sham",!0)}},d81d:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("b727").map,gr=dr("1dde"),pr=dr("ae40"),mr=gr("map"),yr=pr("map");hr({target:"Array",proto:!0,forced:!mr||!yr},{map:function(br){return fr(this,br,arguments.length>1?arguments[1]:void 0)}})},da84:function(cr,ur,dr){(function(hr){var fr=function(gr){return gr&&gr.Math==Math&&gr};cr.exports=fr(typeof globalThis=="object"&&globalThis)||fr(typeof window=="object"&&window)||fr(typeof self=="object"&&self)||fr(typeof hr=="object"&&hr)||Function("return this")()}).call(this,dr("c8ba"))},dbb4:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("83ab"),gr=dr("56ef"),pr=dr("fc6a"),mr=dr("06cf"),yr=dr("8418");hr({target:"Object",stat:!0,sham:!fr},{getOwnPropertyDescriptors:function(br){for(var wr=pr(br),Cr=mr.f,Br=gr(wr),Sr={},Er=0,Tr,kr;Br.length>Er;)kr=Cr(wr,Tr=Br[Er++]),kr!==void 0&&yr(Sr,Tr,kr);return Sr}})},dbf1:function(cr,ur,dr){(function(hr){dr.d(ur,"a",function(){return gr});function fr(){return typeof window<"u"?window.console:hr.console}var gr=fr()}).call(this,dr("c8ba"))},ddb0:function(cr,ur,dr){var hr=dr("da84"),fr=dr("fdbc"),gr=dr("e260"),pr=dr("9112"),mr=dr("b622"),yr=mr("iterator"),vr=mr("toStringTag"),br=gr.values;for(var wr in fr){var Cr=hr[wr],Br=Cr&&Cr.prototype;if(Br){if(Br[yr]!==br)try{pr(Br,yr,br)}catch{Br[yr]=br}if(Br[vr]||pr(Br,vr,wr),fr[wr]){for(var Sr in gr)if(Br[Sr]!==gr[Sr])try{pr(Br,Sr,gr[Sr])}catch{Br[Sr]=gr[Sr]}}}}},df75:function(cr,ur,dr){var hr=dr("ca84"),fr=dr("7839");cr.exports=Object.keys||function(pr){return hr(pr,fr)}},e01a:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("83ab"),gr=dr("da84"),pr=dr("5135"),mr=dr("861d"),yr=dr("9bf2").f,vr=dr("e893"),br=gr.Symbol;if(fr&&typeof br=="function"&&(!("description"in br.prototype)||br().description!==void 0)){var wr={},Cr=function(){var Or=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),Rr=this instanceof Cr?new br(Or):Or===void 0?br():br(Or);return Or===""&&(wr[Rr]=!0),Rr};vr(Cr,br);var Br=Cr.prototype=br.prototype;Br.constructor=Cr;var Sr=Br.toString,Er=String(br("test"))=="Symbol(test)",Tr=/^Symbol\((.*)\)[^)]+$/;yr(Br,"description",{configurable:!0,get:function(){var Or=mr(this)?this.valueOf():this,Rr=Sr.call(Or);if(pr(wr,Or))return"";var Lr=Er?Rr.slice(7,-1):Rr.replace(Tr,"$1");return Lr===""?void 0:Lr}}),hr({global:!0,forced:!0},{Symbol:Cr})}},e163:function(cr,ur,dr){var hr=dr("5135"),fr=dr("7b0b"),gr=dr("f772"),pr=dr("e177"),mr=gr("IE_PROTO"),yr=Object.prototype;cr.exports=pr?Object.getPrototypeOf:function(vr){return vr=fr(vr),hr(vr,mr)?vr[mr]:typeof vr.constructor=="function"&&vr instanceof vr.constructor?vr.constructor.prototype:vr instanceof Object?yr:null}},e177:function(cr,ur,dr){var hr=dr("d039");cr.exports=!hr(function(){function fr(){}return fr.prototype.constructor=null,Object.getPrototypeOf(new fr)!==fr.prototype})},e260:function(cr,ur,dr){var hr=dr("fc6a"),fr=dr("44d2"),gr=dr("3f8c"),pr=dr("69f3"),mr=dr("7dd0"),yr="Array Iterator",vr=pr.set,br=pr.getterFor(yr);cr.exports=mr(Array,"Array",function(wr,Cr){vr(this,{type:yr,target:hr(wr),index:0,kind:Cr})},function(){var wr=br(this),Cr=wr.target,Br=wr.kind,Sr=wr.index++;return!Cr||Sr>=Cr.length?(wr.target=void 0,{value:void 0,done:!0}):Br=="keys"?{value:Sr,done:!1}:Br=="values"?{value:Cr[Sr],done:!1}:{value:[Sr,Cr[Sr]],done:!1}},"values"),gr.Arguments=gr.Array,fr("keys"),fr("values"),fr("entries")},e439:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("d039"),gr=dr("fc6a"),pr=dr("06cf").f,mr=dr("83ab"),yr=fr(function(){pr(1)}),vr=!mr||yr;hr({target:"Object",stat:!0,forced:vr,sham:!mr},{getOwnPropertyDescriptor:function(wr,Cr){return pr(gr(wr),Cr)}})},e538:function(cr,ur,dr){var hr=dr("b622");ur.f=hr},e893:function(cr,ur,dr){var hr=dr("5135"),fr=dr("56ef"),gr=dr("06cf"),pr=dr("9bf2");cr.exports=function(mr,yr){for(var vr=fr(yr),br=pr.f,wr=gr.f,Cr=0;Cr<vr.length;Cr++){var Br=vr[Cr];hr(mr,Br)||br(mr,Br,wr(yr,Br))}}},e8b5:function(cr,ur,dr){var hr=dr("c6b6");cr.exports=Array.isArray||function(gr){return hr(gr)=="Array"}},e95a:function(cr,ur,dr){var hr=dr("b622"),fr=dr("3f8c"),gr=hr("iterator"),pr=Array.prototype;cr.exports=function(mr){return mr!==void 0&&(fr.Array===mr||pr[gr]===mr)}},f5df:function(cr,ur,dr){var hr=dr("00ee"),fr=dr("c6b6"),gr=dr("b622"),pr=gr("toStringTag"),mr=fr(function(){return arguments}())=="Arguments",yr=function(vr,br){try{return vr[br]}catch{}};cr.exports=hr?fr:function(vr){var br,wr,Cr;return vr===void 0?"Undefined":vr===null?"Null":typeof(wr=yr(br=Object(vr),pr))=="string"?wr:mr?fr(br):(Cr=fr(br))=="Object"&&typeof br.callee=="function"?"Arguments":Cr}},f772:function(cr,ur,dr){var hr=dr("5692"),fr=dr("90e3"),gr=hr("keys");cr.exports=function(pr){return gr[pr]||(gr[pr]=fr(pr))}},fb15:function(cr,ur,dr){if(dr.r(ur),typeof window<"u"){var hr=window.document.currentScript;{var fr=dr("8875");hr=fr(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:fr})}var gr=hr&&hr.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);gr&&(dr.p=gr[1])}dr("99af"),dr("4de4"),dr("4160"),dr("c975"),dr("d81d"),dr("a434"),dr("159b"),dr("a4d3"),dr("e439"),dr("dbb4"),dr("b64b");function pr(Us,Cs,Bs){return Cs in Us?Object.defineProperty(Us,Cs,{value:Bs,enumerable:!0,configurable:!0,writable:!0}):Us[Cs]=Bs,Us}function mr(Us,Cs){var Bs=Object.keys(Us);if(Object.getOwnPropertySymbols){var $s=Object.getOwnPropertySymbols(Us);Cs&&($s=$s.filter(function(qs){return Object.getOwnPropertyDescriptor(Us,qs).enumerable})),Bs.push.apply(Bs,$s)}return Bs}function yr(Us){for(var Cs=1;Cs<arguments.length;Cs++){var Bs=arguments[Cs]!=null?arguments[Cs]:{};Cs%2?mr(Object(Bs),!0).forEach(function($s){pr(Us,$s,Bs[$s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Us,Object.getOwnPropertyDescriptors(Bs)):mr(Object(Bs)).forEach(function($s){Object.defineProperty(Us,$s,Object.getOwnPropertyDescriptor(Bs,$s))})}return Us}function vr(Us){if(Array.isArray(Us))return Us}dr("e01a"),dr("d28b"),dr("e260"),dr("d3b7"),dr("3ca3"),dr("ddb0");function br(Us,Cs){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Us)))){var Bs=[],$s=!0,qs=!1,bi=void 0;try{for(var zs=Us[Symbol.iterator](),Vs;!($s=(Vs=zs.next()).done)&&(Bs.push(Vs.value),!(Cs&&Bs.length===Cs));$s=!0);}catch(Ys){qs=!0,bi=Ys}finally{try{!$s&&zs.return!=null&&zs.return()}finally{if(qs)throw bi}}return Bs}}dr("a630"),dr("fb6a"),dr("b0c0"),dr("25f0");function wr(Us,Cs){(Cs==null||Cs>Us.length)&&(Cs=Us.length);for(var Bs=0,$s=new Array(Cs);Bs<Cs;Bs++)$s[Bs]=Us[Bs];return $s}function Cr(Us,Cs){if(Us){if(typeof Us=="string")return wr(Us,Cs);var Bs=Object.prototype.toString.call(Us).slice(8,-1);if(Bs==="Object"&&Us.constructor&&(Bs=Us.constructor.name),Bs==="Map"||Bs==="Set")return Array.from(Us);if(Bs==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Bs))return wr(Us,Cs)}}function Br(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(Us,Cs){return vr(Us)||br(Us,Cs)||Cr(Us,Cs)||Br()}function Er(Us){if(Array.isArray(Us))return wr(Us)}function Tr(Us){if(typeof Symbol<"u"&&Symbol.iterator in Object(Us))return Array.from(Us)}function kr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(Us){return Er(Us)||Tr(Us)||Cr(Us)||kr()}var Rr=dr("a352"),Lr=dr.n(Rr);function _r(Us){Us.parentElement!==null&&Us.parentElement.removeChild(Us)}function Hr(Us,Cs,Bs){var $s=Bs===0?Us.children[0]:Us.children[Bs-1].nextSibling;Us.insertBefore(Cs,$s)}var Mr=dr("dbf1");dr("13d5"),dr("4fad"),dr("ac1f"),dr("5319");function Ur(Us){var Cs=Object.create(null);return function($s){var qs=Cs[$s];return qs||(Cs[$s]=Us($s))}}var Kr=/-(\w)/g,Xr=Ur(function(Us){return Us.replace(Kr,function(Cs,Bs){return Bs.toUpperCase()})});dr("5db7"),dr("73d9");var Yr=["Start","Add","Remove","Update","End"],Zr=["Choose","Unchoose","Sort","Filter","Clone"],ns=["Move"],As=[ns,Yr,Zr].flatMap(function(Us){return Us}).map(function(Us){return"on".concat(Us)}),is={manage:ns,manageAndEmit:Yr,emit:Zr};function gs(Us){return As.indexOf(Us)!==-1}dr("caad"),dr("2ca0");var Os=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Vr(Us){return Os.includes(Us)}function Qr(Us){return["transition-group","TransitionGroup"].includes(Us)}function $r(Us){return["id","class","role","style"].includes(Us)||Us.startsWith("data-")||Us.startsWith("aria-")||Us.startsWith("on")}function zr(Us){return Us.reduce(function(Cs,Bs){var $s=Sr(Bs,2),qs=$s[0],bi=$s[1];return Cs[qs]=bi,Cs},{})}function cs(Us){var Cs=Us.$attrs,Bs=Us.componentData,$s=Bs===void 0?{}:Bs,qs=zr(Object.entries(Cs).filter(function(bi){var zs=Sr(bi,2),Vs=zs[0];return zs[1],$r(Vs)}));return yr(yr({},qs),$s)}function Jr(Us){var Cs=Us.$attrs,Bs=Us.callBackBuilder,$s=zr(ls(Cs));Object.entries(Bs).forEach(function(bi){var zs=Sr(bi,2),Vs=zs[0],Ys=zs[1];is[Vs].forEach(function(fi){$s["on".concat(fi)]=Ys(fi)})});var qs="[data-draggable]".concat($s.draggable||"");return yr(yr({},$s),{},{draggable:qs})}function ls(Us){return Object.entries(Us).filter(function(Cs){var Bs=Sr(Cs,2),$s=Bs[0];return Bs[1],!$r($s)}).map(function(Cs){var Bs=Sr(Cs,2),$s=Bs[0],qs=Bs[1];return[Xr($s),qs]}).filter(function(Cs){var Bs=Sr(Cs,2),$s=Bs[0];return Bs[1],!gs($s)})}dr("c740");function hs(Us,Cs){if(!(Us instanceof Cs))throw new TypeError("Cannot call a class as a function")}function bs(Us,Cs){for(var Bs=0;Bs<Cs.length;Bs++){var $s=Cs[Bs];$s.enumerable=$s.enumerable||!1,$s.configurable=!0,"value"in $s&&($s.writable=!0),Object.defineProperty(Us,$s.key,$s)}}function Ts(Us,Cs,Bs){return Cs&&bs(Us.prototype,Cs),Us}var Ds=function(Cs){var Bs=Cs.el;return Bs},us=function(Cs,Bs){return Cs.__draggable_context=Bs},ps=function(Cs){return Cs.__draggable_context},ms=function(){function Us(Cs){var Bs=Cs.nodes,$s=Bs.header,qs=Bs.default,bi=Bs.footer,zs=Cs.root,Vs=Cs.realList;hs(this,Us),this.defaultNodes=qs,this.children=[].concat(Or($s),Or(qs),Or(bi)),this.externalComponent=zs.externalComponent,this.rootTransition=zs.transition,this.tag=zs.tag,this.realList=Vs}return Ts(Us,[{key:"render",value:function(Bs,$s){var qs=this.tag,bi=this.children,zs=this._isRootComponent,Vs=zs?{default:function(){return bi}}:bi;return Bs(qs,$s,Vs)}},{key:"updated",value:function(){var Bs=this.defaultNodes,$s=this.realList;Bs.forEach(function(qs,bi){us(Ds(qs),{element:$s[bi],index:bi})})}},{key:"getUnderlyingVm",value:function(Bs){return ps(Bs)}},{key:"getVmIndexFromDomIndex",value:function(Bs,$s){var qs=this.defaultNodes,bi=qs.length,zs=$s.children,Vs=zs.item(Bs);if(Vs===null)return bi;var Ys=ps(Vs);if(Ys)return Ys.index;if(bi===0)return 0;var fi=Ds(qs[0]),Pi=Or(zs).findIndex(function(Ei){return Ei===fi});return Bs<Pi?0:bi}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Us}(),ss=dr("8bbf");function ks(Us,Cs){var Bs=Us[Cs];return Bs?Bs():[]}function as(Us){var Cs=Us.$slots,Bs=Us.realList,$s=Us.getKey,qs=Bs||[],bi=["header","footer"].map(function(Ei){return ks(Cs,Ei)}),zs=Sr(bi,2),Vs=zs[0],Ys=zs[1],fi=Cs.item;if(!fi)throw new Error("draggable element must have an item slot");var Pi=qs.flatMap(function(Ei,Rs){return fi({element:Ei,index:Rs}).map(function(Js){return Js.key=$s(Ei),Js.props=yr(yr({},Js.props||{}),{},{"data-draggable":!0}),Js})});if(Pi.length!==qs.length)throw new Error("Item slot must have only one child");return{header:Vs,footer:Ys,default:Pi}}function fs(Us){var Cs=Qr(Us),Bs=!Vr(Us)&&!Cs;return{transition:Cs,externalComponent:Bs,tag:Bs?Object(ss.resolveComponent)(Us):Cs?ss.TransitionGroup:Us}}function ws(Us){var Cs=Us.$slots,Bs=Us.tag,$s=Us.realList,qs=Us.getKey,bi=as({$slots:Cs,realList:$s,getKey:qs}),zs=fs(Bs);return new ms({nodes:bi,root:zs,realList:$s})}function Is(Us,Cs){var Bs=this;Object(ss.nextTick)(function(){return Bs.$emit(Us.toLowerCase(),Cs)})}function Ps(Us){var Cs=this;return function(Bs,$s){if(Cs.realList!==null)return Cs["onDrag".concat(Us)](Bs,$s)}}function Ws(Us){var Cs=this,Bs=Ps.call(this,Us);return function($s,qs){Bs.call(Cs,$s,qs),Is.call(Cs,Us,$s)}}var Ks=null,Fs={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Cs){return Cs}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ni=["update:modelValue","change"].concat(Or([].concat(Or(is.manageAndEmit),Or(is.emit)).map(function(Us){return Us.toLowerCase()}))),li=Object(ss.defineComponent)({name:"draggable",inheritAttrs:!1,props:Fs,emits:ni,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Cs=this.$slots,Bs=this.$attrs,$s=this.tag,qs=this.componentData,bi=this.realList,zs=this.getKey,Vs=ws({$slots:Cs,tag:$s,realList:bi,getKey:zs});this.componentStructure=Vs;var Ys=cs({$attrs:Bs,componentData:qs});return Vs.render(ss.h,Ys)}catch(fi){return this.error=!0,Object(ss.h)("pre",{style:{color:"red"}},fi.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&Mr.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Cs=this;if(!this.error){var Bs=this.$attrs,$s=this.$el,qs=this.componentStructure;qs.updated();var bi=Jr({$attrs:Bs,callBackBuilder:{manageAndEmit:function(Ys){return Ws.call(Cs,Ys)},emit:function(Ys){return Is.bind(Cs,Ys)},manage:function(Ys){return Ps.call(Cs,Ys)}}}),zs=$s.nodeType===1?$s:$s.parentElement;this._sortable=new Lr.a(zs,bi),this.targetDomElement=zs,zs.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Cs=this.list;return Cs||this.modelValue},getKey:function(){var Cs=this.itemKey;return typeof Cs=="function"?Cs:function(Bs){return Bs[Cs]}}},watch:{$attrs:{handler:function(Cs){var Bs=this._sortable;Bs&&ls(Cs).forEach(function($s){var qs=Sr($s,2),bi=qs[0],zs=qs[1];Bs.option(bi,zs)})},deep:!0}},methods:{getUnderlyingVm:function(Cs){return this.componentStructure.getUnderlyingVm(Cs)||null},getUnderlyingPotencialDraggableComponent:function(Cs){return Cs.__draggable_component__},emitChanges:function(Cs){var Bs=this;Object(ss.nextTick)(function(){return Bs.$emit("change",Cs)})},alterList:function(Cs){if(this.list){Cs(this.list);return}var Bs=Or(this.modelValue);Cs(Bs),this.$emit("update:modelValue",Bs)},spliceList:function(){var Cs=arguments,Bs=function(qs){return qs.splice.apply(qs,Or(Cs))};this.alterList(Bs)},updatePosition:function(Cs,Bs){var $s=function(bi){return bi.splice(Bs,0,bi.splice(Cs,1)[0])};this.alterList($s)},getRelatedContextFromMoveEvent:function(Cs){var Bs=Cs.to,$s=Cs.related,qs=this.getUnderlyingPotencialDraggableComponent(Bs);if(!qs)return{component:qs};var bi=qs.realList,zs={list:bi,component:qs};if(Bs!==$s&&bi){var Vs=qs.getUnderlyingVm($s)||{};return yr(yr({},Vs),zs)}return zs},getVmIndexFromDomIndex:function(Cs){return this.componentStructure.getVmIndexFromDomIndex(Cs,this.targetDomElement)},onDragStart:function(Cs){this.context=this.getUnderlyingVm(Cs.item),Cs.item._underlying_vm_=this.clone(this.context.element),Ks=Cs.item},onDragAdd:function(Cs){var Bs=Cs.item._underlying_vm_;if(Bs!==void 0){_r(Cs.item);var $s=this.getVmIndexFromDomIndex(Cs.newIndex);this.spliceList($s,0,Bs);var qs={element:Bs,newIndex:$s};this.emitChanges({added:qs})}},onDragRemove:function(Cs){if(Hr(this.$el,Cs.item,Cs.oldIndex),Cs.pullMode==="clone"){_r(Cs.clone);return}var Bs=this.context,$s=Bs.index,qs=Bs.element;this.spliceList($s,1);var bi={element:qs,oldIndex:$s};this.emitChanges({removed:bi})},onDragUpdate:function(Cs){_r(Cs.item),Hr(Cs.from,Cs.item,Cs.oldIndex);var Bs=this.context.index,$s=this.getVmIndexFromDomIndex(Cs.newIndex);this.updatePosition(Bs,$s);var qs={element:this.context.element,oldIndex:Bs,newIndex:$s};this.emitChanges({moved:qs})},computeFutureIndex:function(Cs,Bs){if(!Cs.element)return 0;var $s=Or(Bs.to.children).filter(function(Vs){return Vs.style.display!=="none"}),qs=$s.indexOf(Bs.related),bi=Cs.component.getVmIndexFromDomIndex(qs),zs=$s.indexOf(Ks)!==-1;return zs||!Bs.willInsertAfter?bi:bi+1},onDragMove:function(Cs,Bs){var $s=this.move,qs=this.realList;if(!$s||!qs)return!0;var bi=this.getRelatedContextFromMoveEvent(Cs),zs=this.computeFutureIndex(bi,Cs),Vs=yr(yr({},this.context),{},{futureIndex:zs}),Ys=yr(yr({},Cs),{},{relatedContext:bi,draggedContext:Vs});return $s(Ys,Bs)},onDragEnd:function(){Ks=null}}}),Si=li;ur.default=Si},fb6a:function(cr,ur,dr){var hr=dr("23e7"),fr=dr("861d"),gr=dr("e8b5"),pr=dr("23cb"),mr=dr("50c4"),yr=dr("fc6a"),vr=dr("8418"),br=dr("b622"),wr=dr("1dde"),Cr=dr("ae40"),Br=wr("slice"),Sr=Cr("slice",{ACCESSORS:!0,0:0,1:2}),Er=br("species"),Tr=[].slice,kr=Math.max;hr({target:"Array",proto:!0,forced:!Br||!Sr},{slice:function(Rr,Lr){var _r=yr(this),Hr=mr(_r.length),Mr=pr(Rr,Hr),Ur=pr(Lr===void 0?Hr:Lr,Hr),Kr,Xr,Yr;if(gr(_r)&&(Kr=_r.constructor,typeof Kr=="function"&&(Kr===Array||gr(Kr.prototype))?Kr=void 0:fr(Kr)&&(Kr=Kr[Er],Kr===null&&(Kr=void 0)),Kr===Array||Kr===void 0))return Tr.call(_r,Mr,Ur);for(Xr=new(Kr===void 0?Array:Kr)(kr(Ur-Mr,0)),Yr=0;Mr<Ur;Mr++,Yr++)Mr in _r&&vr(Xr,Yr,_r[Mr]);return Xr.length=Yr,Xr}})},fc6a:function(cr,ur,dr){var hr=dr("44ad"),fr=dr("1d80");cr.exports=function(gr){return hr(fr(gr))}},fdbc:function(cr,ur){cr.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(cr,ur,dr){var hr=dr("4930");cr.exports=hr&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(vuedraggable_umd);const _hoisted_1$9={class:"mb-6 flex overflow-x-auto pb-2"},_hoisted_2$7=["onClick"],_hoisted_3$7={key:0,class:"text-center py-8"},_hoisted_4$6={key:1,class:"card relative overflow-hidden"},_hoisted_5$5={class:"relative min-h-[900px]"},_hoisted_6$5={class:"absolute top-0 left-0 w-20 h-full border-r border-gray-200 dark:border-gray-700"},_hoisted_7$5={class:"ml-20 relative"},_hoisted_8$5={class:"absolute top-0 left-0 w-full h-full p-2"},_hoisted_9$5=["onClick"],_hoisted_10$4={class:"flex justify-between items-start h-full"},_hoisted_11$4={class:"font-medium text-gray-900 dark:text-white text-sm"},_hoisted_12$4={class:"text-xs text-gray-600 dark:text-gray-300 mt-1"},_hoisted_13$4={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2"},_hoisted_14$4=["onClick"],_hoisted_15$4={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},_hoisted_16$3={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6"},_hoisted_17$3={class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},_hoisted_18$3={class:"space-y-4"},_hoisted_19$3={key:0,value:null,disabled:""},_hoisted_20$3=["value"],_hoisted_21$3={class:"grid grid-cols-2 gap-4"},_hoisted_22$3=["value"],_sfc_main$9={__name:"PlannerPage",setup(ar){const or=usePlannerStore(),lr=useSubjectsStore(),Ar=[{name:"Lunes",value:"lunes"},{name:"Martes",value:"martes"},{name:"Mircoles",value:"mircoles"},{name:"Jueves",value:"jueves"},{name:"Viernes",value:"viernes"}],cr=ref(yr()),ur=mr(),dr=ref(!1),hr=ref(null),fr=ref({title:"",description:"",startTime:"08:00",endTime:"09:00",day:yr(),subjectId:null}),gr=ref(!1),pr=ref({title:"",message:"",type:"info"});function mr(){const Lr=[];for(let _r=7;_r<=22;_r++){const Hr=_r.toString().padStart(2,"0")+":00";Lr.push(Hr)}return Lr}function yr(){const Lr=new Date().getDay();return Lr===0||Lr===6?"lunes":Ar[Lr-1].value}onMounted(async()=>{await lr.fetchSubjects(),await or.fetchEvents()});const vr=computed(()=>or.events.filter(_r=>_r.day===cr.value).sort((_r,Hr)=>_r.startTime.localeCompare(Hr.startTime)));computed(()=>{const Lr={};return ur.forEach(_r=>{Lr[_r]=[]}),vr.value.forEach(_r=>{const Hr=_r.startTime.substring(0,5),Mr=ur.find(Ur=>Ur<=Hr)||ur[0];Lr[Mr]&&Lr[Mr].push(_r)}),Lr});const br=Lr=>lr.subjects.find(_r=>_r.id===Lr)||{name:"Sin materia",color:"#94a3b8"},wr=()=>{fr.value={title:"",description:"",startTime:"08:00",endTime:"09:00",day:cr.value,subjectId:null},dr.value=!0,hr.value=null},Cr=Lr=>{fr.value={...Lr},dr.value=!0,hr.value=Lr.id},Br=()=>{dr.value=!1,hr.value=null},Sr=Lr=>{pr.value={title:"Error",message:Lr,type:"error"},gr.value=!0},Er=async()=>{try{if(!fr.value.subjectId){Sr("Por favor selecciona una materia");return}if(fr.value.startTime>=fr.value.endTime){Sr("La hora de inicio debe ser anterior a la hora de fin");return}const Lr=lr.subjects.find(_r=>_r.id===fr.value.subjectId);await or.addEvent({...fr.value,title:Lr.name,subjectName:Lr.name}),Br()}catch(Lr){console.error("Error saving event:",Lr),Sr("Error al guardar el evento")}},Tr=async Lr=>{try{await or.deleteEvent(Lr)}catch(_r){console.error("Error deleting event:",_r),Sr("Error al eliminar el evento")}},kr=Lr=>{const _r=Rr(Lr.startTime);return`${Rr(Lr.endTime)-_r}px`},Or=Lr=>{const _r=Rr("07:00");return`${Rr(Lr.startTime)-_r}px`},Rr=Lr=>{const[_r,Hr]=Lr.split(":").map(Number);return _r*60+Hr};return(Lr,_r)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4"},[_r[7]||(_r[7]=createBaseVNode("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Planificador de Estudio",-1)),createBaseVNode("button",{onClick:wr,class:"btn btn-primary flex items-center justify-center"},_r[6]||(_r[6]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Nuevo Evento ")]))]),createBaseVNode("div",_hoisted_1$9,[(openBlock(),createElementBlock(Fragment$1,null,renderList(Ar,Hr=>createBaseVNode("button",{key:Hr.value,onClick:Mr=>cr.value=Hr.value,class:normalizeClass(["px-4 py-2 mx-1 rounded-lg text-center min-w-[100px] whitespace-nowrap transition-colors",cr.value===Hr.value?"bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 font-medium":"bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},toDisplayString(Hr.name),11,_hoisted_2$7)),64))]),unref(or).loading?(openBlock(),createElementBlock("div",_hoisted_3$7,_r[8]||(_r[8]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando horario...",-1)]))):(openBlock(),createElementBlock("div",_hoisted_4$6,[createBaseVNode("div",_hoisted_5$5,[createBaseVNode("div",_hoisted_6$5,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(ur),Hr=>(openBlock(),createElementBlock("div",{key:Hr,class:"h-[60px] flex items-start px-2 pt-2 text-sm text-gray-500 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700"},toDisplayString(Hr),1))),128))]),createBaseVNode("div",_hoisted_7$5,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(ur),Hr=>(openBlock(),createElementBlock("div",{key:Hr,class:"h-[60px] border-t border-gray-200 dark:border-gray-700"}))),128)),createBaseVNode("div",_hoisted_8$5,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(vr.value,Hr=>(openBlock(),createElementBlock("div",{key:Hr.id,class:"absolute p-2 rounded-lg w-[calc(100%-16px)] cursor-pointer transition-all hover:shadow-md",style:normalizeStyle({top:Or(Hr),height:kr(Hr),backgroundColor:br(Hr.subjectId).color+"20",borderLeft:`4px solid ${br(Hr.subjectId).color}`}),onClick:Mr=>Cr(Hr)},[createBaseVNode("div",_hoisted_10$4,[createBaseVNode("div",null,[createBaseVNode("h3",_hoisted_11$4,toDisplayString(Hr.title),1),createBaseVNode("p",_hoisted_12$4,toDisplayString(Hr.startTime.substring(0,5))+" - "+toDisplayString(Hr.endTime.substring(0,5)),1),Hr.description?(openBlock(),createElementBlock("p",_hoisted_13$4,toDisplayString(Hr.description),1)):createCommentVNode("",!0)]),createBaseVNode("button",{onClick:withModifiers(Mr=>Tr(Hr.id),["stop"]),class:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},_r[9]||(_r[9]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,_hoisted_14$4)])],12,_hoisted_9$5))),128))])])])])),dr.value?(openBlock(),createElementBlock("div",_hoisted_15$4,[createBaseVNode("div",_hoisted_16$3,[createBaseVNode("h3",_hoisted_17$3,toDisplayString(hr.value?"Editar Evento":"Nuevo Evento"),1),createBaseVNode("div",_hoisted_18$3,[createBaseVNode("div",null,[_r[10]||(_r[10]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Materia "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":_r[0]||(_r[0]=Hr=>fr.value.subjectId=Hr),class:"input",required:!0},[fr.value.subjectId?createCommentVNode("",!0):(openBlock(),createElementBlock("option",_hoisted_19$3,"Selecciona una materia")),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(lr).subjects,Hr=>(openBlock(),createElementBlock("option",{key:Hr.id,value:Hr.id},toDisplayString(Hr.name),9,_hoisted_20$3))),128))],512),[[vModelSelect,fr.value.subjectId]])]),createBaseVNode("div",null,[_r[11]||(_r[11]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Descripcin ",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":_r[1]||(_r[1]=Hr=>fr.value.description=Hr),placeholder:"Descripcin o notas adicionales",rows:"2",class:"input"},null,512),[[vModelText,fr.value.description]])]),createBaseVNode("div",_hoisted_21$3,[createBaseVNode("div",null,[_r[12]||(_r[12]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Hora de inicio "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"time","onUpdate:modelValue":_r[2]||(_r[2]=Hr=>fr.value.startTime=Hr),class:"input"},null,512),[[vModelText,fr.value.startTime]])]),createBaseVNode("div",null,[_r[13]||(_r[13]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Hora de fin "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"time","onUpdate:modelValue":_r[3]||(_r[3]=Hr=>fr.value.endTime=Hr),class:"input"},null,512),[[vModelText,fr.value.endTime]])])]),createBaseVNode("div",null,[_r[14]||(_r[14]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Da "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":_r[4]||(_r[4]=Hr=>fr.value.day=Hr),class:"input"},[(openBlock(),createElementBlock(Fragment$1,null,renderList(Ar,Hr=>createBaseVNode("option",{key:Hr.value,value:Hr.value},toDisplayString(Hr.name),9,_hoisted_22$3)),64))],512),[[vModelSelect,fr.value.day]])])]),createBaseVNode("div",{class:"flex justify-end space-x-3 mt-6"},[createBaseVNode("button",{onClick:Br,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:Er,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"}," Guardar ")])])])):createCommentVNode("",!0),createVNode(_sfc_main$d,{show:gr.value,title:pr.value.title,message:pr.value.message,type:pr.value.type,onClose:_r[5]||(_r[5]=Hr=>gr.value=!1),onConfirm:Lr.handleConfirmDelete},null,8,["show","title","message","type","onConfirm"])]))}},useGradesStore=defineStore("grades",()=>{const ar=ref([]),or=ref(!1),lr=ref(null);async function Ar(){or.value=!0;try{ar.value=await db.grades.toArray(),lr.value=null}catch(gr){console.error("Error fetching grades:",gr),lr.value="Error al cargar las calificaciones"}finally{or.value=!1}}async function cr(gr){or.value=!0;try{ar.value=await db.grades.where("subjectId").equals(gr).toArray(),lr.value=null}catch(pr){console.error("Error fetching grades by subject:",pr),lr.value="Error al cargar las calificaciones de la materia"}finally{or.value=!1}}async function ur(gr){try{const pr=new Date().toISOString(),mr={...gr,createdAt:pr},yr=await db.grades.add(mr);return await Ar(),yr}catch(pr){throw console.error("Error adding grade:",pr),lr.value="Error al aadir la calificacin",pr}}async function dr(gr,pr){try{await db.grades.update(gr,pr),await Ar()}catch(mr){throw console.error("Error updating grade:",mr),lr.value="Error al actualizar la calificacin",mr}}async function hr(gr){try{await db.grades.delete(gr),await Ar()}catch(pr){throw console.error("Error deleting grade:",pr),lr.value="Error al eliminar la calificacin",pr}}const fr=computed(()=>gr=>{const pr=ar.value.filter(yr=>yr.subjectId===gr);if(pr.length===0)return 0;if(pr.every(yr=>yr.weight!==void 0&&yr.weight!==null)){const yr=pr.reduce((br,wr)=>br+(wr.weight||0),0),vr=pr.reduce((br,wr)=>{const Cr=wr.score/wr.maxScore;return br+Cr*(wr.weight||0)},0);return yr>0?vr/yr*100:0}else return pr.reduce((vr,br)=>vr+br.score/br.maxScore,0)/pr.length*100});return{grades:ar,loading:or,error:lr,fetchGrades:Ar,fetchGradesBySubject:cr,addGrade:ur,updateGrade:dr,deleteGrade:hr,calculateSubjectAverage:fr}}),_hoisted_1$8={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4"},_hoisted_2$6={class:"flex items-center gap-2"},_hoisted_3$6=["value"],_hoisted_4$5={key:0,class:"text-center py-8"},_hoisted_5$4={key:1,class:"text-center py-8"},_hoisted_6$4={key:2,class:"space-y-6"},_hoisted_7$4={class:"flex flex-col md:flex-row md:items-center justify-between mb-4"},_hoisted_8$4={class:"flex items-center"},_hoisted_9$4={class:"text-xl font-semibold text-gray-900 dark:text-white"},_hoisted_10$3={class:"mt-2 md:mt-0 flex items-center"},_hoisted_11$3={class:"text-lg font-semibold mr-3"},_hoisted_12$3=["onClick"],_hoisted_13$3={class:"overflow-x-auto"},_hoisted_14$3={class:"w-full"},_hoisted_15$3={class:"py-3 px-4 text-gray-900 dark:text-white"},_hoisted_16$2={class:"py-3 px-4 text-gray-900 dark:text-white"},_hoisted_17$2={class:"py-3 px-4"},_hoisted_18$2={class:"py-3 px-4 text-gray-900 dark:text-white"},_hoisted_19$2={class:"py-3 px-4 text-gray-600 dark:text-gray-400"},_hoisted_20$2={class:"py-3 px-4"},_hoisted_21$2={class:"flex items-center space-x-2"},_hoisted_22$2=["onClick"],_hoisted_23$2=["onClick"],_hoisted_24$2={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},_hoisted_25$1={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6"},_hoisted_26$1={class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},_hoisted_27$1={class:"space-y-4"},_hoisted_28$1={class:"grid grid-cols-2 gap-4"},_hoisted_29$1=["max"],_hoisted_30$1={class:"grid grid-cols-2 gap-4"},_hoisted_31={key:0},_hoisted_32={key:0,value:null,disabled:""},_hoisted_33=["value"],_sfc_main$8={__name:"GradesPage",setup(ar){const or=useGradesStore(),lr=useSubjectsStore(),Ar=ref(null),cr=ref({title:"",score:null,maxScore:100,weight:1,date:format(new Date,"yyyy-MM-dd"),subjectId:null}),ur=ref(!1),dr=ref(null),hr=ref(!1),fr=ref({title:"",message:"",type:"info"});onMounted(async()=>{await lr.fetchSubjects(),await or.fetchGrades()});const gr=computed(()=>{const Er={};if(lr.subjects.forEach(Tr=>{const kr=or.grades.filter(Or=>Or.subjectId===Tr.id);(kr.length>0||!Ar.value||Ar.value===Tr.id)&&(Er[Tr.id]={subject:Tr,grades:kr.sort((Or,Rr)=>new Date(Rr.date)-new Date(Or.date)),average:or.calculateSubjectAverage(Tr.id)})}),Ar.value){const Tr={};return Er[Ar.value]&&(Tr[Ar.value]=Er[Ar.value]),Tr}return Er}),pr=Er=>format(new Date(Er),"d MMM, yyyy",{locale:es}),mr=Er=>Er.toFixed(1)+"%",yr=Er=>Er>=90?"A":Er>=80?"B":Er>=70?"C":Er>=60?"D":"F",vr=Er=>{cr.value={title:"",score:null,maxScore:100,weight:1,date:format(new Date,"yyyy-MM-dd"),subjectId:Er},ur.value=!0,dr.value=null},br=()=>{ur.value=!1,dr.value=null},wr=async Er=>{const Tr=or.grades.find(kr=>kr.id===Er);Tr&&(cr.value={...Tr,date:format(new Date(Tr.date),"yyyy-MM-dd")},ur.value=!0,dr.value=Er)},Cr=Er=>{fr.value={title:"Error",message:Er,type:"error"},hr.value=!0},Br=async()=>{try{if(!cr.value.title){Cr("Por favor ingresa un ttulo para la calificacin");return}if(!cr.value.score||cr.value.score<0){Cr("Por favor ingresa una calificacin vlida");return}if(!cr.value.maxScore||cr.value.maxScore<=0){Cr("La calificacin mxima debe ser mayor a 0");return}const Er=lr.subjects.find(Tr=>Tr.id===cr.value.subjectId);await or.addGrade({...cr.value,subjectName:Er.name}),br()}catch(Er){console.error("Error saving grade:",Er),Cr("Error al guardar la calificacin")}},Sr=async Er=>{fr.value={title:"Confirmar eliminacin",message:"Ests seguro de que quieres eliminar esta calificacin?",type:"warning"},hr.value=!0;const Tr=watch(hr,kr=>{kr||Tr()})};return(Er,Tr)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$8,[Tr[12]||(Tr[12]=createBaseVNode("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Calificaciones",-1)),createBaseVNode("div",_hoisted_2$6,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Tr[0]||(Tr[0]=kr=>Ar.value=kr),class:"px-3 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300"},[Tr[10]||(Tr[10]=createBaseVNode("option",{value:null},"Todas las materias",-1)),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(lr).subjects,kr=>(openBlock(),createElementBlock("option",{key:kr.id,value:kr.id},toDisplayString(kr.name),9,_hoisted_3$6))),128))],512),[[vModelSelect,Ar.value]]),createBaseVNode("button",{onClick:Tr[1]||(Tr[1]=kr=>vr(Ar.value)),class:"btn btn-primary flex items-center"},Tr[11]||(Tr[11]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Nueva Calificacin ")]))])]),unref(or).loading?(openBlock(),createElementBlock("div",_hoisted_4$5,Tr[13]||(Tr[13]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando calificaciones...",-1)]))):Object.keys(gr.value).length===0?(openBlock(),createElementBlock("div",_hoisted_5$4,[Tr[14]||(Tr[14]=createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"No hay calificaciones registradas",-1)),createBaseVNode("button",{onClick:Tr[2]||(Tr[2]=kr=>vr(null)),class:"mt-4 btn btn-primary"}," Aadir primera calificacin ")])):(openBlock(),createElementBlock("div",_hoisted_6$4,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(gr.value,(kr,Or)=>(openBlock(),createElementBlock("div",{key:Or,class:"card"},[createBaseVNode("div",_hoisted_7$4,[createBaseVNode("div",_hoisted_8$4,[createBaseVNode("span",{class:"inline-block w-4 h-4 rounded-full mr-2",style:normalizeStyle({backgroundColor:kr.subject.color})},null,4),createBaseVNode("h2",_hoisted_9$4,toDisplayString(kr.subject.name),1)]),createBaseVNode("div",_hoisted_10$3,[createBaseVNode("div",_hoisted_11$3,[Tr[15]||(Tr[15]=createTextVNode(" Promedio: ")),createBaseVNode("span",{class:normalizeClass(kr.average>=70?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},toDisplayString(mr(kr.average))+" ("+toDisplayString(yr(kr.average))+") ",3)]),createBaseVNode("button",{onClick:Rr=>vr(Number(Or)),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},Tr[16]||(Tr[16]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),8,_hoisted_12$3)])]),createBaseVNode("div",_hoisted_13$3,[createBaseVNode("table",_hoisted_14$3,[Tr[19]||(Tr[19]=createBaseVNode("thead",null,[createBaseVNode("tr",{class:"text-left border-b border-gray-200 dark:border-gray-700"},[createBaseVNode("th",{class:"py-2 px-4 text-gray-600 dark:text-gray-300"},"Ttulo"),createBaseVNode("th",{class:"py-2 px-4 text-gray-600 dark:text-gray-300"},"Calificacin"),createBaseVNode("th",{class:"py-2 px-4 text-gray-600 dark:text-gray-300"},"Porcentaje"),createBaseVNode("th",{class:"py-2 px-4 text-gray-600 dark:text-gray-300"},"Peso"),createBaseVNode("th",{class:"py-2 px-4 text-gray-600 dark:text-gray-300"},"Fecha"),createBaseVNode("th",{class:"py-2 px-4 text-gray-600 dark:text-gray-300"},"Acciones")])],-1)),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(kr.grades,Rr=>(openBlock(),createElementBlock("tr",{key:Rr.id,class:"border-b border-gray-100 dark:border-gray-800"},[createBaseVNode("td",_hoisted_15$3,toDisplayString(Rr.title),1),createBaseVNode("td",_hoisted_16$2,toDisplayString(Rr.score)+"/"+toDisplayString(Rr.maxScore),1),createBaseVNode("td",_hoisted_17$2,[createBaseVNode("span",{class:normalizeClass(Rr.score/Rr.maxScore*100>=70?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},toDisplayString(mr(Rr.score/Rr.maxScore*100)),3)]),createBaseVNode("td",_hoisted_18$2,toDisplayString(Rr.weight),1),createBaseVNode("td",_hoisted_19$2,toDisplayString(pr(Rr.date)),1),createBaseVNode("td",_hoisted_20$2,[createBaseVNode("div",_hoisted_21$2,[createBaseVNode("button",{onClick:Lr=>wr(Rr.id),class:"p-1 text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400"},Tr[17]||(Tr[17]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,_hoisted_22$2),createBaseVNode("button",{onClick:Lr=>Sr(Rr.id),class:"p-1 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400"},Tr[18]||(Tr[18]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,_hoisted_23$2)])])]))),128))])])])]))),128))])),ur.value?(openBlock(),createElementBlock("div",_hoisted_24$2,[createBaseVNode("div",_hoisted_25$1,[createBaseVNode("h3",_hoisted_26$1,toDisplayString(dr.value?"Editar Calificacin":"Nueva Calificacin"),1),createBaseVNode("div",_hoisted_27$1,[createBaseVNode("div",null,[Tr[20]||(Tr[20]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Ttulo "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":Tr[3]||(Tr[3]=kr=>cr.value.title=kr),placeholder:"Ej: Examen Parcial",class:"input"},null,512),[[vModelText,cr.value.title]])]),createBaseVNode("div",_hoisted_28$1,[createBaseVNode("div",null,[Tr[21]||(Tr[21]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Calificacin "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":Tr[4]||(Tr[4]=kr=>cr.value.score=kr),min:"0",max:cr.value.maxScore,class:"input"},null,8,_hoisted_29$1),[[vModelText,cr.value.score,void 0,{number:!0}]])]),createBaseVNode("div",null,[Tr[22]||(Tr[22]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Mximo "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":Tr[5]||(Tr[5]=kr=>cr.value.maxScore=kr),min:"1",class:"input"},null,512),[[vModelText,cr.value.maxScore,void 0,{number:!0}]])])]),createBaseVNode("div",_hoisted_30$1,[createBaseVNode("div",null,[Tr[23]||(Tr[23]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Peso ",-1)),withDirectives(createBaseVNode("input",{type:"number","onUpdate:modelValue":Tr[6]||(Tr[6]=kr=>cr.value.weight=kr),min:"0.1",step:"0.1",class:"input"},null,512),[[vModelText,cr.value.weight,void 0,{number:!0}]])]),createBaseVNode("div",null,[Tr[24]||(Tr[24]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Fecha ",-1)),withDirectives(createBaseVNode("input",{type:"date","onUpdate:modelValue":Tr[7]||(Tr[7]=kr=>cr.value.date=kr),class:"input"},null,512),[[vModelText,cr.value.date]])])]),dr.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_31,[Tr[25]||(Tr[25]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Materia "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":Tr[8]||(Tr[8]=kr=>cr.value.subjectId=kr),class:"input",required:!0},[cr.value.subjectId?createCommentVNode("",!0):(openBlock(),createElementBlock("option",_hoisted_32,"Selecciona una materia")),(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(lr).subjects,kr=>(openBlock(),createElementBlock("option",{key:kr.id,value:kr.id},toDisplayString(kr.name),9,_hoisted_33))),128))],512),[[vModelSelect,cr.value.subjectId]])]))]),createBaseVNode("div",{class:"flex justify-end space-x-3 mt-6"},[createBaseVNode("button",{onClick:br,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:Br,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"}," Guardar ")])])])):createCommentVNode("",!0),createVNode(_sfc_main$d,{show:hr.value,title:fr.value.title,message:fr.value.message,type:fr.value.type,onClose:Tr[9]||(Tr[9]=kr=>hr.value=!1),onConfirm:Er.handleConfirmDelete},null,8,["show","title","message","type","onConfirm"])]))}},usePdfsStore=defineStore("pdfs",()=>{const ar=ref([]),or=ref(!1),lr=ref(null);async function Ar(){or.value=!0;try{ar.value=await db.pdfs.toArray(),lr.value=null}catch(pr){console.error("Error fetching PDFs:",pr),lr.value="Error al cargar los PDFs"}finally{or.value=!1}}async function cr(pr){or.value=!0;try{ar.value=await db.pdfs.where("subjectId").equals(pr).toArray(),lr.value=null}catch(mr){console.error("Error fetching PDFs by subject:",mr),lr.value="Error al cargar los PDFs de la materia"}finally{or.value=!1}}async function ur(pr,mr){try{const yr=new Date().toISOString(),vr=await mr.arrayBuffer(),br={...pr,file:vr,size:mr.size,createdAt:yr,updatedAt:yr},wr=await db.pdfs.add(br);return await Ar(),wr}catch(yr){throw console.error("Error adding PDF:",yr),lr.value="Error al aadir el PDF",yr}}async function dr(pr,mr,yr){try{const vr=new Date().toISOString(),br=await db.pdfs.get(pr);let wr={...mr,updatedAt:vr};if(yr){const Cr=await yr.arrayBuffer();wr={...wr,file:Cr,size:yr.size}}await db.pdfs.update(pr,wr),await Ar()}catch(vr){throw console.error("Error updating PDF:",vr),lr.value="Error al actualizar el PDF",vr}}async function hr(pr){try{await db.pdfs.delete(pr),await Ar()}catch(mr){throw console.error("Error deleting PDF:",mr),lr.value="Error al eliminar el PDF",mr}}const fr=computed(()=>async pr=>pr?await db.pdfs.get(Number(pr)):null);async function gr(pr){or.value=!0;try{const mr=await db.pdfs.toArray(),yr=pr.toLowerCase();ar.value=mr.filter(vr=>vr.title.toLowerCase().includes(yr)),lr.value=null}catch(mr){console.error("Error searching PDFs:",mr),lr.value="Error al buscar los PDFs"}finally{or.value=!1}}return{pdfs:ar,loading:or,error:lr,fetchPdfs:Ar,fetchPdfsBySubject:cr,addPdf:ur,updatePdf:dr,deletePdf:hr,getPdfById:fr,searchPdfs:gr}}),_hoisted_1$7={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},_hoisted_2$5={class:"md:col-span-2"},_hoisted_3$5={key:0,class:"text-center py-8"},_hoisted_4$4={key:1,class:"text-center py-8"},_hoisted_5$3={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},_hoisted_6$3={class:"mb-2 flex items-center"},_hoisted_7$3={class:"text-xs text-gray-600 dark:text-gray-300"},_hoisted_8$3={class:"flex items-start gap-3"},_hoisted_9$3={class:"flex-grow"},_hoisted_10$2={class:"text-lg font-semibold text-gray-900 dark:text-white mb-1"},_hoisted_11$2={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},_hoisted_12$2={class:"mt-4 flex justify-between"},_hoisted_13$2=["onClick"],_hoisted_14$2={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},_hoisted_15$2={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6"},_hoisted_16$1={class:"space-y-4"},_hoisted_17$1={key:0},_hoisted_18$1={key:1,class:"text-left"},_hoisted_19$1={class:"flex items-start gap-3"},_hoisted_20$1={class:"flex-grow"},_hoisted_21$1={class:"text-base font-medium text-gray-900 dark:text-white"},_hoisted_22$1={class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_23$1={class:"flex justify-end space-x-3 mt-6"},_hoisted_24$1=["disabled"],_sfc_main$7={__name:"PdfsPage",setup(ar){const or=usePdfsStore(),lr=useSubjectsStore(),Ar=ref(null),cr=ref(""),ur=ref(!1),dr=ref(null),hr=ref(null),fr=ref({title:"",subjectId:null}),gr=ref(!1),pr=ref({title:"",message:"",type:"info"});onMounted(async()=>{await lr.fetchSubjects(),await or.fetchPdfs()});const mr=computed(()=>{let Rr=or.pdfs;if(Ar.value&&(Rr=Rr.filter(Lr=>Lr.subjectId===Ar.value)),cr.value){const Lr=cr.value.toLowerCase();Rr=Rr.filter(_r=>_r.title.toLowerCase().includes(Lr))}return[...Rr].sort((Lr,_r)=>new Date(_r.createdAt)-new Date(Lr.createdAt))}),yr=Rr=>format(new Date(Rr),"d MMM, yyyy",{locale:es}),vr=Rr=>Rr<1024?Rr+" bytes":Rr<1048576?(Rr/1024).toFixed(1)+" KB":(Rr/1048576).toFixed(1)+" MB",br=Rr=>lr.subjects.find(Lr=>Lr.id===Rr)||{name:"Sin materia",color:"#94a3b8"},wr=Rr=>{cr.value=Rr},Cr=()=>{Ar.value=null,cr.value=""},Br=()=>{fr.value={title:"",subjectId:null},dr.value=null,ur.value=!0},Sr=()=>{ur.value=!1},Er=Rr=>{const Lr=Rr.target.files[0];Lr&&Lr.type==="application/pdf"?(dr.value=Lr,fr.value.title||(fr.value.title=Lr.name.replace(".pdf",""))):(alert("Por favor selecciona un archivo PDF vlido"),dr.value=null,hr.value&&(hr.value.value=""))},Tr=Rr=>{pr.value={title:"Error",message:Rr,type:"error"},gr.value=!0},kr=async()=>{try{if(!dr.value){Tr("Por favor selecciona un archivo PDF");return}if(!fr.value.title){Tr("Por favor ingresa un ttulo para el documento");return}if(!fr.value.subjectId){Tr("Por favor selecciona una materia");return}const Rr=lr.subjects.find(Lr=>Lr.id===fr.value.subjectId);await or.addPdf({...fr.value,file:dr.value,subjectName:Rr.name}),Sr()}catch(Rr){console.error("Error uploading PDF:",Rr),Tr("Error al subir el PDF")}},Or=async Rr=>{pr.value={title:"Confirmar eliminacin",message:"Ests seguro de que quieres eliminar este PDF?",type:"warning"},gr.value=!0;const Lr=watch(gr,_r=>{_r||Lr()})};return(Rr,Lr)=>{const _r=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4"},[Lr[6]||(Lr[6]=createBaseVNode("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Documentos PDF",-1)),createBaseVNode("button",{onClick:Br,class:"btn btn-primary flex items-center justify-center"},Lr[5]||(Lr[5]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"})],-1),createTextVNode(" Subir PDF ")]))]),createBaseVNode("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$5,[createVNode(_sfc_main$g,{placeholder:"Buscar documentos...",onSearch:wr})]),createBaseVNode("div",null,[createVNode(_sfc_main$f,{modelValue:Ar.value,"onUpdate:modelValue":Lr[0]||(Lr[0]=Hr=>Ar.value=Hr)},null,8,["modelValue"])])]),unref(or).loading?(openBlock(),createElementBlock("div",_hoisted_3$5,Lr[7]||(Lr[7]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando documentos...",-1)]))):mr.value.length===0?(openBlock(),createElementBlock("div",_hoisted_4$4,[Lr[8]||(Lr[8]=createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"No se encontraron documentos",-1)),Ar.value||cr.value?(openBlock(),createElementBlock("button",{key:0,onClick:Cr,class:"mt-2 text-primary-600 dark:text-primary-400 hover:underline"}," Borrar filtros ")):createCommentVNode("",!0),createBaseVNode("button",{onClick:Br,class:"mt-4 btn btn-primary"}," Subir tu primer PDF ")])):(openBlock(),createElementBlock("div",_hoisted_5$3,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(mr.value,Hr=>(openBlock(),createElementBlock("div",{key:Hr.id,class:"card hover:shadow-lg transition-shadow cursor-pointer"},[createBaseVNode("div",_hoisted_6$3,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full mr-2",style:normalizeStyle({backgroundColor:br(Hr.subjectId).color})},null,4),createBaseVNode("span",_hoisted_7$3,toDisplayString(br(Hr.subjectId).name),1)]),createBaseVNode("div",_hoisted_8$3,[Lr[9]||(Lr[9]=createBaseVNode("div",{class:"flex-shrink-0 w-10 h-12 bg-red-100 dark:bg-red-900/30 rounded flex items-center justify-center"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),createBaseVNode("div",_hoisted_9$3,[createVNode(_r,{to:`/pdfs/${Hr.id}`},{default:withCtx(()=>[createBaseVNode("h3",_hoisted_10$2,toDisplayString(Hr.title),1)]),_:2},1032,["to"]),createBaseVNode("div",_hoisted_11$2,[createBaseVNode("span",null,toDisplayString(vr(Hr.size)),1),createBaseVNode("span",null,toDisplayString(yr(Hr.createdAt)),1)])])]),createBaseVNode("div",_hoisted_12$2,[createVNode(_r,{to:`/pdfs/${Hr.id}`,class:"px-3 py-1.5 bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 rounded-lg text-sm hover:bg-primary-200 dark:hover:bg-primary-800/30 transition-colors"},{default:withCtx(()=>Lr[10]||(Lr[10]=[createTextVNode(" Abrir ")])),_:2,__:[10]},1032,["to"]),createBaseVNode("button",{onClick:withModifiers(Mr=>Or(Hr.id),["stop"]),class:"px-3 py-1.5 bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"}," Eliminar ",8,_hoisted_13$2)])]))),128))])),ur.value?(openBlock(),createElementBlock("div",_hoisted_14$2,[createBaseVNode("div",_hoisted_15$2,[Lr[16]||(Lr[16]=createBaseVNode("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"}," Subir Nuevo PDF ",-1)),createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",{class:normalizeClass(["border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-6 text-center",{"border-primary-500 dark:border-primary-500":dr.value}])},[dr.value?(openBlock(),createElementBlock("div",_hoisted_18$1,[createBaseVNode("div",_hoisted_19$1,[Lr[14]||(Lr[14]=createBaseVNode("div",{class:"flex-shrink-0 w-10 h-12 bg-red-100 dark:bg-red-900/30 rounded flex items-center justify-center"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),createBaseVNode("div",_hoisted_20$1,[createBaseVNode("h4",_hoisted_21$1,toDisplayString(dr.value.name),1),createBaseVNode("p",_hoisted_22$1,toDisplayString(vr(dr.value.size)),1)]),createBaseVNode("button",{onClick:Lr[1]||(Lr[1]=Hr=>{dr.value=null,hr.value.value&&(hr.value.value.value="")}),class:"p-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},Lr[13]||(Lr[13]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(openBlock(),createElementBlock("div",_hoisted_17$1,[Lr[11]||(Lr[11]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),Lr[12]||(Lr[12]=createBaseVNode("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-300"}," Arrastra y suelta un archivo PDF aqu, o haz clic para seleccionar ",-1)),createBaseVNode("input",{type:"file",ref_key:"fileInputRef",ref:hr,onChange:Er,accept:"application/pdf",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,544)]))],2),createBaseVNode("div",null,[Lr[15]||(Lr[15]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[createTextVNode(" Ttulo "),createBaseVNode("span",{class:"text-red-500"},"*")],-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":Lr[2]||(Lr[2]=Hr=>fr.value.title=Hr),placeholder:"Ttulo del documento",class:"input"},null,512),[[vModelText,fr.value.title]])]),createBaseVNode("div",null,[createVNode(_sfc_main$f,{modelValue:fr.value.subjectId,"onUpdate:modelValue":Lr[3]||(Lr[3]=Hr=>fr.value.subjectId=Hr),required:!0},null,8,["modelValue"])])]),createBaseVNode("div",_hoisted_23$1,[createBaseVNode("button",{onClick:Sr,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:kr,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",disabled:!dr.value}," Subir ",8,_hoisted_24$1)])])])):createCommentVNode("",!0),createVNode(_sfc_main$d,{show:gr.value,title:pr.value.title,message:pr.value.message,type:pr.value.type,onClose:Lr[4]||(Lr[4]=Hr=>gr.value=!1),onConfirm:Rr.handleConfirmDelete},null,8,["show","title","message","type","onConfirm"])])}}};function commonjsRequire(ar){throw new Error('Could not dynamically require "'+ar+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(or,lr){module.exports=or.pdfjsLib=lr()})(globalThis,()=>(()=>{var __webpack_modules__=[,(ar,or)=>{var bi;Object.defineProperty(or,"__esModule",{value:!0}),or.VerbosityLevel=or.Util=or.UnknownErrorException=or.UnexpectedResponseException=or.TextRenderingMode=or.RenderingIntentFlag=or.PromiseCapability=or.PermissionFlag=or.PasswordResponses=or.PasswordException=or.PageActionEventType=or.OPS=or.MissingPDFException=or.MAX_IMAGE_SIZE_TO_CACHE=or.LINE_FACTOR=or.LINE_DESCENT_FACTOR=or.InvalidPDFException=or.ImageKind=or.IDENTITY_MATRIX=or.FormatError=or.FeatureTest=or.FONT_IDENTITY_MATRIX=or.DocumentActionEventType=or.CMapCompressionType=or.BaseException=or.BASELINE_FACTOR=or.AnnotationType=or.AnnotationReplyType=or.AnnotationPrefix=or.AnnotationMode=or.AnnotationFlag=or.AnnotationFieldFlag=or.AnnotationEditorType=or.AnnotationEditorPrefix=or.AnnotationEditorParamsType=or.AnnotationBorderStyleType=or.AnnotationActionEventType=or.AbortException=void 0,or.assert=is,or.bytesToString=Ts,or.createValidAbsoluteUrl=Os,or.getModificationDate=li,or.getUuid=$s,or.getVerbosityLevel=Yr,or.info=Zr,or.isArrayBuffer=Fs,or.isArrayEqual=ni,or.isNodeJS=void 0,or.normalizeUnicode=Bs,or.objectFromMap=ms,or.objectSize=ps,or.setVerbosityLevel=Xr,or.shadow=Vr,or.string32=us,or.stringToBytes=Ds,or.stringToPDFString=Ps,or.stringToUTF8String=Ws,or.unreachable=As,or.utf8StringToString=Ks,or.warn=ns;const lr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");or.isNodeJS=lr;const Ar=[1,0,0,1,0,0];or.IDENTITY_MATRIX=Ar;const cr=[.001,0,0,.001,0,0];or.FONT_IDENTITY_MATRIX=cr;const ur=1e7;or.MAX_IMAGE_SIZE_TO_CACHE=ur;const dr=1.35;or.LINE_FACTOR=dr;const hr=.35;or.LINE_DESCENT_FACTOR=hr;const fr=hr/dr;or.BASELINE_FACTOR=fr;const gr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};or.RenderingIntentFlag=gr;const pr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};or.AnnotationMode=pr;const mr="pdfjs_internal_editor_";or.AnnotationEditorPrefix=mr;const yr={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};or.AnnotationEditorType=yr;const vr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};or.AnnotationEditorParamsType=vr;const br={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};or.PermissionFlag=br;const wr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};or.TextRenderingMode=wr;const Cr={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};or.ImageKind=Cr;const Br={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};or.AnnotationType=Br;const Sr={GROUP:"Group",REPLY:"R"};or.AnnotationReplyType=Sr;const Er={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};or.AnnotationFlag=Er;const Tr={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};or.AnnotationFieldFlag=Tr;const kr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};or.AnnotationBorderStyleType=kr;const Or={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};or.AnnotationActionEventType=Or;const Rr={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};or.DocumentActionEventType=Rr;const Lr={O:"PageOpen",C:"PageClose"};or.PageActionEventType=Lr;const _r={ERRORS:0,WARNINGS:1,INFOS:5};or.VerbosityLevel=_r;const Hr={NONE:0,BINARY:1};or.CMapCompressionType=Hr;const Mr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};or.OPS=Mr;const Ur={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};or.PasswordResponses=Ur;let Kr=_r.WARNINGS;function Xr(zs){Number.isInteger(zs)&&(Kr=zs)}function Yr(){return Kr}function Zr(zs){Kr>=_r.INFOS&&console.log(`Info: ${zs}`)}function ns(zs){Kr>=_r.WARNINGS&&console.log(`Warning: ${zs}`)}function As(zs){throw new Error(zs)}function is(zs,Vs){zs||As(Vs)}function gs(zs){switch(zs==null?void 0:zs.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Os(zs,Vs=null,Ys=null){if(!zs)return null;try{if(Ys&&typeof zs=="string"){if(Ys.addDefaultProtocol&&zs.startsWith("www.")){const Pi=zs.match(/\./g);(Pi==null?void 0:Pi.length)>=2&&(zs=`http://${zs}`)}if(Ys.tryConvertEncoding)try{zs=Ws(zs)}catch{}}const fi=Vs?new URL(zs,Vs):new URL(zs);if(gs(fi))return fi}catch{}return null}function Vr(zs,Vs,Ys,fi=!1){return Object.defineProperty(zs,Vs,{value:Ys,enumerable:!fi,configurable:!0,writable:!1}),Ys}const Qr=function(){function Vs(Ys,fi){this.constructor===Vs&&As("Cannot initialize BaseException."),this.message=Ys,this.name=fi}return Vs.prototype=new Error,Vs.constructor=Vs,Vs}();or.BaseException=Qr;class $r extends Qr{constructor(Vs,Ys){super(Vs,"PasswordException"),this.code=Ys}}or.PasswordException=$r;class zr extends Qr{constructor(Vs,Ys){super(Vs,"UnknownErrorException"),this.details=Ys}}or.UnknownErrorException=zr;class cs extends Qr{constructor(Vs){super(Vs,"InvalidPDFException")}}or.InvalidPDFException=cs;class Jr extends Qr{constructor(Vs){super(Vs,"MissingPDFException")}}or.MissingPDFException=Jr;class ls extends Qr{constructor(Vs,Ys){super(Vs,"UnexpectedResponseException"),this.status=Ys}}or.UnexpectedResponseException=ls;class hs extends Qr{constructor(Vs){super(Vs,"FormatError")}}or.FormatError=hs;class bs extends Qr{constructor(Vs){super(Vs,"AbortException")}}or.AbortException=bs;function Ts(zs){(typeof zs!="object"||(zs==null?void 0:zs.length)===void 0)&&As("Invalid argument for bytesToString");const Vs=zs.length,Ys=8192;if(Vs<Ys)return String.fromCharCode.apply(null,zs);const fi=[];for(let Pi=0;Pi<Vs;Pi+=Ys){const Ei=Math.min(Pi+Ys,Vs),Rs=zs.subarray(Pi,Ei);fi.push(String.fromCharCode.apply(null,Rs))}return fi.join("")}function Ds(zs){typeof zs!="string"&&As("Invalid argument for stringToBytes");const Vs=zs.length,Ys=new Uint8Array(Vs);for(let fi=0;fi<Vs;++fi)Ys[fi]=zs.charCodeAt(fi)&255;return Ys}function us(zs){return String.fromCharCode(zs>>24&255,zs>>16&255,zs>>8&255,zs&255)}function ps(zs){return Object.keys(zs).length}function ms(zs){const Vs=Object.create(null);for(const[Ys,fi]of zs)Vs[Ys]=fi;return Vs}function ss(){const zs=new Uint8Array(4);return zs[0]=1,new Uint32Array(zs.buffer,0,1)[0]===1}function ks(){try{return new Function(""),!0}catch{return!1}}class as{static get isLittleEndian(){return Vr(this,"isLittleEndian",ss())}static get isEvalSupported(){return Vr(this,"isEvalSupported",ks())}static get isOffscreenCanvasSupported(){return Vr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Vr(this,"platform",{isWin:!1,isMac:!1}):Vr(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Vs,Ys;return Vr(this,"isCSSRoundSupported",(Ys=(Vs=globalThis.CSS)==null?void 0:Vs.supports)==null?void 0:Ys.call(Vs,"width: round(1.5px, 1px)"))}}or.FeatureTest=as;const fs=[...Array(256).keys()].map(zs=>zs.toString(16).padStart(2,"0"));class ws{static makeHexColor(Vs,Ys,fi){return`#${fs[Vs]}${fs[Ys]}${fs[fi]}`}static scaleMinMax(Vs,Ys){let fi;Vs[0]?(Vs[0]<0&&(fi=Ys[0],Ys[0]=Ys[1],Ys[1]=fi),Ys[0]*=Vs[0],Ys[1]*=Vs[0],Vs[3]<0&&(fi=Ys[2],Ys[2]=Ys[3],Ys[3]=fi),Ys[2]*=Vs[3],Ys[3]*=Vs[3]):(fi=Ys[0],Ys[0]=Ys[2],Ys[2]=fi,fi=Ys[1],Ys[1]=Ys[3],Ys[3]=fi,Vs[1]<0&&(fi=Ys[2],Ys[2]=Ys[3],Ys[3]=fi),Ys[2]*=Vs[1],Ys[3]*=Vs[1],Vs[2]<0&&(fi=Ys[0],Ys[0]=Ys[1],Ys[1]=fi),Ys[0]*=Vs[2],Ys[1]*=Vs[2]),Ys[0]+=Vs[4],Ys[1]+=Vs[4],Ys[2]+=Vs[5],Ys[3]+=Vs[5]}static transform(Vs,Ys){return[Vs[0]*Ys[0]+Vs[2]*Ys[1],Vs[1]*Ys[0]+Vs[3]*Ys[1],Vs[0]*Ys[2]+Vs[2]*Ys[3],Vs[1]*Ys[2]+Vs[3]*Ys[3],Vs[0]*Ys[4]+Vs[2]*Ys[5]+Vs[4],Vs[1]*Ys[4]+Vs[3]*Ys[5]+Vs[5]]}static applyTransform(Vs,Ys){const fi=Vs[0]*Ys[0]+Vs[1]*Ys[2]+Ys[4],Pi=Vs[0]*Ys[1]+Vs[1]*Ys[3]+Ys[5];return[fi,Pi]}static applyInverseTransform(Vs,Ys){const fi=Ys[0]*Ys[3]-Ys[1]*Ys[2],Pi=(Vs[0]*Ys[3]-Vs[1]*Ys[2]+Ys[2]*Ys[5]-Ys[4]*Ys[3])/fi,Ei=(-Vs[0]*Ys[1]+Vs[1]*Ys[0]+Ys[4]*Ys[1]-Ys[5]*Ys[0])/fi;return[Pi,Ei]}static getAxialAlignedBoundingBox(Vs,Ys){const fi=this.applyTransform(Vs,Ys),Pi=this.applyTransform(Vs.slice(2,4),Ys),Ei=this.applyTransform([Vs[0],Vs[3]],Ys),Rs=this.applyTransform([Vs[2],Vs[1]],Ys);return[Math.min(fi[0],Pi[0],Ei[0],Rs[0]),Math.min(fi[1],Pi[1],Ei[1],Rs[1]),Math.max(fi[0],Pi[0],Ei[0],Rs[0]),Math.max(fi[1],Pi[1],Ei[1],Rs[1])]}static inverseTransform(Vs){const Ys=Vs[0]*Vs[3]-Vs[1]*Vs[2];return[Vs[3]/Ys,-Vs[1]/Ys,-Vs[2]/Ys,Vs[0]/Ys,(Vs[2]*Vs[5]-Vs[4]*Vs[3])/Ys,(Vs[4]*Vs[1]-Vs[5]*Vs[0])/Ys]}static singularValueDecompose2dScale(Vs){const Ys=[Vs[0],Vs[2],Vs[1],Vs[3]],fi=Vs[0]*Ys[0]+Vs[1]*Ys[2],Pi=Vs[0]*Ys[1]+Vs[1]*Ys[3],Ei=Vs[2]*Ys[0]+Vs[3]*Ys[2],Rs=Vs[2]*Ys[1]+Vs[3]*Ys[3],Js=(fi+Rs)/2,oi=Math.sqrt((fi+Rs)**2-4*(fi*Rs-Ei*Pi))/2,hi=Js+oi||1,Bi=Js-oi||1;return[Math.sqrt(hi),Math.sqrt(Bi)]}static normalizeRect(Vs){const Ys=Vs.slice(0);return Vs[0]>Vs[2]&&(Ys[0]=Vs[2],Ys[2]=Vs[0]),Vs[1]>Vs[3]&&(Ys[1]=Vs[3],Ys[3]=Vs[1]),Ys}static intersect(Vs,Ys){const fi=Math.max(Math.min(Vs[0],Vs[2]),Math.min(Ys[0],Ys[2])),Pi=Math.min(Math.max(Vs[0],Vs[2]),Math.max(Ys[0],Ys[2]));if(fi>Pi)return null;const Ei=Math.max(Math.min(Vs[1],Vs[3]),Math.min(Ys[1],Ys[3])),Rs=Math.min(Math.max(Vs[1],Vs[3]),Math.max(Ys[1],Ys[3]));return Ei>Rs?null:[fi,Ei,Pi,Rs]}static bezierBoundingBox(Vs,Ys,fi,Pi,Ei,Rs,Js,oi){const hi=[],Bi=[[],[]];let Ii,Ms,_s,Xs,Zs,pi,wi,Ci;for(let Yi=0;Yi<2;++Yi){if(Yi===0?(Ms=6*Vs-12*fi+6*Ei,Ii=-3*Vs+9*fi-9*Ei+3*Js,_s=3*fi-3*Vs):(Ms=6*Ys-12*Pi+6*Rs,Ii=-3*Ys+9*Pi-9*Rs+3*oi,_s=3*Pi-3*Ys),Math.abs(Ii)<1e-12){if(Math.abs(Ms)<1e-12)continue;Xs=-_s/Ms,0<Xs&&Xs<1&&hi.push(Xs);continue}wi=Ms*Ms-4*_s*Ii,Ci=Math.sqrt(wi),!(wi<0)&&(Zs=(-Ms+Ci)/(2*Ii),0<Zs&&Zs<1&&hi.push(Zs),pi=(-Ms-Ci)/(2*Ii),0<pi&&pi<1&&hi.push(pi))}let Fi=hi.length,Di;const Mi=Fi;for(;Fi--;)Xs=hi[Fi],Di=1-Xs,Bi[0][Fi]=Di*Di*Di*Vs+3*Di*Di*Xs*fi+3*Di*Xs*Xs*Ei+Xs*Xs*Xs*Js,Bi[1][Fi]=Di*Di*Di*Ys+3*Di*Di*Xs*Pi+3*Di*Xs*Xs*Rs+Xs*Xs*Xs*oi;return Bi[0][Mi]=Vs,Bi[1][Mi]=Ys,Bi[0][Mi+1]=Js,Bi[1][Mi+1]=oi,Bi[0].length=Bi[1].length=Mi+2,[Math.min(...Bi[0]),Math.min(...Bi[1]),Math.max(...Bi[0]),Math.max(...Bi[1])]}}or.Util=ws;const Is=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ps(zs){if(zs[0]>=""){let Ys;if(zs[0]===""&&zs[1]===""?Ys="utf-16be":zs[0]===""&&zs[1]===""?Ys="utf-16le":zs[0]===""&&zs[1]===""&&zs[2]===""&&(Ys="utf-8"),Ys)try{const fi=new TextDecoder(Ys,{fatal:!0}),Pi=Ds(zs);return fi.decode(Pi)}catch(fi){ns(`stringToPDFString: "${fi}".`)}}const Vs=[];for(let Ys=0,fi=zs.length;Ys<fi;Ys++){const Pi=Is[zs.charCodeAt(Ys)];Vs.push(Pi?String.fromCharCode(Pi):zs.charAt(Ys))}return Vs.join("")}function Ws(zs){return decodeURIComponent(escape(zs))}function Ks(zs){return unescape(encodeURIComponent(zs))}function Fs(zs){return typeof zs=="object"&&(zs==null?void 0:zs.byteLength)!==void 0}function ni(zs,Vs){if(zs.length!==Vs.length)return!1;for(let Ys=0,fi=zs.length;Ys<fi;Ys++)if(zs[Ys]!==Vs[Ys])return!1;return!0}function li(zs=new Date){return[zs.getUTCFullYear().toString(),(zs.getUTCMonth()+1).toString().padStart(2,"0"),zs.getUTCDate().toString().padStart(2,"0"),zs.getUTCHours().toString().padStart(2,"0"),zs.getUTCMinutes().toString().padStart(2,"0"),zs.getUTCSeconds().toString().padStart(2,"0")].join("")}class Si{constructor(){ci(this,bi,!1);this.promise=new Promise((Vs,Ys)=>{this.resolve=fi=>{di(this,bi,!0),Vs(fi)},this.reject=fi=>{di(this,bi,!0),Ys(fi)}})}get settled(){return qr(this,bi)}}bi=new WeakMap,or.PromiseCapability=Si;let Us=null,Cs=null;function Bs(zs){return Us||(Us=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Cs=new Map([["","t"]])),zs.replaceAll(Us,(Vs,Ys,fi)=>Ys?Ys.normalize("NFKC"):Cs.get(fi))}function $s(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const zs=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(zs);else for(let Vs=0;Vs<32;Vs++)zs[Vs]=Math.floor(Math.random()*255);return Ts(zs)}const qs="pdfjs_internal_id_";or.AnnotationPrefix=qs},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ar,lr,Ar,cr,au,Rd,hr,fr,gr,pr,mr,yr,vr,br,wr,Dd,Br,Sr,$f,Tr,kr;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Rr){if(typeof Rr=="string"||Rr instanceof URL?Rr={url:Rr}:(0,_util.isArrayBuffer)(Rr)&&(Rr={data:Rr}),typeof Rr!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Rr.url&&!Rr.data&&!Rr.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Lr=new PDFDocumentLoadingTask,{docId:_r}=Lr,Hr=Rr.url?getUrlProp(Rr.url):null,Mr=Rr.data?getDataProp(Rr.data):null,Ur=Rr.httpHeaders||null,Kr=Rr.withCredentials===!0,Xr=Rr.password??null,Yr=Rr.range instanceof PDFDataRangeTransport?Rr.range:null,Zr=Number.isInteger(Rr.rangeChunkSize)&&Rr.rangeChunkSize>0?Rr.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ns=Rr.worker instanceof PDFWorker?Rr.worker:null;const As=Rr.verbosity,is=typeof Rr.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Rr.docBaseUrl)?Rr.docBaseUrl:null,gs=typeof Rr.cMapUrl=="string"?Rr.cMapUrl:null,Os=Rr.cMapPacked!==!1,Vr=Rr.CMapReaderFactory||DefaultCMapReaderFactory,Qr=typeof Rr.standardFontDataUrl=="string"?Rr.standardFontDataUrl:null,$r=Rr.StandardFontDataFactory||DefaultStandardFontDataFactory,zr=Rr.stopAtErrors!==!0,cs=Number.isInteger(Rr.maxImageSize)&&Rr.maxImageSize>-1?Rr.maxImageSize:-1,Jr=Rr.isEvalSupported!==!1,ls=typeof Rr.isOffscreenCanvasSupported=="boolean"?Rr.isOffscreenCanvasSupported:!_util.isNodeJS,hs=Number.isInteger(Rr.canvasMaxAreaInBytes)?Rr.canvasMaxAreaInBytes:-1,bs=typeof Rr.disableFontFace=="boolean"?Rr.disableFontFace:_util.isNodeJS,Ts=Rr.fontExtraProperties===!0,Ds=Rr.enableXfa===!0,us=Rr.ownerDocument||globalThis.document,ps=Rr.disableRange===!0,ms=Rr.disableStream===!0,ss=Rr.disableAutoFetch===!0,ks=Rr.pdfBug===!0,as=Yr?Yr.length:Rr.length??NaN,fs=typeof Rr.useSystemFonts=="boolean"?Rr.useSystemFonts:!_util.isNodeJS&&!bs,ws=typeof Rr.useWorkerFetch=="boolean"?Rr.useWorkerFetch:Vr===_display_utils.DOMCMapReaderFactory&&$r===_display_utils.DOMStandardFontDataFactory&&gs&&Qr&&(0,_display_utils.isValidFetchUrl)(gs,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Qr,document.baseURI),Is=Rr.canvasFactory||new DefaultCanvasFactory({ownerDocument:us}),Ps=Rr.filterFactory||new DefaultFilterFactory({docId:_r,ownerDocument:us}),Ws=null;(0,_util.setVerbosityLevel)(As);const Ks={canvasFactory:Is,filterFactory:Ps};if(ws||(Ks.cMapReaderFactory=new Vr({baseUrl:gs,isCompressed:Os}),Ks.standardFontDataFactory=new $r({baseUrl:Qr})),!ns){const li={verbosity:As,port:_worker_options.GlobalWorkerOptions.workerPort};ns=li.port?PDFWorker.fromPort(li):new PDFWorker(li),Lr._worker=ns}const Fs={docId:_r,apiVersion:"3.11.174",data:Mr,password:Xr,disableAutoFetch:ss,rangeChunkSize:Zr,length:as,docBaseUrl:is,enableXfa:Ds,evaluatorOptions:{maxImageSize:cs,disableFontFace:bs,ignoreErrors:zr,isEvalSupported:Jr,isOffscreenCanvasSupported:ls,canvasMaxAreaInBytes:hs,fontExtraProperties:Ts,useSystemFonts:fs,cMapUrl:ws?gs:null,standardFontDataUrl:ws?Qr:null}},ni={ignoreErrors:zr,isEvalSupported:Jr,disableFontFace:bs,fontExtraProperties:Ts,enableXfa:Ds,ownerDocument:us,disableAutoFetch:ss,pdfBug:ks,styleElement:Ws};return ns.promise.then(function(){if(Lr.destroyed)throw new Error("Loading aborted");const li=_fetchDocument(ns,Fs),Si=new Promise(function(Us){let Cs;Yr?Cs=new _transport_stream.PDFDataTransportStream({length:as,initialData:Yr.initialData,progressiveDone:Yr.progressiveDone,contentDispositionFilename:Yr.contentDispositionFilename,disableRange:ps,disableStream:ms},Yr):Mr||(Cs=($s=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream($s):(0,_display_utils.isValidFetchUrl)($s.url)?new _displayFetch_stream.PDFFetchStream($s):new _displayNetwork.PDFNetworkStream($s))({url:Hr,length:as,httpHeaders:Ur,withCredentials:Kr,rangeChunkSize:Zr,disableRange:ps,disableStream:ms})),Us(Cs)});return Promise.all([li,Si]).then(function([Us,Cs]){if(Lr.destroyed)throw new Error("Loading aborted");const Bs=new _message_handler.MessageHandler(_r,Us,ns.port),$s=new WorkerTransport(Bs,Lr,Cs,ni,Ks);Lr._transport=$s,Bs.send("Ready",null)})}).catch(Lr._capability.reject),Lr}async function _fetchDocument(Rr,Lr){if(Rr.destroyed)throw new Error("Worker was destroyed");const _r=await Rr.messageHandler.sendWithPromise("GetDocRequest",Lr,Lr.data?[Lr.data.buffer]:null);if(Rr.destroyed)throw new Error("Worker was destroyed");return _r}function getUrlProp(Rr){if(Rr instanceof URL)return Rr.href;try{return new URL(Rr,window.location).href}catch{if(_util.isNodeJS&&typeof Rr=="string")return Rr}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Rr){if(_util.isNodeJS&&typeof Buffer<"u"&&Rr instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Rr instanceof Uint8Array&&Rr.byteLength===Rr.buffer.byteLength)return Rr;if(typeof Rr=="string")return(0,_util.stringToBytes)(Rr);if(typeof Rr=="object"&&!isNaN(Rr==null?void 0:Rr.length)||(0,_util.isArrayBuffer)(Rr))return new Uint8Array(Rr);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const or=class or{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Ku(or,ar)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Lr,_r,Hr;this.destroyed=!0;try{(Lr=this._worker)!=null&&Lr.port&&(this._worker._pendingDestroy=!0),await((_r=this._transport)==null?void 0:_r.destroy())}catch(Mr){throw(Hr=this._worker)!=null&&Hr.port&&delete this._worker._pendingDestroy,Mr}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ar=new WeakMap,ci(or,ar,0);let PDFDocumentLoadingTask=or;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Lr,_r,Hr=!1,Mr=null){this.length=Lr,this.initialData=_r,this.progressiveDone=Hr,this.contentDispositionFilename=Mr,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Lr){this._rangeListeners.push(Lr)}addProgressListener(Lr){this._progressListeners.push(Lr)}addProgressiveReadListener(Lr){this._progressiveReadListeners.push(Lr)}addProgressiveDoneListener(Lr){this._progressiveDoneListeners.push(Lr)}onDataRange(Lr,_r){for(const Hr of this._rangeListeners)Hr(Lr,_r)}onDataProgress(Lr,_r){this._readyCapability.promise.then(()=>{for(const Hr of this._progressListeners)Hr(Lr,_r)})}onDataProgressiveRead(Lr){this._readyCapability.promise.then(()=>{for(const _r of this._progressiveReadListeners)_r(Lr)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Lr of this._progressiveDoneListeners)Lr()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Lr,_r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Lr,_r){this._pdfInfo=Lr,this._transport=_r,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Hr=>{if(!Hr)return Hr;const Mr=[];for(const Ur in Hr)Mr.push(...Hr[Ur]);return Mr}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Lr){return this._transport.getPage(Lr)}getPageIndex(Lr){return this._transport.getPageIndex(Lr)}getDestinations(){return this._transport.getDestinations()}getDestination(Lr){return this._transport.getDestination(Lr)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Lr=!1){return this._transport.startCleanup(Lr||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Lr,_r,Hr,Mr=!1){ci(this,cr);ci(this,lr,null);ci(this,Ar,!1);this._pageIndex=Lr,this._pageInfo=_r,this._transport=Hr,this._stats=Mr?new _display_utils.StatTimer:null,this._pdfBug=Mr,this.commonObjs=Hr.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Lr,rotation:_r=this.rotate,offsetX:Hr=0,offsetY:Mr=0,dontFlip:Ur=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Lr,rotation:_r,offsetX:Hr,offsetY:Mr,dontFlip:Ur})}getAnnotations({intent:Lr="display"}={}){const _r=this._transport.getRenderingIntent(Lr);return this._transport.getAnnotations(this._pageIndex,_r.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Lr;return((Lr=this._transport._htmlForXfa)==null?void 0:Lr.children[this._pageIndex])||null}render({canvasContext:Lr,viewport:_r,intent:Hr="display",annotationMode:Mr=_util.AnnotationMode.ENABLE,transform:Ur=null,background:Kr=null,optionalContentConfigPromise:Xr=null,annotationCanvasMap:Yr=null,pageColors:Zr=null,printAnnotationStorage:ns=null}){var $r,zr;($r=this._stats)==null||$r.time("Overall");const As=this._transport.getRenderingIntent(Hr,Mr,ns);di(this,Ar,!1),ei(this,cr,Rd).call(this),Xr||(Xr=this._transport.getOptionalContentConfig());let is=this._intentStates.get(As.cacheKey);is||(is=Object.create(null),this._intentStates.set(As.cacheKey,is)),is.streamReaderCancelTimeout&&(clearTimeout(is.streamReaderCancelTimeout),is.streamReaderCancelTimeout=null);const gs=!!(As.renderingIntent&_util.RenderingIntentFlag.PRINT);is.displayReadyCapability||(is.displayReadyCapability=new _util.PromiseCapability,is.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(zr=this._stats)==null||zr.time("Page Request"),this._pumpOperatorList(As));const Os=cs=>{var Jr,ls;is.renderTasks.delete(Vr),(this._maybeCleanupAfterRender||gs)&&di(this,Ar,!0),ei(this,cr,au).call(this,!gs),cs?(Vr.capability.reject(cs),this._abortOperatorList({intentState:is,reason:cs instanceof Error?cs:new Error(cs)})):Vr.capability.resolve(),(Jr=this._stats)==null||Jr.timeEnd("Rendering"),(ls=this._stats)==null||ls.timeEnd("Overall")},Vr=new InternalRenderTask({callback:Os,params:{canvasContext:Lr,viewport:_r,transform:Ur,background:Kr},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Yr,operatorList:is.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!gs,pdfBug:this._pdfBug,pageColors:Zr});(is.renderTasks||(is.renderTasks=new Set)).add(Vr);const Qr=Vr.task;return Promise.all([is.displayReadyCapability.promise,Xr]).then(([cs,Jr])=>{var ls;if(this.destroyed){Os();return}(ls=this._stats)==null||ls.time("Rendering"),Vr.initializeGraphics({transparency:cs,optionalContentConfig:Jr}),Vr.operatorListChanged()}).catch(Os),Qr}getOperatorList({intent:Lr="display",annotationMode:_r=_util.AnnotationMode.ENABLE,printAnnotationStorage:Hr=null}={}){var Yr;function Mr(){Kr.operatorList.lastChunk&&(Kr.opListReadCapability.resolve(Kr.operatorList),Kr.renderTasks.delete(Xr))}const Ur=this._transport.getRenderingIntent(Lr,_r,Hr,!0);let Kr=this._intentStates.get(Ur.cacheKey);Kr||(Kr=Object.create(null),this._intentStates.set(Ur.cacheKey,Kr));let Xr;return Kr.opListReadCapability||(Xr=Object.create(null),Xr.operatorListChanged=Mr,Kr.opListReadCapability=new _util.PromiseCapability,(Kr.renderTasks||(Kr.renderTasks=new Set)).add(Xr),Kr.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Yr=this._stats)==null||Yr.time("Page Request"),this._pumpOperatorList(Ur)),Kr.opListReadCapability.promise}streamTextContent({includeMarkedContent:Lr=!1,disableNormalization:_r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Lr===!0,disableNormalization:_r===!0},{highWaterMark:100,size(Mr){return Mr.items.length}})}getTextContent(Lr={}){if(this._transport._htmlForXfa)return this.getXfa().then(Hr=>_xfa_text.XfaText.textContent(Hr));const _r=this.streamTextContent(Lr);return new Promise(function(Hr,Mr){function Ur(){Kr.read().then(function({value:Yr,done:Zr}){if(Zr){Hr(Xr);return}Object.assign(Xr.styles,Yr.styles),Xr.items.push(...Yr.items),Ur()},Mr)}const Kr=_r.getReader(),Xr={items:[],styles:Object.create(null)};Ur()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Lr=[];for(const _r of this._intentStates.values())if(this._abortOperatorList({intentState:_r,reason:new Error("Page was destroyed."),force:!0}),!_r.opListReadCapability)for(const Hr of _r.renderTasks)Lr.push(Hr.completed),Hr.cancel();return this.objs.clear(),di(this,Ar,!1),ei(this,cr,Rd).call(this),Promise.all(Lr)}cleanup(Lr=!1){di(this,Ar,!0);const _r=ei(this,cr,au).call(this,!1);return Lr&&_r&&this._stats&&(this._stats=new _display_utils.StatTimer),_r}_startRenderPage(Lr,_r){var Mr,Ur;const Hr=this._intentStates.get(_r);Hr&&((Mr=this._stats)==null||Mr.timeEnd("Page Request"),(Ur=Hr.displayReadyCapability)==null||Ur.resolve(Lr))}_renderPageChunk(Lr,_r){for(let Hr=0,Mr=Lr.length;Hr<Mr;Hr++)_r.operatorList.fnArray.push(Lr.fnArray[Hr]),_r.operatorList.argsArray.push(Lr.argsArray[Hr]);_r.operatorList.lastChunk=Lr.lastChunk,_r.operatorList.separateAnnots=Lr.separateAnnots;for(const Hr of _r.renderTasks)Hr.operatorListChanged();Lr.lastChunk&&ei(this,cr,au).call(this,!0)}_pumpOperatorList({renderingIntent:Lr,cacheKey:_r,annotationStorageSerializable:Hr}){const{map:Mr,transfers:Ur}=Hr,Xr=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Lr,cacheKey:_r,annotationStorage:Mr},Ur).getReader(),Yr=this._intentStates.get(_r);Yr.streamReader=Xr;const Zr=()=>{Xr.read().then(({value:ns,done:As})=>{if(As){Yr.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ns,Yr),Zr())},ns=>{if(Yr.streamReader=null,!this._transport.destroyed){if(Yr.operatorList){Yr.operatorList.lastChunk=!0;for(const As of Yr.renderTasks)As.operatorListChanged();ei(this,cr,au).call(this,!0)}if(Yr.displayReadyCapability)Yr.displayReadyCapability.reject(ns);else if(Yr.opListReadCapability)Yr.opListReadCapability.reject(ns);else throw ns}})};Zr()}_abortOperatorList({intentState:Lr,reason:_r,force:Hr=!1}){if(Lr.streamReader){if(Lr.streamReaderCancelTimeout&&(clearTimeout(Lr.streamReaderCancelTimeout),Lr.streamReaderCancelTimeout=null),!Hr){if(Lr.renderTasks.size>0)return;if(_r instanceof _display_utils.RenderingCancelledException){let Mr=RENDERING_CANCELLED_TIMEOUT;_r.extraDelay>0&&_r.extraDelay<1e3&&(Mr+=_r.extraDelay),Lr.streamReaderCancelTimeout=setTimeout(()=>{Lr.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Lr,reason:_r,force:!0})},Mr);return}}if(Lr.streamReader.cancel(new _util.AbortException(_r.message)).catch(()=>{}),Lr.streamReader=null,!this._transport.destroyed){for(const[Mr,Ur]of this._intentStates)if(Ur===Lr){this._intentStates.delete(Mr);break}this.cleanup()}}}get stats(){return this._stats}}lr=new WeakMap,Ar=new WeakMap,cr=new WeakSet,au=function(Lr=!1){if(ei(this,cr,Rd).call(this),!qr(this,Ar)||this.destroyed)return!1;if(Lr)return di(this,lr,setTimeout(()=>{di(this,lr,null),ei(this,cr,au).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:_r,operatorList:Hr}of this._intentStates.values())if(_r.size>0||!Hr.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),di(this,Ar,!1),!0},Rd=function(){qr(this,lr)&&(clearTimeout(qr(this,lr)),di(this,lr,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){ci(this,hr,new Set);ci(this,fr,Promise.resolve())}postMessage(Lr,_r){const Hr={data:structuredClone(Lr,_r?{transfer:_r}:null)};qr(this,fr).then(()=>{for(const Mr of qr(this,hr))Mr.call(this,Hr)})}addEventListener(Lr,_r){qr(this,hr).add(_r)}removeEventListener(Lr,_r){qr(this,hr).delete(_r)}terminate(){qr(this,hr).clear()}}hr=new WeakMap,fr=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Rr=(gr=document==null?void 0:document.currentScript)==null?void 0:gr.src;Rr&&(PDFWorkerUtil.fallbackWorkerSrc=Rr.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Rr,Lr){let _r;try{if(_r=new URL(Rr),!_r.origin||_r.origin==="null")return!1}catch{return!1}const Hr=new URL(Lr,_r);return _r.origin===Hr.origin},PDFWorkerUtil.createCDNWrapper=function(Rr){const Lr=`importScripts("${Rr}");`;return URL.createObjectURL(new Blob([Lr]))}}const _PDFWorker=class _PDFWorker{constructor({name:Rr=null,port:Lr=null,verbosity:_r=(0,_util.getVerbosityLevel)()}={}){var Hr;if(this.name=Rr,this.destroyed=!1,this.verbosity=_r,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Lr){if((Hr=qr(_PDFWorker,pr))!=null&&Hr.has(Lr))throw new Error("Cannot use more than one PDFWorker per port.");(qr(_PDFWorker,pr)||di(_PDFWorker,pr,new WeakMap)).set(Lr,this),this._initializeFromPort(Lr);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Rr){this._port=Rr,this._messageHandler=new _message_handler.MessageHandler("main","worker",Rr),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Rr}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Rr)||(Rr=PDFWorkerUtil.createCDNWrapper(new URL(Rr,window.location).href));const Lr=new Worker(Rr),_r=new _message_handler.MessageHandler("main","worker",Lr),Hr=()=>{Lr.removeEventListener("error",Mr),_r.destroy(),Lr.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Mr=()=>{this._webWorker||Hr()};Lr.addEventListener("error",Mr),_r.on("test",Kr=>{if(Lr.removeEventListener("error",Mr),this.destroyed){Hr();return}Kr?(this._messageHandler=_r,this._port=Lr,this._webWorker=Lr,this._readyCapability.resolve(),_r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_r.destroy(),Lr.terminate())}),_r.on("ready",Kr=>{if(Lr.removeEventListener("error",Mr),this.destroyed){Hr();return}try{Ur()}catch{this._setupFakeWorker()}});const Ur=()=>{const Kr=new Uint8Array;_r.send("test",Kr,[Kr.buffer])};Ur();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Rr=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Lr=new LoopbackPort;this._port=Lr;const _r=`fake${PDFWorkerUtil.fakeWorkerId++}`,Hr=new _message_handler.MessageHandler(_r+"_worker",_r,Lr);Rr.setup(Hr,Lr);const Mr=new _message_handler.MessageHandler(_r,_r+"_worker",Lr);this._messageHandler=Mr,this._readyCapability.resolve(),Mr.send("configure",{verbosity:this.verbosity})}).catch(Rr=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Rr.message}".`))})}destroy(){var Rr;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Rr=qr(_PDFWorker,pr))==null||Rr.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Rr){var _r;if(!(Rr!=null&&Rr.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Lr=(_r=qr(this,pr))==null?void 0:_r.get(Rr.port);if(Lr){if(Lr._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Lr}return new _PDFWorker(Rr)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Rr;try{return((Rr=globalThis.pdfjsWorker)==null?void 0:Rr.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};pr=new WeakMap,ci(_PDFWorker,pr);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Lr,_r,Hr,Mr,Ur){ci(this,wr);ci(this,mr,new Map);ci(this,yr,new Map);ci(this,vr,new Map);ci(this,br,null);this.messageHandler=Lr,this.loadingTask=_r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Mr.ownerDocument,styleElement:Mr.styleElement}),this._params=Mr,this.canvasFactory=Ur.canvasFactory,this.filterFactory=Ur.filterFactory,this.cMapReaderFactory=Ur.cMapReaderFactory,this.standardFontDataFactory=Ur.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Hr,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Lr,_r=_util.AnnotationMode.ENABLE,Hr=null,Mr=!1){let Ur=_util.RenderingIntentFlag.DISPLAY,Kr=_annotation_storage.SerializableEmpty;switch(Lr){case"any":Ur=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Ur=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Lr}`)}switch(_r){case _util.AnnotationMode.DISABLE:Ur+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Ur+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Ur+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Kr=(Ur&_util.RenderingIntentFlag.PRINT&&Hr instanceof _annotation_storage.PrintAnnotationStorage?Hr:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_r}`)}return Mr&&(Ur+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Ur,cacheKey:`${Ur}_${Kr.hash}`,annotationStorageSerializable:Kr}}destroy(){var Hr;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Hr=qr(this,br))==null||Hr.reject(new Error("Worker was destroyed during onPassword callback"));const Lr=[];for(const Mr of qr(this,yr).values())Lr.push(Mr._destroy());qr(this,yr).clear(),qr(this,vr).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _r=this.messageHandler.sendWithPromise("Terminate",null);return Lr.push(_r),Promise.all(Lr).then(()=>{var Mr;this.commonObjs.clear(),this.fontLoader.clear(),qr(this,mr).clear(),this.filterFactory.destroy(),(Mr=this._networkStream)==null||Mr.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Lr,loadingTask:_r}=this;Lr.on("GetReader",(Hr,Mr)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Ur=>{this._lastProgress={loaded:Ur.loaded,total:Ur.total}},Mr.onPull=()=>{this._fullReader.read().then(function({value:Ur,done:Kr}){if(Kr){Mr.close();return}(0,_util.assert)(Ur instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Mr.enqueue(new Uint8Array(Ur),1,[Ur])}).catch(Ur=>{Mr.error(Ur)})},Mr.onCancel=Ur=>{this._fullReader.cancel(Ur),Mr.ready.catch(Kr=>{if(!this.destroyed)throw Kr})}}),Lr.on("ReaderHeadersReady",Hr=>{const Mr=new _util.PromiseCapability,Ur=this._fullReader;return Ur.headersReady.then(()=>{var Kr;(!Ur.isStreamingSupported||!Ur.isRangeSupported)&&(this._lastProgress&&((Kr=_r.onProgress)==null||Kr.call(_r,this._lastProgress)),Ur.onProgress=Xr=>{var Yr;(Yr=_r.onProgress)==null||Yr.call(_r,{loaded:Xr.loaded,total:Xr.total})}),Mr.resolve({isStreamingSupported:Ur.isStreamingSupported,isRangeSupported:Ur.isRangeSupported,contentLength:Ur.contentLength})},Mr.reject),Mr.promise}),Lr.on("GetRangeReader",(Hr,Mr)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Ur=this._networkStream.getRangeReader(Hr.begin,Hr.end);if(!Ur){Mr.close();return}Mr.onPull=()=>{Ur.read().then(function({value:Kr,done:Xr}){if(Xr){Mr.close();return}(0,_util.assert)(Kr instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Mr.enqueue(new Uint8Array(Kr),1,[Kr])}).catch(Kr=>{Mr.error(Kr)})},Mr.onCancel=Kr=>{Ur.cancel(Kr),Mr.ready.catch(Xr=>{if(!this.destroyed)throw Xr})}}),Lr.on("GetDoc",({pdfInfo:Hr})=>{this._numPages=Hr.numPages,this._htmlForXfa=Hr.htmlForXfa,delete Hr.htmlForXfa,_r._capability.resolve(new PDFDocumentProxy(Hr,this))}),Lr.on("DocException",function(Hr){let Mr;switch(Hr.name){case"PasswordException":Mr=new _util.PasswordException(Hr.message,Hr.code);break;case"InvalidPDFException":Mr=new _util.InvalidPDFException(Hr.message);break;case"MissingPDFException":Mr=new _util.MissingPDFException(Hr.message);break;case"UnexpectedResponseException":Mr=new _util.UnexpectedResponseException(Hr.message,Hr.status);break;case"UnknownErrorException":Mr=new _util.UnknownErrorException(Hr.message,Hr.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_r._capability.reject(Mr)}),Lr.on("PasswordRequest",Hr=>{if(di(this,br,new _util.PromiseCapability),_r.onPassword){const Mr=Ur=>{Ur instanceof Error?qr(this,br).reject(Ur):qr(this,br).resolve({password:Ur})};try{_r.onPassword(Mr,Hr.code)}catch(Ur){qr(this,br).reject(Ur)}}else qr(this,br).reject(new _util.PasswordException(Hr.message,Hr.code));return qr(this,br).promise}),Lr.on("DataLoaded",Hr=>{var Mr;(Mr=_r.onProgress)==null||Mr.call(_r,{loaded:Hr.length,total:Hr.length}),this.downloadInfoCapability.resolve(Hr)}),Lr.on("StartRenderPage",Hr=>{if(this.destroyed)return;qr(this,yr).get(Hr.pageIndex)._startRenderPage(Hr.transparency,Hr.cacheKey)}),Lr.on("commonobj",([Hr,Mr,Ur])=>{var Kr;if(!this.destroyed&&!this.commonObjs.has(Hr))switch(Mr){case"Font":const Xr=this._params;if("error"in Ur){const ns=Ur.error;(0,_util.warn)(`Error during font loading: ${ns}`),this.commonObjs.resolve(Hr,ns);break}const Yr=Xr.pdfBug&&((Kr=globalThis.FontInspector)!=null&&Kr.enabled)?(ns,As)=>globalThis.FontInspector.fontAdded(ns,As):null,Zr=new _font_loader.FontFaceObject(Ur,{isEvalSupported:Xr.isEvalSupported,disableFontFace:Xr.disableFontFace,ignoreErrors:Xr.ignoreErrors,inspectFont:Yr});this.fontLoader.bind(Zr).catch(ns=>Lr.sendWithPromise("FontFallback",{id:Hr})).finally(()=>{!Xr.fontExtraProperties&&Zr.data&&(Zr.data=null),this.commonObjs.resolve(Hr,Zr)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Hr,Ur);break;default:throw new Error(`Got unknown common object type ${Mr}`)}}),Lr.on("obj",([Hr,Mr,Ur,Kr])=>{var Yr;if(this.destroyed)return;const Xr=qr(this,yr).get(Mr);if(!Xr.objs.has(Hr))switch(Ur){case"Image":if(Xr.objs.resolve(Hr,Kr),Kr){let Zr;if(Kr.bitmap){const{width:ns,height:As}=Kr;Zr=ns*As*4}else Zr=((Yr=Kr.data)==null?void 0:Yr.length)||0;Zr>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Xr._maybeCleanupAfterRender=!0)}break;case"Pattern":Xr.objs.resolve(Hr,Kr);break;default:throw new Error(`Got unknown object type ${Ur}`)}}),Lr.on("DocProgress",Hr=>{var Mr;this.destroyed||(Mr=_r.onProgress)==null||Mr.call(_r,{loaded:Hr.loaded,total:Hr.total})}),Lr.on("FetchBuiltInCMap",Hr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Hr):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Lr.on("FetchStandardFontData",Hr=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Hr):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Hr;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Lr,transfers:_r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Lr,filename:((Hr=this._fullReader)==null?void 0:Hr.filename)??null},_r).finally(()=>{this.annotationStorage.resetModified()})}getPage(Lr){if(!Number.isInteger(Lr)||Lr<=0||Lr>this._numPages)return Promise.reject(new Error("Invalid page request."));const _r=Lr-1,Hr=qr(this,vr).get(_r);if(Hr)return Hr;const Mr=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_r}).then(Ur=>{if(this.destroyed)throw new Error("Transport destroyed");const Kr=new PDFPageProxy(_r,Ur,this,this._params.pdfBug);return qr(this,yr).set(_r,Kr),Kr});return qr(this,vr).set(_r,Mr),Mr}getPageIndex(Lr){return typeof Lr!="object"||Lr===null||!Number.isInteger(Lr.num)||Lr.num<0||!Number.isInteger(Lr.gen)||Lr.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Lr.num,gen:Lr.gen})}getAnnotations(Lr,_r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Lr,intent:_r})}getFieldObjects(){return ei(this,wr,Dd).call(this,"GetFieldObjects")}hasJSActions(){return ei(this,wr,Dd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Lr){return typeof Lr!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Lr})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ei(this,wr,Dd).call(this,"GetDocJSActions")}getPageJSActions(Lr){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Lr})}getStructTree(Lr){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Lr})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Lr=>new _optional_content_config.OptionalContentConfig(Lr))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Lr="GetMetadata",_r=qr(this,mr).get(Lr);if(_r)return _r;const Hr=this.messageHandler.sendWithPromise(Lr,null).then(Mr=>{var Ur,Kr;return{info:Mr[0],metadata:Mr[1]?new _metadata.Metadata(Mr[1]):null,contentDispositionFilename:((Ur=this._fullReader)==null?void 0:Ur.filename)??null,contentLength:((Kr=this._fullReader)==null?void 0:Kr.contentLength)??null}});return qr(this,mr).set(Lr,Hr),Hr}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Lr=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const _r of qr(this,yr).values())if(!_r.cleanup())throw new Error(`startCleanup: Page ${_r.pageNumber} is currently rendering.`);this.commonObjs.clear(),Lr||this.fontLoader.clear(),qr(this,mr).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Lr,enableXfa:_r}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Lr,enableXfa:_r})}}mr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,wr=new WeakSet,Dd=function(Lr,_r=null){const Hr=qr(this,mr).get(Lr);if(Hr)return Hr;const Mr=this.messageHandler.sendWithPromise(Lr,_r);return qr(this,mr).set(Lr,Mr),Mr};class PDFObjects{constructor(){ci(this,Sr);ci(this,Br,Object.create(null))}get(Lr,_r=null){if(_r){const Mr=ei(this,Sr,$f).call(this,Lr);return Mr.capability.promise.then(()=>_r(Mr.data)),null}const Hr=qr(this,Br)[Lr];if(!(Hr!=null&&Hr.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Lr}.`);return Hr.data}has(Lr){const _r=qr(this,Br)[Lr];return(_r==null?void 0:_r.capability.settled)||!1}resolve(Lr,_r=null){const Hr=ei(this,Sr,$f).call(this,Lr);Hr.data=_r,Hr.capability.resolve()}clear(){var Lr;for(const _r in qr(this,Br)){const{data:Hr}=qr(this,Br)[_r];(Lr=Hr==null?void 0:Hr.bitmap)==null||Lr.close()}di(this,Br,Object.create(null))}}Br=new WeakMap,Sr=new WeakSet,$f=function(Lr){var _r;return(_r=qr(this,Br))[Lr]||(_r[Lr]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Lr){ci(this,Tr,null);di(this,Tr,Lr),this.onContinue=null}get promise(){return qr(this,Tr).capability.promise}cancel(Lr=0){qr(this,Tr).cancel(null,Lr)}get separateAnnots(){const{separateAnnots:Lr}=qr(this,Tr).operatorList;if(!Lr)return!1;const{annotationCanvasMap:_r}=qr(this,Tr);return Lr.form||Lr.canvas&&(_r==null?void 0:_r.size)>0}}Tr=new WeakMap,exports.RenderTask=RenderTask;const Or=class Or{constructor({callback:Lr,params:_r,objs:Hr,commonObjs:Mr,annotationCanvasMap:Ur,operatorList:Kr,pageIndex:Xr,canvasFactory:Yr,filterFactory:Zr,useRequestAnimationFrame:ns=!1,pdfBug:As=!1,pageColors:is=null}){this.callback=Lr,this.params=_r,this.objs=Hr,this.commonObjs=Mr,this.annotationCanvasMap=Ur,this.operatorListIdx=null,this.operatorList=Kr,this._pageIndex=Xr,this.canvasFactory=Yr,this.filterFactory=Zr,this._pdfBug=As,this.pageColors=is,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ns===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Lr=!1,optionalContentConfig:_r}){var Xr,Yr;if(this.cancelled)return;if(this._canvas){if(qr(Or,kr).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");qr(Or,kr).add(this._canvas)}this._pdfBug&&((Xr=globalThis.StepperManager)!=null&&Xr.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Hr,viewport:Mr,transform:Ur,background:Kr}=this.params;this.gfx=new _canvas.CanvasGraphics(Hr,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:_r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Ur,viewport:Mr,transparency:Lr,background:Kr}),this.operatorListIdx=0,this.graphicsReady=!0,(Yr=this.graphicsReadyCallback)==null||Yr.call(this)}cancel(Lr=null,_r=0){var Hr;this.running=!1,this.cancelled=!0,(Hr=this.gfx)==null||Hr.endDrawing(),qr(Or,kr).delete(this._canvas),this.callback(Lr||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,_r))}operatorListChanged(){var Lr;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Lr=this.stepper)==null||Lr.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),qr(Or,kr).delete(this._canvas),this.callback())))}};kr=new WeakMap,ci(Or,kr,new WeakSet);let InternalRenderTask=Or;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(ar,or,lr)=>{var gr,pr,mr,lp,vr;Object.defineProperty(or,"__esModule",{value:!0}),or.SerializableEmpty=or.PrintAnnotationStorage=or.AnnotationStorage=void 0;var Ar=lr(1),cr=lr(4),ur=lr(8);const dr=Object.freeze({map:null,hash:"",transfers:void 0});or.SerializableEmpty=dr;class hr{constructor(){ci(this,mr);ci(this,gr,!1);ci(this,pr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(wr,Cr){const Br=qr(this,pr).get(wr);return Br===void 0?Cr:Object.assign(Cr,Br)}getRawValue(wr){return qr(this,pr).get(wr)}remove(wr){if(qr(this,pr).delete(wr),qr(this,pr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Cr of qr(this,pr).values())if(Cr instanceof cr.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(wr,Cr){const Br=qr(this,pr).get(wr);let Sr=!1;if(Br!==void 0)for(const[Er,Tr]of Object.entries(Cr))Br[Er]!==Tr&&(Sr=!0,Br[Er]=Tr);else Sr=!0,qr(this,pr).set(wr,Cr);Sr&&ei(this,mr,lp).call(this),Cr instanceof cr.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Cr.constructor._type)}has(wr){return qr(this,pr).has(wr)}getAll(){return qr(this,pr).size>0?(0,Ar.objectFromMap)(qr(this,pr)):null}setAll(wr){for(const[Cr,Br]of Object.entries(wr))this.setValue(Cr,Br)}get size(){return qr(this,pr).size}resetModified(){qr(this,gr)&&(di(this,gr,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fr(this)}get serializable(){if(qr(this,pr).size===0)return dr;const wr=new Map,Cr=new ur.MurmurHash3_64,Br=[],Sr=Object.create(null);let Er=!1;for(const[Tr,kr]of qr(this,pr)){const Or=kr instanceof cr.AnnotationEditor?kr.serialize(!1,Sr):kr;Or&&(wr.set(Tr,Or),Cr.update(`${Tr}:${JSON.stringify(Or)}`),Er||(Er=!!Or.bitmap))}if(Er)for(const Tr of wr.values())Tr.bitmap&&Br.push(Tr.bitmap);return wr.size>0?{map:wr,hash:Cr.hexdigest(),transfers:Br}:dr}}gr=new WeakMap,pr=new WeakMap,mr=new WeakSet,lp=function(){qr(this,gr)||(di(this,gr,!0),typeof this.onSetModified=="function"&&this.onSetModified())},or.AnnotationStorage=hr;class fr extends hr{constructor(Cr){super();ci(this,vr);const{map:Br,hash:Sr,transfers:Er}=Cr.serializable,Tr=structuredClone(Br,Er?{transfer:Er}:null);di(this,vr,{map:Tr,hash:Sr,transfers:Er})}get print(){(0,Ar.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return qr(this,vr)}}vr=new WeakMap,or.PrintAnnotationStorage=fr},(ar,or,lr)=>{var fr,gr,pr,mr,yr,vr,br,wr,Cr,Br,Sr,Er,Tr,kr,Or,Vf,Kf,_r,Gf,Wf,Ap,cp,up,zf,dp;Object.defineProperty(or,"__esModule",{value:!0}),or.AnnotationEditor=void 0;var Ar=lr(5),cr=lr(1),ur=lr(6);const ns=class ns{constructor(is){ci(this,Or);ci(this,fr,"");ci(this,gr,!1);ci(this,pr,null);ci(this,mr,null);ci(this,yr,null);ci(this,vr,!1);ci(this,br,null);ci(this,wr,this.focusin.bind(this));ci(this,Cr,this.focusout.bind(this));ci(this,Br,!1);ci(this,Sr,!1);ci(this,Er,!1);Mo(this,"_initialOptions",Object.create(null));Mo(this,"_uiManager",null);Mo(this,"_focusEventsAllowed",!0);Mo(this,"_l10nPromise",null);ci(this,Tr,!1);ci(this,kr,ns._zIndex++);this.constructor===ns&&(0,cr.unreachable)("Cannot initialize AnnotationEditor."),this.parent=is.parent,this.id=is.id,this.width=this.height=null,this.pageIndex=is.parent.pageIndex,this.name=is.name,this.div=null,this._uiManager=is.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=is.isCentered,this._structTreeParentId=null;const{rotation:gs,rawDims:{pageWidth:Os,pageHeight:Vr,pageX:Qr,pageY:$r}}=this.parent.viewport;this.rotation=gs,this.pageRotation=(360+gs-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Os,Vr],this.pageTranslation=[Qr,$r];const[zr,cs]=this.parentDimensions;this.x=is.x/zr,this.y=is.y/cs,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,cr.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(is){const gs=new hr({id:is.parent.getNextId(),parent:is.parent,uiManager:is._uiManager});gs.annotationElementId=is.annotationElementId,gs.deleted=!0,gs._uiManager.addToAnnotationStorage(gs)}static initialize(is,gs=null){if(ns._l10nPromise||(ns._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Vr=>[Vr,is.get(Vr)]))),gs!=null&&gs.strings)for(const Vr of gs.strings)ns._l10nPromise.set(Vr,is.get(Vr));if(ns._borderLineWidth!==-1)return;const Os=getComputedStyle(document.documentElement);ns._borderLineWidth=parseFloat(Os.getPropertyValue("--outline-width"))||0}static updateDefaultParams(is,gs){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(is){return!1}static paste(is,gs){(0,cr.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return qr(this,Tr)}set _isDraggable(is){var gs;di(this,Tr,is),(gs=this.div)==null||gs.classList.toggle("draggable",is)}center(){const[is,gs]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gs/(is*2),this.y+=this.width*is/(gs*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gs/(is*2),this.y-=this.width*is/(gs*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(is){this._uiManager.addCommands(is)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=qr(this,kr)}setParent(is){is!==null&&(this.pageIndex=is.pageIndex,this.pageDimensions=is.pageDimensions),this.parent=is}focusin(is){this._focusEventsAllowed&&(qr(this,Br)?di(this,Br,!1):this.parent.setSelected(this))}focusout(is){var Os;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gs=is.relatedTarget;gs!=null&&gs.closest(`#${this.id}`)||(is.preventDefault(),(Os=this.parent)!=null&&Os.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(is,gs,Os,Vr){const[Qr,$r]=this.parentDimensions;[Os,Vr]=this.screenToPageTranslation(Os,Vr),this.x=(is+Os)/Qr,this.y=(gs+Vr)/$r,this.fixAndSetPosition()}translate(is,gs){ei(this,Or,Vf).call(this,this.parentDimensions,is,gs)}translateInPage(is,gs){ei(this,Or,Vf).call(this,this.pageDimensions,is,gs),this.div.scrollIntoView({block:"nearest"})}drag(is,gs){const[Os,Vr]=this.parentDimensions;if(this.x+=is/Os,this.y+=gs/Vr,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Jr,y:ls}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Jr,ls)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Qr,y:$r}=this;const[zr,cs]=ei(this,Or,Kf).call(this);Qr+=zr,$r+=cs,this.div.style.left=`${(100*Qr).toFixed(2)}%`,this.div.style.top=`${(100*$r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[is,gs]=this.pageDimensions;let{x:Os,y:Vr,width:Qr,height:$r}=this;switch(Qr*=is,$r*=gs,Os*=is,Vr*=gs,this.rotation){case 0:Os=Math.max(0,Math.min(is-Qr,Os)),Vr=Math.max(0,Math.min(gs-$r,Vr));break;case 90:Os=Math.max(0,Math.min(is-$r,Os)),Vr=Math.min(gs,Math.max(Qr,Vr));break;case 180:Os=Math.min(is,Math.max(Qr,Os)),Vr=Math.min(gs,Math.max($r,Vr));break;case 270:Os=Math.min(is,Math.max($r,Os)),Vr=Math.max(0,Math.min(gs-Qr,Vr));break}this.x=Os/=is,this.y=Vr/=gs;const[zr,cs]=ei(this,Or,Kf).call(this);Os+=zr,Vr+=cs;const{style:Jr}=this.div;Jr.left=`${(100*Os).toFixed(2)}%`,Jr.top=`${(100*Vr).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(is,gs){var Os;return ei(Os=ns,_r,Gf).call(Os,is,gs,this.parentRotation)}pageTranslationToScreen(is,gs){var Os;return ei(Os=ns,_r,Gf).call(Os,is,gs,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:is,pageDimensions:[gs,Os]}=this,Vr=gs*is,Qr=Os*is;return cr.FeatureTest.isCSSRoundSupported?[Math.round(Vr),Math.round(Qr)]:[Vr,Qr]}setDims(is,gs){var Qr;const[Os,Vr]=this.parentDimensions;this.div.style.width=`${(100*is/Os).toFixed(2)}%`,qr(this,vr)||(this.div.style.height=`${(100*gs/Vr).toFixed(2)}%`),(Qr=qr(this,pr))==null||Qr.classList.toggle("small",is<ns.SMALL_EDITOR_SIZE||gs<ns.SMALL_EDITOR_SIZE)}fixDims(){const{style:is}=this.div,{height:gs,width:Os}=is,Vr=Os.endsWith("%"),Qr=!qr(this,vr)&&gs.endsWith("%");if(Vr&&Qr)return;const[$r,zr]=this.parentDimensions;Vr||(is.width=`${(100*parseFloat(Os)/$r).toFixed(2)}%`),!qr(this,vr)&&!Qr&&(is.height=`${(100*parseFloat(gs)/zr).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(qr(this,pr))return;const is=di(this,pr,document.createElement("button"));is.className="altText";const gs=await ns._l10nPromise.get("editor_alt_text_button_label");is.textContent=gs,is.setAttribute("aria-label",gs),is.tabIndex="0",is.addEventListener("contextmenu",ur.noContextMenu),is.addEventListener("pointerdown",Os=>Os.stopPropagation()),is.addEventListener("click",Os=>{Os.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),is.addEventListener("keydown",Os=>{Os.target===is&&Os.key==="Enter"&&(Os.preventDefault(),this._uiManager.editAltText(this))}),ei(this,Or,zf).call(this),this.div.append(is),ns.SMALL_EDITOR_SIZE||(ns.SMALL_EDITOR_SIZE=Math.min(128,Math.round(is.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:qr(this,fr),decorative:qr(this,gr)}}set altTextData({altText:is,decorative:gs}){qr(this,fr)===is&&qr(this,gr)===gs||(di(this,fr,is),di(this,gr,gs),ei(this,Or,zf).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",qr(this,wr)),this.div.addEventListener("focusout",qr(this,Cr));const[is,gs]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gs/is).toFixed(2)}%`,this.div.style.maxHeight=`${(100*is/gs).toFixed(2)}%`);const[Os,Vr]=this.getInitialTranslation();return this.translate(Os,Vr),(0,Ar.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(is){const{isMac:gs}=cr.FeatureTest.platform;if(is.button!==0||is.ctrlKey&&gs){is.preventDefault();return}di(this,Br,!0),ei(this,Or,dp).call(this,is)}moveInDOM(){var is;(is=this.parent)==null||is.moveEditorInDOM(this)}_setParentAndPosition(is,gs,Os){is.changeParent(this),this.x=gs,this.y=Os,this.fixAndSetPosition()}getRect(is,gs){const Os=this.parentScale,[Vr,Qr]=this.pageDimensions,[$r,zr]=this.pageTranslation,cs=is/Os,Jr=gs/Os,ls=this.x*Vr,hs=this.y*Qr,bs=this.width*Vr,Ts=this.height*Qr;switch(this.rotation){case 0:return[ls+cs+$r,Qr-hs-Jr-Ts+zr,ls+cs+bs+$r,Qr-hs-Jr+zr];case 90:return[ls+Jr+$r,Qr-hs+cs+zr,ls+Jr+Ts+$r,Qr-hs+cs+bs+zr];case 180:return[ls-cs-bs+$r,Qr-hs+Jr+zr,ls-cs+$r,Qr-hs+Jr+Ts+zr];case 270:return[ls-Jr-Ts+$r,Qr-hs-cs-bs+zr,ls-Jr+$r,Qr-hs-cs+zr];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(is,gs){const[Os,Vr,Qr,$r]=is,zr=Qr-Os,cs=$r-Vr;switch(this.rotation){case 0:return[Os,gs-$r,zr,cs];case 90:return[Os,gs-Vr,cs,zr];case 180:return[Qr,gs-Vr,zr,cs];case 270:return[Qr,gs-$r,cs,zr];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){di(this,Er,!0)}disableEditMode(){di(this,Er,!1)}isInEditMode(){return qr(this,Er)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var is,gs;(is=this.div)==null||is.addEventListener("focusin",qr(this,wr)),(gs=this.div)==null||gs.addEventListener("focusout",qr(this,Cr))}serialize(is=!1,gs=null){(0,cr.unreachable)("An editor must be serializable")}static deserialize(is,gs,Os){const Vr=new this.prototype.constructor({parent:gs,id:gs.getNextId(),uiManager:Os});Vr.rotation=is.rotation;const[Qr,$r]=Vr.pageDimensions,[zr,cs,Jr,ls]=Vr.getRectInCurrentCoords(is.rect,$r);return Vr.x=zr/Qr,Vr.y=cs/$r,Vr.width=Jr/Qr,Vr.height=ls/$r,Vr}remove(){var is;this.div.removeEventListener("focusin",qr(this,wr)),this.div.removeEventListener("focusout",qr(this,Cr)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(is=qr(this,pr))==null||is.remove(),di(this,pr,null),di(this,mr,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ei(this,Or,Ap).call(this),qr(this,br).classList.remove("hidden"))}select(){var is;this.makeResizable(),(is=this.div)==null||is.classList.add("selectedEditor")}unselect(){var is,gs,Os;(is=qr(this,br))==null||is.classList.add("hidden"),(gs=this.div)==null||gs.classList.remove("selectedEditor"),(Os=this.div)!=null&&Os.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(is,gs){}disableEditing(){qr(this,pr)&&(qr(this,pr).hidden=!0)}enableEditing(){qr(this,pr)&&(qr(this,pr).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return qr(this,Sr)}set isEditing(is){di(this,Sr,is),this.parent&&(is?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(is,gs){di(this,vr,!0);const Os=is/gs,{style:Vr}=this.div;Vr.aspectRatio=Os,Vr.height="auto"}static get MIN_SIZE(){return 16}};fr=new WeakMap,gr=new WeakMap,pr=new WeakMap,mr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,wr=new WeakMap,Cr=new WeakMap,Br=new WeakMap,Sr=new WeakMap,Er=new WeakMap,Tr=new WeakMap,kr=new WeakMap,Or=new WeakSet,Vf=function([is,gs],Os,Vr){[Os,Vr]=this.screenToPageTranslation(Os,Vr),this.x+=Os/is,this.y+=Vr/gs,this.fixAndSetPosition()},Kf=function(){const[is,gs]=this.parentDimensions,{_borderLineWidth:Os}=ns,Vr=Os/is,Qr=Os/gs;switch(this.rotation){case 90:return[-Vr,Qr];case 180:return[Vr,Qr];case 270:return[Vr,-Qr];default:return[-Vr,-Qr]}},_r=new WeakSet,Gf=function(is,gs,Os){switch(Os){case 90:return[gs,-is];case 180:return[-is,-gs];case 270:return[-gs,is];default:return[is,gs]}},Wf=function(is){switch(is){case 90:{const[gs,Os]=this.pageDimensions;return[0,-gs/Os,Os/gs,0]}case 180:return[-1,0,0,-1];case 270:{const[gs,Os]=this.pageDimensions;return[0,gs/Os,-Os/gs,0]}default:return[1,0,0,1]}},Ap=function(){if(qr(this,br))return;di(this,br,document.createElement("div")),qr(this,br).classList.add("resizers");const is=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||is.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gs of is){const Os=document.createElement("div");qr(this,br).append(Os),Os.classList.add("resizer",gs),Os.addEventListener("pointerdown",ei(this,Or,cp).bind(this,gs)),Os.addEventListener("contextmenu",ur.noContextMenu)}this.div.prepend(qr(this,br))},cp=function(is,gs){gs.preventDefault();const{isMac:Os}=cr.FeatureTest.platform;if(gs.button!==0||gs.ctrlKey&&Os)return;const Vr=ei(this,Or,up).bind(this,is),Qr=this._isDraggable;this._isDraggable=!1;const $r={passive:!0,capture:!0};window.addEventListener("pointermove",Vr,$r);const zr=this.x,cs=this.y,Jr=this.width,ls=this.height,hs=this.parent.div.style.cursor,bs=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gs.target).cursor;const Ts=()=>{this._isDraggable=Qr,window.removeEventListener("pointerup",Ts),window.removeEventListener("blur",Ts),window.removeEventListener("pointermove",Vr,$r),this.parent.div.style.cursor=hs,this.div.style.cursor=bs;const Ds=this.x,us=this.y,ps=this.width,ms=this.height;Ds===zr&&us===cs&&ps===Jr&&ms===ls||this.addCommands({cmd:()=>{this.width=ps,this.height=ms,this.x=Ds,this.y=us;const[ss,ks]=this.parentDimensions;this.setDims(ss*ps,ks*ms),this.fixAndSetPosition()},undo:()=>{this.width=Jr,this.height=ls,this.x=zr,this.y=cs;const[ss,ks]=this.parentDimensions;this.setDims(ss*Jr,ks*ls),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ts),window.addEventListener("blur",Ts)},up=function(is,gs){const[Os,Vr]=this.parentDimensions,Qr=this.x,$r=this.y,zr=this.width,cs=this.height,Jr=ns.MIN_SIZE/Os,ls=ns.MIN_SIZE/Vr,hs=Bs=>Math.round(Bs*1e4)/1e4,bs=ei(this,Or,Wf).call(this,this.rotation),Ts=(Bs,$s)=>[bs[0]*Bs+bs[2]*$s,bs[1]*Bs+bs[3]*$s],Ds=ei(this,Or,Wf).call(this,360-this.rotation),us=(Bs,$s)=>[Ds[0]*Bs+Ds[2]*$s,Ds[1]*Bs+Ds[3]*$s];let ps,ms,ss=!1,ks=!1;switch(is){case"topLeft":ss=!0,ps=(Bs,$s)=>[0,0],ms=(Bs,$s)=>[Bs,$s];break;case"topMiddle":ps=(Bs,$s)=>[Bs/2,0],ms=(Bs,$s)=>[Bs/2,$s];break;case"topRight":ss=!0,ps=(Bs,$s)=>[Bs,0],ms=(Bs,$s)=>[0,$s];break;case"middleRight":ks=!0,ps=(Bs,$s)=>[Bs,$s/2],ms=(Bs,$s)=>[0,$s/2];break;case"bottomRight":ss=!0,ps=(Bs,$s)=>[Bs,$s],ms=(Bs,$s)=>[0,0];break;case"bottomMiddle":ps=(Bs,$s)=>[Bs/2,$s],ms=(Bs,$s)=>[Bs/2,0];break;case"bottomLeft":ss=!0,ps=(Bs,$s)=>[0,$s],ms=(Bs,$s)=>[Bs,0];break;case"middleLeft":ks=!0,ps=(Bs,$s)=>[0,$s/2],ms=(Bs,$s)=>[Bs,$s/2];break}const as=ps(zr,cs),fs=ms(zr,cs);let ws=Ts(...fs);const Is=hs(Qr+ws[0]),Ps=hs($r+ws[1]);let Ws=1,Ks=1,[Fs,ni]=this.screenToPageTranslation(gs.movementX,gs.movementY);if([Fs,ni]=us(Fs/Os,ni/Vr),ss){const Bs=Math.hypot(zr,cs);Ws=Ks=Math.max(Math.min(Math.hypot(fs[0]-as[0]-Fs,fs[1]-as[1]-ni)/Bs,1/zr,1/cs),Jr/zr,ls/cs)}else ks?Ws=Math.max(Jr,Math.min(1,Math.abs(fs[0]-as[0]-Fs)))/zr:Ks=Math.max(ls,Math.min(1,Math.abs(fs[1]-as[1]-ni)))/cs;const li=hs(zr*Ws),Si=hs(cs*Ks);ws=Ts(...ms(li,Si));const Us=Is-ws[0],Cs=Ps-ws[1];this.width=li,this.height=Si,this.x=Us,this.y=Cs,this.setDims(Os*li,Vr*Si),this.fixAndSetPosition()},zf=async function(){var Os;const is=qr(this,pr);if(!is)return;if(!qr(this,fr)&&!qr(this,gr)){is.classList.remove("done"),(Os=qr(this,mr))==null||Os.remove();return}ns._l10nPromise.get("editor_alt_text_edit_button_label").then(Vr=>{is.setAttribute("aria-label",Vr)});let gs=qr(this,mr);if(!gs){di(this,mr,gs=document.createElement("span")),gs.className="tooltip",gs.setAttribute("role","tooltip");const Vr=gs.id=`alt-text-tooltip-${this.id}`;is.setAttribute("aria-describedby",Vr);const Qr=100;is.addEventListener("mouseenter",()=>{di(this,yr,setTimeout(()=>{di(this,yr,null),qr(this,mr).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Qr))}),is.addEventListener("mouseleave",()=>{var $r;clearTimeout(qr(this,yr)),di(this,yr,null),($r=qr(this,mr))==null||$r.classList.remove("show")})}is.classList.add("done"),gs.innerText=qr(this,gr)?await ns._l10nPromise.get("editor_alt_text_decorative_tooltip"):qr(this,fr),gs.parentNode||is.append(gs)},dp=function(is){if(!this._isDraggable)return;const gs=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Os,Vr;gs&&(Os={passive:!0,capture:!0},Vr=$r=>{const[zr,cs]=this.screenToPageTranslation($r.movementX,$r.movementY);this._uiManager.dragSelectedEditors(zr,cs)},window.addEventListener("pointermove",Vr,Os));const Qr=()=>{if(window.removeEventListener("pointerup",Qr),window.removeEventListener("blur",Qr),gs&&window.removeEventListener("pointermove",Vr,Os),di(this,Br,!1),!this._uiManager.endDragSession()){const{isMac:$r}=cr.FeatureTest.platform;is.ctrlKey&&!$r||is.shiftKey||is.metaKey&&$r?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Qr),window.addEventListener("blur",Qr)},ci(ns,_r),Mo(ns,"_borderLineWidth",-1),Mo(ns,"_colorManager",new Ar.ColorManager),Mo(ns,"_zIndex",1),Mo(ns,"SMALL_EDITOR_SIZE",0);let dr=ns;or.AnnotationEditor=dr;class hr extends dr{constructor(is){super(is),this.annotationElementId=is.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(ar,or,lr)=>{var vr,br,wr,Cr,Br,Xf,Tr,kr,Or,Rr,Lr,fp,Mr,Ur,Kr,Xr,Yr,Zr,ns,As,is,gs,Os,Vr,Qr,$r,zr,cs,Jr,ls,hs,bs,Ts,Ds,us,ps,ms,ss,ks,as,fs,ws,Is,Ps,Ws,Ks,Fs,hp,Yf,qf,Ud,Jf,Zf,ll,Gu,pp,gp,eh,Wu,th;Object.defineProperty(or,"__esModule",{value:!0}),or.KeyboardManager=or.CommandManager=or.ColorManager=or.AnnotationEditorUIManager=void 0,or.bindEvents=ur,or.opacityToHex=dr;var Ar=lr(1),cr=lr(6);function ur(Ei,Rs,Js){for(const oi of Js)Rs.addEventListener(oi,Ei[oi].bind(Ei))}function dr(Ei){return Math.round(Math.min(255,Math.max(1,255*Ei))).toString(16).padStart(2,"0")}class hr{constructor(){ci(this,vr,0)}getId(){return`${Ar.AnnotationEditorPrefix}${Ku(this,vr)._++}`}}vr=new WeakMap;const Er=class Er{constructor(){ci(this,Br);ci(this,br,(0,Ar.getUuid)());ci(this,wr,0);ci(this,Cr,null)}static get _isSVGFittingCanvas(){const Rs='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',oi=new OffscreenCanvas(1,3).getContext("2d"),hi=new Image;hi.src=Rs;const Bi=hi.decode().then(()=>(oi.drawImage(hi,0,0,1,1,0,0,1,3),new Uint32Array(oi.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,Ar.shadow)(this,"_isSVGFittingCanvas",Bi)}async getFromFile(Rs){const{lastModified:Js,name:oi,size:hi,type:Bi}=Rs;return ei(this,Br,Xf).call(this,`${Js}_${oi}_${hi}_${Bi}`,Rs)}async getFromUrl(Rs){return ei(this,Br,Xf).call(this,Rs,Rs)}async getFromId(Rs){qr(this,Cr)||di(this,Cr,new Map);const Js=qr(this,Cr).get(Rs);return Js?Js.bitmap?(Js.refCounter+=1,Js):Js.file?this.getFromFile(Js.file):this.getFromUrl(Js.url):null}getSvgUrl(Rs){const Js=qr(this,Cr).get(Rs);return Js!=null&&Js.isSvg?Js.svgUrl:null}deleteId(Rs){qr(this,Cr)||di(this,Cr,new Map);const Js=qr(this,Cr).get(Rs);Js&&(Js.refCounter-=1,Js.refCounter===0&&(Js.bitmap=null))}isValidId(Rs){return Rs.startsWith(`image_${qr(this,br)}_`)}};br=new WeakMap,wr=new WeakMap,Cr=new WeakMap,Br=new WeakSet,Xf=async function(Rs,Js){qr(this,Cr)||di(this,Cr,new Map);let oi=qr(this,Cr).get(Rs);if(oi===null)return null;if(oi!=null&&oi.bitmap)return oi.refCounter+=1,oi;try{oi||(oi={bitmap:null,id:`image_${qr(this,br)}_${Ku(this,wr)._++}`,refCounter:0,isSvg:!1});let hi;if(typeof Js=="string"){oi.url=Js;const Bi=await fetch(Js);if(!Bi.ok)throw new Error(Bi.statusText);hi=await Bi.blob()}else hi=oi.file=Js;if(hi.type==="image/svg+xml"){const Bi=Er._isSVGFittingCanvas,Ii=new FileReader,Ms=new Image,_s=new Promise((Xs,Zs)=>{Ms.onload=()=>{oi.bitmap=Ms,oi.isSvg=!0,Xs()},Ii.onload=async()=>{const pi=oi.svgUrl=Ii.result;Ms.src=await Bi?`${pi}#svgView(preserveAspectRatio(none))`:pi},Ms.onerror=Ii.onerror=Zs});Ii.readAsDataURL(hi),await _s}else oi.bitmap=await createImageBitmap(hi);oi.refCounter=1}catch(hi){console.error(hi),oi=null}return qr(this,Cr).set(Rs,oi),oi&&qr(this,Cr).set(oi.id,oi),oi};let fr=Er;class gr{constructor(Rs=128){ci(this,Tr,[]);ci(this,kr,!1);ci(this,Or);ci(this,Rr,-1);di(this,Or,Rs)}add({cmd:Rs,undo:Js,mustExec:oi,type:hi=NaN,overwriteIfSameType:Bi=!1,keepUndo:Ii=!1}){if(oi&&Rs(),qr(this,kr))return;const Ms={cmd:Rs,undo:Js,type:hi};if(qr(this,Rr)===-1){qr(this,Tr).length>0&&(qr(this,Tr).length=0),di(this,Rr,0),qr(this,Tr).push(Ms);return}if(Bi&&qr(this,Tr)[qr(this,Rr)].type===hi){Ii&&(Ms.undo=qr(this,Tr)[qr(this,Rr)].undo),qr(this,Tr)[qr(this,Rr)]=Ms;return}const _s=qr(this,Rr)+1;_s===qr(this,Or)?qr(this,Tr).splice(0,1):(di(this,Rr,_s),_s<qr(this,Tr).length&&qr(this,Tr).splice(_s)),qr(this,Tr).push(Ms)}undo(){qr(this,Rr)!==-1&&(di(this,kr,!0),qr(this,Tr)[qr(this,Rr)].undo(),di(this,kr,!1),di(this,Rr,qr(this,Rr)-1))}redo(){qr(this,Rr)<qr(this,Tr).length-1&&(di(this,Rr,qr(this,Rr)+1),di(this,kr,!0),qr(this,Tr)[qr(this,Rr)].cmd(),di(this,kr,!1))}hasSomethingToUndo(){return qr(this,Rr)!==-1}hasSomethingToRedo(){return qr(this,Rr)<qr(this,Tr).length-1}destroy(){di(this,Tr,null)}}Tr=new WeakMap,kr=new WeakMap,Or=new WeakMap,Rr=new WeakMap,or.CommandManager=gr;class pr{constructor(Rs){ci(this,Lr);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Js}=Ar.FeatureTest.platform;for(const[oi,hi,Bi={}]of Rs)for(const Ii of oi){const Ms=Ii.startsWith("mac+");Js&&Ms?(this.callbacks.set(Ii.slice(4),{callback:hi,options:Bi}),this.allKeys.add(Ii.split("+").at(-1))):!Js&&!Ms&&(this.callbacks.set(Ii,{callback:hi,options:Bi}),this.allKeys.add(Ii.split("+").at(-1)))}}exec(Rs,Js){if(!this.allKeys.has(Js.key))return;const oi=this.callbacks.get(ei(this,Lr,fp).call(this,Js));if(!oi)return;const{callback:hi,options:{bubbles:Bi=!1,args:Ii=[],checker:Ms=null}}=oi;Ms&&!Ms(Rs,Js)||(hi.bind(Rs,...Ii)(),Bi||(Js.stopPropagation(),Js.preventDefault()))}}Lr=new WeakSet,fp=function(Rs){Rs.altKey&&this.buffer.push("alt"),Rs.ctrlKey&&this.buffer.push("ctrl"),Rs.metaKey&&this.buffer.push("meta"),Rs.shiftKey&&this.buffer.push("shift"),this.buffer.push(Rs.key);const Js=this.buffer.join("+");return this.buffer.length=0,Js},or.KeyboardManager=pr;const Hr=class Hr{get _colors(){const Rs=new Map([["CanvasText",null],["Canvas",null]]);return(0,cr.getColorValues)(Rs),(0,Ar.shadow)(this,"_colors",Rs)}convert(Rs){const Js=(0,cr.getRGB)(Rs);if(!window.matchMedia("(forced-colors: active)").matches)return Js;for(const[oi,hi]of this._colors)if(hi.every((Bi,Ii)=>Bi===Js[Ii]))return Hr._colorsMapping.get(oi);return Js}getHexCode(Rs){const Js=this._colors.get(Rs);return Js?Ar.Util.makeHexColor(...Js):Rs}};Mo(Hr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let mr=Hr;or.ColorManager=mr;const Pi=class Pi{constructor(Rs,Js,oi,hi,Bi,Ii){ci(this,Fs);ci(this,Mr,null);ci(this,Ur,new Map);ci(this,Kr,new Map);ci(this,Xr,null);ci(this,Yr,null);ci(this,Zr,new gr);ci(this,ns,0);ci(this,As,new Set);ci(this,is,null);ci(this,gs,null);ci(this,Os,new Set);ci(this,Vr,null);ci(this,Qr,new hr);ci(this,$r,!1);ci(this,zr,!1);ci(this,cs,null);ci(this,Jr,Ar.AnnotationEditorType.NONE);ci(this,ls,new Set);ci(this,hs,null);ci(this,bs,this.blur.bind(this));ci(this,Ts,this.focus.bind(this));ci(this,Ds,this.copy.bind(this));ci(this,us,this.cut.bind(this));ci(this,ps,this.paste.bind(this));ci(this,ms,this.keydown.bind(this));ci(this,ss,this.onEditingAction.bind(this));ci(this,ks,this.onPageChanging.bind(this));ci(this,as,this.onScaleChanging.bind(this));ci(this,fs,this.onRotationChanging.bind(this));ci(this,ws,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});ci(this,Is,[0,0]);ci(this,Ps,null);ci(this,Ws,null);ci(this,Ks,null);di(this,Ws,Rs),di(this,Ks,Js),di(this,Xr,oi),this._eventBus=hi,this._eventBus._on("editingaction",qr(this,ss)),this._eventBus._on("pagechanging",qr(this,ks)),this._eventBus._on("scalechanging",qr(this,as)),this._eventBus._on("rotationchanging",qr(this,fs)),di(this,Yr,Bi.annotationStorage),di(this,Vr,Bi.filterFactory),di(this,hs,Ii),this.viewParameters={realScale:cr.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Rs=Pi.prototype,Js=Bi=>{const{activeElement:Ii}=document;return Ii&&qr(Bi,Ws).contains(Ii)&&Bi.hasSomethingToControl()},oi=this.TRANSLATE_SMALL,hi=this.TRANSLATE_BIG;return(0,Ar.shadow)(this,"_keyboardManager",new pr([[["ctrl+a","mac+meta+a"],Rs.selectAll],[["ctrl+z","mac+meta+z"],Rs.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Rs.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Rs.delete],[["Escape","mac+Escape"],Rs.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Rs.translateSelectedEditors,{args:[-oi,0],checker:Js}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Rs.translateSelectedEditors,{args:[-hi,0],checker:Js}],[["ArrowRight","mac+ArrowRight"],Rs.translateSelectedEditors,{args:[oi,0],checker:Js}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Rs.translateSelectedEditors,{args:[hi,0],checker:Js}],[["ArrowUp","mac+ArrowUp"],Rs.translateSelectedEditors,{args:[0,-oi],checker:Js}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Rs.translateSelectedEditors,{args:[0,-hi],checker:Js}],[["ArrowDown","mac+ArrowDown"],Rs.translateSelectedEditors,{args:[0,oi],checker:Js}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Rs.translateSelectedEditors,{args:[0,hi],checker:Js}]]))}destroy(){ei(this,Fs,Ud).call(this),ei(this,Fs,Yf).call(this),this._eventBus._off("editingaction",qr(this,ss)),this._eventBus._off("pagechanging",qr(this,ks)),this._eventBus._off("scalechanging",qr(this,as)),this._eventBus._off("rotationchanging",qr(this,fs));for(const Rs of qr(this,Kr).values())Rs.destroy();qr(this,Kr).clear(),qr(this,Ur).clear(),qr(this,Os).clear(),di(this,Mr,null),qr(this,ls).clear(),qr(this,Zr).destroy(),qr(this,Xr).destroy()}get hcmFilter(){return(0,Ar.shadow)(this,"hcmFilter",qr(this,hs)?qr(this,Vr).addHCMFilter(qr(this,hs).foreground,qr(this,hs).background):"none")}get direction(){return(0,Ar.shadow)(this,"direction",getComputedStyle(qr(this,Ws)).direction)}editAltText(Rs){var Js;(Js=qr(this,Xr))==null||Js.editAltText(this,Rs)}onPageChanging({pageNumber:Rs}){di(this,ns,Rs-1)}focusMainContainer(){qr(this,Ws).focus()}findParent(Rs,Js){for(const oi of qr(this,Kr).values()){const{x:hi,y:Bi,width:Ii,height:Ms}=oi.div.getBoundingClientRect();if(Rs>=hi&&Rs<=hi+Ii&&Js>=Bi&&Js<=Bi+Ms)return oi}return null}disableUserSelect(Rs=!1){qr(this,Ks).classList.toggle("noUserSelect",Rs)}addShouldRescale(Rs){qr(this,Os).add(Rs)}removeShouldRescale(Rs){qr(this,Os).delete(Rs)}onScaleChanging({scale:Rs}){this.commitOrRemove(),this.viewParameters.realScale=Rs*cr.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Js of qr(this,Os))Js.onScaleChanging()}onRotationChanging({pagesRotation:Rs}){this.commitOrRemove(),this.viewParameters.rotation=Rs}addToAnnotationStorage(Rs){!Rs.isEmpty()&&qr(this,Yr)&&!qr(this,Yr).has(Rs.id)&&qr(this,Yr).setValue(Rs.id,Rs)}blur(){if(!this.hasSelection)return;const{activeElement:Rs}=document;for(const Js of qr(this,ls))if(Js.div.contains(Rs)){di(this,cs,[Js,Rs]),Js._focusEventsAllowed=!1;break}}focus(){if(!qr(this,cs))return;const[Rs,Js]=qr(this,cs);di(this,cs,null),Js.addEventListener("focusin",()=>{Rs._focusEventsAllowed=!0},{once:!0}),Js.focus()}addEditListeners(){ei(this,Fs,qf).call(this),ei(this,Fs,Jf).call(this)}removeEditListeners(){ei(this,Fs,Ud).call(this),ei(this,Fs,Zf).call(this)}copy(Rs){var oi;if(Rs.preventDefault(),(oi=qr(this,Mr))==null||oi.commitOrRemove(),!this.hasSelection)return;const Js=[];for(const hi of qr(this,ls)){const Bi=hi.serialize(!0);Bi&&Js.push(Bi)}Js.length!==0&&Rs.clipboardData.setData("application/pdfjs",JSON.stringify(Js))}cut(Rs){this.copy(Rs),this.delete()}paste(Rs){Rs.preventDefault();const{clipboardData:Js}=Rs;for(const Bi of Js.items)for(const Ii of qr(this,gs))if(Ii.isHandlingMimeForPasting(Bi.type)){Ii.paste(Bi,this.currentLayer);return}let oi=Js.getData("application/pdfjs");if(!oi)return;try{oi=JSON.parse(oi)}catch(Bi){(0,Ar.warn)(`paste: "${Bi.message}".`);return}if(!Array.isArray(oi))return;this.unselectAll();const hi=this.currentLayer;try{const Bi=[];for(const _s of oi){const Xs=hi.deserialize(_s);if(!Xs)return;Bi.push(Xs)}const Ii=()=>{for(const _s of Bi)ei(this,Fs,eh).call(this,_s);ei(this,Fs,th).call(this,Bi)},Ms=()=>{for(const _s of Bi)_s.remove()};this.addCommands({cmd:Ii,undo:Ms,mustExec:!0})}catch(Bi){(0,Ar.warn)(`paste: "${Bi.message}".`)}}keydown(Rs){var Js;(Js=this.getActive())!=null&&Js.shouldGetKeyboardEvents()||Pi._keyboardManager.exec(this,Rs)}onEditingAction(Rs){["undo","redo","delete","selectAll"].includes(Rs.name)&&this[Rs.name]()}setEditingState(Rs){Rs?(ei(this,Fs,hp).call(this),ei(this,Fs,qf).call(this),ei(this,Fs,Jf).call(this),ei(this,Fs,ll).call(this,{isEditing:qr(this,Jr)!==Ar.AnnotationEditorType.NONE,isEmpty:ei(this,Fs,Wu).call(this),hasSomethingToUndo:qr(this,Zr).hasSomethingToUndo(),hasSomethingToRedo:qr(this,Zr).hasSomethingToRedo(),hasSelectedEditor:!1})):(ei(this,Fs,Yf).call(this),ei(this,Fs,Ud).call(this),ei(this,Fs,Zf).call(this),ei(this,Fs,ll).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Rs){if(!qr(this,gs)){di(this,gs,Rs);for(const Js of qr(this,gs))ei(this,Fs,Gu).call(this,Js.defaultPropertiesToUpdate)}}getId(){return qr(this,Qr).getId()}get currentLayer(){return qr(this,Kr).get(qr(this,ns))}getLayer(Rs){return qr(this,Kr).get(Rs)}get currentPageIndex(){return qr(this,ns)}addLayer(Rs){qr(this,Kr).set(Rs.pageIndex,Rs),qr(this,$r)?Rs.enable():Rs.disable()}removeLayer(Rs){qr(this,Kr).delete(Rs.pageIndex)}updateMode(Rs,Js=null){if(qr(this,Jr)!==Rs){if(di(this,Jr,Rs),Rs===Ar.AnnotationEditorType.NONE){this.setEditingState(!1),ei(this,Fs,gp).call(this);return}this.setEditingState(!0),ei(this,Fs,pp).call(this),this.unselectAll();for(const oi of qr(this,Kr).values())oi.updateMode(Rs);if(Js){for(const oi of qr(this,Ur).values())if(oi.annotationElementId===Js){this.setSelected(oi),oi.enterInEditMode();break}}}}updateToolbar(Rs){Rs!==qr(this,Jr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Rs})}updateParams(Rs,Js){if(qr(this,gs)){if(Rs===Ar.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Rs);return}for(const oi of qr(this,ls))oi.updateParams(Rs,Js);for(const oi of qr(this,gs))oi.updateDefaultParams(Rs,Js)}}enableWaiting(Rs=!1){if(qr(this,zr)!==Rs){di(this,zr,Rs);for(const Js of qr(this,Kr).values())Rs?Js.disableClick():Js.enableClick(),Js.div.classList.toggle("waiting",Rs)}}getEditors(Rs){const Js=[];for(const oi of qr(this,Ur).values())oi.pageIndex===Rs&&Js.push(oi);return Js}getEditor(Rs){return qr(this,Ur).get(Rs)}addEditor(Rs){qr(this,Ur).set(Rs.id,Rs)}removeEditor(Rs){var Js;qr(this,Ur).delete(Rs.id),this.unselect(Rs),(!Rs.annotationElementId||!qr(this,As).has(Rs.annotationElementId))&&((Js=qr(this,Yr))==null||Js.remove(Rs.id))}addDeletedAnnotationElement(Rs){qr(this,As).add(Rs.annotationElementId),Rs.deleted=!0}isDeletedAnnotationElement(Rs){return qr(this,As).has(Rs)}removeDeletedAnnotationElement(Rs){qr(this,As).delete(Rs.annotationElementId),Rs.deleted=!1}setActiveEditor(Rs){qr(this,Mr)!==Rs&&(di(this,Mr,Rs),Rs&&ei(this,Fs,Gu).call(this,Rs.propertiesToUpdate))}toggleSelected(Rs){if(qr(this,ls).has(Rs)){qr(this,ls).delete(Rs),Rs.unselect(),ei(this,Fs,ll).call(this,{hasSelectedEditor:this.hasSelection});return}qr(this,ls).add(Rs),Rs.select(),ei(this,Fs,Gu).call(this,Rs.propertiesToUpdate),ei(this,Fs,ll).call(this,{hasSelectedEditor:!0})}setSelected(Rs){for(const Js of qr(this,ls))Js!==Rs&&Js.unselect();qr(this,ls).clear(),qr(this,ls).add(Rs),Rs.select(),ei(this,Fs,Gu).call(this,Rs.propertiesToUpdate),ei(this,Fs,ll).call(this,{hasSelectedEditor:!0})}isSelected(Rs){return qr(this,ls).has(Rs)}unselect(Rs){Rs.unselect(),qr(this,ls).delete(Rs),ei(this,Fs,ll).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return qr(this,ls).size!==0}undo(){qr(this,Zr).undo(),ei(this,Fs,ll).call(this,{hasSomethingToUndo:qr(this,Zr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ei(this,Fs,Wu).call(this)})}redo(){qr(this,Zr).redo(),ei(this,Fs,ll).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:qr(this,Zr).hasSomethingToRedo(),isEmpty:ei(this,Fs,Wu).call(this)})}addCommands(Rs){qr(this,Zr).add(Rs),ei(this,Fs,ll).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ei(this,Fs,Wu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Rs=[...qr(this,ls)],Js=()=>{for(const hi of Rs)hi.remove()},oi=()=>{for(const hi of Rs)ei(this,Fs,eh).call(this,hi)};this.addCommands({cmd:Js,undo:oi,mustExec:!0})}commitOrRemove(){var Rs;(Rs=qr(this,Mr))==null||Rs.commitOrRemove()}hasSomethingToControl(){return qr(this,Mr)||this.hasSelection}selectAll(){for(const Rs of qr(this,ls))Rs.commit();ei(this,Fs,th).call(this,qr(this,Ur).values())}unselectAll(){if(qr(this,Mr)){qr(this,Mr).commitOrRemove();return}if(this.hasSelection){for(const Rs of qr(this,ls))Rs.unselect();qr(this,ls).clear(),ei(this,Fs,ll).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Rs,Js,oi=!1){if(oi||this.commitOrRemove(),!this.hasSelection)return;qr(this,Is)[0]+=Rs,qr(this,Is)[1]+=Js;const[hi,Bi]=qr(this,Is),Ii=[...qr(this,ls)],Ms=1e3;qr(this,Ps)&&clearTimeout(qr(this,Ps)),di(this,Ps,setTimeout(()=>{di(this,Ps,null),qr(this,Is)[0]=qr(this,Is)[1]=0,this.addCommands({cmd:()=>{for(const _s of Ii)qr(this,Ur).has(_s.id)&&_s.translateInPage(hi,Bi)},undo:()=>{for(const _s of Ii)qr(this,Ur).has(_s.id)&&_s.translateInPage(-hi,-Bi)},mustExec:!1})},Ms));for(const _s of Ii)_s.translateInPage(Rs,Js)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),di(this,is,new Map);for(const Rs of qr(this,ls))qr(this,is).set(Rs,{savedX:Rs.x,savedY:Rs.y,savedPageIndex:Rs.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!qr(this,is))return!1;this.disableUserSelect(!1);const Rs=qr(this,is);di(this,is,null);let Js=!1;for(const[{x:hi,y:Bi,pageIndex:Ii},Ms]of Rs)Ms.newX=hi,Ms.newY=Bi,Ms.newPageIndex=Ii,Js||(Js=hi!==Ms.savedX||Bi!==Ms.savedY||Ii!==Ms.savedPageIndex);if(!Js)return!1;const oi=(hi,Bi,Ii,Ms)=>{if(qr(this,Ur).has(hi.id)){const _s=qr(this,Kr).get(Ms);_s?hi._setParentAndPosition(_s,Bi,Ii):(hi.pageIndex=Ms,hi.x=Bi,hi.y=Ii)}};return this.addCommands({cmd:()=>{for(const[hi,{newX:Bi,newY:Ii,newPageIndex:Ms}]of Rs)oi(hi,Bi,Ii,Ms)},undo:()=>{for(const[hi,{savedX:Bi,savedY:Ii,savedPageIndex:Ms}]of Rs)oi(hi,Bi,Ii,Ms)},mustExec:!0}),!0}dragSelectedEditors(Rs,Js){if(qr(this,is))for(const oi of qr(this,is).keys())oi.drag(Rs,Js)}rebuild(Rs){if(Rs.parent===null){const Js=this.getLayer(Rs.pageIndex);Js?(Js.changeParent(Rs),Js.addOrRebuild(Rs)):(this.addEditor(Rs),this.addToAnnotationStorage(Rs),Rs.rebuild())}else Rs.parent.addOrRebuild(Rs)}isActive(Rs){return qr(this,Mr)===Rs}getActive(){return qr(this,Mr)}getMode(){return qr(this,Jr)}get imageManager(){return(0,Ar.shadow)(this,"imageManager",new fr)}};Mr=new WeakMap,Ur=new WeakMap,Kr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Zr=new WeakMap,ns=new WeakMap,As=new WeakMap,is=new WeakMap,gs=new WeakMap,Os=new WeakMap,Vr=new WeakMap,Qr=new WeakMap,$r=new WeakMap,zr=new WeakMap,cs=new WeakMap,Jr=new WeakMap,ls=new WeakMap,hs=new WeakMap,bs=new WeakMap,Ts=new WeakMap,Ds=new WeakMap,us=new WeakMap,ps=new WeakMap,ms=new WeakMap,ss=new WeakMap,ks=new WeakMap,as=new WeakMap,fs=new WeakMap,ws=new WeakMap,Is=new WeakMap,Ps=new WeakMap,Ws=new WeakMap,Ks=new WeakMap,Fs=new WeakSet,hp=function(){window.addEventListener("focus",qr(this,Ts)),window.addEventListener("blur",qr(this,bs))},Yf=function(){window.removeEventListener("focus",qr(this,Ts)),window.removeEventListener("blur",qr(this,bs))},qf=function(){window.addEventListener("keydown",qr(this,ms),{capture:!0})},Ud=function(){window.removeEventListener("keydown",qr(this,ms),{capture:!0})},Jf=function(){document.addEventListener("copy",qr(this,Ds)),document.addEventListener("cut",qr(this,us)),document.addEventListener("paste",qr(this,ps))},Zf=function(){document.removeEventListener("copy",qr(this,Ds)),document.removeEventListener("cut",qr(this,us)),document.removeEventListener("paste",qr(this,ps))},ll=function(Rs){Object.entries(Rs).some(([oi,hi])=>qr(this,ws)[oi]!==hi)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(qr(this,ws),Rs)})},Gu=function(Rs){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Rs})},pp=function(){if(!qr(this,$r)){di(this,$r,!0);for(const Rs of qr(this,Kr).values())Rs.enable()}},gp=function(){if(this.unselectAll(),qr(this,$r)){di(this,$r,!1);for(const Rs of qr(this,Kr).values())Rs.disable()}},eh=function(Rs){const Js=qr(this,Kr).get(Rs.pageIndex);Js?Js.addOrRebuild(Rs):this.addEditor(Rs)},Wu=function(){if(qr(this,Ur).size===0)return!0;if(qr(this,Ur).size===1)for(const Rs of qr(this,Ur).values())return Rs.isEmpty();return!1},th=function(Rs){qr(this,ls).clear();for(const Js of Rs)Js.isEmpty()||(qr(this,ls).add(Js),Js.select());ei(this,Fs,ll).call(this,{hasSelectedEditor:!0})},Mo(Pi,"TRANSLATE_SMALL",1),Mo(Pi,"TRANSLATE_BIG",10);let yr=Pi;or.AnnotationEditorUIManager=yr},(ar,or,lr)=>{var ns,As,is,gs,Os,Vr,Qr,$r,zr,cs,Jr,ls,lu,Au,nh,Qd,jd,zu,Xu;Object.defineProperty(or,"__esModule",{value:!0}),or.StatTimer=or.RenderingCancelledException=or.PixelsPerInch=or.PageViewport=or.PDFDateString=or.DOMStandardFontDataFactory=or.DOMSVGFactory=or.DOMFilterFactory=or.DOMCanvasFactory=or.DOMCMapReaderFactory=void 0,or.deprecated=Rr,or.getColorValues=Ur,or.getCurrentTransform=Kr,or.getCurrentTransformInverse=Xr,or.getFilenameFromUrl=Br,or.getPdfFilenameFromUrl=Sr,or.getRGB=Mr,or.getXfaPageViewport=Hr,or.isDataScheme=wr,or.isPdfFile=Cr,or.isValidFetchUrl=Tr,or.loadScript=Or,or.noContextMenu=kr,or.setLayerDimensions=Yr;var Ar=lr(7),cr=lr(1);const ur="http://www.w3.org/2000/svg",Zr=class Zr{};Mo(Zr,"CSS",96),Mo(Zr,"PDF",72),Mo(Zr,"PDF_TO_CSS_UNITS",Zr.CSS/Zr.PDF);let dr=Zr;or.PixelsPerInch=dr;class hr extends Ar.BaseFilterFactory{constructor({docId:as,ownerDocument:fs=globalThis.document}={}){super();ci(this,ls);ci(this,ns);ci(this,As);ci(this,is);ci(this,gs);ci(this,Os);ci(this,Vr);ci(this,Qr);ci(this,$r);ci(this,zr);ci(this,cs);ci(this,Jr,0);di(this,is,as),di(this,gs,fs)}addFilter(as){if(!as)return"none";let fs=qr(this,ls,lu).get(as);if(fs)return fs;let ws,Is,Ps,Ws;if(as.length===1){const li=as[0],Si=new Array(256);for(let Us=0;Us<256;Us++)Si[Us]=li[Us]/255;Ws=ws=Is=Ps=Si.join(",")}else{const[li,Si,Us]=as,Cs=new Array(256),Bs=new Array(256),$s=new Array(256);for(let qs=0;qs<256;qs++)Cs[qs]=li[qs]/255,Bs[qs]=Si[qs]/255,$s[qs]=Us[qs]/255;ws=Cs.join(","),Is=Bs.join(","),Ps=$s.join(","),Ws=`${ws}${Is}${Ps}`}if(fs=qr(this,ls,lu).get(Ws),fs)return qr(this,ls,lu).set(as,fs),fs;const Ks=`g_${qr(this,is)}_transfer_map_${Ku(this,Jr)._++}`,Fs=`url(#${Ks})`;qr(this,ls,lu).set(as,Fs),qr(this,ls,lu).set(Ws,Fs);const ni=ei(this,ls,Qd).call(this,Ks);return ei(this,ls,zu).call(this,ws,Is,Ps,ni),Fs}addHCMFilter(as,fs){var Si;const ws=`${as}-${fs}`;if(qr(this,Vr)===ws)return qr(this,Qr);if(di(this,Vr,ws),di(this,Qr,"none"),(Si=qr(this,Os))==null||Si.remove(),!as||!fs)return qr(this,Qr);const Is=ei(this,ls,Xu).call(this,as);as=cr.Util.makeHexColor(...Is);const Ps=ei(this,ls,Xu).call(this,fs);if(fs=cr.Util.makeHexColor(...Ps),qr(this,ls,Au).style.color="",as==="#000000"&&fs==="#ffffff"||as===fs)return qr(this,Qr);const Ws=new Array(256);for(let Us=0;Us<=255;Us++){const Cs=Us/255;Ws[Us]=Cs<=.03928?Cs/12.92:((Cs+.055)/1.055)**2.4}const Ks=Ws.join(","),Fs=`g_${qr(this,is)}_hcm_filter`,ni=di(this,$r,ei(this,ls,Qd).call(this,Fs));ei(this,ls,zu).call(this,Ks,Ks,Ks,ni),ei(this,ls,nh).call(this,ni);const li=(Us,Cs)=>{const Bs=Is[Us]/255,$s=Ps[Us]/255,qs=new Array(Cs+1);for(let bi=0;bi<=Cs;bi++)qs[bi]=Bs+bi/Cs*($s-Bs);return qs.join(",")};return ei(this,ls,zu).call(this,li(0,5),li(1,5),li(2,5),ni),di(this,Qr,`url(#${Fs})`),qr(this,Qr)}addHighlightHCMFilter(as,fs,ws,Is){var $s;const Ps=`${as}-${fs}-${ws}-${Is}`;if(qr(this,zr)===Ps)return qr(this,cs);if(di(this,zr,Ps),di(this,cs,"none"),($s=qr(this,$r))==null||$s.remove(),!as||!fs)return qr(this,cs);const[Ws,Ks]=[as,fs].map(ei(this,ls,Xu).bind(this));let Fs=Math.round(.2126*Ws[0]+.7152*Ws[1]+.0722*Ws[2]),ni=Math.round(.2126*Ks[0]+.7152*Ks[1]+.0722*Ks[2]),[li,Si]=[ws,Is].map(ei(this,ls,Xu).bind(this));ni<Fs&&([Fs,ni,li,Si]=[ni,Fs,Si,li]),qr(this,ls,Au).style.color="";const Us=(qs,bi,zs)=>{const Vs=new Array(256),Ys=(ni-Fs)/zs,fi=qs/255,Pi=(bi-qs)/(255*zs);let Ei=0;for(let Rs=0;Rs<=zs;Rs++){const Js=Math.round(Fs+Rs*Ys),oi=fi+Rs*Pi;for(let hi=Ei;hi<=Js;hi++)Vs[hi]=oi;Ei=Js+1}for(let Rs=Ei;Rs<256;Rs++)Vs[Rs]=Vs[Ei-1];return Vs.join(",")},Cs=`g_${qr(this,is)}_hcm_highlight_filter`,Bs=di(this,$r,ei(this,ls,Qd).call(this,Cs));return ei(this,ls,nh).call(this,Bs),ei(this,ls,zu).call(this,Us(li[0],Si[0],5),Us(li[1],Si[1],5),Us(li[2],Si[2],5),Bs),di(this,cs,`url(#${Cs})`),qr(this,cs)}destroy(as=!1){as&&(qr(this,Qr)||qr(this,cs))||(qr(this,As)&&(qr(this,As).parentNode.parentNode.remove(),di(this,As,null)),qr(this,ns)&&(qr(this,ns).clear(),di(this,ns,null)),di(this,Jr,0))}}ns=new WeakMap,As=new WeakMap,is=new WeakMap,gs=new WeakMap,Os=new WeakMap,Vr=new WeakMap,Qr=new WeakMap,$r=new WeakMap,zr=new WeakMap,cs=new WeakMap,Jr=new WeakMap,ls=new WeakSet,lu=function(){return qr(this,ns)||di(this,ns,new Map)},Au=function(){if(!qr(this,As)){const as=qr(this,gs).createElement("div"),{style:fs}=as;fs.visibility="hidden",fs.contain="strict",fs.width=fs.height=0,fs.position="absolute",fs.top=fs.left=0,fs.zIndex=-1;const ws=qr(this,gs).createElementNS(ur,"svg");ws.setAttribute("width",0),ws.setAttribute("height",0),di(this,As,qr(this,gs).createElementNS(ur,"defs")),as.append(ws),ws.append(qr(this,As)),qr(this,gs).body.append(as)}return qr(this,As)},nh=function(as){const fs=qr(this,gs).createElementNS(ur,"feColorMatrix");fs.setAttribute("type","matrix"),fs.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),as.append(fs)},Qd=function(as){const fs=qr(this,gs).createElementNS(ur,"filter");return fs.setAttribute("color-interpolation-filters","sRGB"),fs.setAttribute("id",as),qr(this,ls,Au).append(fs),fs},jd=function(as,fs,ws){const Is=qr(this,gs).createElementNS(ur,fs);Is.setAttribute("type","discrete"),Is.setAttribute("tableValues",ws),as.append(Is)},zu=function(as,fs,ws,Is){const Ps=qr(this,gs).createElementNS(ur,"feComponentTransfer");Is.append(Ps),ei(this,ls,jd).call(this,Ps,"feFuncR",as),ei(this,ls,jd).call(this,Ps,"feFuncG",fs),ei(this,ls,jd).call(this,Ps,"feFuncB",ws)},Xu=function(as){return qr(this,ls,Au).style.color=as,Mr(getComputedStyle(qr(this,ls,Au)).getPropertyValue("color"))},or.DOMFilterFactory=hr;class fr extends Ar.BaseCanvasFactory{constructor({ownerDocument:ks=globalThis.document}={}){super(),this._document=ks}_createCanvas(ks,as){const fs=this._document.createElement("canvas");return fs.width=ks,fs.height=as,fs}}or.DOMCanvasFactory=fr;async function gr(ss,ks=!1){if(Tr(ss,document.baseURI)){const as=await fetch(ss);if(!as.ok)throw new Error(as.statusText);return ks?new Uint8Array(await as.arrayBuffer()):(0,cr.stringToBytes)(await as.text())}return new Promise((as,fs)=>{const ws=new XMLHttpRequest;ws.open("GET",ss,!0),ks&&(ws.responseType="arraybuffer"),ws.onreadystatechange=()=>{if(ws.readyState===XMLHttpRequest.DONE){if(ws.status===200||ws.status===0){let Is;if(ks&&ws.response?Is=new Uint8Array(ws.response):!ks&&ws.responseText&&(Is=(0,cr.stringToBytes)(ws.responseText)),Is){as(Is);return}}fs(new Error(ws.statusText))}},ws.send(null)})}class pr extends Ar.BaseCMapReaderFactory{_fetchData(ks,as){return gr(ks,this.isCompressed).then(fs=>({cMapData:fs,compressionType:as}))}}or.DOMCMapReaderFactory=pr;class mr extends Ar.BaseStandardFontDataFactory{_fetchData(ks){return gr(ks,!0)}}or.DOMStandardFontDataFactory=mr;class yr extends Ar.BaseSVGFactory{_createSVG(ks){return document.createElementNS(ur,ks)}}or.DOMSVGFactory=yr;class vr{constructor({viewBox:ks,scale:as,rotation:fs,offsetX:ws=0,offsetY:Is=0,dontFlip:Ps=!1}){this.viewBox=ks,this.scale=as,this.rotation=fs,this.offsetX=ws,this.offsetY=Is;const Ws=(ks[2]+ks[0])/2,Ks=(ks[3]+ks[1])/2;let Fs,ni,li,Si;switch(fs%=360,fs<0&&(fs+=360),fs){case 180:Fs=-1,ni=0,li=0,Si=1;break;case 90:Fs=0,ni=1,li=1,Si=0;break;case 270:Fs=0,ni=-1,li=-1,Si=0;break;case 0:Fs=1,ni=0,li=0,Si=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ps&&(li=-li,Si=-Si);let Us,Cs,Bs,$s;Fs===0?(Us=Math.abs(Ks-ks[1])*as+ws,Cs=Math.abs(Ws-ks[0])*as+Is,Bs=(ks[3]-ks[1])*as,$s=(ks[2]-ks[0])*as):(Us=Math.abs(Ws-ks[0])*as+ws,Cs=Math.abs(Ks-ks[1])*as+Is,Bs=(ks[2]-ks[0])*as,$s=(ks[3]-ks[1])*as),this.transform=[Fs*as,ni*as,li*as,Si*as,Us-Fs*as*Ws-li*as*Ks,Cs-ni*as*Ws-Si*as*Ks],this.width=Bs,this.height=$s}get rawDims(){const{viewBox:ks}=this;return(0,cr.shadow)(this,"rawDims",{pageWidth:ks[2]-ks[0],pageHeight:ks[3]-ks[1],pageX:ks[0],pageY:ks[1]})}clone({scale:ks=this.scale,rotation:as=this.rotation,offsetX:fs=this.offsetX,offsetY:ws=this.offsetY,dontFlip:Is=!1}={}){return new vr({viewBox:this.viewBox.slice(),scale:ks,rotation:as,offsetX:fs,offsetY:ws,dontFlip:Is})}convertToViewportPoint(ks,as){return cr.Util.applyTransform([ks,as],this.transform)}convertToViewportRectangle(ks){const as=cr.Util.applyTransform([ks[0],ks[1]],this.transform),fs=cr.Util.applyTransform([ks[2],ks[3]],this.transform);return[as[0],as[1],fs[0],fs[1]]}convertToPdfPoint(ks,as){return cr.Util.applyInverseTransform([ks,as],this.transform)}}or.PageViewport=vr;class br extends cr.BaseException{constructor(ks,as=0){super(ks,"RenderingCancelledException"),this.extraDelay=as}}or.RenderingCancelledException=br;function wr(ss){const ks=ss.length;let as=0;for(;as<ks&&ss[as].trim()==="";)as++;return ss.substring(as,as+5).toLowerCase()==="data:"}function Cr(ss){return typeof ss=="string"&&/\.pdf$/i.test(ss)}function Br(ss,ks=!1){return ks||([ss]=ss.split(/[#?]/,1)),ss.substring(ss.lastIndexOf("/")+1)}function Sr(ss,ks="document.pdf"){if(typeof ss!="string")return ks;if(wr(ss))return(0,cr.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ks;const as=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,fs=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ws=as.exec(ss);let Is=fs.exec(ws[1])||fs.exec(ws[2])||fs.exec(ws[3]);if(Is&&(Is=Is[0],Is.includes("%")))try{Is=fs.exec(decodeURIComponent(Is))[0]}catch{}return Is||ks}class Er{constructor(){Mo(this,"started",Object.create(null));Mo(this,"times",[])}time(ks){ks in this.started&&(0,cr.warn)(`Timer is already running for ${ks}`),this.started[ks]=Date.now()}timeEnd(ks){ks in this.started||(0,cr.warn)(`Timer has not been started for ${ks}`),this.times.push({name:ks,start:this.started[ks],end:Date.now()}),delete this.started[ks]}toString(){const ks=[];let as=0;for(const{name:fs}of this.times)as=Math.max(fs.length,as);for(const{name:fs,start:ws,end:Is}of this.times)ks.push(`${fs.padEnd(as)} ${Is-ws}ms
`);return ks.join("")}}or.StatTimer=Er;function Tr(ss,ks){try{const{protocol:as}=ks?new URL(ss,ks):new URL(ss);return as==="http:"||as==="https:"}catch{return!1}}function kr(ss){ss.preventDefault()}function Or(ss,ks=!1){return new Promise((as,fs)=>{const ws=document.createElement("script");ws.src=ss,ws.onload=function(Is){ks&&ws.remove(),as(Is)},ws.onerror=function(){fs(new Error(`Cannot load script at: ${ws.src}`))},(document.head||document.documentElement).append(ws)})}function Rr(ss){console.log("Deprecated API usage: "+ss)}let Lr;class _r{static toDateObject(ks){if(!ks||typeof ks!="string")return null;Lr||(Lr=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const as=Lr.exec(ks);if(!as)return null;const fs=parseInt(as[1],10);let ws=parseInt(as[2],10);ws=ws>=1&&ws<=12?ws-1:0;let Is=parseInt(as[3],10);Is=Is>=1&&Is<=31?Is:1;let Ps=parseInt(as[4],10);Ps=Ps>=0&&Ps<=23?Ps:0;let Ws=parseInt(as[5],10);Ws=Ws>=0&&Ws<=59?Ws:0;let Ks=parseInt(as[6],10);Ks=Ks>=0&&Ks<=59?Ks:0;const Fs=as[7]||"Z";let ni=parseInt(as[8],10);ni=ni>=0&&ni<=23?ni:0;let li=parseInt(as[9],10)||0;return li=li>=0&&li<=59?li:0,Fs==="-"?(Ps+=ni,Ws+=li):Fs==="+"&&(Ps-=ni,Ws-=li),new Date(Date.UTC(fs,ws,Is,Ps,Ws,Ks))}}or.PDFDateString=_r;function Hr(ss,{scale:ks=1,rotation:as=0}){const{width:fs,height:ws}=ss.attributes.style,Is=[0,0,parseInt(fs),parseInt(ws)];return new vr({viewBox:Is,scale:ks,rotation:as})}function Mr(ss){if(ss.startsWith("#")){const ks=parseInt(ss.slice(1),16);return[(ks&16711680)>>16,(ks&65280)>>8,ks&255]}return ss.startsWith("rgb(")?ss.slice(4,-1).split(",").map(ks=>parseInt(ks)):ss.startsWith("rgba(")?ss.slice(5,-1).split(",").map(ks=>parseInt(ks)).slice(0,3):((0,cr.warn)(`Not a valid color format: "${ss}"`),[0,0,0])}function Ur(ss){const ks=document.createElement("span");ks.style.visibility="hidden",document.body.append(ks);for(const as of ss.keys()){ks.style.color=as;const fs=window.getComputedStyle(ks).color;ss.set(as,Mr(fs))}ks.remove()}function Kr(ss){const{a:ks,b:as,c:fs,d:ws,e:Is,f:Ps}=ss.getTransform();return[ks,as,fs,ws,Is,Ps]}function Xr(ss){const{a:ks,b:as,c:fs,d:ws,e:Is,f:Ps}=ss.getTransform().invertSelf();return[ks,as,fs,ws,Is,Ps]}function Yr(ss,ks,as=!1,fs=!0){if(ks instanceof vr){const{pageWidth:ws,pageHeight:Is}=ks.rawDims,{style:Ps}=ss,Ws=cr.FeatureTest.isCSSRoundSupported,Ks=`var(--scale-factor) * ${ws}px`,Fs=`var(--scale-factor) * ${Is}px`,ni=Ws?`round(${Ks}, 1px)`:`calc(${Ks})`,li=Ws?`round(${Fs}, 1px)`:`calc(${Fs})`;!as||ks.rotation%180===0?(Ps.width=ni,Ps.height=li):(Ps.width=li,Ps.height=ni)}fs&&ss.setAttribute("data-main-rotation",ks.rotation)}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.BaseStandardFontDataFactory=or.BaseSVGFactory=or.BaseFilterFactory=or.BaseCanvasFactory=or.BaseCMapReaderFactory=void 0;var Ar=lr(1);class cr{constructor(){this.constructor===cr&&(0,Ar.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(pr){return"none"}addHCMFilter(pr,mr){return"none"}addHighlightHCMFilter(pr,mr,yr,vr){return"none"}destroy(pr=!1){}}or.BaseFilterFactory=cr;class ur{constructor(){this.constructor===ur&&(0,Ar.unreachable)("Cannot initialize BaseCanvasFactory.")}create(pr,mr){if(pr<=0||mr<=0)throw new Error("Invalid canvas size");const yr=this._createCanvas(pr,mr);return{canvas:yr,context:yr.getContext("2d")}}reset(pr,mr,yr){if(!pr.canvas)throw new Error("Canvas is not specified");if(mr<=0||yr<=0)throw new Error("Invalid canvas size");pr.canvas.width=mr,pr.canvas.height=yr}destroy(pr){if(!pr.canvas)throw new Error("Canvas is not specified");pr.canvas.width=0,pr.canvas.height=0,pr.canvas=null,pr.context=null}_createCanvas(pr,mr){(0,Ar.unreachable)("Abstract method `_createCanvas` called.")}}or.BaseCanvasFactory=ur;class dr{constructor({baseUrl:pr=null,isCompressed:mr=!0}){this.constructor===dr&&(0,Ar.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=pr,this.isCompressed=mr}async fetch({name:pr}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!pr)throw new Error("CMap name must be specified.");const mr=this.baseUrl+pr+(this.isCompressed?".bcmap":""),yr=this.isCompressed?Ar.CMapCompressionType.BINARY:Ar.CMapCompressionType.NONE;return this._fetchData(mr,yr).catch(vr=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${mr}`)})}_fetchData(pr,mr){(0,Ar.unreachable)("Abstract method `_fetchData` called.")}}or.BaseCMapReaderFactory=dr;class hr{constructor({baseUrl:pr=null}){this.constructor===hr&&(0,Ar.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=pr}async fetch({filename:pr}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!pr)throw new Error("Font filename must be specified.");const mr=`${this.baseUrl}${pr}`;return this._fetchData(mr).catch(yr=>{throw new Error(`Unable to load font data at: ${mr}`)})}_fetchData(pr){(0,Ar.unreachable)("Abstract method `_fetchData` called.")}}or.BaseStandardFontDataFactory=hr;class fr{constructor(){this.constructor===fr&&(0,Ar.unreachable)("Cannot initialize BaseSVGFactory.")}create(pr,mr,yr=!1){if(pr<=0||mr<=0)throw new Error("Invalid SVG dimensions");const vr=this._createSVG("svg:svg");return vr.setAttribute("version","1.1"),yr||(vr.setAttribute("width",`${pr}px`),vr.setAttribute("height",`${mr}px`)),vr.setAttribute("preserveAspectRatio","none"),vr.setAttribute("viewBox",`0 0 ${pr} ${mr}`),vr}createElement(pr){if(typeof pr!="string")throw new Error("Invalid SVG element type");return this._createSVG(pr)}_createSVG(pr){(0,Ar.unreachable)("Abstract method `_createSVG` called.")}}or.BaseSVGFactory=fr},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.MurmurHash3_64=void 0;var Ar=lr(1);const cr=3285377520,ur=4294901760,dr=65535;class hr{constructor(gr){this.h1=gr?gr&4294967295:cr,this.h2=gr?gr&4294967295:cr}update(gr){let pr,mr;if(typeof gr=="string"){pr=new Uint8Array(gr.length*2),mr=0;for(let Rr=0,Lr=gr.length;Rr<Lr;Rr++){const _r=gr.charCodeAt(Rr);_r<=255?pr[mr++]=_r:(pr[mr++]=_r>>>8,pr[mr++]=_r&255)}}else if((0,Ar.isArrayBuffer)(gr))pr=gr.slice(),mr=pr.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const yr=mr>>2,vr=mr-yr*4,br=new Uint32Array(pr.buffer,0,yr);let wr=0,Cr=0,Br=this.h1,Sr=this.h2;const Er=3432918353,Tr=461845907,kr=Er&dr,Or=Tr&dr;for(let Rr=0;Rr<yr;Rr++)Rr&1?(wr=br[Rr],wr=wr*Er&ur|wr*kr&dr,wr=wr<<15|wr>>>17,wr=wr*Tr&ur|wr*Or&dr,Br^=wr,Br=Br<<13|Br>>>19,Br=Br*5+3864292196):(Cr=br[Rr],Cr=Cr*Er&ur|Cr*kr&dr,Cr=Cr<<15|Cr>>>17,Cr=Cr*Tr&ur|Cr*Or&dr,Sr^=Cr,Sr=Sr<<13|Sr>>>19,Sr=Sr*5+3864292196);switch(wr=0,vr){case 3:wr^=pr[yr*4+2]<<16;case 2:wr^=pr[yr*4+1]<<8;case 1:wr^=pr[yr*4],wr=wr*Er&ur|wr*kr&dr,wr=wr<<15|wr>>>17,wr=wr*Tr&ur|wr*Or&dr,yr&1?Br^=wr:Sr^=wr}this.h1=Br,this.h2=Sr}hexdigest(){let gr=this.h1,pr=this.h2;return gr^=pr>>>1,gr=gr*3981806797&ur|gr*36045&dr,pr=pr*4283543511&ur|((pr<<16|gr>>>16)*2950163797&ur)>>>16,gr^=pr>>>1,gr=gr*444984403&ur|gr*60499&dr,pr=pr*3301882366&ur|((pr<<16|gr>>>16)*3120437893&ur)>>>16,gr^=pr>>>1,(gr>>>0).toString(16).padStart(8,"0")+(pr>>>0).toString(16).padStart(8,"0")}}or.MurmurHash3_64=hr},(ar,or,lr)=>{var dr;Object.defineProperty(or,"__esModule",{value:!0}),or.FontLoader=or.FontFaceObject=void 0;var Ar=lr(1);class cr{constructor({ownerDocument:fr=globalThis.document,styleElement:gr=null}){ci(this,dr,new Set);this._document=fr,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(fr){this.nativeFontFaces.add(fr),this._document.fonts.add(fr)}removeNativeFontFace(fr){this.nativeFontFaces.delete(fr),this._document.fonts.delete(fr)}insertRule(fr){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const gr=this.styleElement.sheet;gr.insertRule(fr,gr.cssRules.length)}clear(){for(const fr of this.nativeFontFaces)this._document.fonts.delete(fr);this.nativeFontFaces.clear(),qr(this,dr).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(fr){if(!(!fr||qr(this,dr).has(fr.loadedName))){if((0,Ar.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:gr,src:pr,style:mr}=fr,yr=new FontFace(gr,pr,mr);this.addNativeFontFace(yr);try{await yr.load(),qr(this,dr).add(gr)}catch{(0,Ar.warn)(`Cannot load system font: ${fr.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(yr)}return}(0,Ar.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(fr){if(fr.attached||fr.missingFile&&!fr.systemFontInfo)return;if(fr.attached=!0,fr.systemFontInfo){await this.loadSystemFont(fr.systemFontInfo);return}if(this.isFontLoadingAPISupported){const pr=fr.createNativeFontFace();if(pr){this.addNativeFontFace(pr);try{await pr.loaded}catch(mr){throw(0,Ar.warn)(`Failed to load font '${pr.family}': '${mr}'.`),fr.disableFontFace=!0,mr}}return}const gr=fr.createFontFaceRule();if(gr){if(this.insertRule(gr),this.isSyncFontLoadingSupported)return;await new Promise(pr=>{const mr=this._queueLoadingCallback(pr);this._prepareFontLoadEvent(fr,mr)})}}get isFontLoadingAPISupported(){var gr;const fr=!!((gr=this._document)!=null&&gr.fonts);return(0,Ar.shadow)(this,"isFontLoadingAPISupported",fr)}get isSyncFontLoadingSupported(){let fr=!1;return(Ar.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(fr=!0),(0,Ar.shadow)(this,"isSyncFontLoadingSupported",fr)}_queueLoadingCallback(fr){function gr(){for((0,Ar.assert)(!mr.done,"completeRequest() cannot be called twice."),mr.done=!0;pr.length>0&&pr[0].done;){const yr=pr.shift();setTimeout(yr.callback,0)}}const{loadingRequests:pr}=this,mr={done:!1,complete:gr,callback:fr};return pr.push(mr),mr}get _loadTestFont(){const fr=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Ar.shadow)(this,"_loadTestFont",fr)}_prepareFontLoadEvent(fr,gr){function pr(Mr,Ur){return Mr.charCodeAt(Ur)<<24|Mr.charCodeAt(Ur+1)<<16|Mr.charCodeAt(Ur+2)<<8|Mr.charCodeAt(Ur+3)&255}function mr(Mr,Ur,Kr,Xr){const Yr=Mr.substring(0,Ur),Zr=Mr.substring(Ur+Kr);return Yr+Xr+Zr}let yr,vr;const br=this._document.createElement("canvas");br.width=1,br.height=1;const wr=br.getContext("2d");let Cr=0;function Br(Mr,Ur){if(++Cr>30){(0,Ar.warn)("Load test font never loaded."),Ur();return}if(wr.font="30px "+Mr,wr.fillText(".",0,20),wr.getImageData(0,0,1,1).data[3]>0){Ur();return}setTimeout(Br.bind(null,Mr,Ur))}const Sr=`lt${Date.now()}${this.loadTestFontId++}`;let Er=this._loadTestFont;Er=mr(Er,976,Sr.length,Sr);const kr=16,Or=1482184792;let Rr=pr(Er,kr);for(yr=0,vr=Sr.length-3;yr<vr;yr+=4)Rr=Rr-Or+pr(Sr,yr)|0;yr<Sr.length&&(Rr=Rr-Or+pr(Sr+"XXX",yr)|0),Er=mr(Er,kr,4,(0,Ar.string32)(Rr));const Lr=`url(data:font/opentype;base64,${btoa(Er)});`,_r=`@font-face {font-family:"${Sr}";src:${Lr}}`;this.insertRule(_r);const Hr=this._document.createElement("div");Hr.style.visibility="hidden",Hr.style.width=Hr.style.height="10px",Hr.style.position="absolute",Hr.style.top=Hr.style.left="0px";for(const Mr of[fr.loadedName,Sr]){const Ur=this._document.createElement("span");Ur.textContent="Hi",Ur.style.fontFamily=Mr,Hr.append(Ur)}this._document.body.append(Hr),Br(Sr,()=>{Hr.remove(),gr.complete()})}}dr=new WeakMap,or.FontLoader=cr;class ur{constructor(fr,{isEvalSupported:gr=!0,disableFontFace:pr=!1,ignoreErrors:mr=!1,inspectFont:yr=null}){this.compiledGlyphs=Object.create(null);for(const vr in fr)this[vr]=fr[vr];this.isEvalSupported=gr!==!1,this.disableFontFace=pr===!0,this.ignoreErrors=mr===!0,this._inspectFont=yr}createNativeFontFace(){var gr;if(!this.data||this.disableFontFace)return null;let fr;if(!this.cssFontInfo)fr=new FontFace(this.loadedName,this.data,{});else{const pr={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(pr.style=`oblique ${this.cssFontInfo.italicAngle}deg`),fr=new FontFace(this.cssFontInfo.fontFamily,this.data,pr)}return(gr=this._inspectFont)==null||gr.call(this,this),fr}createFontFaceRule(){var mr;if(!this.data||this.disableFontFace)return null;const fr=(0,Ar.bytesToString)(this.data),gr=`url(data:${this.mimetype};base64,${btoa(fr)});`;let pr;if(!this.cssFontInfo)pr=`@font-face {font-family:"${this.loadedName}";src:${gr}}`;else{let yr=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(yr+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),pr=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${yr}src:${gr}}`}return(mr=this._inspectFont)==null||mr.call(this,this,gr),pr}getPathGenerator(fr,gr){if(this.compiledGlyphs[gr]!==void 0)return this.compiledGlyphs[gr];let pr;try{pr=fr.get(this.loadedName+"_path_"+gr)}catch(mr){if(!this.ignoreErrors)throw mr;return(0,Ar.warn)(`getPathGenerator - ignoring character: "${mr}".`),this.compiledGlyphs[gr]=function(yr,vr){}}if(this.isEvalSupported&&Ar.FeatureTest.isEvalSupported){const mr=[];for(const yr of pr){const vr=yr.args!==void 0?yr.args.join(","):"";mr.push("c.",yr.cmd,"(",vr,`);
`)}return this.compiledGlyphs[gr]=new Function("c","size",mr.join(""))}return this.compiledGlyphs[gr]=function(mr,yr){for(const vr of pr)vr.cmd==="scale"&&(vr.args=[yr,-yr]),mr[vr.cmd].apply(mr,vr.args)}}}or.FontFaceObject=ur},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.NodeStandardFontDataFactory=or.NodeFilterFactory=or.NodeCanvasFactory=or.NodeCMapReaderFactory=void 0;var Ar=lr(7);lr(1);const cr=function(gr){return new Promise((pr,mr)=>{require$$5.readFile(gr,(vr,br)=>{if(vr||!br){mr(new Error(vr));return}pr(new Uint8Array(br))})})};class ur extends Ar.BaseFilterFactory{}or.NodeFilterFactory=ur;class dr extends Ar.BaseCanvasFactory{_createCanvas(pr,mr){return require$$5.createCanvas(pr,mr)}}or.NodeCanvasFactory=dr;class hr extends Ar.BaseCMapReaderFactory{_fetchData(pr,mr){return cr(pr).then(yr=>({cMapData:yr,compressionType:mr}))}}or.NodeCMapReaderFactory=hr;class fr extends Ar.BaseStandardFontDataFactory{_fetchData(pr){return cr(pr)}}or.NodeStandardFontDataFactory=fr},(ar,or,lr)=>{var As,rh,sh;Object.defineProperty(or,"__esModule",{value:!0}),or.CanvasGraphics=void 0;var Ar=lr(1),cr=lr(6),ur=lr(12),dr=lr(13);const hr=16,fr=100,gr=4096,pr=15,mr=10,yr=1e3,vr=16;function br(Vr,Qr){if(Vr._removeMirroring)throw new Error("Context is already forwarding operations.");Vr.__originalSave=Vr.save,Vr.__originalRestore=Vr.restore,Vr.__originalRotate=Vr.rotate,Vr.__originalScale=Vr.scale,Vr.__originalTranslate=Vr.translate,Vr.__originalTransform=Vr.transform,Vr.__originalSetTransform=Vr.setTransform,Vr.__originalResetTransform=Vr.resetTransform,Vr.__originalClip=Vr.clip,Vr.__originalMoveTo=Vr.moveTo,Vr.__originalLineTo=Vr.lineTo,Vr.__originalBezierCurveTo=Vr.bezierCurveTo,Vr.__originalRect=Vr.rect,Vr.__originalClosePath=Vr.closePath,Vr.__originalBeginPath=Vr.beginPath,Vr._removeMirroring=()=>{Vr.save=Vr.__originalSave,Vr.restore=Vr.__originalRestore,Vr.rotate=Vr.__originalRotate,Vr.scale=Vr.__originalScale,Vr.translate=Vr.__originalTranslate,Vr.transform=Vr.__originalTransform,Vr.setTransform=Vr.__originalSetTransform,Vr.resetTransform=Vr.__originalResetTransform,Vr.clip=Vr.__originalClip,Vr.moveTo=Vr.__originalMoveTo,Vr.lineTo=Vr.__originalLineTo,Vr.bezierCurveTo=Vr.__originalBezierCurveTo,Vr.rect=Vr.__originalRect,Vr.closePath=Vr.__originalClosePath,Vr.beginPath=Vr.__originalBeginPath,delete Vr._removeMirroring},Vr.save=function(){Qr.save(),this.__originalSave()},Vr.restore=function(){Qr.restore(),this.__originalRestore()},Vr.translate=function(zr,cs){Qr.translate(zr,cs),this.__originalTranslate(zr,cs)},Vr.scale=function(zr,cs){Qr.scale(zr,cs),this.__originalScale(zr,cs)},Vr.transform=function(zr,cs,Jr,ls,hs,bs){Qr.transform(zr,cs,Jr,ls,hs,bs),this.__originalTransform(zr,cs,Jr,ls,hs,bs)},Vr.setTransform=function(zr,cs,Jr,ls,hs,bs){Qr.setTransform(zr,cs,Jr,ls,hs,bs),this.__originalSetTransform(zr,cs,Jr,ls,hs,bs)},Vr.resetTransform=function(){Qr.resetTransform(),this.__originalResetTransform()},Vr.rotate=function(zr){Qr.rotate(zr),this.__originalRotate(zr)},Vr.clip=function(zr){Qr.clip(zr),this.__originalClip(zr)},Vr.moveTo=function($r,zr){Qr.moveTo($r,zr),this.__originalMoveTo($r,zr)},Vr.lineTo=function($r,zr){Qr.lineTo($r,zr),this.__originalLineTo($r,zr)},Vr.bezierCurveTo=function($r,zr,cs,Jr,ls,hs){Qr.bezierCurveTo($r,zr,cs,Jr,ls,hs),this.__originalBezierCurveTo($r,zr,cs,Jr,ls,hs)},Vr.rect=function($r,zr,cs,Jr){Qr.rect($r,zr,cs,Jr),this.__originalRect($r,zr,cs,Jr)},Vr.closePath=function(){Qr.closePath(),this.__originalClosePath()},Vr.beginPath=function(){Qr.beginPath(),this.__originalBeginPath()}}class wr{constructor(Qr){this.canvasFactory=Qr,this.cache=Object.create(null)}getCanvas(Qr,$r,zr){let cs;return this.cache[Qr]!==void 0?(cs=this.cache[Qr],this.canvasFactory.reset(cs,$r,zr)):(cs=this.canvasFactory.create($r,zr),this.cache[Qr]=cs),cs}delete(Qr){delete this.cache[Qr]}clear(){for(const Qr in this.cache){const $r=this.cache[Qr];this.canvasFactory.destroy($r),delete this.cache[Qr]}}}function Cr(Vr,Qr,$r,zr,cs,Jr,ls,hs,bs,Ts){const[Ds,us,ps,ms,ss,ks]=(0,cr.getCurrentTransform)(Vr);if(us===0&&ps===0){const ws=ls*Ds+ss,Is=Math.round(ws),Ps=hs*ms+ks,Ws=Math.round(Ps),Ks=(ls+bs)*Ds+ss,Fs=Math.abs(Math.round(Ks)-Is)||1,ni=(hs+Ts)*ms+ks,li=Math.abs(Math.round(ni)-Ws)||1;return Vr.setTransform(Math.sign(Ds),0,0,Math.sign(ms),Is,Ws),Vr.drawImage(Qr,$r,zr,cs,Jr,0,0,Fs,li),Vr.setTransform(Ds,us,ps,ms,ss,ks),[Fs,li]}if(Ds===0&&ms===0){const ws=hs*ps+ss,Is=Math.round(ws),Ps=ls*us+ks,Ws=Math.round(Ps),Ks=(hs+Ts)*ps+ss,Fs=Math.abs(Math.round(Ks)-Is)||1,ni=(ls+bs)*us+ks,li=Math.abs(Math.round(ni)-Ws)||1;return Vr.setTransform(0,Math.sign(us),Math.sign(ps),0,Is,Ws),Vr.drawImage(Qr,$r,zr,cs,Jr,0,0,li,Fs),Vr.setTransform(Ds,us,ps,ms,ss,ks),[li,Fs]}Vr.drawImage(Qr,$r,zr,cs,Jr,ls,hs,bs,Ts);const as=Math.hypot(Ds,us),fs=Math.hypot(ps,ms);return[as*bs,fs*Ts]}function Br(Vr){const{width:Qr,height:$r}=Vr;if(Qr>yr||$r>yr)return null;const zr=1e3,cs=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Jr=Qr+1;let ls=new Uint8Array(Jr*($r+1)),hs,bs,Ts;const Ds=Qr+7&-8;let us=new Uint8Array(Ds*$r),ps=0;for(const fs of Vr.data){let ws=128;for(;ws>0;)us[ps++]=fs&ws?0:255,ws>>=1}let ms=0;for(ps=0,us[ps]!==0&&(ls[0]=1,++ms),bs=1;bs<Qr;bs++)us[ps]!==us[ps+1]&&(ls[bs]=us[ps]?2:1,++ms),ps++;for(us[ps]!==0&&(ls[bs]=2,++ms),hs=1;hs<$r;hs++){ps=hs*Ds,Ts=hs*Jr,us[ps-Ds]!==us[ps]&&(ls[Ts]=us[ps]?1:8,++ms);let fs=(us[ps]?4:0)+(us[ps-Ds]?8:0);for(bs=1;bs<Qr;bs++)fs=(fs>>2)+(us[ps+1]?4:0)+(us[ps-Ds+1]?8:0),cs[fs]&&(ls[Ts+bs]=cs[fs],++ms),ps++;if(us[ps-Ds]!==us[ps]&&(ls[Ts+bs]=us[ps]?2:4,++ms),ms>zr)return null}for(ps=Ds*($r-1),Ts=hs*Jr,us[ps]!==0&&(ls[Ts]=8,++ms),bs=1;bs<Qr;bs++)us[ps]!==us[ps+1]&&(ls[Ts+bs]=us[ps]?4:8,++ms),ps++;if(us[ps]!==0&&(ls[Ts+bs]=4,++ms),ms>zr)return null;const ss=new Int32Array([0,Jr,-1,0,-Jr,0,0,0,1]),ks=new Path2D;for(hs=0;ms&&hs<=$r;hs++){let fs=hs*Jr;const ws=fs+Qr;for(;fs<ws&&!ls[fs];)fs++;if(fs===ws)continue;ks.moveTo(fs%Jr,hs);const Is=fs;let Ps=ls[fs];do{const Ws=ss[Ps];do fs+=Ws;while(!ls[fs]);const Ks=ls[fs];Ks!==5&&Ks!==10?(Ps=Ks,ls[fs]=0):(Ps=Ks&51*Ps>>4,ls[fs]&=Ps>>2|Ps<<2),ks.lineTo(fs%Jr,fs/Jr|0),ls[fs]||--ms}while(Is!==fs);--hs}return us=null,ls=null,function(fs){fs.save(),fs.scale(1/Qr,-1/$r),fs.translate(0,-$r),fs.fill(ks),fs.beginPath(),fs.restore()}}class Sr{constructor(Qr,$r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Ar.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Ar.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ar.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Qr,$r])}clone(){const Qr=Object.create(this);return Qr.clipBox=this.clipBox.slice(),Qr}setCurrentPoint(Qr,$r){this.x=Qr,this.y=$r}updatePathMinMax(Qr,$r,zr){[$r,zr]=Ar.Util.applyTransform([$r,zr],Qr),this.minX=Math.min(this.minX,$r),this.minY=Math.min(this.minY,zr),this.maxX=Math.max(this.maxX,$r),this.maxY=Math.max(this.maxY,zr)}updateRectMinMax(Qr,$r){const zr=Ar.Util.applyTransform($r,Qr),cs=Ar.Util.applyTransform($r.slice(2),Qr);this.minX=Math.min(this.minX,zr[0],cs[0]),this.minY=Math.min(this.minY,zr[1],cs[1]),this.maxX=Math.max(this.maxX,zr[0],cs[0]),this.maxY=Math.max(this.maxY,zr[1],cs[1])}updateScalingPathMinMax(Qr,$r){Ar.Util.scaleMinMax(Qr,$r),this.minX=Math.min(this.minX,$r[0]),this.maxX=Math.max(this.maxX,$r[1]),this.minY=Math.min(this.minY,$r[2]),this.maxY=Math.max(this.maxY,$r[3])}updateCurvePathMinMax(Qr,$r,zr,cs,Jr,ls,hs,bs,Ts,Ds){const us=Ar.Util.bezierBoundingBox($r,zr,cs,Jr,ls,hs,bs,Ts);if(Ds){Ds[0]=Math.min(Ds[0],us[0],us[2]),Ds[1]=Math.max(Ds[1],us[0],us[2]),Ds[2]=Math.min(Ds[2],us[1],us[3]),Ds[3]=Math.max(Ds[3],us[1],us[3]);return}this.updateRectMinMax(Qr,us)}getPathBoundingBox(Qr=ur.PathType.FILL,$r=null){const zr=[this.minX,this.minY,this.maxX,this.maxY];if(Qr===ur.PathType.STROKE){$r||(0,Ar.unreachable)("Stroke bounding box must include transform.");const cs=Ar.Util.singularValueDecompose2dScale($r),Jr=cs[0]*this.lineWidth/2,ls=cs[1]*this.lineWidth/2;zr[0]-=Jr,zr[1]-=ls,zr[2]+=Jr,zr[3]+=ls}return zr}updateClipFromPath(){const Qr=Ar.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Qr||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Qr){this.clipBox=Qr,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Qr=ur.PathType.FILL,$r=null){return Ar.Util.intersect(this.clipBox,this.getPathBoundingBox(Qr,$r))}}function Er(Vr,Qr){if(typeof ImageData<"u"&&Qr instanceof ImageData){Vr.putImageData(Qr,0,0);return}const $r=Qr.height,zr=Qr.width,cs=$r%vr,Jr=($r-cs)/vr,ls=cs===0?Jr:Jr+1,hs=Vr.createImageData(zr,vr);let bs=0,Ts;const Ds=Qr.data,us=hs.data;let ps,ms,ss,ks;if(Qr.kind===Ar.ImageKind.GRAYSCALE_1BPP){const as=Ds.byteLength,fs=new Uint32Array(us.buffer,0,us.byteLength>>2),ws=fs.length,Is=zr+7>>3,Ps=4294967295,Ws=Ar.FeatureTest.isLittleEndian?4278190080:255;for(ps=0;ps<ls;ps++){for(ss=ps<Jr?vr:cs,Ts=0,ms=0;ms<ss;ms++){const Ks=as-bs;let Fs=0;const ni=Ks>Is?zr:Ks*8-7,li=ni&-8;let Si=0,Us=0;for(;Fs<li;Fs+=8)Us=Ds[bs++],fs[Ts++]=Us&128?Ps:Ws,fs[Ts++]=Us&64?Ps:Ws,fs[Ts++]=Us&32?Ps:Ws,fs[Ts++]=Us&16?Ps:Ws,fs[Ts++]=Us&8?Ps:Ws,fs[Ts++]=Us&4?Ps:Ws,fs[Ts++]=Us&2?Ps:Ws,fs[Ts++]=Us&1?Ps:Ws;for(;Fs<ni;Fs++)Si===0&&(Us=Ds[bs++],Si=128),fs[Ts++]=Us&Si?Ps:Ws,Si>>=1}for(;Ts<ws;)fs[Ts++]=0;Vr.putImageData(hs,0,ps*vr)}}else if(Qr.kind===Ar.ImageKind.RGBA_32BPP){for(ms=0,ks=zr*vr*4,ps=0;ps<Jr;ps++)us.set(Ds.subarray(bs,bs+ks)),bs+=ks,Vr.putImageData(hs,0,ms),ms+=vr;ps<ls&&(ks=zr*cs*4,us.set(Ds.subarray(bs,bs+ks)),Vr.putImageData(hs,0,ms))}else if(Qr.kind===Ar.ImageKind.RGB_24BPP)for(ss=vr,ks=zr*ss,ps=0;ps<ls;ps++){for(ps>=Jr&&(ss=cs,ks=zr*ss),Ts=0,ms=ks;ms--;)us[Ts++]=Ds[bs++],us[Ts++]=Ds[bs++],us[Ts++]=Ds[bs++],us[Ts++]=255;Vr.putImageData(hs,0,ps*vr)}else throw new Error(`bad image kind: ${Qr.kind}`)}function Tr(Vr,Qr){if(Qr.bitmap){Vr.drawImage(Qr.bitmap,0,0);return}const $r=Qr.height,zr=Qr.width,cs=$r%vr,Jr=($r-cs)/vr,ls=cs===0?Jr:Jr+1,hs=Vr.createImageData(zr,vr);let bs=0;const Ts=Qr.data,Ds=hs.data;for(let us=0;us<ls;us++){const ps=us<Jr?vr:cs;({srcPos:bs}=(0,dr.convertBlackAndWhiteToRGBA)({src:Ts,srcPos:bs,dest:Ds,width:zr,height:ps,nonBlackColor:0})),Vr.putImageData(hs,0,us*vr)}}function kr(Vr,Qr){const $r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const zr of $r)Vr[zr]!==void 0&&(Qr[zr]=Vr[zr]);Vr.setLineDash!==void 0&&(Qr.setLineDash(Vr.getLineDash()),Qr.lineDashOffset=Vr.lineDashOffset)}function Or(Vr){if(Vr.strokeStyle=Vr.fillStyle="#000000",Vr.fillRule="nonzero",Vr.globalAlpha=1,Vr.lineWidth=1,Vr.lineCap="butt",Vr.lineJoin="miter",Vr.miterLimit=10,Vr.globalCompositeOperation="source-over",Vr.font="10px sans-serif",Vr.setLineDash!==void 0&&(Vr.setLineDash([]),Vr.lineDashOffset=0),!Ar.isNodeJS){const{filter:Qr}=Vr;Qr!=="none"&&Qr!==""&&(Vr.filter="none")}}function Rr(Vr,Qr,$r,zr){const cs=Vr.length;for(let Jr=3;Jr<cs;Jr+=4){const ls=Vr[Jr];if(ls===0)Vr[Jr-3]=Qr,Vr[Jr-2]=$r,Vr[Jr-1]=zr;else if(ls<255){const hs=255-ls;Vr[Jr-3]=Vr[Jr-3]*ls+Qr*hs>>8,Vr[Jr-2]=Vr[Jr-2]*ls+$r*hs>>8,Vr[Jr-1]=Vr[Jr-1]*ls+zr*hs>>8}}}function Lr(Vr,Qr,$r){const zr=Vr.length,cs=1/255;for(let Jr=3;Jr<zr;Jr+=4){const ls=$r?$r[Vr[Jr]]:Vr[Jr];Qr[Jr]=Qr[Jr]*ls*cs|0}}function _r(Vr,Qr,$r){const zr=Vr.length;for(let cs=3;cs<zr;cs+=4){const Jr=Vr[cs-3]*77+Vr[cs-2]*152+Vr[cs-1]*28;Qr[cs]=$r?Qr[cs]*$r[Jr>>8]>>8:Qr[cs]*Jr>>16}}function Hr(Vr,Qr,$r,zr,cs,Jr,ls,hs,bs,Ts,Ds){const us=!!Jr,ps=us?Jr[0]:0,ms=us?Jr[1]:0,ss=us?Jr[2]:0,ks=cs==="Luminosity"?_r:Lr,fs=Math.min(zr,Math.ceil(1048576/$r));for(let ws=0;ws<zr;ws+=fs){const Is=Math.min(fs,zr-ws),Ps=Vr.getImageData(hs-Ts,ws+(bs-Ds),$r,Is),Ws=Qr.getImageData(hs,ws+bs,$r,Is);us&&Rr(Ps.data,ps,ms,ss),ks(Ps.data,Ws.data,ls),Qr.putImageData(Ws,hs,ws+bs)}}function Mr(Vr,Qr,$r,zr){const cs=zr[0],Jr=zr[1],ls=zr[2]-cs,hs=zr[3]-Jr;ls===0||hs===0||(Hr(Qr.context,$r,ls,hs,Qr.subtype,Qr.backdrop,Qr.transferMap,cs,Jr,Qr.offsetX,Qr.offsetY),Vr.save(),Vr.globalAlpha=1,Vr.globalCompositeOperation="source-over",Vr.setTransform(1,0,0,1,0,0),Vr.drawImage($r.canvas,0,0),Vr.restore())}function Ur(Vr,Qr){const $r=Ar.Util.singularValueDecompose2dScale(Vr);$r[0]=Math.fround($r[0]),$r[1]=Math.fround($r[1]);const zr=Math.fround((globalThis.devicePixelRatio||1)*cr.PixelsPerInch.PDF_TO_CSS_UNITS);return Qr!==void 0?Qr:$r[0]<=zr||$r[1]<=zr}const Kr=["butt","round","square"],Xr=["miter","round","bevel"],Yr={},Zr={},Os=class Os{constructor(Qr,$r,zr,cs,Jr,{optionalContentConfig:ls,markedContentStack:hs=null},bs,Ts){ci(this,As);this.ctx=Qr,this.current=new Sr(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=$r,this.objs=zr,this.canvasFactory=cs,this.filterFactory=Jr,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=hs||[],this.optionalContentConfig=ls,this.cachedCanvases=new wr(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=bs,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ts,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Qr,$r=null){return typeof Qr=="string"?Qr.startsWith("g_")?this.commonObjs.get(Qr):this.objs.get(Qr):$r}beginDrawing({transform:Qr,viewport:$r,transparency:zr=!1,background:cs=null}){const Jr=this.ctx.canvas.width,ls=this.ctx.canvas.height,hs=this.ctx.fillStyle;if(this.ctx.fillStyle=cs||"#ffffff",this.ctx.fillRect(0,0,Jr,ls),this.ctx.fillStyle=hs,zr){const bs=this.cachedCanvases.getCanvas("transparent",Jr,ls);this.compositeCtx=this.ctx,this.transparentCanvas=bs.canvas,this.ctx=bs.context,this.ctx.save(),this.ctx.transform(...(0,cr.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Or(this.ctx),Qr&&(this.ctx.transform(...Qr),this.outputScaleX=Qr[0],this.outputScaleY=Qr[0]),this.ctx.transform(...$r.transform),this.viewportScale=$r.scale,this.baseTransform=(0,cr.getCurrentTransform)(this.ctx)}executeOperatorList(Qr,$r,zr,cs){const Jr=Qr.argsArray,ls=Qr.fnArray;let hs=$r||0;const bs=Jr.length;if(bs===hs)return hs;const Ts=bs-hs>mr&&typeof zr=="function",Ds=Ts?Date.now()+pr:0;let us=0;const ps=this.commonObjs,ms=this.objs;let ss;for(;;){if(cs!==void 0&&hs===cs.nextBreakPoint)return cs.breakIt(hs,zr),hs;if(ss=ls[hs],ss!==Ar.OPS.dependency)this[ss].apply(this,Jr[hs]);else for(const ks of Jr[hs]){const as=ks.startsWith("g_")?ps:ms;if(!as.has(ks))return as.get(ks,zr),hs}if(hs++,hs===bs)return hs;if(Ts&&++us>mr){if(Date.now()>Ds)return zr(),hs;us=0}}}endDrawing(){ei(this,As,rh).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Qr of this._cachedBitmapsMap.values()){for(const $r of Qr.values())typeof HTMLCanvasElement<"u"&&$r instanceof HTMLCanvasElement&&($r.width=$r.height=0);Qr.clear()}this._cachedBitmapsMap.clear(),ei(this,As,sh).call(this)}_scaleImage(Qr,$r){const zr=Qr.width,cs=Qr.height;let Jr=Math.max(Math.hypot($r[0],$r[1]),1),ls=Math.max(Math.hypot($r[2],$r[3]),1),hs=zr,bs=cs,Ts="prescale1",Ds,us;for(;Jr>2&&hs>1||ls>2&&bs>1;){let ps=hs,ms=bs;Jr>2&&hs>1&&(ps=hs>=16384?Math.floor(hs/2)-1||1:Math.ceil(hs/2),Jr/=hs/ps),ls>2&&bs>1&&(ms=bs>=16384?Math.floor(bs/2)-1||1:Math.ceil(bs)/2,ls/=bs/ms),Ds=this.cachedCanvases.getCanvas(Ts,ps,ms),us=Ds.context,us.clearRect(0,0,ps,ms),us.drawImage(Qr,0,0,hs,bs,0,0,ps,ms),Qr=Ds.canvas,hs=ps,bs=ms,Ts=Ts==="prescale1"?"prescale2":"prescale1"}return{img:Qr,paintWidth:hs,paintHeight:bs}}_createMaskCanvas(Qr){const $r=this.ctx,{width:zr,height:cs}=Qr,Jr=this.current.fillColor,ls=this.current.patternFill,hs=(0,cr.getCurrentTransform)($r);let bs,Ts,Ds,us;if((Qr.bitmap||Qr.data)&&Qr.count>1){const Fs=Qr.bitmap||Qr.data.buffer;Ts=JSON.stringify(ls?hs:[hs.slice(0,4),Jr]),bs=this._cachedBitmapsMap.get(Fs),bs||(bs=new Map,this._cachedBitmapsMap.set(Fs,bs));const ni=bs.get(Ts);if(ni&&!ls){const li=Math.round(Math.min(hs[0],hs[2])+hs[4]),Si=Math.round(Math.min(hs[1],hs[3])+hs[5]);return{canvas:ni,offsetX:li,offsetY:Si}}Ds=ni}Ds||(us=this.cachedCanvases.getCanvas("maskCanvas",zr,cs),Tr(us.context,Qr));let ps=Ar.Util.transform(hs,[1/zr,0,0,-1/cs,0,0]);ps=Ar.Util.transform(ps,[1,0,0,1,0,-cs]);const ms=Ar.Util.applyTransform([0,0],ps),ss=Ar.Util.applyTransform([zr,cs],ps),ks=Ar.Util.normalizeRect([ms[0],ms[1],ss[0],ss[1]]),as=Math.round(ks[2]-ks[0])||1,fs=Math.round(ks[3]-ks[1])||1,ws=this.cachedCanvases.getCanvas("fillCanvas",as,fs),Is=ws.context,Ps=Math.min(ms[0],ss[0]),Ws=Math.min(ms[1],ss[1]);Is.translate(-Ps,-Ws),Is.transform(...ps),Ds||(Ds=this._scaleImage(us.canvas,(0,cr.getCurrentTransformInverse)(Is)),Ds=Ds.img,bs&&ls&&bs.set(Ts,Ds)),Is.imageSmoothingEnabled=Ur((0,cr.getCurrentTransform)(Is),Qr.interpolate),Cr(Is,Ds,0,0,Ds.width,Ds.height,0,0,zr,cs),Is.globalCompositeOperation="source-in";const Ks=Ar.Util.transform((0,cr.getCurrentTransformInverse)(Is),[1,0,0,1,-Ps,-Ws]);return Is.fillStyle=ls?Jr.getPattern($r,this,Ks,ur.PathType.FILL):Jr,Is.fillRect(0,0,zr,cs),bs&&!ls&&(this.cachedCanvases.delete("fillCanvas"),bs.set(Ts,ws.canvas)),{canvas:ws.canvas,offsetX:Math.round(Ps),offsetY:Math.round(Ws)}}setLineWidth(Qr){Qr!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Qr,this.ctx.lineWidth=Qr}setLineCap(Qr){this.ctx.lineCap=Kr[Qr]}setLineJoin(Qr){this.ctx.lineJoin=Xr[Qr]}setMiterLimit(Qr){this.ctx.miterLimit=Qr}setDash(Qr,$r){const zr=this.ctx;zr.setLineDash!==void 0&&(zr.setLineDash(Qr),zr.lineDashOffset=$r)}setRenderingIntent(Qr){}setFlatness(Qr){}setGState(Qr){for(const[$r,zr]of Qr)switch($r){case"LW":this.setLineWidth(zr);break;case"LC":this.setLineCap(zr);break;case"LJ":this.setLineJoin(zr);break;case"ML":this.setMiterLimit(zr);break;case"D":this.setDash(zr[0],zr[1]);break;case"RI":this.setRenderingIntent(zr);break;case"FL":this.setFlatness(zr);break;case"Font":this.setFont(zr[0],zr[1]);break;case"CA":this.current.strokeAlpha=zr;break;case"ca":this.current.fillAlpha=zr,this.ctx.globalAlpha=zr;break;case"BM":this.ctx.globalCompositeOperation=zr;break;case"SMask":this.current.activeSMask=zr?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(zr);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Qr=this.inSMaskMode;this.current.activeSMask&&!Qr?this.beginSMaskMode():!this.current.activeSMask&&Qr&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Qr=this.ctx.canvas.width,$r=this.ctx.canvas.height,zr="smaskGroupAt"+this.groupLevel,cs=this.cachedCanvases.getCanvas(zr,Qr,$r);this.suspendedCtx=this.ctx,this.ctx=cs.context;const Jr=this.ctx;Jr.setTransform(...(0,cr.getCurrentTransform)(this.suspendedCtx)),kr(this.suspendedCtx,Jr),br(Jr,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Qr){if(!this.current.activeSMask)return;Qr?(Qr[0]=Math.floor(Qr[0]),Qr[1]=Math.floor(Qr[1]),Qr[2]=Math.ceil(Qr[2]),Qr[3]=Math.ceil(Qr[3])):Qr=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const $r=this.current.activeSMask,zr=this.suspendedCtx;Mr(zr,$r,this.ctx,Qr),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(kr(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Qr=this.current;this.stateStack.push(Qr),this.current=Qr.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),kr(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Qr,$r,zr,cs,Jr,ls){this.ctx.transform(Qr,$r,zr,cs,Jr,ls),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Qr,$r,zr){const cs=this.ctx,Jr=this.current;let ls=Jr.x,hs=Jr.y,bs,Ts;const Ds=(0,cr.getCurrentTransform)(cs),us=Ds[0]===0&&Ds[3]===0||Ds[1]===0&&Ds[2]===0,ps=us?zr.slice(0):null;for(let ms=0,ss=0,ks=Qr.length;ms<ks;ms++)switch(Qr[ms]|0){case Ar.OPS.rectangle:ls=$r[ss++],hs=$r[ss++];const as=$r[ss++],fs=$r[ss++],ws=ls+as,Is=hs+fs;cs.moveTo(ls,hs),as===0||fs===0?cs.lineTo(ws,Is):(cs.lineTo(ws,hs),cs.lineTo(ws,Is),cs.lineTo(ls,Is)),us||Jr.updateRectMinMax(Ds,[ls,hs,ws,Is]),cs.closePath();break;case Ar.OPS.moveTo:ls=$r[ss++],hs=$r[ss++],cs.moveTo(ls,hs),us||Jr.updatePathMinMax(Ds,ls,hs);break;case Ar.OPS.lineTo:ls=$r[ss++],hs=$r[ss++],cs.lineTo(ls,hs),us||Jr.updatePathMinMax(Ds,ls,hs);break;case Ar.OPS.curveTo:bs=ls,Ts=hs,ls=$r[ss+4],hs=$r[ss+5],cs.bezierCurveTo($r[ss],$r[ss+1],$r[ss+2],$r[ss+3],ls,hs),Jr.updateCurvePathMinMax(Ds,bs,Ts,$r[ss],$r[ss+1],$r[ss+2],$r[ss+3],ls,hs,ps),ss+=6;break;case Ar.OPS.curveTo2:bs=ls,Ts=hs,cs.bezierCurveTo(ls,hs,$r[ss],$r[ss+1],$r[ss+2],$r[ss+3]),Jr.updateCurvePathMinMax(Ds,bs,Ts,ls,hs,$r[ss],$r[ss+1],$r[ss+2],$r[ss+3],ps),ls=$r[ss+2],hs=$r[ss+3],ss+=4;break;case Ar.OPS.curveTo3:bs=ls,Ts=hs,ls=$r[ss+2],hs=$r[ss+3],cs.bezierCurveTo($r[ss],$r[ss+1],ls,hs,ls,hs),Jr.updateCurvePathMinMax(Ds,bs,Ts,$r[ss],$r[ss+1],ls,hs,ls,hs,ps),ss+=4;break;case Ar.OPS.closePath:cs.closePath();break}us&&Jr.updateScalingPathMinMax(Ds,ps),Jr.setCurrentPoint(ls,hs)}closePath(){this.ctx.closePath()}stroke(Qr=!0){const $r=this.ctx,zr=this.current.strokeColor;$r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof zr=="object"&&(zr!=null&&zr.getPattern)?($r.save(),$r.strokeStyle=zr.getPattern($r,this,(0,cr.getCurrentTransformInverse)($r),ur.PathType.STROKE),this.rescaleAndStroke(!1),$r.restore()):this.rescaleAndStroke(!0)),Qr&&this.consumePath(this.current.getClippedPathBoundingBox()),$r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Qr=!0){const $r=this.ctx,zr=this.current.fillColor,cs=this.current.patternFill;let Jr=!1;cs&&($r.save(),$r.fillStyle=zr.getPattern($r,this,(0,cr.getCurrentTransformInverse)($r),ur.PathType.FILL),Jr=!0);const ls=this.current.getClippedPathBoundingBox();this.contentVisible&&ls!==null&&(this.pendingEOFill?($r.fill("evenodd"),this.pendingEOFill=!1):$r.fill()),Jr&&$r.restore(),Qr&&this.consumePath(ls)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Yr}eoClip(){this.pendingClip=Zr}beginText(){this.current.textMatrix=Ar.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Qr=this.pendingTextPaths,$r=this.ctx;if(Qr===void 0){$r.beginPath();return}$r.save(),$r.beginPath();for(const zr of Qr)$r.setTransform(...zr.transform),$r.translate(zr.x,zr.y),zr.addToPath($r,zr.fontSize);$r.restore(),$r.clip(),$r.beginPath(),delete this.pendingTextPaths}setCharSpacing(Qr){this.current.charSpacing=Qr}setWordSpacing(Qr){this.current.wordSpacing=Qr}setHScale(Qr){this.current.textHScale=Qr/100}setLeading(Qr){this.current.leading=-Qr}setFont(Qr,$r){var Ds;const zr=this.commonObjs.get(Qr),cs=this.current;if(!zr)throw new Error(`Can't find font for ${Qr}`);if(cs.fontMatrix=zr.fontMatrix||Ar.FONT_IDENTITY_MATRIX,(cs.fontMatrix[0]===0||cs.fontMatrix[3]===0)&&(0,Ar.warn)("Invalid font matrix for font "+Qr),$r<0?($r=-$r,cs.fontDirection=-1):cs.fontDirection=1,this.current.font=zr,this.current.fontSize=$r,zr.isType3Font)return;const Jr=zr.loadedName||"sans-serif",ls=((Ds=zr.systemFontInfo)==null?void 0:Ds.css)||`"${Jr}", ${zr.fallbackName}`;let hs="normal";zr.black?hs="900":zr.bold&&(hs="bold");const bs=zr.italic?"italic":"normal";let Ts=$r;$r<hr?Ts=hr:$r>fr&&(Ts=fr),this.current.fontSizeScale=$r/Ts,this.ctx.font=`${bs} ${hs} ${Ts}px ${ls}`}setTextRenderingMode(Qr){this.current.textRenderingMode=Qr}setTextRise(Qr){this.current.textRise=Qr}moveText(Qr,$r){this.current.x=this.current.lineX+=Qr,this.current.y=this.current.lineY+=$r}setLeadingMoveText(Qr,$r){this.setLeading(-$r),this.moveText(Qr,$r)}setTextMatrix(Qr,$r,zr,cs,Jr,ls){this.current.textMatrix=[Qr,$r,zr,cs,Jr,ls],this.current.textMatrixScale=Math.hypot(Qr,$r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Qr,$r,zr,cs){const Jr=this.ctx,ls=this.current,hs=ls.font,bs=ls.textRenderingMode,Ts=ls.fontSize/ls.fontSizeScale,Ds=bs&Ar.TextRenderingMode.FILL_STROKE_MASK,us=!!(bs&Ar.TextRenderingMode.ADD_TO_PATH_FLAG),ps=ls.patternFill&&!hs.missingFile;let ms;(hs.disableFontFace||us||ps)&&(ms=hs.getPathGenerator(this.commonObjs,Qr)),hs.disableFontFace||ps?(Jr.save(),Jr.translate($r,zr),Jr.beginPath(),ms(Jr,Ts),cs&&Jr.setTransform(...cs),(Ds===Ar.TextRenderingMode.FILL||Ds===Ar.TextRenderingMode.FILL_STROKE)&&Jr.fill(),(Ds===Ar.TextRenderingMode.STROKE||Ds===Ar.TextRenderingMode.FILL_STROKE)&&Jr.stroke(),Jr.restore()):((Ds===Ar.TextRenderingMode.FILL||Ds===Ar.TextRenderingMode.FILL_STROKE)&&Jr.fillText(Qr,$r,zr),(Ds===Ar.TextRenderingMode.STROKE||Ds===Ar.TextRenderingMode.FILL_STROKE)&&Jr.strokeText(Qr,$r,zr)),us&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,cr.getCurrentTransform)(Jr),x:$r,y:zr,fontSize:Ts,addToPath:ms})}get isFontSubpixelAAEnabled(){const{context:Qr}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Qr.scale(1.5,1),Qr.fillText("I",0,10);const $r=Qr.getImageData(0,0,10,10).data;let zr=!1;for(let cs=3;cs<$r.length;cs+=4)if($r[cs]>0&&$r[cs]<255){zr=!0;break}return(0,Ar.shadow)(this,"isFontSubpixelAAEnabled",zr)}showText(Qr){const $r=this.current,zr=$r.font;if(zr.isType3Font)return this.showType3Text(Qr);const cs=$r.fontSize;if(cs===0)return;const Jr=this.ctx,ls=$r.fontSizeScale,hs=$r.charSpacing,bs=$r.wordSpacing,Ts=$r.fontDirection,Ds=$r.textHScale*Ts,us=Qr.length,ps=zr.vertical,ms=ps?1:-1,ss=zr.defaultVMetrics,ks=cs*$r.fontMatrix[0],as=$r.textRenderingMode===Ar.TextRenderingMode.FILL&&!zr.disableFontFace&&!$r.patternFill;Jr.save(),Jr.transform(...$r.textMatrix),Jr.translate($r.x,$r.y+$r.textRise),Ts>0?Jr.scale(Ds,-1):Jr.scale(Ds,1);let fs;if($r.patternFill){Jr.save();const Ks=$r.fillColor.getPattern(Jr,this,(0,cr.getCurrentTransformInverse)(Jr),ur.PathType.FILL);fs=(0,cr.getCurrentTransform)(Jr),Jr.restore(),Jr.fillStyle=Ks}let ws=$r.lineWidth;const Is=$r.textMatrixScale;if(Is===0||ws===0){const Ks=$r.textRenderingMode&Ar.TextRenderingMode.FILL_STROKE_MASK;(Ks===Ar.TextRenderingMode.STROKE||Ks===Ar.TextRenderingMode.FILL_STROKE)&&(ws=this.getSinglePixelWidth())}else ws/=Is;if(ls!==1&&(Jr.scale(ls,ls),ws/=ls),Jr.lineWidth=ws,zr.isInvalidPDFjsFont){const Ks=[];let Fs=0;for(const ni of Qr)Ks.push(ni.unicode),Fs+=ni.width;Jr.fillText(Ks.join(""),0,0),$r.x+=Fs*ks*Ds,Jr.restore(),this.compose();return}let Ps=0,Ws;for(Ws=0;Ws<us;++Ws){const Ks=Qr[Ws];if(typeof Ks=="number"){Ps+=ms*Ks*cs/1e3;continue}let Fs=!1;const ni=(Ks.isSpace?bs:0)+hs,li=Ks.fontChar,Si=Ks.accent;let Us,Cs,Bs=Ks.width;if(ps){const qs=Ks.vmetric||ss,bi=-(Ks.vmetric?qs[1]:Bs*.5)*ks,zs=qs[2]*ks;Bs=qs?-qs[0]:Bs,Us=bi/ls,Cs=(Ps+zs)/ls}else Us=Ps/ls,Cs=0;if(zr.remeasure&&Bs>0){const qs=Jr.measureText(li).width*1e3/cs*ls;if(Bs<qs&&this.isFontSubpixelAAEnabled){const bi=Bs/qs;Fs=!0,Jr.save(),Jr.scale(bi,1),Us/=bi}else Bs!==qs&&(Us+=(Bs-qs)/2e3*cs/ls)}if(this.contentVisible&&(Ks.isInFont||zr.missingFile)){if(as&&!Si)Jr.fillText(li,Us,Cs);else if(this.paintChar(li,Us,Cs,fs),Si){const qs=Us+cs*Si.offset.x/ls,bi=Cs-cs*Si.offset.y/ls;this.paintChar(Si.fontChar,qs,bi,fs)}}const $s=ps?Bs*ks-ni*Ts:Bs*ks+ni*Ts;Ps+=$s,Fs&&Jr.restore()}ps?$r.y-=Ps:$r.x+=Ps*Ds,Jr.restore(),this.compose()}showType3Text(Qr){const $r=this.ctx,zr=this.current,cs=zr.font,Jr=zr.fontSize,ls=zr.fontDirection,hs=cs.vertical?1:-1,bs=zr.charSpacing,Ts=zr.wordSpacing,Ds=zr.textHScale*ls,us=zr.fontMatrix||Ar.FONT_IDENTITY_MATRIX,ps=Qr.length,ms=zr.textRenderingMode===Ar.TextRenderingMode.INVISIBLE;let ss,ks,as,fs;if(!(ms||Jr===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,$r.save(),$r.transform(...zr.textMatrix),$r.translate(zr.x,zr.y),$r.scale(Ds,ls),ss=0;ss<ps;++ss){if(ks=Qr[ss],typeof ks=="number"){fs=hs*ks*Jr/1e3,this.ctx.translate(fs,0),zr.x+=fs*Ds;continue}const ws=(ks.isSpace?Ts:0)+bs,Is=cs.charProcOperatorList[ks.operatorListId];if(!Is){(0,Ar.warn)(`Type3 character "${ks.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ks,this.save(),$r.scale(Jr,Jr),$r.transform(...us),this.executeOperatorList(Is),this.restore()),as=Ar.Util.applyTransform([ks.width,0],us)[0]*Jr+ws,$r.translate(as,0),zr.x+=as*Ds}$r.restore(),this.processingType3=null}}setCharWidth(Qr,$r){}setCharWidthAndBounds(Qr,$r,zr,cs,Jr,ls){this.ctx.rect(zr,cs,Jr-zr,ls-cs),this.ctx.clip(),this.endPath()}getColorN_Pattern(Qr){let $r;if(Qr[0]==="TilingPattern"){const zr=Qr[1],cs=this.baseTransform||(0,cr.getCurrentTransform)(this.ctx),Jr={createCanvasGraphics:ls=>new Os(ls,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};$r=new ur.TilingPattern(Qr,zr,this.ctx,Jr,cs)}else $r=this._getPattern(Qr[1],Qr[2]);return $r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Qr,$r,zr){const cs=Ar.Util.makeHexColor(Qr,$r,zr);this.ctx.strokeStyle=cs,this.current.strokeColor=cs}setFillRGBColor(Qr,$r,zr){const cs=Ar.Util.makeHexColor(Qr,$r,zr);this.ctx.fillStyle=cs,this.current.fillColor=cs,this.current.patternFill=!1}_getPattern(Qr,$r=null){let zr;return this.cachedPatterns.has(Qr)?zr=this.cachedPatterns.get(Qr):(zr=(0,ur.getShadingPattern)(this.getObject(Qr)),this.cachedPatterns.set(Qr,zr)),$r&&(zr.matrix=$r),zr}shadingFill(Qr){if(!this.contentVisible)return;const $r=this.ctx;this.save();const zr=this._getPattern(Qr);$r.fillStyle=zr.getPattern($r,this,(0,cr.getCurrentTransformInverse)($r),ur.PathType.SHADING);const cs=(0,cr.getCurrentTransformInverse)($r);if(cs){const{width:Jr,height:ls}=$r.canvas,[hs,bs,Ts,Ds]=Ar.Util.getAxialAlignedBoundingBox([0,0,Jr,ls],cs);this.ctx.fillRect(hs,bs,Ts-hs,Ds-bs)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Ar.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Ar.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Qr,$r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Qr)&&Qr.length===6&&this.transform(...Qr),this.baseTransform=(0,cr.getCurrentTransform)(this.ctx),$r)){const zr=$r[2]-$r[0],cs=$r[3]-$r[1];this.ctx.rect($r[0],$r[1],zr,cs),this.current.updateRectMinMax((0,cr.getCurrentTransform)(this.ctx),$r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Qr){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const $r=this.ctx;Qr.isolated||(0,Ar.info)("TODO: Support non-isolated groups."),Qr.knockout&&(0,Ar.warn)("Knockout groups not supported.");const zr=(0,cr.getCurrentTransform)($r);if(Qr.matrix&&$r.transform(...Qr.matrix),!Qr.bbox)throw new Error("Bounding box is required.");let cs=Ar.Util.getAxialAlignedBoundingBox(Qr.bbox,(0,cr.getCurrentTransform)($r));const Jr=[0,0,$r.canvas.width,$r.canvas.height];cs=Ar.Util.intersect(cs,Jr)||[0,0,0,0];const ls=Math.floor(cs[0]),hs=Math.floor(cs[1]);let bs=Math.max(Math.ceil(cs[2])-ls,1),Ts=Math.max(Math.ceil(cs[3])-hs,1),Ds=1,us=1;bs>gr&&(Ds=bs/gr,bs=gr),Ts>gr&&(us=Ts/gr,Ts=gr),this.current.startNewPathAndClipBox([0,0,bs,Ts]);let ps="groupAt"+this.groupLevel;Qr.smask&&(ps+="_smask_"+this.smaskCounter++%2);const ms=this.cachedCanvases.getCanvas(ps,bs,Ts),ss=ms.context;ss.scale(1/Ds,1/us),ss.translate(-ls,-hs),ss.transform(...zr),Qr.smask?this.smaskStack.push({canvas:ms.canvas,context:ss,offsetX:ls,offsetY:hs,scaleX:Ds,scaleY:us,subtype:Qr.smask.subtype,backdrop:Qr.smask.backdrop,transferMap:Qr.smask.transferMap||null,startTransformInverse:null}):($r.setTransform(1,0,0,1,0,0),$r.translate(ls,hs),$r.scale(Ds,us),$r.save()),kr($r,ss),this.ctx=ss,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push($r),this.groupLevel++}endGroup(Qr){if(!this.contentVisible)return;this.groupLevel--;const $r=this.ctx,zr=this.groupStack.pop();if(this.ctx=zr,this.ctx.imageSmoothingEnabled=!1,Qr.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const cs=(0,cr.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...cs);const Jr=Ar.Util.getAxialAlignedBoundingBox([0,0,$r.canvas.width,$r.canvas.height],cs);this.ctx.drawImage($r.canvas,0,0),this.ctx.restore(),this.compose(Jr)}}beginAnnotation(Qr,$r,zr,cs,Jr){if(ei(this,As,rh).call(this),Or(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray($r)&&$r.length===4){const ls=$r[2]-$r[0],hs=$r[3]-$r[1];if(Jr&&this.annotationCanvasMap){zr=zr.slice(),zr[4]-=$r[0],zr[5]-=$r[1],$r=$r.slice(),$r[0]=$r[1]=0,$r[2]=ls,$r[3]=hs;const[bs,Ts]=Ar.Util.singularValueDecompose2dScale((0,cr.getCurrentTransform)(this.ctx)),{viewportScale:Ds}=this,us=Math.ceil(ls*this.outputScaleX*Ds),ps=Math.ceil(hs*this.outputScaleY*Ds);this.annotationCanvas=this.canvasFactory.create(us,ps);const{canvas:ms,context:ss}=this.annotationCanvas;this.annotationCanvasMap.set(Qr,ms),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ss,this.ctx.save(),this.ctx.setTransform(bs,0,0,-Ts,0,hs*Ts),Or(this.ctx)}else Or(this.ctx),this.ctx.rect($r[0],$r[1],ls,hs),this.ctx.clip(),this.endPath()}this.current=new Sr(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...zr),this.transform(...cs)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ei(this,As,sh).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Qr){if(!this.contentVisible)return;const $r=Qr.count;Qr=this.getObject(Qr.data,Qr),Qr.count=$r;const zr=this.ctx,cs=this.processingType3;if(cs&&(cs.compiled===void 0&&(cs.compiled=Br(Qr)),cs.compiled)){cs.compiled(zr);return}const Jr=this._createMaskCanvas(Qr),ls=Jr.canvas;zr.save(),zr.setTransform(1,0,0,1,0,0),zr.drawImage(ls,Jr.offsetX,Jr.offsetY),zr.restore(),this.compose()}paintImageMaskXObjectRepeat(Qr,$r,zr=0,cs=0,Jr,ls){if(!this.contentVisible)return;Qr=this.getObject(Qr.data,Qr);const hs=this.ctx;hs.save();const bs=(0,cr.getCurrentTransform)(hs);hs.transform($r,zr,cs,Jr,0,0);const Ts=this._createMaskCanvas(Qr);hs.setTransform(1,0,0,1,Ts.offsetX-bs[4],Ts.offsetY-bs[5]);for(let Ds=0,us=ls.length;Ds<us;Ds+=2){const ps=Ar.Util.transform(bs,[$r,zr,cs,Jr,ls[Ds],ls[Ds+1]]),[ms,ss]=Ar.Util.applyTransform([0,0],ps);hs.drawImage(Ts.canvas,ms,ss)}hs.restore(),this.compose()}paintImageMaskXObjectGroup(Qr){if(!this.contentVisible)return;const $r=this.ctx,zr=this.current.fillColor,cs=this.current.patternFill;for(const Jr of Qr){const{data:ls,width:hs,height:bs,transform:Ts}=Jr,Ds=this.cachedCanvases.getCanvas("maskCanvas",hs,bs),us=Ds.context;us.save();const ps=this.getObject(ls,Jr);Tr(us,ps),us.globalCompositeOperation="source-in",us.fillStyle=cs?zr.getPattern(us,this,(0,cr.getCurrentTransformInverse)($r),ur.PathType.FILL):zr,us.fillRect(0,0,hs,bs),us.restore(),$r.save(),$r.transform(...Ts),$r.scale(1,-1),Cr($r,Ds.canvas,0,0,hs,bs,0,-1,1,1),$r.restore()}this.compose()}paintImageXObject(Qr){if(!this.contentVisible)return;const $r=this.getObject(Qr);if(!$r){(0,Ar.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject($r)}paintImageXObjectRepeat(Qr,$r,zr,cs){if(!this.contentVisible)return;const Jr=this.getObject(Qr);if(!Jr){(0,Ar.warn)("Dependent image isn't ready yet");return}const ls=Jr.width,hs=Jr.height,bs=[];for(let Ts=0,Ds=cs.length;Ts<Ds;Ts+=2)bs.push({transform:[$r,0,0,zr,cs[Ts],cs[Ts+1]],x:0,y:0,w:ls,h:hs});this.paintInlineImageXObjectGroup(Jr,bs)}applyTransferMapsToCanvas(Qr){return this.current.transferMaps!=="none"&&(Qr.filter=this.current.transferMaps,Qr.drawImage(Qr.canvas,0,0),Qr.filter="none"),Qr.canvas}applyTransferMapsToBitmap(Qr){if(this.current.transferMaps==="none")return Qr.bitmap;const{bitmap:$r,width:zr,height:cs}=Qr,Jr=this.cachedCanvases.getCanvas("inlineImage",zr,cs),ls=Jr.context;return ls.filter=this.current.transferMaps,ls.drawImage($r,0,0),ls.filter="none",Jr.canvas}paintInlineImageXObject(Qr){if(!this.contentVisible)return;const $r=Qr.width,zr=Qr.height,cs=this.ctx;if(this.save(),!Ar.isNodeJS){const{filter:hs}=cs;hs!=="none"&&hs!==""&&(cs.filter="none")}cs.scale(1/$r,-1/zr);let Jr;if(Qr.bitmap)Jr=this.applyTransferMapsToBitmap(Qr);else if(typeof HTMLElement=="function"&&Qr instanceof HTMLElement||!Qr.data)Jr=Qr;else{const bs=this.cachedCanvases.getCanvas("inlineImage",$r,zr).context;Er(bs,Qr),Jr=this.applyTransferMapsToCanvas(bs)}const ls=this._scaleImage(Jr,(0,cr.getCurrentTransformInverse)(cs));cs.imageSmoothingEnabled=Ur((0,cr.getCurrentTransform)(cs),Qr.interpolate),Cr(cs,ls.img,0,0,ls.paintWidth,ls.paintHeight,0,-zr,$r,zr),this.compose(),this.restore()}paintInlineImageXObjectGroup(Qr,$r){if(!this.contentVisible)return;const zr=this.ctx;let cs;if(Qr.bitmap)cs=Qr.bitmap;else{const Jr=Qr.width,ls=Qr.height,bs=this.cachedCanvases.getCanvas("inlineImage",Jr,ls).context;Er(bs,Qr),cs=this.applyTransferMapsToCanvas(bs)}for(const Jr of $r)zr.save(),zr.transform(...Jr.transform),zr.scale(1,-1),Cr(zr,cs,Jr.x,Jr.y,Jr.w,Jr.h,0,-1,1,1),zr.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Qr){}markPointProps(Qr,$r){}beginMarkedContent(Qr){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Qr,$r){Qr==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible($r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Qr){const $r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Qr);const zr=this.ctx;this.pendingClip&&($r||(this.pendingClip===Zr?zr.clip("evenodd"):zr.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),zr.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Qr=(0,cr.getCurrentTransform)(this.ctx);if(Qr[1]===0&&Qr[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Qr[0]),Math.abs(Qr[3]));else{const $r=Math.abs(Qr[0]*Qr[3]-Qr[2]*Qr[1]),zr=Math.hypot(Qr[0],Qr[2]),cs=Math.hypot(Qr[1],Qr[3]);this._cachedGetSinglePixelWidth=Math.max(zr,cs)/$r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Qr}=this.current,{a:$r,b:zr,c:cs,d:Jr}=this.ctx.getTransform();let ls,hs;if(zr===0&&cs===0){const bs=Math.abs($r),Ts=Math.abs(Jr);if(bs===Ts)if(Qr===0)ls=hs=1/bs;else{const Ds=bs*Qr;ls=hs=Ds<1?1/Ds:1}else if(Qr===0)ls=1/bs,hs=1/Ts;else{const Ds=bs*Qr,us=Ts*Qr;ls=Ds<1?1/Ds:1,hs=us<1?1/us:1}}else{const bs=Math.abs($r*Jr-zr*cs),Ts=Math.hypot($r,zr),Ds=Math.hypot(cs,Jr);if(Qr===0)ls=Ds/bs,hs=Ts/bs;else{const us=Qr*bs;ls=Ds>us?Ds/us:1,hs=Ts>us?Ts/us:1}}this._cachedScaleForStroking[0]=ls,this._cachedScaleForStroking[1]=hs}return this._cachedScaleForStroking}rescaleAndStroke(Qr){const{ctx:$r}=this,{lineWidth:zr}=this.current,[cs,Jr]=this.getScaleForStroking();if($r.lineWidth=zr||1,cs===1&&Jr===1){$r.stroke();return}const ls=$r.getLineDash();if(Qr&&$r.save(),$r.scale(cs,Jr),ls.length>0){const hs=Math.max(cs,Jr);$r.setLineDash(ls.map(bs=>bs/hs)),$r.lineDashOffset/=hs}$r.stroke(),Qr&&$r.restore()}isContentVisible(){for(let Qr=this.markedContentStack.length-1;Qr>=0;Qr--)if(!this.markedContentStack[Qr].visible)return!1;return!0}};As=new WeakSet,rh=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},sh=function(){if(this.pageColors){const Qr=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Qr!=="none"){const $r=this.ctx.filter;this.ctx.filter=Qr,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=$r}}};let ns=Os;or.CanvasGraphics=ns;for(const Vr in Ar.OPS)ns.prototype[Vr]!==void 0&&(ns.prototype[Ar.OPS[Vr]]=ns.prototype[Vr])},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.TilingPattern=or.PathType=void 0,or.getShadingPattern=vr;var Ar=lr(1),cr=lr(6);const ur={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};or.PathType=ur;function dr(Br,Sr){if(!Sr)return;const Er=Sr[2]-Sr[0],Tr=Sr[3]-Sr[1],kr=new Path2D;kr.rect(Sr[0],Sr[1],Er,Tr),Br.clip(kr)}class hr{constructor(){this.constructor===hr&&(0,Ar.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,Ar.unreachable)("Abstract method `getPattern` called.")}}class fr extends hr{constructor(Sr){super(),this._type=Sr[1],this._bbox=Sr[2],this._colorStops=Sr[3],this._p0=Sr[4],this._p1=Sr[5],this._r0=Sr[6],this._r1=Sr[7],this.matrix=null}_createGradient(Sr){let Er;this._type==="axial"?Er=Sr.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Er=Sr.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Tr of this._colorStops)Er.addColorStop(Tr[0],Tr[1]);return Er}getPattern(Sr,Er,Tr,kr){let Or;if(kr===ur.STROKE||kr===ur.FILL){const Rr=Er.current.getClippedPathBoundingBox(kr,(0,cr.getCurrentTransform)(Sr))||[0,0,0,0],Lr=Math.ceil(Rr[2]-Rr[0])||1,_r=Math.ceil(Rr[3]-Rr[1])||1,Hr=Er.cachedCanvases.getCanvas("pattern",Lr,_r,!0),Mr=Hr.context;Mr.clearRect(0,0,Mr.canvas.width,Mr.canvas.height),Mr.beginPath(),Mr.rect(0,0,Mr.canvas.width,Mr.canvas.height),Mr.translate(-Rr[0],-Rr[1]),Tr=Ar.Util.transform(Tr,[1,0,0,1,Rr[0],Rr[1]]),Mr.transform(...Er.baseTransform),this.matrix&&Mr.transform(...this.matrix),dr(Mr,this._bbox),Mr.fillStyle=this._createGradient(Mr),Mr.fill(),Or=Sr.createPattern(Hr.canvas,"no-repeat");const Ur=new DOMMatrix(Tr);Or.setTransform(Ur)}else dr(Sr,this._bbox),Or=this._createGradient(Sr);return Or}}function gr(Br,Sr,Er,Tr,kr,Or,Rr,Lr){const _r=Sr.coords,Hr=Sr.colors,Mr=Br.data,Ur=Br.width*4;let Kr;_r[Er+1]>_r[Tr+1]&&(Kr=Er,Er=Tr,Tr=Kr,Kr=Or,Or=Rr,Rr=Kr),_r[Tr+1]>_r[kr+1]&&(Kr=Tr,Tr=kr,kr=Kr,Kr=Rr,Rr=Lr,Lr=Kr),_r[Er+1]>_r[Tr+1]&&(Kr=Er,Er=Tr,Tr=Kr,Kr=Or,Or=Rr,Rr=Kr);const Xr=(_r[Er]+Sr.offsetX)*Sr.scaleX,Yr=(_r[Er+1]+Sr.offsetY)*Sr.scaleY,Zr=(_r[Tr]+Sr.offsetX)*Sr.scaleX,ns=(_r[Tr+1]+Sr.offsetY)*Sr.scaleY,As=(_r[kr]+Sr.offsetX)*Sr.scaleX,is=(_r[kr+1]+Sr.offsetY)*Sr.scaleY;if(Yr>=is)return;const gs=Hr[Or],Os=Hr[Or+1],Vr=Hr[Or+2],Qr=Hr[Rr],$r=Hr[Rr+1],zr=Hr[Rr+2],cs=Hr[Lr],Jr=Hr[Lr+1],ls=Hr[Lr+2],hs=Math.round(Yr),bs=Math.round(is);let Ts,Ds,us,ps,ms,ss,ks,as;for(let fs=hs;fs<=bs;fs++){if(fs<ns){const Ks=fs<Yr?0:(Yr-fs)/(Yr-ns);Ts=Xr-(Xr-Zr)*Ks,Ds=gs-(gs-Qr)*Ks,us=Os-(Os-$r)*Ks,ps=Vr-(Vr-zr)*Ks}else{let Ks;fs>is?Ks=1:ns===is?Ks=0:Ks=(ns-fs)/(ns-is),Ts=Zr-(Zr-As)*Ks,Ds=Qr-(Qr-cs)*Ks,us=$r-($r-Jr)*Ks,ps=zr-(zr-ls)*Ks}let ws;fs<Yr?ws=0:fs>is?ws=1:ws=(Yr-fs)/(Yr-is),ms=Xr-(Xr-As)*ws,ss=gs-(gs-cs)*ws,ks=Os-(Os-Jr)*ws,as=Vr-(Vr-ls)*ws;const Is=Math.round(Math.min(Ts,ms)),Ps=Math.round(Math.max(Ts,ms));let Ws=Ur*fs+Is*4;for(let Ks=Is;Ks<=Ps;Ks++)ws=(Ts-Ks)/(Ts-ms),ws<0?ws=0:ws>1&&(ws=1),Mr[Ws++]=Ds-(Ds-ss)*ws|0,Mr[Ws++]=us-(us-ks)*ws|0,Mr[Ws++]=ps-(ps-as)*ws|0,Mr[Ws++]=255}}function pr(Br,Sr,Er){const Tr=Sr.coords,kr=Sr.colors;let Or,Rr;switch(Sr.type){case"lattice":const Lr=Sr.verticesPerRow,_r=Math.floor(Tr.length/Lr)-1,Hr=Lr-1;for(Or=0;Or<_r;Or++){let Mr=Or*Lr;for(let Ur=0;Ur<Hr;Ur++,Mr++)gr(Br,Er,Tr[Mr],Tr[Mr+1],Tr[Mr+Lr],kr[Mr],kr[Mr+1],kr[Mr+Lr]),gr(Br,Er,Tr[Mr+Lr+1],Tr[Mr+1],Tr[Mr+Lr],kr[Mr+Lr+1],kr[Mr+1],kr[Mr+Lr])}break;case"triangles":for(Or=0,Rr=Tr.length;Or<Rr;Or+=3)gr(Br,Er,Tr[Or],Tr[Or+1],Tr[Or+2],kr[Or],kr[Or+1],kr[Or+2]);break;default:throw new Error("illegal figure")}}class mr extends hr{constructor(Sr){super(),this._coords=Sr[2],this._colors=Sr[3],this._figures=Sr[4],this._bounds=Sr[5],this._bbox=Sr[7],this._background=Sr[8],this.matrix=null}_createMeshCanvas(Sr,Er,Tr){const Lr=Math.floor(this._bounds[0]),_r=Math.floor(this._bounds[1]),Hr=Math.ceil(this._bounds[2])-Lr,Mr=Math.ceil(this._bounds[3])-_r,Ur=Math.min(Math.ceil(Math.abs(Hr*Sr[0]*1.1)),3e3),Kr=Math.min(Math.ceil(Math.abs(Mr*Sr[1]*1.1)),3e3),Xr=Hr/Ur,Yr=Mr/Kr,Zr={coords:this._coords,colors:this._colors,offsetX:-Lr,offsetY:-_r,scaleX:1/Xr,scaleY:1/Yr},ns=Ur+2*2,As=Kr+2*2,is=Tr.getCanvas("mesh",ns,As,!1),gs=is.context,Os=gs.createImageData(Ur,Kr);if(Er){const Qr=Os.data;for(let $r=0,zr=Qr.length;$r<zr;$r+=4)Qr[$r]=Er[0],Qr[$r+1]=Er[1],Qr[$r+2]=Er[2],Qr[$r+3]=255}for(const Qr of this._figures)pr(Os,Qr,Zr);return gs.putImageData(Os,2,2),{canvas:is.canvas,offsetX:Lr-2*Xr,offsetY:_r-2*Yr,scaleX:Xr,scaleY:Yr}}getPattern(Sr,Er,Tr,kr){dr(Sr,this._bbox);let Or;if(kr===ur.SHADING)Or=Ar.Util.singularValueDecompose2dScale((0,cr.getCurrentTransform)(Sr));else if(Or=Ar.Util.singularValueDecompose2dScale(Er.baseTransform),this.matrix){const Lr=Ar.Util.singularValueDecompose2dScale(this.matrix);Or=[Or[0]*Lr[0],Or[1]*Lr[1]]}const Rr=this._createMeshCanvas(Or,kr===ur.SHADING?null:this._background,Er.cachedCanvases);return kr!==ur.SHADING&&(Sr.setTransform(...Er.baseTransform),this.matrix&&Sr.transform(...this.matrix)),Sr.translate(Rr.offsetX,Rr.offsetY),Sr.scale(Rr.scaleX,Rr.scaleY),Sr.createPattern(Rr.canvas,"no-repeat")}}class yr extends hr{getPattern(){return"hotpink"}}function vr(Br){switch(Br[0]){case"RadialAxial":return new fr(Br);case"Mesh":return new mr(Br);case"Dummy":return new yr}throw new Error(`Unknown IR type: ${Br[0]}`)}const br={COLORED:1,UNCOLORED:2},Cr=class Cr{constructor(Sr,Er,Tr,kr,Or){this.operatorList=Sr[2],this.matrix=Sr[3]||[1,0,0,1,0,0],this.bbox=Sr[4],this.xstep=Sr[5],this.ystep=Sr[6],this.paintType=Sr[7],this.tilingType=Sr[8],this.color=Er,this.ctx=Tr,this.canvasGraphicsFactory=kr,this.baseTransform=Or}createPatternCanvas(Sr){const Er=this.operatorList,Tr=this.bbox,kr=this.xstep,Or=this.ystep,Rr=this.paintType,Lr=this.tilingType,_r=this.color,Hr=this.canvasGraphicsFactory;(0,Ar.info)("TilingType: "+Lr);const Mr=Tr[0],Ur=Tr[1],Kr=Tr[2],Xr=Tr[3],Yr=Ar.Util.singularValueDecompose2dScale(this.matrix),Zr=Ar.Util.singularValueDecompose2dScale(this.baseTransform),ns=[Yr[0]*Zr[0],Yr[1]*Zr[1]],As=this.getSizeAndScale(kr,this.ctx.canvas.width,ns[0]),is=this.getSizeAndScale(Or,this.ctx.canvas.height,ns[1]),gs=Sr.cachedCanvases.getCanvas("pattern",As.size,is.size,!0),Os=gs.context,Vr=Hr.createCanvasGraphics(Os);Vr.groupLevel=Sr.groupLevel,this.setFillAndStrokeStyleToContext(Vr,Rr,_r);let Qr=Mr,$r=Ur,zr=Kr,cs=Xr;return Mr<0&&(Qr=0,zr+=Math.abs(Mr)),Ur<0&&($r=0,cs+=Math.abs(Ur)),Os.translate(-(As.scale*Qr),-(is.scale*$r)),Vr.transform(As.scale,0,0,is.scale,0,0),Os.save(),this.clipBbox(Vr,Qr,$r,zr,cs),Vr.baseTransform=(0,cr.getCurrentTransform)(Vr.ctx),Vr.executeOperatorList(Er),Vr.endDrawing(),{canvas:gs.canvas,scaleX:As.scale,scaleY:is.scale,offsetX:Qr,offsetY:$r}}getSizeAndScale(Sr,Er,Tr){Sr=Math.abs(Sr);const kr=Math.max(Cr.MAX_PATTERN_SIZE,Er);let Or=Math.ceil(Sr*Tr);return Or>=kr?Or=kr:Tr=Or/Sr,{scale:Tr,size:Or}}clipBbox(Sr,Er,Tr,kr,Or){const Rr=kr-Er,Lr=Or-Tr;Sr.ctx.rect(Er,Tr,Rr,Lr),Sr.current.updateRectMinMax((0,cr.getCurrentTransform)(Sr.ctx),[Er,Tr,kr,Or]),Sr.clip(),Sr.endPath()}setFillAndStrokeStyleToContext(Sr,Er,Tr){const kr=Sr.ctx,Or=Sr.current;switch(Er){case br.COLORED:const Rr=this.ctx;kr.fillStyle=Rr.fillStyle,kr.strokeStyle=Rr.strokeStyle,Or.fillColor=Rr.fillStyle,Or.strokeColor=Rr.strokeStyle;break;case br.UNCOLORED:const Lr=Ar.Util.makeHexColor(Tr[0],Tr[1],Tr[2]);kr.fillStyle=Lr,kr.strokeStyle=Lr,Or.fillColor=Lr,Or.strokeColor=Lr;break;default:throw new Ar.FormatError(`Unsupported paint type: ${Er}`)}}getPattern(Sr,Er,Tr,kr){let Or=Tr;kr!==ur.SHADING&&(Or=Ar.Util.transform(Or,Er.baseTransform),this.matrix&&(Or=Ar.Util.transform(Or,this.matrix)));const Rr=this.createPatternCanvas(Er);let Lr=new DOMMatrix(Or);Lr=Lr.translate(Rr.offsetX,Rr.offsetY),Lr=Lr.scale(1/Rr.scaleX,1/Rr.scaleY);const _r=Sr.createPattern(Rr.canvas,"repeat");return _r.setTransform(Lr),_r}};Mo(Cr,"MAX_PATTERN_SIZE",3e3);let wr=Cr;or.TilingPattern=wr},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.convertBlackAndWhiteToRGBA=ur,or.convertToRGBA=cr,or.grayToRGBA=hr;var Ar=lr(1);function cr(fr){switch(fr.kind){case Ar.ImageKind.GRAYSCALE_1BPP:return ur(fr);case Ar.ImageKind.RGB_24BPP:return dr(fr)}return null}function ur({src:fr,srcPos:gr=0,dest:pr,width:mr,height:yr,nonBlackColor:vr=4294967295,inverseDecode:br=!1}){const wr=Ar.FeatureTest.isLittleEndian?4278190080:255,[Cr,Br]=br?[vr,wr]:[wr,vr],Sr=mr>>3,Er=mr&7,Tr=fr.length;pr=new Uint32Array(pr.buffer);let kr=0;for(let Or=0;Or<yr;Or++){for(const Lr=gr+Sr;gr<Lr;gr++){const _r=gr<Tr?fr[gr]:255;pr[kr++]=_r&128?Br:Cr,pr[kr++]=_r&64?Br:Cr,pr[kr++]=_r&32?Br:Cr,pr[kr++]=_r&16?Br:Cr,pr[kr++]=_r&8?Br:Cr,pr[kr++]=_r&4?Br:Cr,pr[kr++]=_r&2?Br:Cr,pr[kr++]=_r&1?Br:Cr}if(Er===0)continue;const Rr=gr<Tr?fr[gr++]:255;for(let Lr=0;Lr<Er;Lr++)pr[kr++]=Rr&1<<7-Lr?Br:Cr}return{srcPos:gr,destPos:kr}}function dr({src:fr,srcPos:gr=0,dest:pr,destPos:mr=0,width:yr,height:vr}){let br=0;const wr=fr.length>>2,Cr=new Uint32Array(fr.buffer,gr,wr);if(Ar.FeatureTest.isLittleEndian){for(;br<wr-2;br+=3,mr+=4){const Br=Cr[br],Sr=Cr[br+1],Er=Cr[br+2];pr[mr]=Br|4278190080,pr[mr+1]=Br>>>24|Sr<<8|4278190080,pr[mr+2]=Sr>>>16|Er<<16|4278190080,pr[mr+3]=Er>>>8|4278190080}for(let Br=br*4,Sr=fr.length;Br<Sr;Br+=3)pr[mr++]=fr[Br]|fr[Br+1]<<8|fr[Br+2]<<16|4278190080}else{for(;br<wr-2;br+=3,mr+=4){const Br=Cr[br],Sr=Cr[br+1],Er=Cr[br+2];pr[mr]=Br|255,pr[mr+1]=Br<<24|Sr>>>8|255,pr[mr+2]=Sr<<16|Er>>>16|255,pr[mr+3]=Er<<8|255}for(let Br=br*4,Sr=fr.length;Br<Sr;Br+=3)pr[mr++]=fr[Br]<<24|fr[Br+1]<<16|fr[Br+2]<<8|255}return{srcPos:gr,destPos:mr}}function hr(fr,gr){if(Ar.FeatureTest.isLittleEndian)for(let pr=0,mr=fr.length;pr<mr;pr++)gr[pr]=fr[pr]*65793|4278190080;else for(let pr=0,mr=fr.length;pr<mr;pr++)gr[pr]=fr[pr]*16843008|255}},(ar,or)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.GlobalWorkerOptions=void 0;const lr=Object.create(null);or.GlobalWorkerOptions=lr,lr.workerPort=null,lr.workerSrc=""},(ar,or,lr)=>{var fr,mp,vp,Hd;Object.defineProperty(or,"__esModule",{value:!0}),or.MessageHandler=void 0;var Ar=lr(1);const cr={DATA:1,ERROR:2},ur={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dr(yr){switch(yr instanceof Error||typeof yr=="object"&&yr!==null||(0,Ar.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),yr.name){case"AbortException":return new Ar.AbortException(yr.message);case"MissingPDFException":return new Ar.MissingPDFException(yr.message);case"PasswordException":return new Ar.PasswordException(yr.message,yr.code);case"UnexpectedResponseException":return new Ar.UnexpectedResponseException(yr.message,yr.status);case"UnknownErrorException":return new Ar.UnknownErrorException(yr.message,yr.details);default:return new Ar.UnknownErrorException(yr.message,yr.toString())}}class hr{constructor(vr,br,wr){ci(this,fr);this.sourceName=vr,this.targetName=br,this.comObj=wr,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Cr=>{const Br=Cr.data;if(Br.targetName!==this.sourceName)return;if(Br.stream){ei(this,fr,vp).call(this,Br);return}if(Br.callback){const Er=Br.callbackId,Tr=this.callbackCapabilities[Er];if(!Tr)throw new Error(`Cannot resolve callback ${Er}`);if(delete this.callbackCapabilities[Er],Br.callback===cr.DATA)Tr.resolve(Br.data);else if(Br.callback===cr.ERROR)Tr.reject(dr(Br.reason));else throw new Error("Unexpected callback case");return}const Sr=this.actionHandler[Br.action];if(!Sr)throw new Error(`Unknown action from worker: ${Br.action}`);if(Br.callbackId){const Er=this.sourceName,Tr=Br.sourceName;new Promise(function(kr){kr(Sr(Br.data))}).then(function(kr){wr.postMessage({sourceName:Er,targetName:Tr,callback:cr.DATA,callbackId:Br.callbackId,data:kr})},function(kr){wr.postMessage({sourceName:Er,targetName:Tr,callback:cr.ERROR,callbackId:Br.callbackId,reason:dr(kr)})});return}if(Br.streamId){ei(this,fr,mp).call(this,Br);return}Sr(Br.data)},wr.addEventListener("message",this._onComObjOnMessage)}on(vr,br){const wr=this.actionHandler;if(wr[vr])throw new Error(`There is already an actionName called "${vr}"`);wr[vr]=br}send(vr,br,wr){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vr,data:br},wr)}sendWithPromise(vr,br,wr){const Cr=this.callbackId++,Br=new Ar.PromiseCapability;this.callbackCapabilities[Cr]=Br;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:vr,callbackId:Cr,data:br},wr)}catch(Sr){Br.reject(Sr)}return Br.promise}sendWithStream(vr,br,wr,Cr){const Br=this.streamId++,Sr=this.sourceName,Er=this.targetName,Tr=this.comObj;return new ReadableStream({start:kr=>{const Or=new Ar.PromiseCapability;return this.streamControllers[Br]={controller:kr,startCall:Or,pullCall:null,cancelCall:null,isClosed:!1},Tr.postMessage({sourceName:Sr,targetName:Er,action:vr,streamId:Br,data:br,desiredSize:kr.desiredSize},Cr),Or.promise},pull:kr=>{const Or=new Ar.PromiseCapability;return this.streamControllers[Br].pullCall=Or,Tr.postMessage({sourceName:Sr,targetName:Er,stream:ur.PULL,streamId:Br,desiredSize:kr.desiredSize}),Or.promise},cancel:kr=>{(0,Ar.assert)(kr instanceof Error,"cancel must have a valid reason");const Or=new Ar.PromiseCapability;return this.streamControllers[Br].cancelCall=Or,this.streamControllers[Br].isClosed=!0,Tr.postMessage({sourceName:Sr,targetName:Er,stream:ur.CANCEL,streamId:Br,reason:dr(kr)}),Or.promise}},wr)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}fr=new WeakSet,mp=function(vr){const br=vr.streamId,wr=this.sourceName,Cr=vr.sourceName,Br=this.comObj,Sr=this,Er=this.actionHandler[vr.action],Tr={enqueue(kr,Or=1,Rr){if(this.isCancelled)return;const Lr=this.desiredSize;this.desiredSize-=Or,Lr>0&&this.desiredSize<=0&&(this.sinkCapability=new Ar.PromiseCapability,this.ready=this.sinkCapability.promise),Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.ENQUEUE,streamId:br,chunk:kr},Rr)},close(){this.isCancelled||(this.isCancelled=!0,Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.CLOSE,streamId:br}),delete Sr.streamSinks[br])},error(kr){(0,Ar.assert)(kr instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.ERROR,streamId:br,reason:dr(kr)}))},sinkCapability:new Ar.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:vr.desiredSize,ready:null};Tr.sinkCapability.resolve(),Tr.ready=Tr.sinkCapability.promise,this.streamSinks[br]=Tr,new Promise(function(kr){kr(Er(vr.data,Tr))}).then(function(){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.START_COMPLETE,streamId:br,success:!0})},function(kr){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.START_COMPLETE,streamId:br,reason:dr(kr)})})},vp=function(vr){const br=vr.streamId,wr=this.sourceName,Cr=vr.sourceName,Br=this.comObj,Sr=this.streamControllers[br],Er=this.streamSinks[br];switch(vr.stream){case ur.START_COMPLETE:vr.success?Sr.startCall.resolve():Sr.startCall.reject(dr(vr.reason));break;case ur.PULL_COMPLETE:vr.success?Sr.pullCall.resolve():Sr.pullCall.reject(dr(vr.reason));break;case ur.PULL:if(!Er){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.PULL_COMPLETE,streamId:br,success:!0});break}Er.desiredSize<=0&&vr.desiredSize>0&&Er.sinkCapability.resolve(),Er.desiredSize=vr.desiredSize,new Promise(function(Tr){var kr;Tr((kr=Er.onPull)==null?void 0:kr.call(Er))}).then(function(){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.PULL_COMPLETE,streamId:br,success:!0})},function(Tr){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.PULL_COMPLETE,streamId:br,reason:dr(Tr)})});break;case ur.ENQUEUE:if((0,Ar.assert)(Sr,"enqueue should have stream controller"),Sr.isClosed)break;Sr.controller.enqueue(vr.chunk);break;case ur.CLOSE:if((0,Ar.assert)(Sr,"close should have stream controller"),Sr.isClosed)break;Sr.isClosed=!0,Sr.controller.close(),ei(this,fr,Hd).call(this,Sr,br);break;case ur.ERROR:(0,Ar.assert)(Sr,"error should have stream controller"),Sr.controller.error(dr(vr.reason)),ei(this,fr,Hd).call(this,Sr,br);break;case ur.CANCEL_COMPLETE:vr.success?Sr.cancelCall.resolve():Sr.cancelCall.reject(dr(vr.reason)),ei(this,fr,Hd).call(this,Sr,br);break;case ur.CANCEL:if(!Er)break;new Promise(function(Tr){var kr;Tr((kr=Er.onCancel)==null?void 0:kr.call(Er,dr(vr.reason)))}).then(function(){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.CANCEL_COMPLETE,streamId:br,success:!0})},function(Tr){Br.postMessage({sourceName:wr,targetName:Cr,stream:ur.CANCEL_COMPLETE,streamId:br,reason:dr(Tr)})}),Er.sinkCapability.reject(dr(vr.reason)),Er.isCancelled=!0,delete this.streamSinks[br];break;default:throw new Error("Unexpected stream case")}},Hd=async function(vr,br){var wr,Cr,Br;await Promise.allSettled([(wr=vr.startCall)==null?void 0:wr.promise,(Cr=vr.pullCall)==null?void 0:Cr.promise,(Br=vr.cancelCall)==null?void 0:Br.promise]),delete this.streamControllers[br]},or.MessageHandler=hr},(ar,or,lr)=>{var ur,dr;Object.defineProperty(or,"__esModule",{value:!0}),or.Metadata=void 0;var Ar=lr(1);class cr{constructor({parsedData:fr,rawData:gr}){ci(this,ur);ci(this,dr);di(this,ur,fr),di(this,dr,gr)}getRaw(){return qr(this,dr)}get(fr){return qr(this,ur).get(fr)??null}getAll(){return(0,Ar.objectFromMap)(qr(this,ur))}has(fr){return qr(this,ur).has(fr)}}ur=new WeakMap,dr=new WeakMap,or.Metadata=cr},(ar,or,lr)=>{var fr,gr,pr,mr,yr,vr,ih;Object.defineProperty(or,"__esModule",{value:!0}),or.OptionalContentConfig=void 0;var Ar=lr(1),cr=lr(8);const ur=Symbol("INTERNAL");class dr{constructor(Cr,Br){ci(this,fr,!0);this.name=Cr,this.intent=Br}get visible(){return qr(this,fr)}_setVisible(Cr,Br){Cr!==ur&&(0,Ar.unreachable)("Internal method `_setVisible` called."),di(this,fr,Br)}}fr=new WeakMap;class hr{constructor(Cr){ci(this,vr);ci(this,gr,null);ci(this,pr,new Map);ci(this,mr,null);ci(this,yr,null);if(this.name=null,this.creator=null,Cr!==null){this.name=Cr.name,this.creator=Cr.creator,di(this,yr,Cr.order);for(const Br of Cr.groups)qr(this,pr).set(Br.id,new dr(Br.name,Br.intent));if(Cr.baseState==="OFF")for(const Br of qr(this,pr).values())Br._setVisible(ur,!1);for(const Br of Cr.on)qr(this,pr).get(Br)._setVisible(ur,!0);for(const Br of Cr.off)qr(this,pr).get(Br)._setVisible(ur,!1);di(this,mr,this.getHash())}}isVisible(Cr){if(qr(this,pr).size===0)return!0;if(!Cr)return(0,Ar.warn)("Optional content group not defined."),!0;if(Cr.type==="OCG")return qr(this,pr).has(Cr.id)?qr(this,pr).get(Cr.id).visible:((0,Ar.warn)(`Optional content group not found: ${Cr.id}`),!0);if(Cr.type==="OCMD"){if(Cr.expression)return ei(this,vr,ih).call(this,Cr.expression);if(!Cr.policy||Cr.policy==="AnyOn"){for(const Br of Cr.ids){if(!qr(this,pr).has(Br))return(0,Ar.warn)(`Optional content group not found: ${Br}`),!0;if(qr(this,pr).get(Br).visible)return!0}return!1}else if(Cr.policy==="AllOn"){for(const Br of Cr.ids){if(!qr(this,pr).has(Br))return(0,Ar.warn)(`Optional content group not found: ${Br}`),!0;if(!qr(this,pr).get(Br).visible)return!1}return!0}else if(Cr.policy==="AnyOff"){for(const Br of Cr.ids){if(!qr(this,pr).has(Br))return(0,Ar.warn)(`Optional content group not found: ${Br}`),!0;if(!qr(this,pr).get(Br).visible)return!0}return!1}else if(Cr.policy==="AllOff"){for(const Br of Cr.ids){if(!qr(this,pr).has(Br))return(0,Ar.warn)(`Optional content group not found: ${Br}`),!0;if(qr(this,pr).get(Br).visible)return!1}return!0}return(0,Ar.warn)(`Unknown optional content policy ${Cr.policy}.`),!0}return(0,Ar.warn)(`Unknown group type ${Cr.type}.`),!0}setVisibility(Cr,Br=!0){if(!qr(this,pr).has(Cr)){(0,Ar.warn)(`Optional content group not found: ${Cr}`);return}qr(this,pr).get(Cr)._setVisible(ur,!!Br),di(this,gr,null)}get hasInitialVisibility(){return qr(this,mr)===null||this.getHash()===qr(this,mr)}getOrder(){return qr(this,pr).size?qr(this,yr)?qr(this,yr).slice():[...qr(this,pr).keys()]:null}getGroups(){return qr(this,pr).size>0?(0,Ar.objectFromMap)(qr(this,pr)):null}getGroup(Cr){return qr(this,pr).get(Cr)||null}getHash(){if(qr(this,gr)!==null)return qr(this,gr);const Cr=new cr.MurmurHash3_64;for(const[Br,Sr]of qr(this,pr))Cr.update(`${Br}:${Sr.visible}`);return di(this,gr,Cr.hexdigest())}}gr=new WeakMap,pr=new WeakMap,mr=new WeakMap,yr=new WeakMap,vr=new WeakSet,ih=function(Cr){const Br=Cr.length;if(Br<2)return!0;const Sr=Cr[0];for(let Er=1;Er<Br;Er++){const Tr=Cr[Er];let kr;if(Array.isArray(Tr))kr=ei(this,vr,ih).call(this,Tr);else if(qr(this,pr).has(Tr))kr=qr(this,pr).get(Tr).visible;else return(0,Ar.warn)(`Optional content group not found: ${Tr}`),!0;switch(Sr){case"And":if(!kr)return!1;break;case"Or":if(kr)return!0;break;case"Not":return!kr;default:return!0}}return Sr==="And"},or.OptionalContentConfig=hr},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.PDFDataTransportStream=void 0;var Ar=lr(1),cr=lr(6);class ur{constructor({length:gr,initialData:pr,progressiveDone:mr=!1,contentDispositionFilename:yr=null,disableRange:vr=!1,disableStream:br=!1},wr){if((0,Ar.assert)(wr,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=mr,this._contentDispositionFilename=yr,(pr==null?void 0:pr.length)>0){const Cr=pr instanceof Uint8Array&&pr.byteLength===pr.buffer.byteLength?pr.buffer:new Uint8Array(pr).buffer;this._queuedChunks.push(Cr)}this._pdfDataRangeTransport=wr,this._isStreamingSupported=!br,this._isRangeSupported=!vr,this._contentLength=gr,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Cr,Br)=>{this._onReceiveData({begin:Cr,chunk:Br})}),this._pdfDataRangeTransport.addProgressListener((Cr,Br)=>{this._onProgress({loaded:Cr,total:Br})}),this._pdfDataRangeTransport.addProgressiveReadListener(Cr=>{this._onReceiveData({chunk:Cr})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:gr,chunk:pr}){const mr=pr instanceof Uint8Array&&pr.byteLength===pr.buffer.byteLength?pr.buffer:new Uint8Array(pr).buffer;if(gr===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(mr):this._queuedChunks.push(mr);else{const yr=this._rangeReaders.some(function(vr){return vr._begin!==gr?!1:(vr._enqueue(mr),!0)});(0,Ar.assert)(yr,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var gr;return((gr=this._fullRequestReader)==null?void 0:gr._loaded)??0}_onProgress(gr){var pr,mr,yr,vr;gr.total===void 0?(mr=(pr=this._rangeReaders[0])==null?void 0:pr.onProgress)==null||mr.call(pr,{loaded:gr.loaded}):(vr=(yr=this._fullRequestReader)==null?void 0:yr.onProgress)==null||vr.call(yr,{loaded:gr.loaded,total:gr.total})}_onProgressiveDone(){var gr;(gr=this._fullRequestReader)==null||gr.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(gr){const pr=this._rangeReaders.indexOf(gr);pr>=0&&this._rangeReaders.splice(pr,1)}getFullReader(){(0,Ar.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const gr=this._queuedChunks;return this._queuedChunks=null,new dr(this,gr,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(gr,pr){if(pr<=this._progressiveDataLength)return null;const mr=new hr(this,gr,pr);return this._pdfDataRangeTransport.requestDataRange(gr,pr),this._rangeReaders.push(mr),mr}cancelAllRequests(gr){var pr;(pr=this._fullRequestReader)==null||pr.cancel(gr);for(const mr of this._rangeReaders.slice(0))mr.cancel(gr);this._pdfDataRangeTransport.abort()}}or.PDFDataTransportStream=ur;class dr{constructor(gr,pr,mr=!1,yr=null){this._stream=gr,this._done=mr||!1,this._filename=(0,cr.isPdfFile)(yr)?yr:null,this._queuedChunks=pr||[],this._loaded=0;for(const vr of this._queuedChunks)this._loaded+=vr.byteLength;this._requests=[],this._headersReady=Promise.resolve(),gr._fullRequestReader=this,this.onProgress=null}_enqueue(gr){this._done||(this._requests.length>0?this._requests.shift().resolve({value:gr,done:!1}):this._queuedChunks.push(gr),this._loaded+=gr.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const gr=new Ar.PromiseCapability;return this._requests.push(gr),gr.promise}cancel(gr){this._done=!0;for(const pr of this._requests)pr.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class hr{constructor(gr,pr,mr){this._stream=gr,this._begin=pr,this._end=mr,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(gr){if(!this._done){if(this._requests.length===0)this._queuedChunk=gr;else{this._requests.shift().resolve({value:gr,done:!1});for(const mr of this._requests)mr.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const pr=this._queuedChunk;return this._queuedChunk=null,{value:pr,done:!1}}if(this._done)return{value:void 0,done:!0};const gr=new Ar.PromiseCapability;return this._requests.push(gr),gr.promise}cancel(gr){this._done=!0;for(const pr of this._requests)pr.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.PDFFetchStream=void 0;var Ar=lr(1),cr=lr(20);function ur(mr,yr,vr){return{method:"GET",headers:mr,signal:vr.signal,mode:"cors",credentials:yr?"include":"same-origin",redirect:"follow"}}function dr(mr){const yr=new Headers;for(const vr in mr){const br=mr[vr];br!==void 0&&yr.append(vr,br)}return yr}function hr(mr){return mr instanceof Uint8Array?mr.buffer:mr instanceof ArrayBuffer?mr:((0,Ar.warn)(`getArrayBuffer - unexpected data format: ${mr}`),new Uint8Array(mr).buffer)}class fr{constructor(yr){this.source=yr,this.isHttp=/^https?:/i.test(yr.url),this.httpHeaders=this.isHttp&&yr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var yr;return((yr=this._fullRequestReader)==null?void 0:yr._loaded)??0}getFullReader(){return(0,Ar.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gr(this),this._fullRequestReader}getRangeReader(yr,vr){if(vr<=this._progressiveDataLength)return null;const br=new pr(this,yr,vr);return this._rangeRequestReaders.push(br),br}cancelAllRequests(yr){var vr;(vr=this._fullRequestReader)==null||vr.cancel(yr);for(const br of this._rangeRequestReaders.slice(0))br.cancel(yr)}}or.PDFFetchStream=fr;class gr{constructor(yr){this._stream=yr,this._reader=null,this._loaded=0,this._filename=null;const vr=yr.source;this._withCredentials=vr.withCredentials||!1,this._contentLength=vr.length,this._headersCapability=new Ar.PromiseCapability,this._disableRange=vr.disableRange||!1,this._rangeChunkSize=vr.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!vr.disableStream,this._isRangeSupported=!vr.disableRange,this._headers=dr(this._stream.httpHeaders);const br=vr.url;fetch(br,ur(this._headers,this._withCredentials,this._abortController)).then(wr=>{if(!(0,cr.validateResponseStatus)(wr.status))throw(0,cr.createResponseStatusError)(wr.status,br);this._reader=wr.body.getReader(),this._headersCapability.resolve();const Cr=Er=>wr.headers.get(Er),{allowRangeRequests:Br,suggestedLength:Sr}=(0,cr.validateRangeRequestCapabilities)({getResponseHeader:Cr,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Br,this._contentLength=Sr||this._contentLength,this._filename=(0,cr.extractFilenameFromHeader)(Cr),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ar.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var br;await this._headersCapability.promise;const{value:yr,done:vr}=await this._reader.read();return vr?{value:yr,done:vr}:(this._loaded+=yr.byteLength,(br=this.onProgress)==null||br.call(this,{loaded:this._loaded,total:this._contentLength}),{value:hr(yr),done:!1})}cancel(yr){var vr;(vr=this._reader)==null||vr.cancel(yr),this._abortController.abort()}}class pr{constructor(yr,vr,br){this._stream=yr,this._reader=null,this._loaded=0;const wr=yr.source;this._withCredentials=wr.withCredentials||!1,this._readCapability=new Ar.PromiseCapability,this._isStreamingSupported=!wr.disableStream,this._abortController=new AbortController,this._headers=dr(this._stream.httpHeaders),this._headers.append("Range",`bytes=${vr}-${br-1}`);const Cr=wr.url;fetch(Cr,ur(this._headers,this._withCredentials,this._abortController)).then(Br=>{if(!(0,cr.validateResponseStatus)(Br.status))throw(0,cr.createResponseStatusError)(Br.status,Cr);this._readCapability.resolve(),this._reader=Br.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var br;await this._readCapability.promise;const{value:yr,done:vr}=await this._reader.read();return vr?{value:yr,done:vr}:(this._loaded+=yr.byteLength,(br=this.onProgress)==null||br.call(this,{loaded:this._loaded}),{value:hr(yr),done:!1})}cancel(yr){var vr;(vr=this._reader)==null||vr.cancel(yr),this._abortController.abort()}}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.createResponseStatusError=fr,or.extractFilenameFromHeader=hr,or.validateRangeRequestCapabilities=dr,or.validateResponseStatus=gr;var Ar=lr(1),cr=lr(21),ur=lr(6);function dr({getResponseHeader:pr,isHttp:mr,rangeChunkSize:yr,disableRange:vr}){const br={allowRangeRequests:!1,suggestedLength:void 0},wr=parseInt(pr("Content-Length"),10);return!Number.isInteger(wr)||(br.suggestedLength=wr,wr<=2*yr)||vr||!mr||pr("Accept-Ranges")!=="bytes"||(pr("Content-Encoding")||"identity")!=="identity"||(br.allowRangeRequests=!0),br}function hr(pr){const mr=pr("Content-Disposition");if(mr){let yr=(0,cr.getFilenameFromContentDispositionHeader)(mr);if(yr.includes("%"))try{yr=decodeURIComponent(yr)}catch{}if((0,ur.isPdfFile)(yr))return yr}return null}function fr(pr,mr){return pr===404||pr===0&&mr.startsWith("file:")?new Ar.MissingPDFException('Missing PDF "'+mr+'".'):new Ar.UnexpectedResponseException(`Unexpected server response (${pr}) while retrieving PDF "${mr}".`,pr)}function gr(pr){return pr===200||pr===206}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.getFilenameFromContentDispositionHeader=cr;var Ar=lr(1);function cr(ur){let dr=!0,hr=fr("filename\\*","i").exec(ur);if(hr){hr=hr[1];let wr=yr(hr);return wr=unescape(wr),wr=vr(wr),wr=br(wr),pr(wr)}if(hr=mr(ur),hr){const wr=br(hr);return pr(wr)}if(hr=fr("filename","i").exec(ur),hr){hr=hr[1];let wr=yr(hr);return wr=br(wr),pr(wr)}function fr(wr,Cr){return new RegExp("(?:^|;)\\s*"+wr+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Cr)}function gr(wr,Cr){if(wr){if(!/^[\x00-\xFF]+$/.test(Cr))return Cr;try{const Br=new TextDecoder(wr,{fatal:!0}),Sr=(0,Ar.stringToBytes)(Cr);Cr=Br.decode(Sr),dr=!1}catch{}}return Cr}function pr(wr){return dr&&/[\x80-\xff]/.test(wr)&&(wr=gr("utf-8",wr),dr&&(wr=gr("iso-8859-1",wr))),wr}function mr(wr){const Cr=[];let Br;const Sr=fr("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Br=Sr.exec(wr))!==null;){let[,Tr,kr,Or]=Br;if(Tr=parseInt(Tr,10),Tr in Cr){if(Tr===0)break;continue}Cr[Tr]=[kr,Or]}const Er=[];for(let Tr=0;Tr<Cr.length&&Tr in Cr;++Tr){let[kr,Or]=Cr[Tr];Or=yr(Or),kr&&(Or=unescape(Or),Tr===0&&(Or=vr(Or))),Er.push(Or)}return Er.join("")}function yr(wr){if(wr.startsWith('"')){const Cr=wr.slice(1).split('\\"');for(let Br=0;Br<Cr.length;++Br){const Sr=Cr[Br].indexOf('"');Sr!==-1&&(Cr[Br]=Cr[Br].slice(0,Sr),Cr.length=Br+1),Cr[Br]=Cr[Br].replaceAll(/\\(.)/g,"$1")}wr=Cr.join('"')}return wr}function vr(wr){const Cr=wr.indexOf("'");if(Cr===-1)return wr;const Br=wr.slice(0,Cr),Er=wr.slice(Cr+1).replace(/^[^']*'/,"");return gr(Br,Er)}function br(wr){return!wr.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(wr)?wr:wr.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Cr,Br,Sr,Er){if(Sr==="q"||Sr==="Q")return Er=Er.replaceAll("_"," "),Er=Er.replaceAll(/=([0-9a-fA-F]{2})/g,function(Tr,kr){return String.fromCharCode(parseInt(kr,16))}),gr(Br,Er);try{Er=atob(Er)}catch{}return gr(Br,Er)})}return""}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.PDFNetworkStream=void 0;var Ar=lr(1),cr=lr(20);const ur=200,dr=206;function hr(yr){const vr=yr.response;return typeof vr!="string"?vr:(0,Ar.stringToBytes)(vr).buffer}class fr{constructor(vr,br={}){this.url=vr,this.isHttp=/^https?:/i.test(vr),this.httpHeaders=this.isHttp&&br.httpHeaders||Object.create(null),this.withCredentials=br.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(vr,br,wr){const Cr={begin:vr,end:br};for(const Br in wr)Cr[Br]=wr[Br];return this.request(Cr)}requestFull(vr){return this.request(vr)}request(vr){const br=new XMLHttpRequest,wr=this.currXhrId++,Cr=this.pendingRequests[wr]={xhr:br};br.open("GET",this.url),br.withCredentials=this.withCredentials;for(const Br in this.httpHeaders){const Sr=this.httpHeaders[Br];Sr!==void 0&&br.setRequestHeader(Br,Sr)}return this.isHttp&&"begin"in vr&&"end"in vr?(br.setRequestHeader("Range",`bytes=${vr.begin}-${vr.end-1}`),Cr.expectedStatus=dr):Cr.expectedStatus=ur,br.responseType="arraybuffer",vr.onError&&(br.onerror=function(Br){vr.onError(br.status)}),br.onreadystatechange=this.onStateChange.bind(this,wr),br.onprogress=this.onProgress.bind(this,wr),Cr.onHeadersReceived=vr.onHeadersReceived,Cr.onDone=vr.onDone,Cr.onError=vr.onError,Cr.onProgress=vr.onProgress,br.send(null),wr}onProgress(vr,br){var Cr;const wr=this.pendingRequests[vr];wr&&((Cr=wr.onProgress)==null||Cr.call(wr,br))}onStateChange(vr,br){var Tr,kr,Or;const wr=this.pendingRequests[vr];if(!wr)return;const Cr=wr.xhr;if(Cr.readyState>=2&&wr.onHeadersReceived&&(wr.onHeadersReceived(),delete wr.onHeadersReceived),Cr.readyState!==4||!(vr in this.pendingRequests))return;if(delete this.pendingRequests[vr],Cr.status===0&&this.isHttp){(Tr=wr.onError)==null||Tr.call(wr,Cr.status);return}const Br=Cr.status||ur;if(!(Br===ur&&wr.expectedStatus===dr)&&Br!==wr.expectedStatus){(kr=wr.onError)==null||kr.call(wr,Cr.status);return}const Er=hr(Cr);if(Br===dr){const Rr=Cr.getResponseHeader("Content-Range"),Lr=/bytes (\d+)-(\d+)\/(\d+)/.exec(Rr);wr.onDone({begin:parseInt(Lr[1],10),chunk:Er})}else Er?wr.onDone({begin:0,chunk:Er}):(Or=wr.onError)==null||Or.call(wr,Cr.status)}getRequestXhr(vr){return this.pendingRequests[vr].xhr}isPendingRequest(vr){return vr in this.pendingRequests}abortRequest(vr){const br=this.pendingRequests[vr].xhr;delete this.pendingRequests[vr],br.abort()}}class gr{constructor(vr){this._source=vr,this._manager=new fr(vr.url,{httpHeaders:vr.httpHeaders,withCredentials:vr.withCredentials}),this._rangeChunkSize=vr.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(vr){const br=this._rangeRequestReaders.indexOf(vr);br>=0&&this._rangeRequestReaders.splice(br,1)}getFullReader(){return(0,Ar.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new pr(this._manager,this._source),this._fullRequestReader}getRangeReader(vr,br){const wr=new mr(this._manager,vr,br);return wr.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(wr),wr}cancelAllRequests(vr){var br;(br=this._fullRequestReader)==null||br.cancel(vr);for(const wr of this._rangeRequestReaders.slice(0))wr.cancel(vr)}}or.PDFNetworkStream=gr;class pr{constructor(vr,br){this._manager=vr;const wr={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=br.url,this._fullRequestId=vr.requestFull(wr),this._headersReceivedCapability=new Ar.PromiseCapability,this._disableRange=br.disableRange||!1,this._contentLength=br.length,this._rangeChunkSize=br.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const vr=this._fullRequestId,br=this._manager.getRequestXhr(vr),wr=Sr=>br.getResponseHeader(Sr),{allowRangeRequests:Cr,suggestedLength:Br}=(0,cr.validateRangeRequestCapabilities)({getResponseHeader:wr,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Cr&&(this._isRangeSupported=!0),this._contentLength=Br||this._contentLength,this._filename=(0,cr.extractFilenameFromHeader)(wr),this._isRangeSupported&&this._manager.abortRequest(vr),this._headersReceivedCapability.resolve()}_onDone(vr){if(vr&&(this._requests.length>0?this._requests.shift().resolve({value:vr.chunk,done:!1}):this._cachedChunks.push(vr.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const br of this._requests)br.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(vr){this._storedError=(0,cr.createResponseStatusError)(vr,this._url),this._headersReceivedCapability.reject(this._storedError);for(const br of this._requests)br.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(vr){var br;(br=this.onProgress)==null||br.call(this,{loaded:vr.loaded,total:vr.lengthComputable?vr.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const vr=new Ar.PromiseCapability;return this._requests.push(vr),vr.promise}cancel(vr){this._done=!0,this._headersReceivedCapability.reject(vr);for(const br of this._requests)br.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class mr{constructor(vr,br,wr){this._manager=vr;const Cr={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=vr.url,this._requestId=vr.requestRange(br,wr,Cr),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var vr;(vr=this.onClosed)==null||vr.call(this,this)}_onDone(vr){const br=vr.chunk;this._requests.length>0?this._requests.shift().resolve({value:br,done:!1}):this._queuedChunk=br,this._done=!0;for(const wr of this._requests)wr.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(vr){this._storedError=(0,cr.createResponseStatusError)(vr,this._url);for(const br of this._requests)br.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(vr){var br;this.isStreamingSupported||(br=this.onProgress)==null||br.call(this,{loaded:vr.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const br=this._queuedChunk;return this._queuedChunk=null,{value:br,done:!1}}if(this._done)return{value:void 0,done:!0};const vr=new Ar.PromiseCapability;return this._requests.push(vr),vr.promise}cancel(vr){this._done=!0;for(const br of this._requests)br.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.PDFNodeStream=void 0;var Ar=lr(1),cr=lr(20);const ur=/^file:\/\/\/[a-zA-Z]:\//;function dr(wr){const Cr=require$$5,Br=Cr.parse(wr);return Br.protocol==="file:"||Br.host?Br:/^[a-z]:[/\\]/i.test(wr)?Cr.parse(`file:///${wr}`):(Br.host||(Br.protocol="file:"),Br)}class hr{constructor(Cr){this.source=Cr,this.url=dr(Cr.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Cr.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Cr;return((Cr=this._fullRequestReader)==null?void 0:Cr._loaded)??0}getFullReader(){return(0,Ar.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vr(this):new mr(this),this._fullRequestReader}getRangeReader(Cr,Br){if(Br<=this._progressiveDataLength)return null;const Sr=this.isFsUrl?new br(this,Cr,Br):new yr(this,Cr,Br);return this._rangeRequestReaders.push(Sr),Sr}cancelAllRequests(Cr){var Br;(Br=this._fullRequestReader)==null||Br.cancel(Cr);for(const Sr of this._rangeRequestReaders.slice(0))Sr.cancel(Cr)}}or.PDFNodeStream=hr;class fr{constructor(Cr){this._url=Cr.url,this._done=!1,this._storedError=null,this.onProgress=null;const Br=Cr.source;this._contentLength=Br.length,this._loaded=0,this._filename=null,this._disableRange=Br.disableRange||!1,this._rangeChunkSize=Br.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Br.disableStream,this._isRangeSupported=!Br.disableRange,this._readableStream=null,this._readCapability=new Ar.PromiseCapability,this._headersCapability=new Ar.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Sr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Cr=this._readableStream.read();return Cr===null?(this._readCapability=new Ar.PromiseCapability,this.read()):(this._loaded+=Cr.length,(Sr=this.onProgress)==null||Sr.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Cr).buffer,done:!1})}cancel(Cr){if(!this._readableStream){this._error(Cr);return}this._readableStream.destroy(Cr)}_error(Cr){this._storedError=Cr,this._readCapability.resolve()}_setReadableStream(Cr){this._readableStream=Cr,Cr.on("readable",()=>{this._readCapability.resolve()}),Cr.on("end",()=>{Cr.destroy(),this._done=!0,this._readCapability.resolve()}),Cr.on("error",Br=>{this._error(Br)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ar.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class gr{constructor(Cr){this._url=Cr.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new Ar.PromiseCapability;const Br=Cr.source;this._isStreamingSupported=!Br.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Sr;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Cr=this._readableStream.read();return Cr===null?(this._readCapability=new Ar.PromiseCapability,this.read()):(this._loaded+=Cr.length,(Sr=this.onProgress)==null||Sr.call(this,{loaded:this._loaded}),{value:new Uint8Array(Cr).buffer,done:!1})}cancel(Cr){if(!this._readableStream){this._error(Cr);return}this._readableStream.destroy(Cr)}_error(Cr){this._storedError=Cr,this._readCapability.resolve()}_setReadableStream(Cr){this._readableStream=Cr,Cr.on("readable",()=>{this._readCapability.resolve()}),Cr.on("end",()=>{Cr.destroy(),this._done=!0,this._readCapability.resolve()}),Cr.on("error",Br=>{this._error(Br)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function pr(wr,Cr){return{protocol:wr.protocol,auth:wr.auth,host:wr.hostname,port:wr.port,path:wr.path,method:"GET",headers:Cr}}class mr extends fr{constructor(Cr){super(Cr);const Br=Sr=>{if(Sr.statusCode===404){const Or=new Ar.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Or,this._headersCapability.reject(Or);return}this._headersCapability.resolve(),this._setReadableStream(Sr);const Er=Or=>this._readableStream.headers[Or.toLowerCase()],{allowRangeRequests:Tr,suggestedLength:kr}=(0,cr.validateRangeRequestCapabilities)({getResponseHeader:Er,isHttp:Cr.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Tr,this._contentLength=kr||this._contentLength,this._filename=(0,cr.extractFilenameFromHeader)(Er)};if(this._request=null,this._url.protocol==="http:"){const Sr=require$$5;this._request=Sr.request(pr(this._url,Cr.httpHeaders),Br)}else{const Sr=require$$5;this._request=Sr.request(pr(this._url,Cr.httpHeaders),Br)}this._request.on("error",Sr=>{this._storedError=Sr,this._headersCapability.reject(Sr)}),this._request.end()}}class yr extends gr{constructor(Cr,Br,Sr){super(Cr),this._httpHeaders={};for(const Tr in Cr.httpHeaders){const kr=Cr.httpHeaders[Tr];kr!==void 0&&(this._httpHeaders[Tr]=kr)}this._httpHeaders.Range=`bytes=${Br}-${Sr-1}`;const Er=Tr=>{if(Tr.statusCode===404){const kr=new Ar.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=kr;return}this._setReadableStream(Tr)};if(this._request=null,this._url.protocol==="http:"){const Tr=require$$5;this._request=Tr.request(pr(this._url,this._httpHeaders),Er)}else{const Tr=require$$5;this._request=Tr.request(pr(this._url,this._httpHeaders),Er)}this._request.on("error",Tr=>{this._storedError=Tr}),this._request.end()}}class vr extends fr{constructor(Cr){super(Cr);let Br=decodeURIComponent(this._url.path);ur.test(this._url.href)&&(Br=Br.replace(/^\//,""));const Sr=require$$5;Sr.lstat(Br,(Er,Tr)=>{if(Er){Er.code==="ENOENT"&&(Er=new Ar.MissingPDFException(`Missing PDF "${Br}".`)),this._storedError=Er,this._headersCapability.reject(Er);return}this._contentLength=Tr.size,this._setReadableStream(Sr.createReadStream(Br)),this._headersCapability.resolve()})}}class br extends gr{constructor(Cr,Br,Sr){super(Cr);let Er=decodeURIComponent(this._url.path);ur.test(this._url.href)&&(Er=Er.replace(/^\//,""));const Tr=require$$5;this._setReadableStream(Tr.createReadStream(Er,{start:Br,end:Sr-1}))}}},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.SVGGraphics=void 0;var Ar=lr(6),cr=lr(1);const ur={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},dr="http://www.w3.org/XML/1998/namespace",hr="http://www.w3.org/1999/xlink",fr=["butt","round","square"],gr=["miter","round","bevel"],pr=function(Tr,kr="",Or=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Or)return URL.createObjectURL(new Blob([Tr],{type:kr}));const Rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Lr=`data:${kr};base64,`;for(let _r=0,Hr=Tr.length;_r<Hr;_r+=3){const Mr=Tr[_r]&255,Ur=Tr[_r+1]&255,Kr=Tr[_r+2]&255,Xr=Mr>>2,Yr=(Mr&3)<<4|Ur>>4,Zr=_r+1<Hr?(Ur&15)<<2|Kr>>6:64,ns=_r+2<Hr?Kr&63:64;Lr+=Rr[Xr]+Rr[Yr]+Rr[Zr]+Rr[ns]}return Lr},mr=function(){const Tr=new Uint8Array([137,80,78,71,13,10,26,10]),kr=12,Or=new Int32Array(256);for(let Kr=0;Kr<256;Kr++){let Xr=Kr;for(let Yr=0;Yr<8;Yr++)Xr=Xr&1?3988292384^Xr>>1&2147483647:Xr>>1&2147483647;Or[Kr]=Xr}function Rr(Kr,Xr,Yr){let Zr=-1;for(let ns=Xr;ns<Yr;ns++){const As=(Zr^Kr[ns])&255,is=Or[As];Zr=Zr>>>8^is}return Zr^-1}function Lr(Kr,Xr,Yr,Zr){let ns=Zr;const As=Xr.length;Yr[ns]=As>>24&255,Yr[ns+1]=As>>16&255,Yr[ns+2]=As>>8&255,Yr[ns+3]=As&255,ns+=4,Yr[ns]=Kr.charCodeAt(0)&255,Yr[ns+1]=Kr.charCodeAt(1)&255,Yr[ns+2]=Kr.charCodeAt(2)&255,Yr[ns+3]=Kr.charCodeAt(3)&255,ns+=4,Yr.set(Xr,ns),ns+=Xr.length;const is=Rr(Yr,Zr+4,ns);Yr[ns]=is>>24&255,Yr[ns+1]=is>>16&255,Yr[ns+2]=is>>8&255,Yr[ns+3]=is&255}function _r(Kr,Xr,Yr){let Zr=1,ns=0;for(let As=Xr;As<Yr;++As)Zr=(Zr+(Kr[As]&255))%65521,ns=(ns+Zr)%65521;return ns<<16|Zr}function Hr(Kr){if(!cr.isNodeJS)return Mr(Kr);try{const Xr=parseInt(process.versions.node)>=8?Kr:Buffer.from(Kr),Yr=require$$5.deflateSync(Xr,{level:9});return Yr instanceof Uint8Array?Yr:new Uint8Array(Yr)}catch(Xr){(0,cr.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Xr)}return Mr(Kr)}function Mr(Kr){let Xr=Kr.length;const Yr=65535,Zr=Math.ceil(Xr/Yr),ns=new Uint8Array(2+Xr+Zr*5+4);let As=0;ns[As++]=120,ns[As++]=156;let is=0;for(;Xr>Yr;)ns[As++]=0,ns[As++]=255,ns[As++]=255,ns[As++]=0,ns[As++]=0,ns.set(Kr.subarray(is,is+Yr),As),As+=Yr,is+=Yr,Xr-=Yr;ns[As++]=1,ns[As++]=Xr&255,ns[As++]=Xr>>8&255,ns[As++]=~Xr&65535&255,ns[As++]=(~Xr&65535)>>8&255,ns.set(Kr.subarray(is),As),As+=Kr.length-is;const gs=_r(Kr,0,Kr.length);return ns[As++]=gs>>24&255,ns[As++]=gs>>16&255,ns[As++]=gs>>8&255,ns[As++]=gs&255,ns}function Ur(Kr,Xr,Yr,Zr){const ns=Kr.width,As=Kr.height;let is,gs,Os;const Vr=Kr.data;switch(Xr){case cr.ImageKind.GRAYSCALE_1BPP:gs=0,is=1,Os=ns+7>>3;break;case cr.ImageKind.RGB_24BPP:gs=2,is=8,Os=ns*3;break;case cr.ImageKind.RGBA_32BPP:gs=6,is=8,Os=ns*4;break;default:throw new Error("invalid format")}const Qr=new Uint8Array((1+Os)*As);let $r=0,zr=0;for(let Ts=0;Ts<As;++Ts)Qr[$r++]=0,Qr.set(Vr.subarray(zr,zr+Os),$r),zr+=Os,$r+=Os;if(Xr===cr.ImageKind.GRAYSCALE_1BPP&&Zr){$r=0;for(let Ts=0;Ts<As;Ts++){$r++;for(let Ds=0;Ds<Os;Ds++)Qr[$r++]^=255}}const cs=new Uint8Array([ns>>24&255,ns>>16&255,ns>>8&255,ns&255,As>>24&255,As>>16&255,As>>8&255,As&255,is,gs,0,0,0]),Jr=Hr(Qr),ls=Tr.length+kr*3+cs.length+Jr.length,hs=new Uint8Array(ls);let bs=0;return hs.set(Tr,bs),bs+=Tr.length,Lr("IHDR",cs,hs,bs),bs+=kr+cs.length,Lr("IDATA",Jr,hs,bs),bs+=kr+Jr.length,Lr("IEND",new Uint8Array(0),hs,bs),pr(hs,"image/png",Yr)}return function(Xr,Yr,Zr){const ns=Xr.kind===void 0?cr.ImageKind.GRAYSCALE_1BPP:Xr.kind;return Ur(Xr,ns,Yr,Zr)}}();class yr{constructor(){this.fontSizeScale=1,this.fontWeight=ur.fontWeight,this.fontSize=0,this.textMatrix=cr.IDENTITY_MATRIX,this.fontMatrix=cr.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=cr.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ur.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(kr,Or){this.x=kr,this.y=Or}}function vr(Tr){let kr=[];const Or=[];for(const Rr of Tr){if(Rr.fn==="save"){kr.push({fnId:92,fn:"group",items:[]}),Or.push(kr),kr=kr.at(-1).items;continue}Rr.fn==="restore"?kr=Or.pop():kr.push(Rr)}return kr}function br(Tr){if(Number.isInteger(Tr))return Tr.toString();const kr=Tr.toFixed(10);let Or=kr.length-1;if(kr[Or]!=="0")return kr;do Or--;while(kr[Or]==="0");return kr.substring(0,kr[Or]==="."?Or:Or+1)}function wr(Tr){if(Tr[4]===0&&Tr[5]===0){if(Tr[1]===0&&Tr[2]===0)return Tr[0]===1&&Tr[3]===1?"":`scale(${br(Tr[0])} ${br(Tr[3])})`;if(Tr[0]===Tr[3]&&Tr[1]===-Tr[2]){const kr=Math.acos(Tr[0])*180/Math.PI;return`rotate(${br(kr)})`}}else if(Tr[0]===1&&Tr[1]===0&&Tr[2]===0&&Tr[3]===1)return`translate(${br(Tr[4])} ${br(Tr[5])})`;return`matrix(${br(Tr[0])} ${br(Tr[1])} ${br(Tr[2])} ${br(Tr[3])} ${br(Tr[4])} ${br(Tr[5])})`}let Cr=0,Br=0,Sr=0;class Er{constructor(kr,Or,Rr=!1){(0,Ar.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new Ar.DOMSVGFactory,this.current=new yr,this.transformMatrix=cr.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=kr,this.objs=Or,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Rr,this._operatorIdMapping=[];for(const Lr in cr.OPS)this._operatorIdMapping[cr.OPS[Lr]]=Lr}getObject(kr,Or=null){return typeof kr=="string"?kr.startsWith("g_")?this.commonObjs.get(kr):this.objs.get(kr):Or}save(){this.transformStack.push(this.transformMatrix);const kr=this.current;this.extraStack.push(kr),this.current=kr.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(kr){this.save(),this.executeOpTree(kr),this.restore()}loadDependencies(kr){const Or=kr.fnArray,Rr=kr.argsArray;for(let Lr=0,_r=Or.length;Lr<_r;Lr++)if(Or[Lr]===cr.OPS.dependency)for(const Hr of Rr[Lr]){const Mr=Hr.startsWith("g_")?this.commonObjs:this.objs,Ur=new Promise(Kr=>{Mr.get(Hr,Kr)});this.current.dependencies.push(Ur)}return Promise.all(this.current.dependencies)}transform(kr,Or,Rr,Lr,_r,Hr){const Mr=[kr,Or,Rr,Lr,_r,Hr];this.transformMatrix=cr.Util.transform(this.transformMatrix,Mr),this.tgrp=null}getSVG(kr,Or){this.viewport=Or;const Rr=this._initialize(Or);return this.loadDependencies(kr).then(()=>(this.transformMatrix=cr.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(kr)),Rr))}convertOpList(kr){const Or=this._operatorIdMapping,Rr=kr.argsArray,Lr=kr.fnArray,_r=[];for(let Hr=0,Mr=Lr.length;Hr<Mr;Hr++){const Ur=Lr[Hr];_r.push({fnId:Ur,fn:Or[Ur],args:Rr[Hr]})}return vr(_r)}executeOpTree(kr){for(const Or of kr){const Rr=Or.fn,Lr=Or.fnId,_r=Or.args;switch(Lr|0){case cr.OPS.beginText:this.beginText();break;case cr.OPS.dependency:break;case cr.OPS.setLeading:this.setLeading(_r);break;case cr.OPS.setLeadingMoveText:this.setLeadingMoveText(_r[0],_r[1]);break;case cr.OPS.setFont:this.setFont(_r);break;case cr.OPS.showText:this.showText(_r[0]);break;case cr.OPS.showSpacedText:this.showText(_r[0]);break;case cr.OPS.endText:this.endText();break;case cr.OPS.moveText:this.moveText(_r[0],_r[1]);break;case cr.OPS.setCharSpacing:this.setCharSpacing(_r[0]);break;case cr.OPS.setWordSpacing:this.setWordSpacing(_r[0]);break;case cr.OPS.setHScale:this.setHScale(_r[0]);break;case cr.OPS.setTextMatrix:this.setTextMatrix(_r[0],_r[1],_r[2],_r[3],_r[4],_r[5]);break;case cr.OPS.setTextRise:this.setTextRise(_r[0]);break;case cr.OPS.setTextRenderingMode:this.setTextRenderingMode(_r[0]);break;case cr.OPS.setLineWidth:this.setLineWidth(_r[0]);break;case cr.OPS.setLineJoin:this.setLineJoin(_r[0]);break;case cr.OPS.setLineCap:this.setLineCap(_r[0]);break;case cr.OPS.setMiterLimit:this.setMiterLimit(_r[0]);break;case cr.OPS.setFillRGBColor:this.setFillRGBColor(_r[0],_r[1],_r[2]);break;case cr.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_r[0],_r[1],_r[2]);break;case cr.OPS.setStrokeColorN:this.setStrokeColorN(_r);break;case cr.OPS.setFillColorN:this.setFillColorN(_r);break;case cr.OPS.shadingFill:this.shadingFill(_r[0]);break;case cr.OPS.setDash:this.setDash(_r[0],_r[1]);break;case cr.OPS.setRenderingIntent:this.setRenderingIntent(_r[0]);break;case cr.OPS.setFlatness:this.setFlatness(_r[0]);break;case cr.OPS.setGState:this.setGState(_r[0]);break;case cr.OPS.fill:this.fill();break;case cr.OPS.eoFill:this.eoFill();break;case cr.OPS.stroke:this.stroke();break;case cr.OPS.fillStroke:this.fillStroke();break;case cr.OPS.eoFillStroke:this.eoFillStroke();break;case cr.OPS.clip:this.clip("nonzero");break;case cr.OPS.eoClip:this.clip("evenodd");break;case cr.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case cr.OPS.paintImageXObject:this.paintImageXObject(_r[0]);break;case cr.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_r[0]);break;case cr.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_r[0]);break;case cr.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_r[0],_r[1]);break;case cr.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case cr.OPS.closePath:this.closePath();break;case cr.OPS.closeStroke:this.closeStroke();break;case cr.OPS.closeFillStroke:this.closeFillStroke();break;case cr.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case cr.OPS.nextLine:this.nextLine();break;case cr.OPS.transform:this.transform(_r[0],_r[1],_r[2],_r[3],_r[4],_r[5]);break;case cr.OPS.constructPath:this.constructPath(_r[0],_r[1]);break;case cr.OPS.endPath:this.endPath();break;case 92:this.group(Or.items);break;default:(0,cr.warn)(`Unimplemented operator ${Rr}`);break}}}setWordSpacing(kr){this.current.wordSpacing=kr}setCharSpacing(kr){this.current.charSpacing=kr}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(kr,Or,Rr,Lr,_r,Hr){const Mr=this.current;Mr.textMatrix=Mr.lineMatrix=[kr,Or,Rr,Lr,_r,Hr],Mr.textMatrixScale=Math.hypot(kr,Or),Mr.x=Mr.lineX=0,Mr.y=Mr.lineY=0,Mr.xcoords=[],Mr.ycoords=[],Mr.tspan=this.svgFactory.createElement("svg:tspan"),Mr.tspan.setAttributeNS(null,"font-family",Mr.fontFamily),Mr.tspan.setAttributeNS(null,"font-size",`${br(Mr.fontSize)}px`),Mr.tspan.setAttributeNS(null,"y",br(-Mr.y)),Mr.txtElement=this.svgFactory.createElement("svg:text"),Mr.txtElement.append(Mr.tspan)}beginText(){const kr=this.current;kr.x=kr.lineX=0,kr.y=kr.lineY=0,kr.textMatrix=cr.IDENTITY_MATRIX,kr.lineMatrix=cr.IDENTITY_MATRIX,kr.textMatrixScale=1,kr.tspan=this.svgFactory.createElement("svg:tspan"),kr.txtElement=this.svgFactory.createElement("svg:text"),kr.txtgrp=this.svgFactory.createElement("svg:g"),kr.xcoords=[],kr.ycoords=[]}moveText(kr,Or){const Rr=this.current;Rr.x=Rr.lineX+=kr,Rr.y=Rr.lineY+=Or,Rr.xcoords=[],Rr.ycoords=[],Rr.tspan=this.svgFactory.createElement("svg:tspan"),Rr.tspan.setAttributeNS(null,"font-family",Rr.fontFamily),Rr.tspan.setAttributeNS(null,"font-size",`${br(Rr.fontSize)}px`),Rr.tspan.setAttributeNS(null,"y",br(-Rr.y))}showText(kr){const Or=this.current,Rr=Or.font,Lr=Or.fontSize;if(Lr===0)return;const _r=Or.fontSizeScale,Hr=Or.charSpacing,Mr=Or.wordSpacing,Ur=Or.fontDirection,Kr=Or.textHScale*Ur,Xr=Rr.vertical,Yr=Xr?1:-1,Zr=Rr.defaultVMetrics,ns=Lr*Or.fontMatrix[0];let As=0;for(const Os of kr){if(Os===null){As+=Ur*Mr;continue}else if(typeof Os=="number"){As+=Yr*Os*Lr/1e3;continue}const Vr=(Os.isSpace?Mr:0)+Hr,Qr=Os.fontChar;let $r,zr,cs=Os.width;if(Xr){let ls;const hs=Os.vmetric||Zr;ls=Os.vmetric?hs[1]:cs*.5,ls=-ls*ns;const bs=hs[2]*ns;cs=hs?-hs[0]:cs,$r=ls/_r,zr=(As+bs)/_r}else $r=As/_r,zr=0;(Os.isInFont||Rr.missingFile)&&(Or.xcoords.push(Or.x+$r),Xr&&Or.ycoords.push(-Or.y+zr),Or.tspan.textContent+=Qr);const Jr=Xr?cs*ns-Vr*Ur:cs*ns+Vr*Ur;As+=Jr}Or.tspan.setAttributeNS(null,"x",Or.xcoords.map(br).join(" ")),Xr?Or.tspan.setAttributeNS(null,"y",Or.ycoords.map(br).join(" ")):Or.tspan.setAttributeNS(null,"y",br(-Or.y)),Xr?Or.y-=As:Or.x+=As*Kr,Or.tspan.setAttributeNS(null,"font-family",Or.fontFamily),Or.tspan.setAttributeNS(null,"font-size",`${br(Or.fontSize)}px`),Or.fontStyle!==ur.fontStyle&&Or.tspan.setAttributeNS(null,"font-style",Or.fontStyle),Or.fontWeight!==ur.fontWeight&&Or.tspan.setAttributeNS(null,"font-weight",Or.fontWeight);const is=Or.textRenderingMode&cr.TextRenderingMode.FILL_STROKE_MASK;if(is===cr.TextRenderingMode.FILL||is===cr.TextRenderingMode.FILL_STROKE?(Or.fillColor!==ur.fillColor&&Or.tspan.setAttributeNS(null,"fill",Or.fillColor),Or.fillAlpha<1&&Or.tspan.setAttributeNS(null,"fill-opacity",Or.fillAlpha)):Or.textRenderingMode===cr.TextRenderingMode.ADD_TO_PATH?Or.tspan.setAttributeNS(null,"fill","transparent"):Or.tspan.setAttributeNS(null,"fill","none"),is===cr.TextRenderingMode.STROKE||is===cr.TextRenderingMode.FILL_STROKE){const Os=1/(Or.textMatrixScale||1);this._setStrokeAttributes(Or.tspan,Os)}let gs=Or.textMatrix;Or.textRise!==0&&(gs=gs.slice(),gs[5]+=Or.textRise),Or.txtElement.setAttributeNS(null,"transform",`${wr(gs)} scale(${br(Kr)}, -1)`),Or.txtElement.setAttributeNS(dr,"xml:space","preserve"),Or.txtElement.append(Or.tspan),Or.txtgrp.append(Or.txtElement),this._ensureTransformGroup().append(Or.txtElement)}setLeadingMoveText(kr,Or){this.setLeading(-Or),this.moveText(kr,Or)}addFontStyle(kr){if(!kr.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Or=pr(kr.data,kr.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${kr.loadedName}"; src: url(${Or}); }
`}setFont(kr){const Or=this.current,Rr=this.commonObjs.get(kr[0]);let Lr=kr[1];Or.font=Rr,this.embedFonts&&!Rr.missingFile&&!this.embeddedFonts[Rr.loadedName]&&(this.addFontStyle(Rr),this.embeddedFonts[Rr.loadedName]=Rr),Or.fontMatrix=Rr.fontMatrix||cr.FONT_IDENTITY_MATRIX;let _r="normal";Rr.black?_r="900":Rr.bold&&(_r="bold");const Hr=Rr.italic?"italic":"normal";Lr<0?(Lr=-Lr,Or.fontDirection=-1):Or.fontDirection=1,Or.fontSize=Lr,Or.fontFamily=Rr.loadedName,Or.fontWeight=_r,Or.fontStyle=Hr,Or.tspan=this.svgFactory.createElement("svg:tspan"),Or.tspan.setAttributeNS(null,"y",br(-Or.y)),Or.xcoords=[],Or.ycoords=[]}endText(){var Or;const kr=this.current;kr.textRenderingMode&cr.TextRenderingMode.ADD_TO_PATH_FLAG&&((Or=kr.txtElement)!=null&&Or.hasChildNodes())&&(kr.element=kr.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(kr){kr>0&&(this.current.lineWidth=kr)}setLineCap(kr){this.current.lineCap=fr[kr]}setLineJoin(kr){this.current.lineJoin=gr[kr]}setMiterLimit(kr){this.current.miterLimit=kr}setStrokeAlpha(kr){this.current.strokeAlpha=kr}setStrokeRGBColor(kr,Or,Rr){this.current.strokeColor=cr.Util.makeHexColor(kr,Or,Rr)}setFillAlpha(kr){this.current.fillAlpha=kr}setFillRGBColor(kr,Or,Rr){this.current.fillColor=cr.Util.makeHexColor(kr,Or,Rr),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(kr){this.current.strokeColor=this._makeColorN_Pattern(kr)}setFillColorN(kr){this.current.fillColor=this._makeColorN_Pattern(kr)}shadingFill(kr){const{width:Or,height:Rr}=this.viewport,Lr=cr.Util.inverseTransform(this.transformMatrix),[_r,Hr,Mr,Ur]=cr.Util.getAxialAlignedBoundingBox([0,0,Or,Rr],Lr),Kr=this.svgFactory.createElement("svg:rect");Kr.setAttributeNS(null,"x",_r),Kr.setAttributeNS(null,"y",Hr),Kr.setAttributeNS(null,"width",Mr-_r),Kr.setAttributeNS(null,"height",Ur-Hr),Kr.setAttributeNS(null,"fill",this._makeShadingPattern(kr)),this.current.fillAlpha<1&&Kr.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Kr)}_makeColorN_Pattern(kr){return kr[0]==="TilingPattern"?this._makeTilingPattern(kr):this._makeShadingPattern(kr)}_makeTilingPattern(kr){const Or=kr[1],Rr=kr[2],Lr=kr[3]||cr.IDENTITY_MATRIX,[_r,Hr,Mr,Ur]=kr[4],Kr=kr[5],Xr=kr[6],Yr=kr[7],Zr=`shading${Sr++}`,[ns,As,is,gs]=cr.Util.normalizeRect([...cr.Util.applyTransform([_r,Hr],Lr),...cr.Util.applyTransform([Mr,Ur],Lr)]),[Os,Vr]=cr.Util.singularValueDecompose2dScale(Lr),Qr=Kr*Os,$r=Xr*Vr,zr=this.svgFactory.createElement("svg:pattern");zr.setAttributeNS(null,"id",Zr),zr.setAttributeNS(null,"patternUnits","userSpaceOnUse"),zr.setAttributeNS(null,"width",Qr),zr.setAttributeNS(null,"height",$r),zr.setAttributeNS(null,"x",`${ns}`),zr.setAttributeNS(null,"y",`${As}`);const cs=this.svg,Jr=this.transformMatrix,ls=this.current.fillColor,hs=this.current.strokeColor,bs=this.svgFactory.create(is-ns,gs-As);if(this.svg=bs,this.transformMatrix=Lr,Yr===2){const Ts=cr.Util.makeHexColor(...Or);this.current.fillColor=Ts,this.current.strokeColor=Ts}return this.executeOpTree(this.convertOpList(Rr)),this.svg=cs,this.transformMatrix=Jr,this.current.fillColor=ls,this.current.strokeColor=hs,zr.append(bs.childNodes[0]),this.defs.append(zr),`url(#${Zr})`}_makeShadingPattern(kr){switch(typeof kr=="string"&&(kr=this.objs.get(kr)),kr[0]){case"RadialAxial":const Or=`shading${Sr++}`,Rr=kr[3];let Lr;switch(kr[1]){case"axial":const _r=kr[4],Hr=kr[5];Lr=this.svgFactory.createElement("svg:linearGradient"),Lr.setAttributeNS(null,"id",Or),Lr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Lr.setAttributeNS(null,"x1",_r[0]),Lr.setAttributeNS(null,"y1",_r[1]),Lr.setAttributeNS(null,"x2",Hr[0]),Lr.setAttributeNS(null,"y2",Hr[1]);break;case"radial":const Mr=kr[4],Ur=kr[5],Kr=kr[6],Xr=kr[7];Lr=this.svgFactory.createElement("svg:radialGradient"),Lr.setAttributeNS(null,"id",Or),Lr.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Lr.setAttributeNS(null,"cx",Ur[0]),Lr.setAttributeNS(null,"cy",Ur[1]),Lr.setAttributeNS(null,"r",Xr),Lr.setAttributeNS(null,"fx",Mr[0]),Lr.setAttributeNS(null,"fy",Mr[1]),Lr.setAttributeNS(null,"fr",Kr);break;default:throw new Error(`Unknown RadialAxial type: ${kr[1]}`)}for(const _r of Rr){const Hr=this.svgFactory.createElement("svg:stop");Hr.setAttributeNS(null,"offset",_r[0]),Hr.setAttributeNS(null,"stop-color",_r[1]),Lr.append(Hr)}return this.defs.append(Lr),`url(#${Or})`;case"Mesh":return(0,cr.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${kr[0]}`)}}setDash(kr,Or){this.current.dashArray=kr,this.current.dashPhase=Or}constructPath(kr,Or){const Rr=this.current;let Lr=Rr.x,_r=Rr.y,Hr=[],Mr=0;for(const Ur of kr)switch(Ur|0){case cr.OPS.rectangle:Lr=Or[Mr++],_r=Or[Mr++];const Kr=Or[Mr++],Xr=Or[Mr++],Yr=Lr+Kr,Zr=_r+Xr;Hr.push("M",br(Lr),br(_r),"L",br(Yr),br(_r),"L",br(Yr),br(Zr),"L",br(Lr),br(Zr),"Z");break;case cr.OPS.moveTo:Lr=Or[Mr++],_r=Or[Mr++],Hr.push("M",br(Lr),br(_r));break;case cr.OPS.lineTo:Lr=Or[Mr++],_r=Or[Mr++],Hr.push("L",br(Lr),br(_r));break;case cr.OPS.curveTo:Lr=Or[Mr+4],_r=Or[Mr+5],Hr.push("C",br(Or[Mr]),br(Or[Mr+1]),br(Or[Mr+2]),br(Or[Mr+3]),br(Lr),br(_r)),Mr+=6;break;case cr.OPS.curveTo2:Hr.push("C",br(Lr),br(_r),br(Or[Mr]),br(Or[Mr+1]),br(Or[Mr+2]),br(Or[Mr+3])),Lr=Or[Mr+2],_r=Or[Mr+3],Mr+=4;break;case cr.OPS.curveTo3:Lr=Or[Mr+2],_r=Or[Mr+3],Hr.push("C",br(Or[Mr]),br(Or[Mr+1]),br(Lr),br(_r),br(Lr),br(_r)),Mr+=4;break;case cr.OPS.closePath:Hr.push("Z");break}Hr=Hr.join(" "),Rr.path&&kr.length>0&&kr[0]!==cr.OPS.rectangle&&kr[0]!==cr.OPS.moveTo?Hr=Rr.path.getAttributeNS(null,"d")+Hr:(Rr.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Rr.path)),Rr.path.setAttributeNS(null,"d",Hr),Rr.path.setAttributeNS(null,"fill","none"),Rr.element=Rr.path,Rr.setCurrentPoint(Lr,_r)}endPath(){const kr=this.current;if(kr.path=null,!this.pendingClip)return;if(!kr.element){this.pendingClip=null;return}const Or=`clippath${Cr++}`,Rr=this.svgFactory.createElement("svg:clipPath");Rr.setAttributeNS(null,"id",Or),Rr.setAttributeNS(null,"transform",wr(this.transformMatrix));const Lr=kr.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Lr.setAttributeNS(null,"clip-rule","evenodd"):Lr.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Rr.append(Lr),this.defs.append(Rr),kr.activeClipUrl){kr.clipGroup=null;for(const _r of this.extraStack)_r.clipGroup=null;Rr.setAttributeNS(null,"clip-path",kr.activeClipUrl)}kr.activeClipUrl=`url(#${Or})`,this.tgrp=null}clip(kr){this.pendingClip=kr}closePath(){const kr=this.current;if(kr.path){const Or=`${kr.path.getAttributeNS(null,"d")}Z`;kr.path.setAttributeNS(null,"d",Or)}}setLeading(kr){this.current.leading=-kr}setTextRise(kr){this.current.textRise=kr}setTextRenderingMode(kr){this.current.textRenderingMode=kr}setHScale(kr){this.current.textHScale=kr/100}setRenderingIntent(kr){}setFlatness(kr){}setGState(kr){for(const[Or,Rr]of kr)switch(Or){case"LW":this.setLineWidth(Rr);break;case"LC":this.setLineCap(Rr);break;case"LJ":this.setLineJoin(Rr);break;case"ML":this.setMiterLimit(Rr);break;case"D":this.setDash(Rr[0],Rr[1]);break;case"RI":this.setRenderingIntent(Rr);break;case"FL":this.setFlatness(Rr);break;case"Font":this.setFont(Rr);break;case"CA":this.setStrokeAlpha(Rr);break;case"ca":this.setFillAlpha(Rr);break;default:(0,cr.warn)(`Unimplemented graphic state operator ${Or}`);break}}fill(){const kr=this.current;kr.element&&(kr.element.setAttributeNS(null,"fill",kr.fillColor),kr.element.setAttributeNS(null,"fill-opacity",kr.fillAlpha),this.endPath())}stroke(){const kr=this.current;kr.element&&(this._setStrokeAttributes(kr.element),kr.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(kr,Or=1){const Rr=this.current;let Lr=Rr.dashArray;Or!==1&&Lr.length>0&&(Lr=Lr.map(function(_r){return Or*_r})),kr.setAttributeNS(null,"stroke",Rr.strokeColor),kr.setAttributeNS(null,"stroke-opacity",Rr.strokeAlpha),kr.setAttributeNS(null,"stroke-miterlimit",br(Rr.miterLimit)),kr.setAttributeNS(null,"stroke-linecap",Rr.lineCap),kr.setAttributeNS(null,"stroke-linejoin",Rr.lineJoin),kr.setAttributeNS(null,"stroke-width",br(Or*Rr.lineWidth)+"px"),kr.setAttributeNS(null,"stroke-dasharray",Lr.map(br).join(" ")),kr.setAttributeNS(null,"stroke-dashoffset",br(Or*Rr.dashPhase)+"px")}eoFill(){var kr;(kr=this.current.element)==null||kr.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var kr;(kr=this.current.element)==null||kr.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const kr=this.svgFactory.createElement("svg:rect");kr.setAttributeNS(null,"x","0"),kr.setAttributeNS(null,"y","0"),kr.setAttributeNS(null,"width","1px"),kr.setAttributeNS(null,"height","1px"),kr.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(kr)}paintImageXObject(kr){const Or=this.getObject(kr);if(!Or){(0,cr.warn)(`Dependent image with object ID ${kr} is not ready yet`);return}this.paintInlineImageXObject(Or)}paintInlineImageXObject(kr,Or){const Rr=kr.width,Lr=kr.height,_r=mr(kr,this.forceDataSchema,!!Or),Hr=this.svgFactory.createElement("svg:rect");Hr.setAttributeNS(null,"x","0"),Hr.setAttributeNS(null,"y","0"),Hr.setAttributeNS(null,"width",br(Rr)),Hr.setAttributeNS(null,"height",br(Lr)),this.current.element=Hr,this.clip("nonzero");const Mr=this.svgFactory.createElement("svg:image");Mr.setAttributeNS(hr,"xlink:href",_r),Mr.setAttributeNS(null,"x","0"),Mr.setAttributeNS(null,"y",br(-Lr)),Mr.setAttributeNS(null,"width",br(Rr)+"px"),Mr.setAttributeNS(null,"height",br(Lr)+"px"),Mr.setAttributeNS(null,"transform",`scale(${br(1/Rr)} ${br(-1/Lr)})`),Or?Or.append(Mr):this._ensureTransformGroup().append(Mr)}paintImageMaskXObject(kr){const Or=this.getObject(kr.data,kr);if(Or.bitmap){(0,cr.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Rr=this.current,Lr=Or.width,_r=Or.height,Hr=Rr.fillColor;Rr.maskId=`mask${Br++}`;const Mr=this.svgFactory.createElement("svg:mask");Mr.setAttributeNS(null,"id",Rr.maskId);const Ur=this.svgFactory.createElement("svg:rect");Ur.setAttributeNS(null,"x","0"),Ur.setAttributeNS(null,"y","0"),Ur.setAttributeNS(null,"width",br(Lr)),Ur.setAttributeNS(null,"height",br(_r)),Ur.setAttributeNS(null,"fill",Hr),Ur.setAttributeNS(null,"mask",`url(#${Rr.maskId})`),this.defs.append(Mr),this._ensureTransformGroup().append(Ur),this.paintInlineImageXObject(Or,Mr)}paintFormXObjectBegin(kr,Or){if(Array.isArray(kr)&&kr.length===6&&this.transform(kr[0],kr[1],kr[2],kr[3],kr[4],kr[5]),Or){const Rr=Or[2]-Or[0],Lr=Or[3]-Or[1],_r=this.svgFactory.createElement("svg:rect");_r.setAttributeNS(null,"x",Or[0]),_r.setAttributeNS(null,"y",Or[1]),_r.setAttributeNS(null,"width",br(Rr)),_r.setAttributeNS(null,"height",br(Lr)),this.current.element=_r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(kr){const Or=this.svgFactory.create(kr.width,kr.height),Rr=this.svgFactory.createElement("svg:defs");Or.append(Rr),this.defs=Rr;const Lr=this.svgFactory.createElement("svg:g");return Lr.setAttributeNS(null,"transform",wr(kr.transform)),Or.append(Lr),this.svg=Lr,Or}_ensureClipGroup(){if(!this.current.clipGroup){const kr=this.svgFactory.createElement("svg:g");kr.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(kr),this.current.clipGroup=kr}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",wr(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}or.SVGGraphics=Er},(ar,or)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.XfaText=void 0;class lr{static textContent(cr){const ur=[],dr={items:ur,styles:Object.create(null)};function hr(fr){var mr;if(!fr)return;let gr=null;const pr=fr.name;if(pr==="#text")gr=fr.value;else if(lr.shouldBuildText(pr))(mr=fr==null?void 0:fr.attributes)!=null&&mr.textContent?gr=fr.attributes.textContent:fr.value&&(gr=fr.value);else return;if(gr!==null&&ur.push({str:gr}),!!fr.children)for(const yr of fr.children)hr(yr)}return hr(cr),dr}static shouldBuildText(cr){return!(cr==="textarea"||cr==="input"||cr==="option"||cr==="select")}}or.XfaText=lr},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.TextLayerRenderTask=void 0,or.renderTextLayer=wr,or.updateTextLayer=Cr;var Ar=lr(1),cr=lr(6);const ur=1e5,dr=30,hr=.8,fr=new Map;function gr(Br,Sr){let Er;if(Sr&&Ar.FeatureTest.isOffscreenCanvasSupported)Er=new OffscreenCanvas(Br,Br).getContext("2d",{alpha:!1});else{const Tr=document.createElement("canvas");Tr.width=Tr.height=Br,Er=Tr.getContext("2d",{alpha:!1})}return Er}function pr(Br,Sr){const Er=fr.get(Br);if(Er)return Er;const Tr=gr(dr,Sr);Tr.font=`${dr}px ${Br}`;const kr=Tr.measureText("");let Or=kr.fontBoundingBoxAscent,Rr=Math.abs(kr.fontBoundingBoxDescent);if(Or){const _r=Or/(Or+Rr);return fr.set(Br,_r),Tr.canvas.width=Tr.canvas.height=0,_r}Tr.strokeStyle="red",Tr.clearRect(0,0,dr,dr),Tr.strokeText("g",0,0);let Lr=Tr.getImageData(0,0,dr,dr).data;Rr=0;for(let _r=Lr.length-1-3;_r>=0;_r-=4)if(Lr[_r]>0){Rr=Math.ceil(_r/4/dr);break}Tr.clearRect(0,0,dr,dr),Tr.strokeText("A",0,dr),Lr=Tr.getImageData(0,0,dr,dr).data,Or=0;for(let _r=0,Hr=Lr.length;_r<Hr;_r+=4)if(Lr[_r]>0){Or=dr-Math.floor(_r/4/dr);break}if(Tr.canvas.width=Tr.canvas.height=0,Or){const _r=Or/(Or+Rr);return fr.set(Br,_r),_r}return fr.set(Br,hr),hr}function mr(Br,Sr,Er){const Tr=document.createElement("span"),kr={angle:0,canvasWidth:0,hasText:Sr.str!=="",hasEOL:Sr.hasEOL,fontSize:0};Br._textDivs.push(Tr);const Or=Ar.Util.transform(Br._transform,Sr.transform);let Rr=Math.atan2(Or[1],Or[0]);const Lr=Er[Sr.fontName];Lr.vertical&&(Rr+=Math.PI/2);const _r=Math.hypot(Or[2],Or[3]),Hr=_r*pr(Lr.fontFamily,Br._isOffscreenCanvasSupported);let Mr,Ur;Rr===0?(Mr=Or[4],Ur=Or[5]-Hr):(Mr=Or[4]+Hr*Math.sin(Rr),Ur=Or[5]-Hr*Math.cos(Rr));const Kr="calc(var(--scale-factor)*",Xr=Tr.style;Br._container===Br._rootContainer?(Xr.left=`${(100*Mr/Br._pageWidth).toFixed(2)}%`,Xr.top=`${(100*Ur/Br._pageHeight).toFixed(2)}%`):(Xr.left=`${Kr}${Mr.toFixed(2)}px)`,Xr.top=`${Kr}${Ur.toFixed(2)}px)`),Xr.fontSize=`${Kr}${_r.toFixed(2)}px)`,Xr.fontFamily=Lr.fontFamily,kr.fontSize=_r,Tr.setAttribute("role","presentation"),Tr.textContent=Sr.str,Tr.dir=Sr.dir,Br._fontInspectorEnabled&&(Tr.dataset.fontName=Sr.fontName),Rr!==0&&(kr.angle=Rr*(180/Math.PI));let Yr=!1;if(Sr.str.length>1)Yr=!0;else if(Sr.str!==" "&&Sr.transform[0]!==Sr.transform[3]){const Zr=Math.abs(Sr.transform[0]),ns=Math.abs(Sr.transform[3]);Zr!==ns&&Math.max(Zr,ns)/Math.min(Zr,ns)>1.5&&(Yr=!0)}Yr&&(kr.canvasWidth=Lr.vertical?Sr.height:Sr.width),Br._textDivProperties.set(Tr,kr),Br._isReadableStream&&Br._layoutText(Tr)}function yr(Br){const{div:Sr,scale:Er,properties:Tr,ctx:kr,prevFontSize:Or,prevFontFamily:Rr}=Br,{style:Lr}=Sr;let _r="";if(Tr.canvasWidth!==0&&Tr.hasText){const{fontFamily:Hr}=Lr,{canvasWidth:Mr,fontSize:Ur}=Tr;(Or!==Ur||Rr!==Hr)&&(kr.font=`${Ur*Er}px ${Hr}`,Br.prevFontSize=Ur,Br.prevFontFamily=Hr);const{width:Kr}=kr.measureText(Sr.textContent);Kr>0&&(_r=`scaleX(${Mr*Er/Kr})`)}Tr.angle!==0&&(_r=`rotate(${Tr.angle}deg) ${_r}`),_r.length>0&&(Lr.transform=_r)}function vr(Br){if(Br._canceled)return;const Sr=Br._textDivs,Er=Br._capability;if(Sr.length>ur){Er.resolve();return}if(!Br._isReadableStream)for(const kr of Sr)Br._layoutText(kr);Er.resolve()}class br{constructor({textContentSource:Sr,container:Er,viewport:Tr,textDivs:kr,textDivProperties:Or,textContentItemsStr:Rr,isOffscreenCanvasSupported:Lr}){var Kr;this._textContentSource=Sr,this._isReadableStream=Sr instanceof ReadableStream,this._container=this._rootContainer=Er,this._textDivs=kr||[],this._textContentItemsStr=Rr||[],this._isOffscreenCanvasSupported=Lr,this._fontInspectorEnabled=!!((Kr=globalThis.FontInspector)!=null&&Kr.enabled),this._reader=null,this._textDivProperties=Or||new WeakMap,this._canceled=!1,this._capability=new Ar.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Tr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gr(0,Lr)};const{pageWidth:_r,pageHeight:Hr,pageX:Mr,pageY:Ur}=Tr.rawDims;this._transform=[1,0,0,-1,-Mr,Ur+Hr],this._pageWidth=_r,this._pageHeight=Hr,(0,cr.setLayerDimensions)(Er,Tr),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new Ar.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new Ar.AbortException("TextLayer task cancelled."))}_processItems(Sr,Er){for(const Tr of Sr){if(Tr.str===void 0){if(Tr.type==="beginMarkedContentProps"||Tr.type==="beginMarkedContent"){const kr=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Tr.id!==null&&this._container.setAttribute("id",`${Tr.id}`),kr.append(this._container)}else Tr.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Tr.str),mr(this,Tr,Er)}}_layoutText(Sr){const Er=this._layoutTextParams.properties=this._textDivProperties.get(Sr);if(this._layoutTextParams.div=Sr,yr(this._layoutTextParams),Er.hasText&&this._container.append(Sr),Er.hasEOL){const Tr=document.createElement("br");Tr.setAttribute("role","presentation"),this._container.append(Tr)}}_render(){const Sr=new Ar.PromiseCapability;let Er=Object.create(null);if(this._isReadableStream){const Tr=()=>{this._reader.read().then(({value:kr,done:Or})=>{if(Or){Sr.resolve();return}Object.assign(Er,kr.styles),this._processItems(kr.items,Er),Tr()},Sr.reject)};this._reader=this._textContentSource.getReader(),Tr()}else if(this._textContentSource){const{items:Tr,styles:kr}=this._textContentSource;this._processItems(Tr,kr),Sr.resolve()}else throw new Error('No "textContentSource" parameter specified.');Sr.promise.then(()=>{Er=null,vr(this)},this._capability.reject)}}or.TextLayerRenderTask=br;function wr(Br){!Br.textContentSource&&(Br.textContent||Br.textContentStream)&&((0,cr.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Br.textContentSource=Br.textContent||Br.textContentStream);const{container:Sr,viewport:Er}=Br,Tr=getComputedStyle(Sr),kr=Tr.getPropertyValue("visibility"),Or=parseFloat(Tr.getPropertyValue("--scale-factor"));kr==="visible"&&(!Or||Math.abs(Or-Er.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Rr=new br(Br);return Rr._render(),Rr}function Cr({container:Br,viewport:Sr,textDivs:Er,textDivProperties:Tr,isOffscreenCanvasSupported:kr,mustRotate:Or=!0,mustRescale:Rr=!0}){if(Or&&(0,cr.setLayerDimensions)(Br,{rotation:Sr.rotation}),Rr){const Lr=gr(0,kr),Hr={prevFontSize:null,prevFontFamily:null,div:null,scale:Sr.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Lr};for(const Mr of Er)Hr.properties=Tr.get(Mr),Hr.div=Mr,yr(Hr)}}},(ar,or,lr)=>{var pr,mr,yr,vr,br,wr,Cr,Br,Sr,Er,Tr,oh,$d,ah,lh;Object.defineProperty(or,"__esModule",{value:!0}),or.AnnotationEditorLayer=void 0;var Ar=lr(1),cr=lr(4),ur=lr(28),dr=lr(33),hr=lr(6),fr=lr(34);const _r=class _r{constructor({uiManager:Mr,pageIndex:Ur,div:Kr,accessibilityManager:Xr,annotationLayer:Yr,viewport:Zr,l10n:ns}){ci(this,Tr);ci(this,pr);ci(this,mr,!1);ci(this,yr,null);ci(this,vr,this.pointerup.bind(this));ci(this,br,this.pointerdown.bind(this));ci(this,wr,new Map);ci(this,Cr,!1);ci(this,Br,!1);ci(this,Sr,!1);ci(this,Er);const As=[ur.FreeTextEditor,dr.InkEditor,fr.StampEditor];if(!_r._initialized){_r._initialized=!0;for(const is of As)is.initialize(ns)}Mr.registerEditorTypes(As),di(this,Er,Mr),this.pageIndex=Ur,this.div=Kr,di(this,pr,Xr),di(this,yr,Yr),this.viewport=Zr,qr(this,Er).addLayer(this)}get isEmpty(){return qr(this,wr).size===0}updateToolbar(Mr){qr(this,Er).updateToolbar(Mr)}updateMode(Mr=qr(this,Er).getMode()){ei(this,Tr,lh).call(this),Mr===Ar.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Mr!==Ar.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Mr===Ar.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Mr===Ar.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Mr===Ar.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Mr){if(!Mr&&qr(this,Er).getMode()!==Ar.AnnotationEditorType.INK)return;if(!Mr){for(const Kr of qr(this,wr).values())if(Kr.isEmpty()){Kr.setInBackground();return}}ei(this,Tr,$d).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Mr){qr(this,Er).setEditingState(Mr)}addCommands(Mr){qr(this,Er).addCommands(Mr)}enable(){this.div.style.pointerEvents="auto";const Mr=new Set;for(const Kr of qr(this,wr).values())Kr.enableEditing(),Kr.annotationElementId&&Mr.add(Kr.annotationElementId);if(!qr(this,yr))return;const Ur=qr(this,yr).getEditableAnnotations();for(const Kr of Ur){if(Kr.hide(),qr(this,Er).isDeletedAnnotationElement(Kr.data.id)||Mr.has(Kr.data.id))continue;const Xr=this.deserialize(Kr);Xr&&(this.addOrRebuild(Xr),Xr.enableEditing())}}disable(){var Ur;di(this,Sr,!0),this.div.style.pointerEvents="none";const Mr=new Set;for(const Kr of qr(this,wr).values()){if(Kr.disableEditing(),!Kr.annotationElementId||Kr.serialize()!==null){Mr.add(Kr.annotationElementId);continue}(Ur=this.getEditableAnnotation(Kr.annotationElementId))==null||Ur.show(),Kr.remove()}if(qr(this,yr)){const Kr=qr(this,yr).getEditableAnnotations();for(const Xr of Kr){const{id:Yr}=Xr.data;Mr.has(Yr)||qr(this,Er).isDeletedAnnotationElement(Yr)||Xr.show()}}ei(this,Tr,lh).call(this),this.isEmpty&&(this.div.hidden=!0),di(this,Sr,!1)}getEditableAnnotation(Mr){var Ur;return((Ur=qr(this,yr))==null?void 0:Ur.getEditableAnnotation(Mr))||null}setActiveEditor(Mr){qr(this,Er).getActive()!==Mr&&qr(this,Er).setActiveEditor(Mr)}enableClick(){this.div.addEventListener("pointerdown",qr(this,br)),this.div.addEventListener("pointerup",qr(this,vr))}disableClick(){this.div.removeEventListener("pointerdown",qr(this,br)),this.div.removeEventListener("pointerup",qr(this,vr))}attach(Mr){qr(this,wr).set(Mr.id,Mr);const{annotationElementId:Ur}=Mr;Ur&&qr(this,Er).isDeletedAnnotationElement(Ur)&&qr(this,Er).removeDeletedAnnotationElement(Mr)}detach(Mr){var Ur;qr(this,wr).delete(Mr.id),(Ur=qr(this,pr))==null||Ur.removePointerInTextLayer(Mr.contentDiv),!qr(this,Sr)&&Mr.annotationElementId&&qr(this,Er).addDeletedAnnotationElement(Mr)}remove(Mr){this.detach(Mr),qr(this,Er).removeEditor(Mr),Mr.div.contains(document.activeElement)&&setTimeout(()=>{qr(this,Er).focusMainContainer()},0),Mr.div.remove(),Mr.isAttachedToDOM=!1,qr(this,Br)||this.addInkEditorIfNeeded(!1)}changeParent(Mr){var Ur;Mr.parent!==this&&(Mr.annotationElementId&&(qr(this,Er).addDeletedAnnotationElement(Mr.annotationElementId),cr.AnnotationEditor.deleteAnnotationElement(Mr),Mr.annotationElementId=null),this.attach(Mr),(Ur=Mr.parent)==null||Ur.detach(Mr),Mr.setParent(this),Mr.div&&Mr.isAttachedToDOM&&(Mr.div.remove(),this.div.append(Mr.div)))}add(Mr){if(this.changeParent(Mr),qr(this,Er).addEditor(Mr),this.attach(Mr),!Mr.isAttachedToDOM){const Ur=Mr.render();this.div.append(Ur),Mr.isAttachedToDOM=!0}Mr.fixAndSetPosition(),Mr.onceAdded(),qr(this,Er).addToAnnotationStorage(Mr)}moveEditorInDOM(Mr){var Kr;if(!Mr.isAttachedToDOM)return;const{activeElement:Ur}=document;Mr.div.contains(Ur)&&(Mr._focusEventsAllowed=!1,setTimeout(()=>{Mr.div.contains(document.activeElement)?Mr._focusEventsAllowed=!0:(Mr.div.addEventListener("focusin",()=>{Mr._focusEventsAllowed=!0},{once:!0}),Ur.focus())},0)),Mr._structTreeParentId=(Kr=qr(this,pr))==null?void 0:Kr.moveElementInDOM(this.div,Mr.div,Mr.contentDiv,!0)}addOrRebuild(Mr){Mr.needsToBeRebuilt()?Mr.rebuild():this.add(Mr)}addUndoableEditor(Mr){const Ur=()=>Mr._uiManager.rebuild(Mr),Kr=()=>{Mr.remove()};this.addCommands({cmd:Ur,undo:Kr,mustExec:!1})}getNextId(){return qr(this,Er).getId()}pasteEditor(Mr,Ur){qr(this,Er).updateToolbar(Mr),qr(this,Er).updateMode(Mr);const{offsetX:Kr,offsetY:Xr}=ei(this,Tr,ah).call(this),Yr=this.getNextId(),Zr=ei(this,Tr,oh).call(this,{parent:this,id:Yr,x:Kr,y:Xr,uiManager:qr(this,Er),isCentered:!0,...Ur});Zr&&this.add(Zr)}deserialize(Mr){switch(Mr.annotationType??Mr.annotationEditorType){case Ar.AnnotationEditorType.FREETEXT:return ur.FreeTextEditor.deserialize(Mr,this,qr(this,Er));case Ar.AnnotationEditorType.INK:return dr.InkEditor.deserialize(Mr,this,qr(this,Er));case Ar.AnnotationEditorType.STAMP:return fr.StampEditor.deserialize(Mr,this,qr(this,Er))}return null}addNewEditor(){ei(this,Tr,$d).call(this,ei(this,Tr,ah).call(this),!0)}setSelected(Mr){qr(this,Er).setSelected(Mr)}toggleSelected(Mr){qr(this,Er).toggleSelected(Mr)}isSelected(Mr){return qr(this,Er).isSelected(Mr)}unselect(Mr){qr(this,Er).unselect(Mr)}pointerup(Mr){const{isMac:Ur}=Ar.FeatureTest.platform;if(!(Mr.button!==0||Mr.ctrlKey&&Ur)&&Mr.target===this.div&&qr(this,Cr)){if(di(this,Cr,!1),!qr(this,mr)){di(this,mr,!0);return}if(qr(this,Er).getMode()===Ar.AnnotationEditorType.STAMP){qr(this,Er).unselectAll();return}ei(this,Tr,$d).call(this,Mr,!1)}}pointerdown(Mr){if(qr(this,Cr)){di(this,Cr,!1);return}const{isMac:Ur}=Ar.FeatureTest.platform;if(Mr.button!==0||Mr.ctrlKey&&Ur||Mr.target!==this.div)return;di(this,Cr,!0);const Kr=qr(this,Er).getActive();di(this,mr,!Kr||Kr.isEmpty())}findNewParent(Mr,Ur,Kr){const Xr=qr(this,Er).findParent(Ur,Kr);return Xr===null||Xr===this?!1:(Xr.changeParent(Mr),!0)}destroy(){var Mr,Ur;((Mr=qr(this,Er).getActive())==null?void 0:Mr.parent)===this&&(qr(this,Er).commitOrRemove(),qr(this,Er).setActiveEditor(null));for(const Kr of qr(this,wr).values())(Ur=qr(this,pr))==null||Ur.removePointerInTextLayer(Kr.contentDiv),Kr.setParent(null),Kr.isAttachedToDOM=!1,Kr.div.remove();this.div=null,qr(this,wr).clear(),qr(this,Er).removeLayer(this)}render({viewport:Mr}){this.viewport=Mr,(0,hr.setLayerDimensions)(this.div,Mr);for(const Ur of qr(this,Er).getEditors(this.pageIndex))this.add(Ur);this.updateMode()}update({viewport:Mr}){qr(this,Er).commitOrRemove(),this.viewport=Mr,(0,hr.setLayerDimensions)(this.div,{rotation:Mr.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Mr,pageHeight:Ur}=this.viewport.rawDims;return[Mr,Ur]}};pr=new WeakMap,mr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,wr=new WeakMap,Cr=new WeakMap,Br=new WeakMap,Sr=new WeakMap,Er=new WeakMap,Tr=new WeakSet,oh=function(Mr){switch(qr(this,Er).getMode()){case Ar.AnnotationEditorType.FREETEXT:return new ur.FreeTextEditor(Mr);case Ar.AnnotationEditorType.INK:return new dr.InkEditor(Mr);case Ar.AnnotationEditorType.STAMP:return new fr.StampEditor(Mr)}return null},$d=function(Mr,Ur){const Kr=this.getNextId(),Xr=ei(this,Tr,oh).call(this,{parent:this,id:Kr,x:Mr.offsetX,y:Mr.offsetY,uiManager:qr(this,Er),isCentered:Ur});return Xr&&this.add(Xr),Xr},ah=function(){const{x:Mr,y:Ur,width:Kr,height:Xr}=this.div.getBoundingClientRect(),Yr=Math.max(0,Mr),Zr=Math.max(0,Ur),ns=Math.min(window.innerWidth,Mr+Kr),As=Math.min(window.innerHeight,Ur+Xr),is=(Yr+ns)/2-Mr,gs=(Zr+As)/2-Ur,[Os,Vr]=this.viewport.rotation%180===0?[is,gs]:[gs,is];return{offsetX:Os,offsetY:Vr}},lh=function(){di(this,Br,!0);for(const Mr of qr(this,wr).values())Mr.isEmpty()&&Mr.remove();di(this,Br,!1)},Mo(_r,"_initialized",!1);let gr=_r;or.AnnotationEditorLayer=gr},(ar,or,lr)=>{var fr,gr,pr,mr,yr,vr,br,wr,Cr,Br,yp,bp,wp,Yu,Ah,Bp,ch;Object.defineProperty(or,"__esModule",{value:!0}),or.FreeTextEditor=void 0;var Ar=lr(1),cr=lr(5),ur=lr(4),dr=lr(29);const _r=class _r extends ur.AnnotationEditor{constructor(Ur){super({...Ur,name:"freeTextEditor"});ci(this,Br);ci(this,fr,this.editorDivBlur.bind(this));ci(this,gr,this.editorDivFocus.bind(this));ci(this,pr,this.editorDivInput.bind(this));ci(this,mr,this.editorDivKeydown.bind(this));ci(this,yr);ci(this,vr,"");ci(this,br,`${this.id}-editor`);ci(this,wr);ci(this,Cr,null);di(this,yr,Ur.color||_r._defaultColor||ur.AnnotationEditor._defaultLineColor),di(this,wr,Ur.fontSize||_r._defaultFontSize)}static get _keyboardManager(){const Ur=_r.prototype,Kr=Zr=>Zr.isEmpty(),Xr=cr.AnnotationEditorUIManager.TRANSLATE_SMALL,Yr=cr.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,Ar.shadow)(this,"_keyboardManager",new cr.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Ur.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ur.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Ur._translateEmpty,{args:[-Xr,0],checker:Kr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ur._translateEmpty,{args:[-Yr,0],checker:Kr}],[["ArrowRight","mac+ArrowRight"],Ur._translateEmpty,{args:[Xr,0],checker:Kr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ur._translateEmpty,{args:[Yr,0],checker:Kr}],[["ArrowUp","mac+ArrowUp"],Ur._translateEmpty,{args:[0,-Xr],checker:Kr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ur._translateEmpty,{args:[0,-Yr],checker:Kr}],[["ArrowDown","mac+ArrowDown"],Ur._translateEmpty,{args:[0,Xr],checker:Kr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ur._translateEmpty,{args:[0,Yr],checker:Kr}]]))}static initialize(Ur){ur.AnnotationEditor.initialize(Ur,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Kr=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Kr.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ur,Kr){switch(Ur){case Ar.AnnotationEditorParamsType.FREETEXT_SIZE:_r._defaultFontSize=Kr;break;case Ar.AnnotationEditorParamsType.FREETEXT_COLOR:_r._defaultColor=Kr;break}}updateParams(Ur,Kr){switch(Ur){case Ar.AnnotationEditorParamsType.FREETEXT_SIZE:ei(this,Br,yp).call(this,Kr);break;case Ar.AnnotationEditorParamsType.FREETEXT_COLOR:ei(this,Br,bp).call(this,Kr);break}}static get defaultPropertiesToUpdate(){return[[Ar.AnnotationEditorParamsType.FREETEXT_SIZE,_r._defaultFontSize],[Ar.AnnotationEditorParamsType.FREETEXT_COLOR,_r._defaultColor||ur.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Ar.AnnotationEditorParamsType.FREETEXT_SIZE,qr(this,wr)],[Ar.AnnotationEditorParamsType.FREETEXT_COLOR,qr(this,yr)]]}_translateEmpty(Ur,Kr){this._uiManager.translateSelectedEditors(Ur,Kr,!0)}getInitialTranslation(){const Ur=this.parentScale;return[-_r._internalPadding*Ur,-(_r._internalPadding+qr(this,wr))*Ur]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Ar.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",qr(this,mr)),this.editorDiv.addEventListener("focus",qr(this,gr)),this.editorDiv.addEventListener("blur",qr(this,fr)),this.editorDiv.addEventListener("input",qr(this,pr)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",qr(this,br)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",qr(this,mr)),this.editorDiv.removeEventListener("focus",qr(this,gr)),this.editorDiv.removeEventListener("blur",qr(this,fr)),this.editorDiv.removeEventListener("input",qr(this,pr)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Ur){this._focusEventsAllowed&&(super.focusin(Ur),Ur.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var Ur;if(this.width){ei(this,Br,ch).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(Ur=this._initialOptions)!=null&&Ur.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Ur=qr(this,vr),Kr=di(this,vr,ei(this,Br,wp).call(this).trimEnd());if(Ur===Kr)return;const Xr=Yr=>{if(di(this,vr,Yr),!Yr){this.remove();return}ei(this,Br,Ah).call(this),this._uiManager.rebuild(this),ei(this,Br,Yu).call(this)};this.addCommands({cmd:()=>{Xr(Kr)},undo:()=>{Xr(Ur)},mustExec:!1}),ei(this,Br,Yu).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(Ur){this.enterInEditMode()}keydown(Ur){Ur.target===this.div&&Ur.key==="Enter"&&(this.enterInEditMode(),Ur.preventDefault())}editorDivKeydown(Ur){_r._keyboardManager.exec(this,Ur)}editorDivFocus(Ur){this.isEditing=!0}editorDivBlur(Ur){this.isEditing=!1}editorDivInput(Ur){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Ur,Kr;this.width&&(Ur=this.x,Kr=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",qr(this,br)),this.enableEditing(),ur.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Yr=>{var Zr;return(Zr=this.editorDiv)==null?void 0:Zr.setAttribute("aria-label",Yr)}),ur.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Yr=>{var Zr;return(Zr=this.editorDiv)==null?void 0:Zr.setAttribute("default-content",Yr)}),this.editorDiv.contentEditable=!0;const{style:Xr}=this.editorDiv;if(Xr.fontSize=`calc(${qr(this,wr)}px * var(--scale-factor))`,Xr.color=qr(this,yr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,cr.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Yr,Zr]=this.parentDimensions;if(this.annotationElementId){const{position:ns}=qr(this,Cr);let[As,is]=this.getInitialTranslation();[As,is]=this.pageTranslationToScreen(As,is);const[gs,Os]=this.pageDimensions,[Vr,Qr]=this.pageTranslation;let $r,zr;switch(this.rotation){case 0:$r=Ur+(ns[0]-Vr)/gs,zr=Kr+this.height-(ns[1]-Qr)/Os;break;case 90:$r=Ur+(ns[0]-Vr)/gs,zr=Kr-(ns[1]-Qr)/Os,[As,is]=[is,-As];break;case 180:$r=Ur-this.width+(ns[0]-Vr)/gs,zr=Kr-(ns[1]-Qr)/Os,[As,is]=[-As,-is];break;case 270:$r=Ur+(ns[0]-Vr-this.height*Os)/gs,zr=Kr+(ns[1]-Qr-this.width*gs)/Os,[As,is]=[-is,As];break}this.setAt($r*Yr,zr*Zr,As,is)}else this.setAt(Ur*Yr,Kr*Zr,this.width*Yr,this.height*Zr);ei(this,Br,Ah).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Ur,Kr,Xr){let Yr=null;if(Ur instanceof dr.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ns,fontColor:As},rect:is,rotation:gs,id:Os},textContent:Vr,textPosition:Qr,parent:{page:{pageNumber:$r}}}=Ur;if(!Vr||Vr.length===0)return null;Yr=Ur={annotationType:Ar.AnnotationEditorType.FREETEXT,color:Array.from(As),fontSize:ns,value:Vr.join(`
`),position:Qr,pageIndex:$r-1,rect:is,rotation:gs,id:Os,deleted:!1}}const Zr=super.deserialize(Ur,Kr,Xr);return di(Zr,wr,Ur.fontSize),di(Zr,yr,Ar.Util.makeHexColor(...Ur.color)),di(Zr,vr,Ur.value),Zr.annotationElementId=Ur.id||null,di(Zr,Cr,Yr),Zr}serialize(Ur=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Kr=_r._internalPadding*this.parentScale,Xr=this.getRect(Kr,Kr),Yr=ur.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:qr(this,yr)),Zr={annotationType:Ar.AnnotationEditorType.FREETEXT,color:Yr,fontSize:qr(this,wr),value:qr(this,vr),pageIndex:this.pageIndex,rect:Xr,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return Ur?Zr:this.annotationElementId&&!ei(this,Br,Bp).call(this,Zr)?null:(Zr.id=this.annotationElementId,Zr)}};fr=new WeakMap,gr=new WeakMap,pr=new WeakMap,mr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,wr=new WeakMap,Cr=new WeakMap,Br=new WeakSet,yp=function(Ur){const Kr=Yr=>{this.editorDiv.style.fontSize=`calc(${Yr}px * var(--scale-factor))`,this.translate(0,-(Yr-qr(this,wr))*this.parentScale),di(this,wr,Yr),ei(this,Br,Yu).call(this)},Xr=qr(this,wr);this.addCommands({cmd:()=>{Kr(Ur)},undo:()=>{Kr(Xr)},mustExec:!0,type:Ar.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bp=function(Ur){const Kr=qr(this,yr);this.addCommands({cmd:()=>{di(this,yr,this.editorDiv.style.color=Ur)},undo:()=>{di(this,yr,this.editorDiv.style.color=Kr)},mustExec:!0,type:Ar.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wp=function(){const Ur=this.editorDiv.getElementsByTagName("div");if(Ur.length===0)return this.editorDiv.innerText;const Kr=[];for(const Xr of Ur)Kr.push(Xr.innerText.replace(/\r\n?|\n/,""));return Kr.join(`
`)},Yu=function(){const[Ur,Kr]=this.parentDimensions;let Xr;if(this.isAttachedToDOM)Xr=this.div.getBoundingClientRect();else{const{currentLayer:Yr,div:Zr}=this,ns=Zr.style.display;Zr.style.display="hidden",Yr.div.append(this.div),Xr=Zr.getBoundingClientRect(),Zr.remove(),Zr.style.display=ns}this.rotation%180===this.parentRotation%180?(this.width=Xr.width/Ur,this.height=Xr.height/Kr):(this.width=Xr.height/Ur,this.height=Xr.width/Kr),this.fixAndSetPosition()},Ah=function(){if(this.editorDiv.replaceChildren(),!!qr(this,vr))for(const Ur of qr(this,vr).split(`
`)){const Kr=document.createElement("div");Kr.append(Ur?document.createTextNode(Ur):document.createElement("br")),this.editorDiv.append(Kr)}},Bp=function(Ur){const{value:Kr,fontSize:Xr,color:Yr,rect:Zr,pageIndex:ns}=qr(this,Cr);return Ur.value!==Kr||Ur.fontSize!==Xr||Ur.rect.some((As,is)=>Math.abs(As-Zr[is])>=1)||Ur.color.some((As,is)=>As!==Yr[is])||Ur.pageIndex!==ns},ch=function(Ur=!1){if(!this.annotationElementId)return;if(ei(this,Br,Yu).call(this),!Ur&&(this.width===0||this.height===0)){setTimeout(()=>ei(this,Br,ch).call(this,!0),0);return}const Kr=_r._internalPadding*this.parentScale;qr(this,Cr).rect=this.getRect(Kr,Kr)},Mo(_r,"_freeTextDefaultContent",""),Mo(_r,"_internalPadding",0),Mo(_r,"_defaultColor",null),Mo(_r,"_defaultFontSize",10),Mo(_r,"_type","freetext");let hr=_r;or.FreeTextEditor=hr},(ar,or,lr)=>{var zr,Jr,uc,Cp,bs,Ts,Ds,us,ps,ms,ss,ks,as,fs,ws,Is,Ps,Ws,Ks,Fs,ni,li,Sp,Vd,uh,dh,$s,qs,bi,zs,Vs,Ys,fi,fh,Ei,Rs,Js,oi,xp,hh;Object.defineProperty(or,"__esModule",{value:!0}),or.StampAnnotationElement=or.InkAnnotationElement=or.FreeTextAnnotationElement=or.AnnotationLayer=void 0;var Ar=lr(1),cr=lr(6),ur=lr(3),dr=lr(30),hr=lr(31),fr=lr(32);const gr=1e3,pr=9,mr=new WeakSet;function yr(Ii){return{width:Ii[2]-Ii[0],height:Ii[3]-Ii[1]}}class vr{static create(Ms){switch(Ms.data.annotationType){case Ar.AnnotationType.LINK:return new wr(Ms);case Ar.AnnotationType.TEXT:return new Cr(Ms);case Ar.AnnotationType.WIDGET:switch(Ms.data.fieldType){case"Tx":return new Sr(Ms);case"Btn":return Ms.data.radioButton?new kr(Ms):Ms.data.checkBox?new Tr(Ms):new Or(Ms);case"Ch":return new Rr(Ms);case"Sig":return new Er(Ms)}return new Br(Ms);case Ar.AnnotationType.POPUP:return new Lr(Ms);case Ar.AnnotationType.FREETEXT:return new Hr(Ms);case Ar.AnnotationType.LINE:return new Mr(Ms);case Ar.AnnotationType.SQUARE:return new Ur(Ms);case Ar.AnnotationType.CIRCLE:return new Kr(Ms);case Ar.AnnotationType.POLYLINE:return new Xr(Ms);case Ar.AnnotationType.CARET:return new Zr(Ms);case Ar.AnnotationType.INK:return new ns(Ms);case Ar.AnnotationType.POLYGON:return new Yr(Ms);case Ar.AnnotationType.HIGHLIGHT:return new As(Ms);case Ar.AnnotationType.UNDERLINE:return new is(Ms);case Ar.AnnotationType.SQUIGGLY:return new gs(Ms);case Ar.AnnotationType.STRIKEOUT:return new Os(Ms);case Ar.AnnotationType.STAMP:return new Vr(Ms);case Ar.AnnotationType.FILEATTACHMENT:return new Qr(Ms);default:return new br(Ms)}}}const cs=class cs{constructor(Ms,{isRenderable:_s=!1,ignoreBorder:Xs=!1,createQuadrilaterals:Zs=!1}={}){ci(this,zr,!1);this.isRenderable=_s,this.data=Ms.data,this.layer=Ms.layer,this.linkService=Ms.linkService,this.downloadManager=Ms.downloadManager,this.imageResourcesPath=Ms.imageResourcesPath,this.renderForms=Ms.renderForms,this.svgFactory=Ms.svgFactory,this.annotationStorage=Ms.annotationStorage,this.enableScripting=Ms.enableScripting,this.hasJSActions=Ms.hasJSActions,this._fieldObjects=Ms.fieldObjects,this.parent=Ms.parent,_s&&(this.container=this._createContainer(Xs)),Zs&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ms,contentsObj:_s,richText:Xs}){return!!(Ms!=null&&Ms.str||_s!=null&&_s.str||Xs!=null&&Xs.str)}get hasPopupData(){return cs._hasPopupData(this.data)}_createContainer(Ms){const{data:_s,parent:{page:Xs,viewport:Zs}}=this,pi=document.createElement("section");pi.setAttribute("data-annotation-id",_s.id),this instanceof Br||(pi.tabIndex=gr),pi.style.zIndex=this.parent.zIndex++,this.data.popupRef&&pi.setAttribute("aria-haspopup","dialog"),_s.noRotate&&pi.classList.add("norotate");const{pageWidth:wi,pageHeight:Ci,pageX:Fi,pageY:Di}=Zs.rawDims;if(!_s.rect||this instanceof Lr){const{rotation:Gi}=_s;return!_s.hasOwnCanvas&&Gi!==0&&this.setRotation(Gi,pi),pi}const{width:Mi,height:Yi}=yr(_s.rect),Qi=Ar.Util.normalizeRect([_s.rect[0],Xs.view[3]-_s.rect[1]+Xs.view[1],_s.rect[2],Xs.view[3]-_s.rect[3]+Xs.view[1]]);if(!Ms&&_s.borderStyle.width>0){pi.style.borderWidth=`${_s.borderStyle.width}px`;const Gi=_s.borderStyle.horizontalCornerRadius,eo=_s.borderStyle.verticalCornerRadius;if(Gi>0||eo>0){const co=`calc(${Gi}px * var(--scale-factor)) / calc(${eo}px * var(--scale-factor))`;pi.style.borderRadius=co}else if(this instanceof kr){const co=`calc(${Mi}px * var(--scale-factor)) / calc(${Yi}px * var(--scale-factor))`;pi.style.borderRadius=co}switch(_s.borderStyle.style){case Ar.AnnotationBorderStyleType.SOLID:pi.style.borderStyle="solid";break;case Ar.AnnotationBorderStyleType.DASHED:pi.style.borderStyle="dashed";break;case Ar.AnnotationBorderStyleType.BEVELED:(0,Ar.warn)("Unimplemented border style: beveled");break;case Ar.AnnotationBorderStyleType.INSET:(0,Ar.warn)("Unimplemented border style: inset");break;case Ar.AnnotationBorderStyleType.UNDERLINE:pi.style.borderBottomStyle="solid";break}const so=_s.borderColor||null;so?(di(this,zr,!0),pi.style.borderColor=Ar.Util.makeHexColor(so[0]|0,so[1]|0,so[2]|0)):pi.style.borderWidth=0}pi.style.left=`${100*(Qi[0]-Fi)/wi}%`,pi.style.top=`${100*(Qi[1]-Di)/Ci}%`;const{rotation:ji}=_s;return _s.hasOwnCanvas||ji===0?(pi.style.width=`${100*Mi/wi}%`,pi.style.height=`${100*Yi/Ci}%`):this.setRotation(ji,pi),pi}setRotation(Ms,_s=this.container){if(!this.data.rect)return;const{pageWidth:Xs,pageHeight:Zs}=this.parent.viewport.rawDims,{width:pi,height:wi}=yr(this.data.rect);let Ci,Fi;Ms%180===0?(Ci=100*pi/Xs,Fi=100*wi/Zs):(Ci=100*wi/Xs,Fi=100*pi/Zs),_s.style.width=`${Ci}%`,_s.style.height=`${Fi}%`,_s.setAttribute("data-main-rotation",(360-Ms)%360)}get _commonActions(){const Ms=(_s,Xs,Zs)=>{const pi=Zs.detail[_s],wi=pi[0],Ci=pi.slice(1);Zs.target.style[Xs]=dr.ColorConverters[`${wi}_HTML`](Ci),this.annotationStorage.setValue(this.data.id,{[Xs]:dr.ColorConverters[`${wi}_rgb`](Ci)})};return(0,Ar.shadow)(this,"_commonActions",{display:_s=>{const{display:Xs}=_s.detail,Zs=Xs%2===1;this.container.style.visibility=Zs?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Zs,noPrint:Xs===1||Xs===2})},print:_s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!_s.detail.print})},hidden:_s=>{const{hidden:Xs}=_s.detail;this.container.style.visibility=Xs?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Xs,noView:Xs})},focus:_s=>{setTimeout(()=>_s.target.focus({preventScroll:!1}),0)},userName:_s=>{_s.target.title=_s.detail.userName},readonly:_s=>{_s.target.disabled=_s.detail.readonly},required:_s=>{this._setRequired(_s.target,_s.detail.required)},bgColor:_s=>{Ms("bgColor","backgroundColor",_s)},fillColor:_s=>{Ms("fillColor","backgroundColor",_s)},fgColor:_s=>{Ms("fgColor","color",_s)},textColor:_s=>{Ms("textColor","color",_s)},borderColor:_s=>{Ms("borderColor","borderColor",_s)},strokeColor:_s=>{Ms("strokeColor","borderColor",_s)},rotation:_s=>{const Xs=_s.detail.rotation;this.setRotation(Xs),this.annotationStorage.setValue(this.data.id,{rotation:Xs})}})}_dispatchEventFromSandbox(Ms,_s){const Xs=this._commonActions;for(const Zs of Object.keys(_s.detail)){const pi=Ms[Zs]||Xs[Zs];pi==null||pi(_s)}}_setDefaultPropertiesFromJS(Ms){if(!this.enableScripting)return;const _s=this.annotationStorage.getRawValue(this.data.id);if(!_s)return;const Xs=this._commonActions;for(const[Zs,pi]of Object.entries(_s)){const wi=Xs[Zs];if(wi){const Ci={detail:{[Zs]:pi},target:Ms};wi(Ci),delete _s[Zs]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ms}=this.data;if(!Ms)return;const[_s,Xs,Zs,pi]=this.data.rect;if(Ms.length===1){const[,{x:eo,y:so},{x:co,y:xo}]=Ms[0];if(Zs===eo&&pi===so&&_s===co&&Xs===xo)return}const{style:wi}=this.container;let Ci;if(qr(this,zr)){const{borderColor:eo,borderWidth:so}=wi;wi.borderWidth=0,Ci=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${eo}" stroke-width="${so}">`],this.container.classList.add("hasBorder")}const Fi=Zs-_s,Di=pi-Xs,{svgFactory:Mi}=this,Yi=Mi.createElement("svg");Yi.classList.add("quadrilateralsContainer"),Yi.setAttribute("width",0),Yi.setAttribute("height",0);const Qi=Mi.createElement("defs");Yi.append(Qi);const ji=Mi.createElement("clipPath"),Gi=`clippath_${this.data.id}`;ji.setAttribute("id",Gi),ji.setAttribute("clipPathUnits","objectBoundingBox"),Qi.append(ji);for(const[,{x:eo,y:so},{x:co,y:xo}]of Ms){const vo=Mi.createElement("rect"),la=(co-_s)/Fi,pa=(pi-so)/Di,ga=(eo-co)/Fi,Al=(so-xo)/Di;vo.setAttribute("x",la),vo.setAttribute("y",pa),vo.setAttribute("width",ga),vo.setAttribute("height",Al),ji.append(vo),Ci==null||Ci.push(`<rect vector-effect="non-scaling-stroke" x="${la}" y="${pa}" width="${ga}" height="${Al}"/>`)}qr(this,zr)&&(Ci.push("</g></svg>')"),wi.backgroundImage=Ci.join("")),this.container.append(Yi),this.container.style.clipPath=`url(#${Gi})`}_createPopup(){const{container:Ms,data:_s}=this;Ms.setAttribute("aria-haspopup","dialog");const Xs=new Lr({data:{color:_s.color,titleObj:_s.titleObj,modificationDate:_s.modificationDate,contentsObj:_s.contentsObj,richText:_s.richText,parentRect:_s.rect,borderStyle:0,id:`popup_${_s.id}`,rotation:_s.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Xs.render())}render(){(0,Ar.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ms,_s=null){const Xs=[];if(this._fieldObjects){const Zs=this._fieldObjects[Ms];if(Zs)for(const{page:pi,id:wi,exportValues:Ci}of Zs){if(pi===-1||wi===_s)continue;const Fi=typeof Ci=="string"?Ci:null,Di=document.querySelector(`[data-element-id="${wi}"]`);if(Di&&!mr.has(Di)){(0,Ar.warn)(`_getElementsByName - element not allowed: ${wi}`);continue}Xs.push({id:wi,exportValue:Fi,domElement:Di})}return Xs}for(const Zs of document.getElementsByName(Ms)){const{exportValue:pi}=Zs,wi=Zs.getAttribute("data-element-id");wi!==_s&&mr.has(Zs)&&Xs.push({id:wi,exportValue:pi,domElement:Zs})}return Xs}show(){var Ms;this.container&&(this.container.hidden=!1),(Ms=this.popup)==null||Ms.maybeShow()}hide(){var Ms;this.container&&(this.container.hidden=!0),(Ms=this.popup)==null||Ms.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ms=this.getElementsToTriggerPopup();if(Array.isArray(Ms))for(const _s of Ms)_s.classList.add("highlightArea");else Ms.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ms,data:{id:_s}}=this;this.container.addEventListener("dblclick",()=>{var Xs;(Xs=this.linkService.eventBus)==null||Xs.dispatch("switchannotationeditormode",{source:this,mode:Ms,editId:_s})})}};zr=new WeakMap;let br=cs;class wr extends br{constructor(_s,Xs=null){super(_s,{isRenderable:!0,ignoreBorder:!!(Xs!=null&&Xs.ignoreBorder),createQuadrilaterals:!0});ci(this,Jr);this.isTooltipOnly=_s.data.isTooltipOnly}render(){const{data:_s,linkService:Xs}=this,Zs=document.createElement("a");Zs.setAttribute("data-element-id",_s.id);let pi=!1;return _s.url?(Xs.addLinkAttributes(Zs,_s.url,_s.newWindow),pi=!0):_s.action?(this._bindNamedAction(Zs,_s.action),pi=!0):_s.attachment?(this._bindAttachment(Zs,_s.attachment),pi=!0):_s.setOCGState?(ei(this,Jr,Cp).call(this,Zs,_s.setOCGState),pi=!0):_s.dest?(this._bindLink(Zs,_s.dest),pi=!0):(_s.actions&&(_s.actions.Action||_s.actions["Mouse Up"]||_s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Zs,_s),pi=!0),_s.resetForm?(this._bindResetFormAction(Zs,_s.resetForm),pi=!0):this.isTooltipOnly&&!pi&&(this._bindLink(Zs,""),pi=!0)),this.container.classList.add("linkAnnotation"),pi&&this.container.append(Zs),this.container}_bindLink(_s,Xs){_s.href=this.linkService.getDestinationHash(Xs),_s.onclick=()=>(Xs&&this.linkService.goToDestination(Xs),!1),(Xs||Xs==="")&&ei(this,Jr,uc).call(this)}_bindNamedAction(_s,Xs){_s.href=this.linkService.getAnchorUrl(""),_s.onclick=()=>(this.linkService.executeNamedAction(Xs),!1),ei(this,Jr,uc).call(this)}_bindAttachment(_s,Xs){_s.href=this.linkService.getAnchorUrl(""),_s.onclick=()=>{var Zs;return(Zs=this.downloadManager)==null||Zs.openOrDownloadData(this.container,Xs.content,Xs.filename),!1},ei(this,Jr,uc).call(this)}_bindJSAction(_s,Xs){_s.href=this.linkService.getAnchorUrl("");const Zs=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const pi of Object.keys(Xs.actions)){const wi=Zs.get(pi);wi&&(_s[wi]=()=>{var Ci;return(Ci=this.linkService.eventBus)==null||Ci.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Xs.id,name:pi}}),!1})}_s.onclick||(_s.onclick=()=>!1),ei(this,Jr,uc).call(this)}_bindResetFormAction(_s,Xs){const Zs=_s.onclick;if(Zs||(_s.href=this.linkService.getAnchorUrl("")),ei(this,Jr,uc).call(this),!this._fieldObjects){(0,Ar.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Zs||(_s.onclick=()=>!1);return}_s.onclick=()=>{var Yi;Zs==null||Zs();const{fields:pi,refs:wi,include:Ci}=Xs,Fi=[];if(pi.length!==0||wi.length!==0){const Qi=new Set(wi);for(const ji of pi){const Gi=this._fieldObjects[ji]||[];for(const{id:eo}of Gi)Qi.add(eo)}for(const ji of Object.values(this._fieldObjects))for(const Gi of ji)Qi.has(Gi.id)===Ci&&Fi.push(Gi)}else for(const Qi of Object.values(this._fieldObjects))Fi.push(...Qi);const Di=this.annotationStorage,Mi=[];for(const Qi of Fi){const{id:ji}=Qi;switch(Mi.push(ji),Qi.type){case"text":{const eo=Qi.defaultValue||"";Di.setValue(ji,{value:eo});break}case"checkbox":case"radiobutton":{const eo=Qi.defaultValue===Qi.exportValues;Di.setValue(ji,{value:eo});break}case"combobox":case"listbox":{const eo=Qi.defaultValue||"";Di.setValue(ji,{value:eo});break}default:continue}const Gi=document.querySelector(`[data-element-id="${ji}"]`);if(Gi){if(!mr.has(Gi)){(0,Ar.warn)(`_bindResetFormAction - element not allowed: ${ji}`);continue}}else continue;Gi.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Yi=this.linkService.eventBus)==null||Yi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Mi,name:"ResetForm"}})),!1}}}Jr=new WeakSet,uc=function(){this.container.setAttribute("data-internal-link","")},Cp=function(_s,Xs){_s.href=this.linkService.getAnchorUrl(""),_s.onclick=()=>(this.linkService.executeSetOCGState(Xs),!1),ei(this,Jr,uc).call(this)};class Cr extends br{constructor(Ms){super(Ms,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ms=document.createElement("img");return Ms.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ms.alt="[{{type}} Annotation]",Ms.dataset.l10nId="text_annotation_type",Ms.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ms),this.container}}class Br extends br{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ms){var _s;this.data.hasOwnCanvas&&(((_s=Ms.previousSibling)==null?void 0:_s.nodeName)==="CANVAS"&&(Ms.previousSibling.hidden=!0),Ms.hidden=!1)}_getKeyModifier(Ms){const{isWin:_s,isMac:Xs}=Ar.FeatureTest.platform;return _s&&Ms.ctrlKey||Xs&&Ms.metaKey}_setEventListener(Ms,_s,Xs,Zs,pi){Xs.includes("mouse")?Ms.addEventListener(Xs,wi=>{var Ci;(Ci=this.linkService.eventBus)==null||Ci.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Zs,value:pi(wi),shift:wi.shiftKey,modifier:this._getKeyModifier(wi)}})}):Ms.addEventListener(Xs,wi=>{var Ci;if(Xs==="blur"){if(!_s.focused||!wi.relatedTarget)return;_s.focused=!1}else if(Xs==="focus"){if(_s.focused)return;_s.focused=!0}pi&&((Ci=this.linkService.eventBus)==null||Ci.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Zs,value:pi(wi)}}))})}_setEventListeners(Ms,_s,Xs,Zs){var pi,wi,Ci;for(const[Fi,Di]of Xs)(Di==="Action"||(pi=this.data.actions)!=null&&pi[Di])&&((Di==="Focus"||Di==="Blur")&&(_s||(_s={focused:!1})),this._setEventListener(Ms,_s,Fi,Di,Zs),Di==="Focus"&&!((wi=this.data.actions)!=null&&wi.Blur)?this._setEventListener(Ms,_s,"blur","Blur",null):Di==="Blur"&&!((Ci=this.data.actions)!=null&&Ci.Focus)&&this._setEventListener(Ms,_s,"focus","Focus",null))}_setBackgroundColor(Ms){const _s=this.data.backgroundColor||null;Ms.style.backgroundColor=_s===null?"transparent":Ar.Util.makeHexColor(_s[0],_s[1],_s[2])}_setTextStyle(Ms){const _s=["left","center","right"],{fontColor:Xs}=this.data.defaultAppearanceData,Zs=this.data.defaultAppearanceData.fontSize||pr,pi=Ms.style;let wi;const Ci=2,Fi=Di=>Math.round(10*Di)/10;if(this.data.multiLine){const Di=Math.abs(this.data.rect[3]-this.data.rect[1]-Ci),Mi=Math.round(Di/(Ar.LINE_FACTOR*Zs))||1,Yi=Di/Mi;wi=Math.min(Zs,Fi(Yi/Ar.LINE_FACTOR))}else{const Di=Math.abs(this.data.rect[3]-this.data.rect[1]-Ci);wi=Math.min(Zs,Fi(Di/Ar.LINE_FACTOR))}pi.fontSize=`calc(${wi}px * var(--scale-factor))`,pi.color=Ar.Util.makeHexColor(Xs[0],Xs[1],Xs[2]),this.data.textAlignment!==null&&(pi.textAlign=_s[this.data.textAlignment])}_setRequired(Ms,_s){_s?Ms.setAttribute("required",!0):Ms.removeAttribute("required"),Ms.setAttribute("aria-required",_s)}}class Sr extends Br{constructor(Ms){const _s=Ms.renderForms||!Ms.data.hasAppearance&&!!Ms.data.fieldValue;super(Ms,{isRenderable:_s})}setPropertyOnSiblings(Ms,_s,Xs,Zs){const pi=this.annotationStorage;for(const wi of this._getElementsByName(Ms.name,Ms.id))wi.domElement&&(wi.domElement[_s]=Xs),pi.setValue(wi.id,{[Zs]:Xs})}render(){var Zs,pi;const Ms=this.annotationStorage,_s=this.data.id;this.container.classList.add("textWidgetAnnotation");let Xs=null;if(this.renderForms){const wi=Ms.getValue(_s,{value:this.data.fieldValue});let Ci=wi.value||"";const Fi=Ms.getValue(_s,{charLimit:this.data.maxLen}).charLimit;Fi&&Ci.length>Fi&&(Ci=Ci.slice(0,Fi));let Di=wi.formattedValue||((Zs=this.data.textContent)==null?void 0:Zs.join(`
`))||null;Di&&this.data.comb&&(Di=Di.replaceAll(/\s+/g,""));const Mi={userValue:Ci,formattedValue:Di,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Xs=document.createElement("textarea"),Xs.textContent=Di??Ci,this.data.doNotScroll&&(Xs.style.overflowY="hidden")):(Xs=document.createElement("input"),Xs.type="text",Xs.setAttribute("value",Di??Ci),this.data.doNotScroll&&(Xs.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Xs.hidden=!0),mr.add(Xs),Xs.setAttribute("data-element-id",_s),Xs.disabled=this.data.readOnly,Xs.name=this.data.fieldName,Xs.tabIndex=gr,this._setRequired(Xs,this.data.required),Fi&&(Xs.maxLength=Fi),Xs.addEventListener("input",Qi=>{Ms.setValue(_s,{value:Qi.target.value}),this.setPropertyOnSiblings(Xs,"value",Qi.target.value,"value"),Mi.formattedValue=null}),Xs.addEventListener("resetform",Qi=>{const ji=this.data.defaultFieldValue??"";Xs.value=Mi.userValue=ji,Mi.formattedValue=null});let Yi=Qi=>{const{formattedValue:ji}=Mi;ji!=null&&(Qi.target.value=ji),Qi.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Xs.addEventListener("focus",ji=>{if(Mi.focused)return;const{target:Gi}=ji;Mi.userValue&&(Gi.value=Mi.userValue),Mi.lastCommittedValue=Gi.value,Mi.commitKey=1,Mi.focused=!0}),Xs.addEventListener("updatefromsandbox",ji=>{this.showElementAndHideCanvas(ji.target);const Gi={value(eo){Mi.userValue=eo.detail.value??"",Ms.setValue(_s,{value:Mi.userValue.toString()}),eo.target.value=Mi.userValue},formattedValue(eo){const{formattedValue:so}=eo.detail;Mi.formattedValue=so,so!=null&&eo.target!==document.activeElement&&(eo.target.value=so),Ms.setValue(_s,{formattedValue:so})},selRange(eo){eo.target.setSelectionRange(...eo.detail.selRange)},charLimit:eo=>{var vo;const{charLimit:so}=eo.detail,{target:co}=eo;if(so===0){co.removeAttribute("maxLength");return}co.setAttribute("maxLength",so);let xo=Mi.userValue;!xo||xo.length<=so||(xo=xo.slice(0,so),co.value=Mi.userValue=xo,Ms.setValue(_s,{value:xo}),(vo=this.linkService.eventBus)==null||vo.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_s,name:"Keystroke",value:xo,willCommit:!0,commitKey:1,selStart:co.selectionStart,selEnd:co.selectionEnd}}))}};this._dispatchEventFromSandbox(Gi,ji)}),Xs.addEventListener("keydown",ji=>{var so;Mi.commitKey=1;let Gi=-1;if(ji.key==="Escape"?Gi=0:ji.key==="Enter"&&!this.data.multiLine?Gi=2:ji.key==="Tab"&&(Mi.commitKey=3),Gi===-1)return;const{value:eo}=ji.target;Mi.lastCommittedValue!==eo&&(Mi.lastCommittedValue=eo,Mi.userValue=eo,(so=this.linkService.eventBus)==null||so.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_s,name:"Keystroke",value:eo,willCommit:!0,commitKey:Gi,selStart:ji.target.selectionStart,selEnd:ji.target.selectionEnd}}))});const Qi=Yi;Yi=null,Xs.addEventListener("blur",ji=>{var eo;if(!Mi.focused||!ji.relatedTarget)return;Mi.focused=!1;const{value:Gi}=ji.target;Mi.userValue=Gi,Mi.lastCommittedValue!==Gi&&((eo=this.linkService.eventBus)==null||eo.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_s,name:"Keystroke",value:Gi,willCommit:!0,commitKey:Mi.commitKey,selStart:ji.target.selectionStart,selEnd:ji.target.selectionEnd}})),Qi(ji)}),(pi=this.data.actions)!=null&&pi.Keystroke&&Xs.addEventListener("beforeinput",ji=>{var pa;Mi.lastCommittedValue=null;const{data:Gi,target:eo}=ji,{value:so,selectionStart:co,selectionEnd:xo}=eo;let vo=co,la=xo;switch(ji.inputType){case"deleteWordBackward":{const ga=so.substring(0,co).match(/\w*[^\w]*$/);ga&&(vo-=ga[0].length);break}case"deleteWordForward":{const ga=so.substring(co).match(/^[^\w]*\w*/);ga&&(la+=ga[0].length);break}case"deleteContentBackward":co===xo&&(vo-=1);break;case"deleteContentForward":co===xo&&(la+=1);break}ji.preventDefault(),(pa=this.linkService.eventBus)==null||pa.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_s,name:"Keystroke",value:so,change:Gi||"",willCommit:!1,selStart:vo,selEnd:la}})}),this._setEventListeners(Xs,Mi,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ji=>ji.target.value)}if(Yi&&Xs.addEventListener("blur",Yi),this.data.comb){const ji=(this.data.rect[2]-this.data.rect[0])/Fi;Xs.classList.add("comb"),Xs.style.letterSpacing=`calc(${ji}px * var(--scale-factor) - 1ch)`}}else Xs=document.createElement("div"),Xs.textContent=this.data.fieldValue,Xs.style.verticalAlign="middle",Xs.style.display="table-cell";return this._setTextStyle(Xs),this._setBackgroundColor(Xs),this._setDefaultPropertiesFromJS(Xs),this.container.append(Xs),this.container}}class Er extends Br{constructor(Ms){super(Ms,{isRenderable:!!Ms.data.hasOwnCanvas})}}class Tr extends Br{constructor(Ms){super(Ms,{isRenderable:Ms.renderForms})}render(){const Ms=this.annotationStorage,_s=this.data,Xs=_s.id;let Zs=Ms.getValue(Xs,{value:_s.exportValue===_s.fieldValue}).value;typeof Zs=="string"&&(Zs=Zs!=="Off",Ms.setValue(Xs,{value:Zs})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const pi=document.createElement("input");return mr.add(pi),pi.setAttribute("data-element-id",Xs),pi.disabled=_s.readOnly,this._setRequired(pi,this.data.required),pi.type="checkbox",pi.name=_s.fieldName,Zs&&pi.setAttribute("checked",!0),pi.setAttribute("exportValue",_s.exportValue),pi.tabIndex=gr,pi.addEventListener("change",wi=>{const{name:Ci,checked:Fi}=wi.target;for(const Di of this._getElementsByName(Ci,Xs)){const Mi=Fi&&Di.exportValue===_s.exportValue;Di.domElement&&(Di.domElement.checked=Mi),Ms.setValue(Di.id,{value:Mi})}Ms.setValue(Xs,{value:Fi})}),pi.addEventListener("resetform",wi=>{const Ci=_s.defaultFieldValue||"Off";wi.target.checked=Ci===_s.exportValue}),this.enableScripting&&this.hasJSActions&&(pi.addEventListener("updatefromsandbox",wi=>{const Ci={value(Fi){Fi.target.checked=Fi.detail.value!=="Off",Ms.setValue(Xs,{value:Fi.target.checked})}};this._dispatchEventFromSandbox(Ci,wi)}),this._setEventListeners(pi,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],wi=>wi.target.checked)),this._setBackgroundColor(pi),this._setDefaultPropertiesFromJS(pi),this.container.append(pi),this.container}}class kr extends Br{constructor(Ms){super(Ms,{isRenderable:Ms.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ms=this.annotationStorage,_s=this.data,Xs=_s.id;let Zs=Ms.getValue(Xs,{value:_s.fieldValue===_s.buttonValue}).value;typeof Zs=="string"&&(Zs=Zs!==_s.buttonValue,Ms.setValue(Xs,{value:Zs}));const pi=document.createElement("input");if(mr.add(pi),pi.setAttribute("data-element-id",Xs),pi.disabled=_s.readOnly,this._setRequired(pi,this.data.required),pi.type="radio",pi.name=_s.fieldName,Zs&&pi.setAttribute("checked",!0),pi.tabIndex=gr,pi.addEventListener("change",wi=>{const{name:Ci,checked:Fi}=wi.target;for(const Di of this._getElementsByName(Ci,Xs))Ms.setValue(Di.id,{value:!1});Ms.setValue(Xs,{value:Fi})}),pi.addEventListener("resetform",wi=>{const Ci=_s.defaultFieldValue;wi.target.checked=Ci!=null&&Ci===_s.buttonValue}),this.enableScripting&&this.hasJSActions){const wi=_s.buttonValue;pi.addEventListener("updatefromsandbox",Ci=>{const Fi={value:Di=>{const Mi=wi===Di.detail.value;for(const Yi of this._getElementsByName(Di.target.name)){const Qi=Mi&&Yi.id===Xs;Yi.domElement&&(Yi.domElement.checked=Qi),Ms.setValue(Yi.id,{value:Qi})}}};this._dispatchEventFromSandbox(Fi,Ci)}),this._setEventListeners(pi,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ci=>Ci.target.checked)}return this._setBackgroundColor(pi),this._setDefaultPropertiesFromJS(pi),this.container.append(pi),this.container}}class Or extends wr{constructor(Ms){super(Ms,{ignoreBorder:Ms.data.hasAppearance})}render(){const Ms=super.render();Ms.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ms.title=this.data.alternativeText);const _s=Ms.lastChild;return this.enableScripting&&this.hasJSActions&&_s&&(this._setDefaultPropertiesFromJS(_s),_s.addEventListener("updatefromsandbox",Xs=>{this._dispatchEventFromSandbox({},Xs)})),Ms}}class Rr extends Br{constructor(Ms){super(Ms,{isRenderable:Ms.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ms=this.annotationStorage,_s=this.data.id,Xs=Ms.getValue(_s,{value:this.data.fieldValue}),Zs=document.createElement("select");mr.add(Zs),Zs.setAttribute("data-element-id",_s),Zs.disabled=this.data.readOnly,this._setRequired(Zs,this.data.required),Zs.name=this.data.fieldName,Zs.tabIndex=gr;let pi=this.data.combo&&this.data.options.length>0;this.data.combo||(Zs.size=this.data.options.length,this.data.multiSelect&&(Zs.multiple=!0)),Zs.addEventListener("resetform",Mi=>{const Yi=this.data.defaultFieldValue;for(const Qi of Zs.options)Qi.selected=Qi.value===Yi});for(const Mi of this.data.options){const Yi=document.createElement("option");Yi.textContent=Mi.displayValue,Yi.value=Mi.exportValue,Xs.value.includes(Mi.exportValue)&&(Yi.setAttribute("selected",!0),pi=!1),Zs.append(Yi)}let wi=null;if(pi){const Mi=document.createElement("option");Mi.value=" ",Mi.setAttribute("hidden",!0),Mi.setAttribute("selected",!0),Zs.prepend(Mi),wi=()=>{Mi.remove(),Zs.removeEventListener("input",wi),wi=null},Zs.addEventListener("input",wi)}const Ci=Mi=>{const Yi=Mi?"value":"textContent",{options:Qi,multiple:ji}=Zs;return ji?Array.prototype.filter.call(Qi,Gi=>Gi.selected).map(Gi=>Gi[Yi]):Qi.selectedIndex===-1?null:Qi[Qi.selectedIndex][Yi]};let Fi=Ci(!1);const Di=Mi=>{const Yi=Mi.target.options;return Array.prototype.map.call(Yi,Qi=>({displayValue:Qi.textContent,exportValue:Qi.value}))};return this.enableScripting&&this.hasJSActions?(Zs.addEventListener("updatefromsandbox",Mi=>{const Yi={value(Qi){wi==null||wi();const ji=Qi.detail.value,Gi=new Set(Array.isArray(ji)?ji:[ji]);for(const eo of Zs.options)eo.selected=Gi.has(eo.value);Ms.setValue(_s,{value:Ci(!0)}),Fi=Ci(!1)},multipleSelection(Qi){Zs.multiple=!0},remove(Qi){const ji=Zs.options,Gi=Qi.detail.remove;ji[Gi].selected=!1,Zs.remove(Gi),ji.length>0&&Array.prototype.findIndex.call(ji,so=>so.selected)===-1&&(ji[0].selected=!0),Ms.setValue(_s,{value:Ci(!0),items:Di(Qi)}),Fi=Ci(!1)},clear(Qi){for(;Zs.length!==0;)Zs.remove(0);Ms.setValue(_s,{value:null,items:[]}),Fi=Ci(!1)},insert(Qi){const{index:ji,displayValue:Gi,exportValue:eo}=Qi.detail.insert,so=Zs.children[ji],co=document.createElement("option");co.textContent=Gi,co.value=eo,so?so.before(co):Zs.append(co),Ms.setValue(_s,{value:Ci(!0),items:Di(Qi)}),Fi=Ci(!1)},items(Qi){const{items:ji}=Qi.detail;for(;Zs.length!==0;)Zs.remove(0);for(const Gi of ji){const{displayValue:eo,exportValue:so}=Gi,co=document.createElement("option");co.textContent=eo,co.value=so,Zs.append(co)}Zs.options.length>0&&(Zs.options[0].selected=!0),Ms.setValue(_s,{value:Ci(!0),items:Di(Qi)}),Fi=Ci(!1)},indices(Qi){const ji=new Set(Qi.detail.indices);for(const Gi of Qi.target.options)Gi.selected=ji.has(Gi.index);Ms.setValue(_s,{value:Ci(!0)}),Fi=Ci(!1)},editable(Qi){Qi.target.disabled=!Qi.detail.editable}};this._dispatchEventFromSandbox(Yi,Mi)}),Zs.addEventListener("input",Mi=>{var Qi;const Yi=Ci(!0);Ms.setValue(_s,{value:Yi}),Mi.preventDefault(),(Qi=this.linkService.eventBus)==null||Qi.dispatch("dispatcheventinsandbox",{source:this,detail:{id:_s,name:"Keystroke",value:Fi,changeEx:Yi,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Zs,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Mi=>Mi.target.value)):Zs.addEventListener("input",function(Mi){Ms.setValue(_s,{value:Ci(!0)})}),this.data.combo&&this._setTextStyle(Zs),this._setBackgroundColor(Zs),this._setDefaultPropertiesFromJS(Zs),this.container.append(Zs),this.container}}class Lr extends br{constructor(Ms){const{data:_s,elements:Xs}=Ms;super(Ms,{isRenderable:br._hasPopupData(_s)}),this.elements=Xs}render(){this.container.classList.add("popupAnnotation");const Ms=new _r({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),_s=[];for(const Xs of this.elements)Xs.popup=Ms,_s.push(Xs.data.id),Xs.addHighlightArea();return this.container.setAttribute("aria-controls",_s.map(Xs=>`${Ar.AnnotationPrefix}${Xs}`).join(",")),this.container}}class _r{constructor({container:Ms,color:_s,elements:Xs,titleObj:Zs,modificationDate:pi,contentsObj:wi,richText:Ci,parent:Fi,rect:Di,parentRect:Mi,open:Yi}){ci(this,li);ci(this,bs,null);ci(this,Ts,ei(this,li,Sp).bind(this));ci(this,Ds,ei(this,li,dh).bind(this));ci(this,us,ei(this,li,uh).bind(this));ci(this,ps,ei(this,li,Vd).bind(this));ci(this,ms,null);ci(this,ss,null);ci(this,ks,null);ci(this,as,null);ci(this,fs,null);ci(this,ws,null);ci(this,Is,!1);ci(this,Ps,null);ci(this,Ws,null);ci(this,Ks,null);ci(this,Fs,null);ci(this,ni,!1);var ji;di(this,ss,Ms),di(this,Fs,Zs),di(this,ks,wi),di(this,Ks,Ci),di(this,fs,Fi),di(this,ms,_s),di(this,Ws,Di),di(this,ws,Mi),di(this,as,Xs);const Qi=cr.PDFDateString.toDateObject(pi);Qi&&di(this,bs,Fi.l10n.get("annotation_date_string",{date:Qi.toLocaleDateString(),time:Qi.toLocaleTimeString()})),this.trigger=Xs.flatMap(Gi=>Gi.getElementsToTriggerPopup());for(const Gi of this.trigger)Gi.addEventListener("click",qr(this,ps)),Gi.addEventListener("mouseenter",qr(this,us)),Gi.addEventListener("mouseleave",qr(this,Ds)),Gi.classList.add("popupTriggerArea");for(const Gi of Xs)(ji=Gi.container)==null||ji.addEventListener("keydown",qr(this,Ts));qr(this,ss).hidden=!0,Yi&&ei(this,li,Vd).call(this)}render(){if(qr(this,Ps))return;const{page:{view:Ms},viewport:{rawDims:{pageWidth:_s,pageHeight:Xs,pageX:Zs,pageY:pi}}}=qr(this,fs),wi=di(this,Ps,document.createElement("div"));if(wi.className="popup",qr(this,ms)){const vo=wi.style.outlineColor=Ar.Util.makeHexColor(...qr(this,ms));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?wi.style.backgroundColor=`color-mix(in srgb, ${vo} 30%, white)`:wi.style.backgroundColor=Ar.Util.makeHexColor(...qr(this,ms).map(pa=>Math.floor(.7*(255-pa)+pa)))}const Ci=document.createElement("span");Ci.className="header";const Fi=document.createElement("h1");if(Ci.append(Fi),{dir:Fi.dir,str:Fi.textContent}=qr(this,Fs),wi.append(Ci),qr(this,bs)){const vo=document.createElement("span");vo.classList.add("popupDate"),qr(this,bs).then(la=>{vo.textContent=la}),Ci.append(vo)}const Di=qr(this,ks),Mi=qr(this,Ks);if(Mi!=null&&Mi.str&&(!(Di!=null&&Di.str)||Di.str===Mi.str))fr.XfaLayer.render({xfaHtml:Mi.html,intent:"richText",div:wi}),wi.lastChild.classList.add("richText","popupContent");else{const vo=this._formatContents(Di);wi.append(vo)}let Yi=!!qr(this,ws),Qi=Yi?qr(this,ws):qr(this,Ws);for(const vo of qr(this,as))if(!Qi||Ar.Util.intersect(vo.data.rect,Qi)!==null){Qi=vo.data.rect,Yi=!0;break}const ji=Ar.Util.normalizeRect([Qi[0],Ms[3]-Qi[1]+Ms[1],Qi[2],Ms[3]-Qi[3]+Ms[1]]),eo=Yi?Qi[2]-Qi[0]+5:0,so=ji[0]+eo,co=ji[1],{style:xo}=qr(this,ss);xo.left=`${100*(so-Zs)/_s}%`,xo.top=`${100*(co-pi)/Xs}%`,qr(this,ss).append(wi)}_formatContents({str:Ms,dir:_s}){const Xs=document.createElement("p");Xs.classList.add("popupContent"),Xs.dir=_s;const Zs=Ms.split(/(?:\r\n?|\n)/);for(let pi=0,wi=Zs.length;pi<wi;++pi){const Ci=Zs[pi];Xs.append(document.createTextNode(Ci)),pi<wi-1&&Xs.append(document.createElement("br"))}return Xs}forceHide(){di(this,ni,this.isVisible),qr(this,ni)&&(qr(this,ss).hidden=!0)}maybeShow(){qr(this,ni)&&(di(this,ni,!1),qr(this,ss).hidden=!1)}get isVisible(){return qr(this,ss).hidden===!1}}bs=new WeakMap,Ts=new WeakMap,Ds=new WeakMap,us=new WeakMap,ps=new WeakMap,ms=new WeakMap,ss=new WeakMap,ks=new WeakMap,as=new WeakMap,fs=new WeakMap,ws=new WeakMap,Is=new WeakMap,Ps=new WeakMap,Ws=new WeakMap,Ks=new WeakMap,Fs=new WeakMap,ni=new WeakMap,li=new WeakSet,Sp=function(Ms){Ms.altKey||Ms.shiftKey||Ms.ctrlKey||Ms.metaKey||(Ms.key==="Enter"||Ms.key==="Escape"&&qr(this,Is))&&ei(this,li,Vd).call(this)},Vd=function(){di(this,Is,!qr(this,Is)),qr(this,Is)?(ei(this,li,uh).call(this),qr(this,ss).addEventListener("click",qr(this,ps)),qr(this,ss).addEventListener("keydown",qr(this,Ts))):(ei(this,li,dh).call(this),qr(this,ss).removeEventListener("click",qr(this,ps)),qr(this,ss).removeEventListener("keydown",qr(this,Ts)))},uh=function(){qr(this,Ps)||this.render(),this.isVisible?qr(this,Is)&&qr(this,ss).classList.add("focused"):(qr(this,ss).hidden=!1,qr(this,ss).style.zIndex=parseInt(qr(this,ss).style.zIndex)+1e3)},dh=function(){qr(this,ss).classList.remove("focused"),!(qr(this,Is)||!this.isVisible)&&(qr(this,ss).hidden=!0,qr(this,ss).style.zIndex=parseInt(qr(this,ss).style.zIndex)-1e3)};class Hr extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ms.data.textContent,this.textPosition=Ms.data.textPosition,this.annotationEditorType=Ar.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ms=document.createElement("div");Ms.classList.add("annotationTextContent"),Ms.setAttribute("role","comment");for(const _s of this.textContent){const Xs=document.createElement("span");Xs.textContent=_s,Ms.append(Xs)}this.container.append(Ms)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}or.FreeTextAnnotationElement=Hr;class Mr extends br{constructor(_s){super(_s,{isRenderable:!0,ignoreBorder:!0});ci(this,$s,null)}render(){this.container.classList.add("lineAnnotation");const _s=this.data,{width:Xs,height:Zs}=yr(_s.rect),pi=this.svgFactory.create(Xs,Zs,!0),wi=di(this,$s,this.svgFactory.createElement("svg:line"));return wi.setAttribute("x1",_s.rect[2]-_s.lineCoordinates[0]),wi.setAttribute("y1",_s.rect[3]-_s.lineCoordinates[1]),wi.setAttribute("x2",_s.rect[2]-_s.lineCoordinates[2]),wi.setAttribute("y2",_s.rect[3]-_s.lineCoordinates[3]),wi.setAttribute("stroke-width",_s.borderStyle.width||1),wi.setAttribute("stroke","transparent"),wi.setAttribute("fill","transparent"),pi.append(wi),this.container.append(pi),!_s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qr(this,$s)}addHighlightArea(){this.container.classList.add("highlightArea")}}$s=new WeakMap;class Ur extends br{constructor(_s){super(_s,{isRenderable:!0,ignoreBorder:!0});ci(this,qs,null)}render(){this.container.classList.add("squareAnnotation");const _s=this.data,{width:Xs,height:Zs}=yr(_s.rect),pi=this.svgFactory.create(Xs,Zs,!0),wi=_s.borderStyle.width,Ci=di(this,qs,this.svgFactory.createElement("svg:rect"));return Ci.setAttribute("x",wi/2),Ci.setAttribute("y",wi/2),Ci.setAttribute("width",Xs-wi),Ci.setAttribute("height",Zs-wi),Ci.setAttribute("stroke-width",wi||1),Ci.setAttribute("stroke","transparent"),Ci.setAttribute("fill","transparent"),pi.append(Ci),this.container.append(pi),!_s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qr(this,qs)}addHighlightArea(){this.container.classList.add("highlightArea")}}qs=new WeakMap;class Kr extends br{constructor(_s){super(_s,{isRenderable:!0,ignoreBorder:!0});ci(this,bi,null)}render(){this.container.classList.add("circleAnnotation");const _s=this.data,{width:Xs,height:Zs}=yr(_s.rect),pi=this.svgFactory.create(Xs,Zs,!0),wi=_s.borderStyle.width,Ci=di(this,bi,this.svgFactory.createElement("svg:ellipse"));return Ci.setAttribute("cx",Xs/2),Ci.setAttribute("cy",Zs/2),Ci.setAttribute("rx",Xs/2-wi/2),Ci.setAttribute("ry",Zs/2-wi/2),Ci.setAttribute("stroke-width",wi||1),Ci.setAttribute("stroke","transparent"),Ci.setAttribute("fill","transparent"),pi.append(Ci),this.container.append(pi),!_s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qr(this,bi)}addHighlightArea(){this.container.classList.add("highlightArea")}}bi=new WeakMap;class Xr extends br{constructor(_s){super(_s,{isRenderable:!0,ignoreBorder:!0});ci(this,zs,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const _s=this.data,{width:Xs,height:Zs}=yr(_s.rect),pi=this.svgFactory.create(Xs,Zs,!0);let wi=[];for(const Fi of _s.vertices){const Di=Fi.x-_s.rect[0],Mi=_s.rect[3]-Fi.y;wi.push(Di+","+Mi)}wi=wi.join(" ");const Ci=di(this,zs,this.svgFactory.createElement(this.svgElementName));return Ci.setAttribute("points",wi),Ci.setAttribute("stroke-width",_s.borderStyle.width||1),Ci.setAttribute("stroke","transparent"),Ci.setAttribute("fill","transparent"),pi.append(Ci),this.container.append(pi),!_s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return qr(this,zs)}addHighlightArea(){this.container.classList.add("highlightArea")}}zs=new WeakMap;class Yr extends Xr{constructor(Ms){super(Ms),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Zr extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ns extends br{constructor(_s){super(_s,{isRenderable:!0,ignoreBorder:!0});ci(this,Vs,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ar.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const _s=this.data,{width:Xs,height:Zs}=yr(_s.rect),pi=this.svgFactory.create(Xs,Zs,!0);for(const wi of _s.inkLists){let Ci=[];for(const Di of wi){const Mi=Di.x-_s.rect[0],Yi=_s.rect[3]-Di.y;Ci.push(`${Mi},${Yi}`)}Ci=Ci.join(" ");const Fi=this.svgFactory.createElement(this.svgElementName);qr(this,Vs).push(Fi),Fi.setAttribute("points",Ci),Fi.setAttribute("stroke-width",_s.borderStyle.width||1),Fi.setAttribute("stroke","transparent"),Fi.setAttribute("fill","transparent"),!_s.popupRef&&this.hasPopupData&&this._createPopup(),pi.append(Fi)}return this.container.append(pi),this.container}getElementsToTriggerPopup(){return qr(this,Vs)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vs=new WeakMap,or.InkAnnotationElement=ns;class As extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class is extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gs extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Os extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Vr extends br{constructor(Ms){super(Ms,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}or.StampAnnotationElement=Vr;class Qr extends br{constructor(_s){var pi;super(_s,{isRenderable:!0});ci(this,fi);ci(this,Ys,null);const{filename:Xs,content:Zs}=this.data.file;this.filename=(0,cr.getFilenameFromUrl)(Xs,!0),this.content=Zs,(pi=this.linkService.eventBus)==null||pi.dispatch("fileattachmentannotation",{source:this,filename:Xs,content:Zs})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:_s,data:Xs}=this;let Zs;Xs.hasAppearance||Xs.fillAlpha===0?Zs=document.createElement("div"):(Zs=document.createElement("img"),Zs.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Xs.name)?"paperclip":"pushpin"}.svg`,Xs.fillAlpha&&Xs.fillAlpha<1&&(Zs.style=`filter: opacity(${Math.round(Xs.fillAlpha*100)}%);`)),Zs.addEventListener("dblclick",ei(this,fi,fh).bind(this)),di(this,Ys,Zs);const{isMac:pi}=Ar.FeatureTest.platform;return _s.addEventListener("keydown",wi=>{wi.key==="Enter"&&(pi?wi.metaKey:wi.ctrlKey)&&ei(this,fi,fh).call(this)}),!Xs.popupRef&&this.hasPopupData?this._createPopup():Zs.classList.add("popupTriggerArea"),_s.append(Zs),_s}getElementsToTriggerPopup(){return qr(this,Ys)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ys=new WeakMap,fi=new WeakSet,fh=function(){var _s;(_s=this.downloadManager)==null||_s.openOrDownloadData(this.container,this.content,this.filename)};class $r{constructor({div:Ms,accessibilityManager:_s,annotationCanvasMap:Xs,l10n:Zs,page:pi,viewport:wi}){ci(this,oi);ci(this,Ei,null);ci(this,Rs,null);ci(this,Js,new Map);this.div=Ms,di(this,Ei,_s),di(this,Rs,Xs),this.l10n=Zs,this.page=pi,this.viewport=wi,this.zIndex=0,this.l10n||(this.l10n=hr.NullL10n)}async render(Ms){const{annotations:_s}=Ms,Xs=this.div;(0,cr.setLayerDimensions)(Xs,this.viewport);const Zs=new Map,pi={data:null,layer:Xs,linkService:Ms.linkService,downloadManager:Ms.downloadManager,imageResourcesPath:Ms.imageResourcesPath||"",renderForms:Ms.renderForms!==!1,svgFactory:new cr.DOMSVGFactory,annotationStorage:Ms.annotationStorage||new ur.AnnotationStorage,enableScripting:Ms.enableScripting===!0,hasJSActions:Ms.hasJSActions,fieldObjects:Ms.fieldObjects,parent:this,elements:null};for(const wi of _s){if(wi.noHTML)continue;const Ci=wi.annotationType===Ar.AnnotationType.POPUP;if(Ci){const Mi=Zs.get(wi.id);if(!Mi)continue;pi.elements=Mi}else{const{width:Mi,height:Yi}=yr(wi.rect);if(Mi<=0||Yi<=0)continue}pi.data=wi;const Fi=vr.create(pi);if(!Fi.isRenderable)continue;if(!Ci&&wi.popupRef){const Mi=Zs.get(wi.popupRef);Mi?Mi.push(Fi):Zs.set(wi.popupRef,[Fi])}Fi.annotationEditorType>0&&qr(this,Js).set(Fi.data.id,Fi);const Di=Fi.render();wi.hidden&&(Di.style.visibility="hidden"),ei(this,oi,xp).call(this,Di,wi.id)}ei(this,oi,hh).call(this),await this.l10n.translate(Xs)}update({viewport:Ms}){const _s=this.div;this.viewport=Ms,(0,cr.setLayerDimensions)(_s,{rotation:Ms.rotation}),ei(this,oi,hh).call(this),_s.hidden=!1}getEditableAnnotations(){return Array.from(qr(this,Js).values())}getEditableAnnotation(Ms){return qr(this,Js).get(Ms)}}Ei=new WeakMap,Rs=new WeakMap,Js=new WeakMap,oi=new WeakSet,xp=function(Ms,_s){var Zs;const Xs=Ms.firstChild||Ms;Xs.id=`${Ar.AnnotationPrefix}${_s}`,this.div.append(Ms),(Zs=qr(this,Ei))==null||Zs.moveElementInDOM(this.div,Ms,Xs,!1)},hh=function(){if(!qr(this,Rs))return;const Ms=this.div;for(const[_s,Xs]of qr(this,Rs)){const Zs=Ms.querySelector(`[data-annotation-id="${_s}"]`);if(!Zs)continue;const{firstChild:pi}=Zs;pi?pi.nodeName==="CANVAS"?pi.replaceWith(Xs):pi.before(Xs):Zs.append(Xs)}qr(this,Rs).clear()},or.AnnotationLayer=$r},(ar,or)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.ColorConverters=void 0;function lr(ur){return Math.floor(Math.max(0,Math.min(1,ur))*255).toString(16).padStart(2,"0")}function Ar(ur){return Math.max(0,Math.min(255,255*ur))}class cr{static CMYK_G([dr,hr,fr,gr]){return["G",1-Math.min(1,.3*dr+.59*fr+.11*hr+gr)]}static G_CMYK([dr]){return["CMYK",0,0,0,1-dr]}static G_RGB([dr]){return["RGB",dr,dr,dr]}static G_rgb([dr]){return dr=Ar(dr),[dr,dr,dr]}static G_HTML([dr]){const hr=lr(dr);return`#${hr}${hr}${hr}`}static RGB_G([dr,hr,fr]){return["G",.3*dr+.59*hr+.11*fr]}static RGB_rgb(dr){return dr.map(Ar)}static RGB_HTML(dr){return`#${dr.map(lr).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([dr,hr,fr,gr]){return["RGB",1-Math.min(1,dr+gr),1-Math.min(1,fr+gr),1-Math.min(1,hr+gr)]}static CMYK_rgb([dr,hr,fr,gr]){return[Ar(1-Math.min(1,dr+gr)),Ar(1-Math.min(1,fr+gr)),Ar(1-Math.min(1,hr+gr))]}static CMYK_HTML(dr){const hr=this.CMYK_RGB(dr).slice(1);return this.RGB_HTML(hr)}static RGB_CMYK([dr,hr,fr]){const gr=1-dr,pr=1-hr,mr=1-fr,yr=Math.min(gr,pr,mr);return["CMYK",gr,pr,mr,yr]}}or.ColorConverters=cr},(ar,or)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.NullL10n=void 0,or.getL10nFallback=Ar;const lr={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};lr.print_progress_percent="{{progress}}%";function Ar(dr,hr){switch(dr){case"find_match_count":dr=`find_match_count[${hr.total===1?"one":"other"}]`;break;case"find_match_count_limit":dr=`find_match_count_limit[${hr.limit===1?"one":"other"}]`;break}return lr[dr]||""}function cr(dr,hr){return hr?dr.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(fr,gr)=>gr in hr?hr[gr]:"{{"+gr+"}}"):dr}const ur={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(dr,hr=null,fr=Ar(dr,hr)){return cr(fr,hr)},async translate(dr){}};or.NullL10n=ur},(ar,or,lr)=>{Object.defineProperty(or,"__esModule",{value:!0}),or.XfaLayer=void 0;var Ar=lr(25);class cr{static setupStorage(dr,hr,fr,gr,pr){const mr=gr.getValue(hr,{value:null});switch(fr.name){case"textarea":if(mr.value!==null&&(dr.textContent=mr.value),pr==="print")break;dr.addEventListener("input",yr=>{gr.setValue(hr,{value:yr.target.value})});break;case"input":if(fr.attributes.type==="radio"||fr.attributes.type==="checkbox"){if(mr.value===fr.attributes.xfaOn?dr.setAttribute("checked",!0):mr.value===fr.attributes.xfaOff&&dr.removeAttribute("checked"),pr==="print")break;dr.addEventListener("change",yr=>{gr.setValue(hr,{value:yr.target.checked?yr.target.getAttribute("xfaOn"):yr.target.getAttribute("xfaOff")})})}else{if(mr.value!==null&&dr.setAttribute("value",mr.value),pr==="print")break;dr.addEventListener("input",yr=>{gr.setValue(hr,{value:yr.target.value})})}break;case"select":if(mr.value!==null){dr.setAttribute("value",mr.value);for(const yr of fr.children)yr.attributes.value===mr.value?yr.attributes.selected=!0:yr.attributes.hasOwnProperty("selected")&&delete yr.attributes.selected}dr.addEventListener("input",yr=>{const vr=yr.target.options,br=vr.selectedIndex===-1?"":vr[vr.selectedIndex].value;gr.setValue(hr,{value:br})});break}}static setAttributes({html:dr,element:hr,storage:fr=null,intent:gr,linkService:pr}){const{attributes:mr}=hr,yr=dr instanceof HTMLAnchorElement;mr.type==="radio"&&(mr.name=`${mr.name}-${gr}`);for(const[vr,br]of Object.entries(mr))if(br!=null)switch(vr){case"class":br.length&&dr.setAttribute(vr,br.join(" "));break;case"dataId":break;case"id":dr.setAttribute("data-element-id",br);break;case"style":Object.assign(dr.style,br);break;case"textContent":dr.textContent=br;break;default:(!yr||vr!=="href"&&vr!=="newWindow")&&dr.setAttribute(vr,br)}yr&&pr.addLinkAttributes(dr,mr.href,mr.newWindow),fr&&mr.dataId&&this.setupStorage(dr,mr.dataId,hr,fr)}static render(dr){var wr;const hr=dr.annotationStorage,fr=dr.linkService,gr=dr.xfaHtml,pr=dr.intent||"display",mr=document.createElement(gr.name);gr.attributes&&this.setAttributes({html:mr,element:gr,intent:pr,linkService:fr});const yr=[[gr,-1,mr]],vr=dr.div;if(vr.append(mr),dr.viewport){const Cr=`matrix(${dr.viewport.transform.join(",")})`;vr.style.transform=Cr}pr!=="richText"&&vr.setAttribute("class","xfaLayer xfaFont");const br=[];for(;yr.length>0;){const[Cr,Br,Sr]=yr.at(-1);if(Br+1===Cr.children.length){yr.pop();continue}const Er=Cr.children[++yr.at(-1)[1]];if(Er===null)continue;const{name:Tr}=Er;if(Tr==="#text"){const Or=document.createTextNode(Er.value);br.push(Or),Sr.append(Or);continue}const kr=(wr=Er==null?void 0:Er.attributes)!=null&&wr.xmlns?document.createElementNS(Er.attributes.xmlns,Tr):document.createElement(Tr);if(Sr.append(kr),Er.attributes&&this.setAttributes({html:kr,element:Er,storage:hr,intent:pr,linkService:fr}),Er.children&&Er.children.length>0)yr.push([Er,-1,kr]);else if(Er.value){const Or=document.createTextNode(Er.value);Ar.XfaText.shouldBuildText(Tr)&&br.push(Or),kr.append(Or)}}for(const Cr of vr.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Cr.setAttribute("readOnly",!0);return{textDivs:br}}static update(dr){const hr=`matrix(${dr.viewport.transform.join(",")})`;dr.div.style.transform=hr,dr.div.hidden=!1}}or.XfaLayer=cr},(ar,or,lr)=>{var gr,pr,mr,yr,vr,br,wr,Cr,Br,Sr,Er,Tr,kr,Or,Rr,Ep,Fp,Tp,kp,ph,Ip,gh,Np,Pp,_p,Op,Mp,uA,mh,Kd,Gd,cu,vh,Wd,Jr,Lp,yh,Rp,Dp,bh,zd,uu;Object.defineProperty(or,"__esModule",{value:!0}),or.InkEditor=void 0;var Ar=lr(1),cr=lr(4),ur=lr(29),dr=lr(6),hr=lr(5);const ms=class ms extends cr.AnnotationEditor{constructor(as){super({...as,name:"inkEditor"});ci(this,Rr);ci(this,gr,0);ci(this,pr,0);ci(this,mr,this.canvasPointermove.bind(this));ci(this,yr,this.canvasPointerleave.bind(this));ci(this,vr,this.canvasPointerup.bind(this));ci(this,br,this.canvasPointerdown.bind(this));ci(this,wr,new Path2D);ci(this,Cr,!1);ci(this,Br,!1);ci(this,Sr,!1);ci(this,Er,null);ci(this,Tr,0);ci(this,kr,0);ci(this,Or,null);this.color=as.color||null,this.thickness=as.thickness||null,this.opacity=as.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(as){cr.AnnotationEditor.initialize(as,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(as,fs){switch(as){case Ar.AnnotationEditorParamsType.INK_THICKNESS:ms._defaultThickness=fs;break;case Ar.AnnotationEditorParamsType.INK_COLOR:ms._defaultColor=fs;break;case Ar.AnnotationEditorParamsType.INK_OPACITY:ms._defaultOpacity=fs/100;break}}updateParams(as,fs){switch(as){case Ar.AnnotationEditorParamsType.INK_THICKNESS:ei(this,Rr,Ep).call(this,fs);break;case Ar.AnnotationEditorParamsType.INK_COLOR:ei(this,Rr,Fp).call(this,fs);break;case Ar.AnnotationEditorParamsType.INK_OPACITY:ei(this,Rr,Tp).call(this,fs);break}}static get defaultPropertiesToUpdate(){return[[Ar.AnnotationEditorParamsType.INK_THICKNESS,ms._defaultThickness],[Ar.AnnotationEditorParamsType.INK_COLOR,ms._defaultColor||cr.AnnotationEditor._defaultLineColor],[Ar.AnnotationEditorParamsType.INK_OPACITY,Math.round(ms._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ar.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ms._defaultThickness],[Ar.AnnotationEditorParamsType.INK_COLOR,this.color||ms._defaultColor||cr.AnnotationEditor._defaultLineColor],[Ar.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??ms._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ei(this,Rr,Kd).call(this),ei(this,Rr,Gd).call(this)),this.isAttachedToDOM||(this.parent.add(this),ei(this,Rr,cu).call(this)),ei(this,Rr,uu).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,qr(this,Er).disconnect(),di(this,Er,null),super.remove())}setParent(as){!this.parent&&as?this._uiManager.removeShouldRescale(this):this.parent&&as===null&&this._uiManager.addShouldRescale(this),super.setParent(as)}onScaleChanging(){const[as,fs]=this.parentDimensions,ws=this.width*as,Is=this.height*fs;this.setDimensions(ws,Is)}enableEditMode(){qr(this,Cr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",qr(this,br)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",qr(this,br)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){qr(this,Cr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),di(this,Cr,!0),this.div.classList.add("disabled"),ei(this,Rr,uu).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(as){this._focusEventsAllowed&&(super.focusin(as),this.enableEditMode())}canvasPointerdown(as){as.button!==0||!this.isInEditMode()||qr(this,Cr)||(this.setInForeground(),as.preventDefault(),as.type!=="mouse"&&this.div.focus(),ei(this,Rr,Ip).call(this,as.offsetX,as.offsetY))}canvasPointermove(as){as.preventDefault(),ei(this,Rr,gh).call(this,as.offsetX,as.offsetY)}canvasPointerup(as){as.preventDefault(),ei(this,Rr,mh).call(this,as)}canvasPointerleave(as){ei(this,Rr,mh).call(this,as)}get isResizable(){return!this.isEmpty()&&qr(this,Cr)}render(){if(this.div)return this.div;let as,fs;this.width&&(as=this.x,fs=this.y),super.render(),cr.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Ks=>{var Fs;return(Fs=this.div)==null?void 0:Fs.setAttribute("aria-label",Ks)});const[ws,Is,Ps,Ws]=ei(this,Rr,kp).call(this);if(this.setAt(ws,Is,0,0),this.setDims(Ps,Ws),ei(this,Rr,Kd).call(this),this.width){const[Ks,Fs]=this.parentDimensions;this.setAspectRatio(this.width*Ks,this.height*Fs),this.setAt(as*Ks,fs*Fs,this.width*Ks,this.height*Fs),di(this,Sr,!0),ei(this,Rr,cu).call(this),this.setDims(this.width*Ks,this.height*Fs),ei(this,Rr,uA).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ei(this,Rr,Gd).call(this),this.div}setDimensions(as,fs){const ws=Math.round(as),Is=Math.round(fs);if(qr(this,Tr)===ws&&qr(this,kr)===Is)return;di(this,Tr,ws),di(this,kr,Is),this.canvas.style.visibility="hidden";const[Ps,Ws]=this.parentDimensions;this.width=as/Ps,this.height=fs/Ws,this.fixAndSetPosition(),qr(this,Cr)&&ei(this,Rr,vh).call(this,as,fs),ei(this,Rr,cu).call(this),ei(this,Rr,uA).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(as,fs,ws){var $s,qs,bi;if(as instanceof ur.InkAnnotationElement)return null;const Is=super.deserialize(as,fs,ws);Is.thickness=as.thickness,Is.color=Ar.Util.makeHexColor(...as.color),Is.opacity=as.opacity;const[Ps,Ws]=Is.pageDimensions,Ks=Is.width*Ps,Fs=Is.height*Ws,ni=Is.parentScale,li=as.thickness/2;di(Is,Cr,!0),di(Is,Tr,Math.round(Ks)),di(Is,kr,Math.round(Fs));const{paths:Si,rect:Us,rotation:Cs}=as;for(let{bezier:zs}of Si){zs=ei($s=ms,Jr,Rp).call($s,zs,Us,Cs);const Vs=[];Is.paths.push(Vs);let Ys=ni*(zs[0]-li),fi=ni*(zs[1]-li);for(let Ei=2,Rs=zs.length;Ei<Rs;Ei+=6){const Js=ni*(zs[Ei]-li),oi=ni*(zs[Ei+1]-li),hi=ni*(zs[Ei+2]-li),Bi=ni*(zs[Ei+3]-li),Ii=ni*(zs[Ei+4]-li),Ms=ni*(zs[Ei+5]-li);Vs.push([[Ys,fi],[Js,oi],[hi,Bi],[Ii,Ms]]),Ys=Ii,fi=Ms}const Pi=ei(this,Jr,Lp).call(this,Vs);Is.bezierPath2D.push(Pi)}const Bs=ei(qs=Is,Rr,bh).call(qs);return di(Is,pr,Math.max(cr.AnnotationEditor.MIN_SIZE,Bs[2]-Bs[0])),di(Is,gr,Math.max(cr.AnnotationEditor.MIN_SIZE,Bs[3]-Bs[1])),ei(bi=Is,Rr,vh).call(bi,Ks,Fs),Is}serialize(){if(this.isEmpty())return null;const as=this.getRect(0,0),fs=cr.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ar.AnnotationEditorType.INK,color:fs,thickness:this.thickness,opacity:this.opacity,paths:ei(this,Rr,Dp).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,as),pageIndex:this.pageIndex,rect:as,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};gr=new WeakMap,pr=new WeakMap,mr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,wr=new WeakMap,Cr=new WeakMap,Br=new WeakMap,Sr=new WeakMap,Er=new WeakMap,Tr=new WeakMap,kr=new WeakMap,Or=new WeakMap,Rr=new WeakSet,Ep=function(as){const fs=this.thickness;this.addCommands({cmd:()=>{this.thickness=as,ei(this,Rr,uu).call(this)},undo:()=>{this.thickness=fs,ei(this,Rr,uu).call(this)},mustExec:!0,type:Ar.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Fp=function(as){const fs=this.color;this.addCommands({cmd:()=>{this.color=as,ei(this,Rr,uA).call(this)},undo:()=>{this.color=fs,ei(this,Rr,uA).call(this)},mustExec:!0,type:Ar.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Tp=function(as){as/=100;const fs=this.opacity;this.addCommands({cmd:()=>{this.opacity=as,ei(this,Rr,uA).call(this)},undo:()=>{this.opacity=fs,ei(this,Rr,uA).call(this)},mustExec:!0,type:Ar.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},kp=function(){const{parentRotation:as,parentDimensions:[fs,ws]}=this;switch(as){case 90:return[0,ws,ws,fs];case 180:return[fs,ws,fs,ws];case 270:return[fs,0,ws,fs];default:return[0,0,fs,ws]}},ph=function(){const{ctx:as,color:fs,opacity:ws,thickness:Is,parentScale:Ps,scaleFactor:Ws}=this;as.lineWidth=Is*Ps/Ws,as.lineCap="round",as.lineJoin="round",as.miterLimit=10,as.strokeStyle=`${fs}${(0,hr.opacityToHex)(ws)}`},Ip=function(as,fs){this.canvas.addEventListener("contextmenu",dr.noContextMenu),this.canvas.addEventListener("pointerleave",qr(this,yr)),this.canvas.addEventListener("pointermove",qr(this,mr)),this.canvas.addEventListener("pointerup",qr(this,vr)),this.canvas.removeEventListener("pointerdown",qr(this,br)),this.isEditing=!0,qr(this,Sr)||(di(this,Sr,!0),ei(this,Rr,cu).call(this),this.thickness||(this.thickness=ms._defaultThickness),this.color||(this.color=ms._defaultColor||cr.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=ms._defaultOpacity)),this.currentPath.push([as,fs]),di(this,Br,!1),ei(this,Rr,ph).call(this),di(this,Or,()=>{ei(this,Rr,_p).call(this),qr(this,Or)&&window.requestAnimationFrame(qr(this,Or))}),window.requestAnimationFrame(qr(this,Or))},gh=function(as,fs){const[ws,Is]=this.currentPath.at(-1);if(this.currentPath.length>1&&as===ws&&fs===Is)return;const Ps=this.currentPath;let Ws=qr(this,wr);if(Ps.push([as,fs]),di(this,Br,!0),Ps.length<=2){Ws.moveTo(...Ps[0]),Ws.lineTo(as,fs);return}Ps.length===3&&(di(this,wr,Ws=new Path2D),Ws.moveTo(...Ps[0])),ei(this,Rr,Op).call(this,Ws,...Ps.at(-3),...Ps.at(-2),as,fs)},Np=function(){if(this.currentPath.length===0)return;const as=this.currentPath.at(-1);qr(this,wr).lineTo(...as)},Pp=function(as,fs){di(this,Or,null),as=Math.min(Math.max(as,0),this.canvas.width),fs=Math.min(Math.max(fs,0),this.canvas.height),ei(this,Rr,gh).call(this,as,fs),ei(this,Rr,Np).call(this);let ws;if(this.currentPath.length!==1)ws=ei(this,Rr,Mp).call(this);else{const Fs=[as,fs];ws=[[Fs,Fs.slice(),Fs.slice(),Fs]]}const Is=qr(this,wr),Ps=this.currentPath;this.currentPath=[],di(this,wr,new Path2D);const Ws=()=>{this.allRawPaths.push(Ps),this.paths.push(ws),this.bezierPath2D.push(Is),this.rebuild()},Ks=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ei(this,Rr,Kd).call(this),ei(this,Rr,Gd).call(this)),ei(this,Rr,uu).call(this))};this.addCommands({cmd:Ws,undo:Ks,mustExec:!0})},_p=function(){if(!qr(this,Br))return;di(this,Br,!1);const as=Math.ceil(this.thickness*this.parentScale),fs=this.currentPath.slice(-3),ws=fs.map(Ws=>Ws[0]),Is=fs.map(Ws=>Ws[1]);Math.min(...ws)-as,Math.max(...ws)+as,Math.min(...Is)-as,Math.max(...Is)+as;const{ctx:Ps}=this;Ps.save(),Ps.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ws of this.bezierPath2D)Ps.stroke(Ws);Ps.stroke(qr(this,wr)),Ps.restore()},Op=function(as,fs,ws,Is,Ps,Ws,Ks){const Fs=(fs+Is)/2,ni=(ws+Ps)/2,li=(Is+Ws)/2,Si=(Ps+Ks)/2;as.bezierCurveTo(Fs+2*(Is-Fs)/3,ni+2*(Ps-ni)/3,li+2*(Is-li)/3,Si+2*(Ps-Si)/3,li,Si)},Mp=function(){const as=this.currentPath;if(as.length<=2)return[[as[0],as[0],as.at(-1),as.at(-1)]];const fs=[];let ws,[Is,Ps]=as[0];for(ws=1;ws<as.length-2;ws++){const[Us,Cs]=as[ws],[Bs,$s]=as[ws+1],qs=(Us+Bs)/2,bi=(Cs+$s)/2,zs=[Is+2*(Us-Is)/3,Ps+2*(Cs-Ps)/3],Vs=[qs+2*(Us-qs)/3,bi+2*(Cs-bi)/3];fs.push([[Is,Ps],zs,Vs,[qs,bi]]),[Is,Ps]=[qs,bi]}const[Ws,Ks]=as[ws],[Fs,ni]=as[ws+1],li=[Is+2*(Ws-Is)/3,Ps+2*(Ks-Ps)/3],Si=[Fs+2*(Ws-Fs)/3,ni+2*(Ks-ni)/3];return fs.push([[Is,Ps],li,Si,[Fs,ni]]),fs},uA=function(){if(this.isEmpty()){ei(this,Rr,Wd).call(this);return}ei(this,Rr,ph).call(this);const{canvas:as,ctx:fs}=this;fs.setTransform(1,0,0,1,0,0),fs.clearRect(0,0,as.width,as.height),ei(this,Rr,Wd).call(this);for(const ws of this.bezierPath2D)fs.stroke(ws)},mh=function(as){this.canvas.removeEventListener("pointerleave",qr(this,yr)),this.canvas.removeEventListener("pointermove",qr(this,mr)),this.canvas.removeEventListener("pointerup",qr(this,vr)),this.canvas.addEventListener("pointerdown",qr(this,br)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",dr.noContextMenu)},10),ei(this,Rr,Pp).call(this,as.offsetX,as.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Kd=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",cr.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(as=>{var fs;return(fs=this.canvas)==null?void 0:fs.setAttribute("aria-label",as)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Gd=function(){di(this,Er,new ResizeObserver(as=>{const fs=as[0].contentRect;fs.width&&fs.height&&this.setDimensions(fs.width,fs.height)})),qr(this,Er).observe(this.div)},cu=function(){if(!qr(this,Sr))return;const[as,fs]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*as),this.canvas.height=Math.ceil(this.height*fs),ei(this,Rr,Wd).call(this)},vh=function(as,fs){const ws=ei(this,Rr,zd).call(this),Is=(as-ws)/qr(this,pr),Ps=(fs-ws)/qr(this,gr);this.scaleFactor=Math.min(Is,Ps)},Wd=function(){const as=ei(this,Rr,zd).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+as,this.translationY*this.scaleFactor+as)},Jr=new WeakSet,Lp=function(as){const fs=new Path2D;for(let ws=0,Is=as.length;ws<Is;ws++){const[Ps,Ws,Ks,Fs]=as[ws];ws===0&&fs.moveTo(...Ps),fs.bezierCurveTo(Ws[0],Ws[1],Ks[0],Ks[1],Fs[0],Fs[1])}return fs},yh=function(as,fs,ws){const[Is,Ps,Ws,Ks]=fs;switch(ws){case 0:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2)as[Fs]+=Is,as[Fs+1]=Ks-as[Fs+1];break;case 90:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2){const li=as[Fs];as[Fs]=as[Fs+1]+Is,as[Fs+1]=li+Ps}break;case 180:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2)as[Fs]=Ws-as[Fs],as[Fs+1]+=Ps;break;case 270:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2){const li=as[Fs];as[Fs]=Ws-as[Fs+1],as[Fs+1]=Ks-li}break;default:throw new Error("Invalid rotation")}return as},Rp=function(as,fs,ws){const[Is,Ps,Ws,Ks]=fs;switch(ws){case 0:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2)as[Fs]-=Is,as[Fs+1]=Ks-as[Fs+1];break;case 90:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2){const li=as[Fs];as[Fs]=as[Fs+1]-Ps,as[Fs+1]=li-Is}break;case 180:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2)as[Fs]=Ws-as[Fs],as[Fs+1]-=Ps;break;case 270:for(let Fs=0,ni=as.length;Fs<ni;Fs+=2){const li=as[Fs];as[Fs]=Ks-as[Fs+1],as[Fs+1]=Ws-li}break;default:throw new Error("Invalid rotation")}return as},Dp=function(as,fs,ws,Is){var ni,li;const Ps=[],Ws=this.thickness/2,Ks=as*fs+Ws,Fs=as*ws+Ws;for(const Si of this.paths){const Us=[],Cs=[];for(let Bs=0,$s=Si.length;Bs<$s;Bs++){const[qs,bi,zs,Vs]=Si[Bs],Ys=as*qs[0]+Ks,fi=as*qs[1]+Fs,Pi=as*bi[0]+Ks,Ei=as*bi[1]+Fs,Rs=as*zs[0]+Ks,Js=as*zs[1]+Fs,oi=as*Vs[0]+Ks,hi=as*Vs[1]+Fs;Bs===0&&(Us.push(Ys,fi),Cs.push(Ys,fi)),Us.push(Pi,Ei,Rs,Js,oi,hi),Cs.push(Pi,Ei),Bs===$s-1&&Cs.push(oi,hi)}Ps.push({bezier:ei(ni=ms,Jr,yh).call(ni,Us,Is,this.rotation),points:ei(li=ms,Jr,yh).call(li,Cs,Is,this.rotation)})}return Ps},bh=function(){let as=1/0,fs=-1/0,ws=1/0,Is=-1/0;for(const Ps of this.paths)for(const[Ws,Ks,Fs,ni]of Ps){const li=Ar.Util.bezierBoundingBox(...Ws,...Ks,...Fs,...ni);as=Math.min(as,li[0]),ws=Math.min(ws,li[1]),fs=Math.max(fs,li[2]),Is=Math.max(Is,li[3])}return[as,ws,fs,Is]},zd=function(){return qr(this,Cr)?Math.ceil(this.thickness*this.parentScale):0},uu=function(as=!1){if(this.isEmpty())return;if(!qr(this,Cr)){ei(this,Rr,uA).call(this);return}const fs=ei(this,Rr,bh).call(this),ws=ei(this,Rr,zd).call(this);di(this,pr,Math.max(cr.AnnotationEditor.MIN_SIZE,fs[2]-fs[0])),di(this,gr,Math.max(cr.AnnotationEditor.MIN_SIZE,fs[3]-fs[1]));const Is=Math.ceil(ws+qr(this,pr)*this.scaleFactor),Ps=Math.ceil(ws+qr(this,gr)*this.scaleFactor),[Ws,Ks]=this.parentDimensions;this.width=Is/Ws,this.height=Ps/Ks,this.setAspectRatio(Is,Ps);const Fs=this.translationX,ni=this.translationY;this.translationX=-fs[0],this.translationY=-fs[1],ei(this,Rr,cu).call(this),ei(this,Rr,uA).call(this),di(this,Tr,Is),di(this,kr,Ps),this.setDims(Is,Ps);const li=as?ws/this.scaleFactor/2:0;this.translate(Fs-this.translationX-li,ni-this.translationY-li)},ci(ms,Jr),Mo(ms,"_defaultColor",null),Mo(ms,"_defaultOpacity",1),Mo(ms,"_defaultThickness",1),Mo(ms,"_type","ink");let fr=ms;or.InkEditor=fr},(ar,or,lr)=>{var fr,gr,pr,mr,yr,vr,br,wr,Cr,Br,Sr,qu,Ju,Xd,wh,Up,Qp,Bh,Yd,jp;Object.defineProperty(or,"__esModule",{value:!0}),or.StampEditor=void 0;var Ar=lr(1),cr=lr(4),ur=lr(6),dr=lr(29);const Ur=class Ur extends cr.AnnotationEditor{constructor(Yr){super({...Yr,name:"stampEditor"});ci(this,Sr);ci(this,fr,null);ci(this,gr,null);ci(this,pr,null);ci(this,mr,null);ci(this,yr,null);ci(this,vr,null);ci(this,br,null);ci(this,wr,null);ci(this,Cr,!1);ci(this,Br,!1);di(this,mr,Yr.bitmapUrl),di(this,yr,Yr.bitmapFile)}static initialize(Yr){cr.AnnotationEditor.initialize(Yr)}static get supportedTypes(){const Yr=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,Ar.shadow)(this,"supportedTypes",Yr.map(Zr=>`image/${Zr}`))}static get supportedTypesStr(){return(0,Ar.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Yr){return this.supportedTypes.includes(Yr)}static paste(Yr,Zr){Zr.pasteEditor(Ar.AnnotationEditorType.STAMP,{bitmapFile:Yr.getAsFile()})}remove(){var Yr,Zr;qr(this,gr)&&(di(this,fr,null),this._uiManager.imageManager.deleteId(qr(this,gr)),(Yr=qr(this,vr))==null||Yr.remove(),di(this,vr,null),(Zr=qr(this,br))==null||Zr.disconnect(),di(this,br,null)),super.remove()}rebuild(){if(!this.parent){qr(this,gr)&&ei(this,Sr,Xd).call(this);return}super.rebuild(),this.div!==null&&(qr(this,gr)&&ei(this,Sr,Xd).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(qr(this,pr)||qr(this,fr)||qr(this,mr)||qr(this,yr))}get isResizable(){return!0}render(){if(this.div)return this.div;let Yr,Zr;if(this.width&&(Yr=this.x,Zr=this.y),super.render(),this.div.hidden=!0,qr(this,fr)?ei(this,Sr,wh).call(this):ei(this,Sr,Xd).call(this),this.width){const[ns,As]=this.parentDimensions;this.setAt(Yr*ns,Zr*As,this.width*ns,this.height*As)}return this.div}static deserialize(Yr,Zr,ns){if(Yr instanceof dr.StampAnnotationElement)return null;const As=super.deserialize(Yr,Zr,ns),{rect:is,bitmapUrl:gs,bitmapId:Os,isSvg:Vr,accessibilityData:Qr}=Yr;Os&&ns.imageManager.isValidId(Os)?di(As,gr,Os):di(As,mr,gs),di(As,Cr,Vr);const[$r,zr]=As.pageDimensions;return As.width=(is[2]-is[0])/$r,As.height=(is[3]-is[1])/zr,Qr&&(As.altTextData=Qr),As}serialize(Yr=!1,Zr=null){if(this.isEmpty())return null;const ns={annotationType:Ar.AnnotationEditorType.STAMP,bitmapId:qr(this,gr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:qr(this,Cr),structTreeParentId:this._structTreeParentId};if(Yr)return ns.bitmapUrl=ei(this,Sr,Yd).call(this,!0),ns.accessibilityData=this.altTextData,ns;const{decorative:As,altText:is}=this.altTextData;if(!As&&is&&(ns.accessibilityData={type:"Figure",alt:is}),Zr===null)return ns;Zr.stamps||(Zr.stamps=new Map);const gs=qr(this,Cr)?(ns.rect[2]-ns.rect[0])*(ns.rect[3]-ns.rect[1]):null;if(!Zr.stamps.has(qr(this,gr)))Zr.stamps.set(qr(this,gr),{area:gs,serialized:ns}),ns.bitmap=ei(this,Sr,Yd).call(this,!1);else if(qr(this,Cr)){const Os=Zr.stamps.get(qr(this,gr));gs>Os.area&&(Os.area=gs,Os.serialized.bitmap.close(),Os.serialized.bitmap=ei(this,Sr,Yd).call(this,!1))}return ns}};fr=new WeakMap,gr=new WeakMap,pr=new WeakMap,mr=new WeakMap,yr=new WeakMap,vr=new WeakMap,br=new WeakMap,wr=new WeakMap,Cr=new WeakMap,Br=new WeakMap,Sr=new WeakSet,qu=function(Yr,Zr=!1){if(!Yr){this.remove();return}di(this,fr,Yr.bitmap),Zr||(di(this,gr,Yr.id),di(this,Cr,Yr.isSvg)),ei(this,Sr,wh).call(this)},Ju=function(){di(this,pr,null),this._uiManager.enableWaiting(!1),qr(this,vr)&&this.div.focus()},Xd=function(){if(qr(this,gr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(qr(this,gr)).then(Zr=>ei(this,Sr,qu).call(this,Zr,!0)).finally(()=>ei(this,Sr,Ju).call(this));return}if(qr(this,mr)){const Zr=qr(this,mr);di(this,mr,null),this._uiManager.enableWaiting(!0),di(this,pr,this._uiManager.imageManager.getFromUrl(Zr).then(ns=>ei(this,Sr,qu).call(this,ns)).finally(()=>ei(this,Sr,Ju).call(this)));return}if(qr(this,yr)){const Zr=qr(this,yr);di(this,yr,null),this._uiManager.enableWaiting(!0),di(this,pr,this._uiManager.imageManager.getFromFile(Zr).then(ns=>ei(this,Sr,qu).call(this,ns)).finally(()=>ei(this,Sr,Ju).call(this)));return}const Yr=document.createElement("input");Yr.type="file",Yr.accept=Ur.supportedTypesStr,di(this,pr,new Promise(Zr=>{Yr.addEventListener("change",async()=>{if(!Yr.files||Yr.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ns=await this._uiManager.imageManager.getFromFile(Yr.files[0]);ei(this,Sr,qu).call(this,ns)}Zr()}),Yr.addEventListener("cancel",()=>{this.remove(),Zr()})}).finally(()=>ei(this,Sr,Ju).call(this))),Yr.click()},wh=function(){const{div:Yr}=this;let{width:Zr,height:ns}=qr(this,fr);const[As,is]=this.pageDimensions,gs=.75;if(this.width)Zr=this.width*As,ns=this.height*is;else if(Zr>gs*As||ns>gs*is){const $r=Math.min(gs*As/Zr,gs*is/ns);Zr*=$r,ns*=$r}const[Os,Vr]=this.parentDimensions;this.setDims(Zr*Os/As,ns*Vr/is),this._uiManager.enableWaiting(!1);const Qr=di(this,vr,document.createElement("canvas"));Yr.append(Qr),Yr.hidden=!1,ei(this,Sr,Bh).call(this,Zr,ns),ei(this,Sr,jp).call(this),qr(this,Br)||(this.parent.addUndoableEditor(this),di(this,Br,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Up=function(Yr,Zr){var gs;const[ns,As]=this.parentDimensions;this.width=Yr/ns,this.height=Zr/As,this.setDims(Yr,Zr),(gs=this._initialOptions)!=null&&gs.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,qr(this,wr)!==null&&clearTimeout(qr(this,wr)),di(this,wr,setTimeout(()=>{di(this,wr,null),ei(this,Sr,Bh).call(this,Yr,Zr)},200))},Qp=function(Yr,Zr){const{width:ns,height:As}=qr(this,fr);let is=ns,gs=As,Os=qr(this,fr);for(;is>2*Yr||gs>2*Zr;){const Vr=is,Qr=gs;is>2*Yr&&(is=is>=16384?Math.floor(is/2)-1:Math.ceil(is/2)),gs>2*Zr&&(gs=gs>=16384?Math.floor(gs/2)-1:Math.ceil(gs/2));const $r=new OffscreenCanvas(is,gs);$r.getContext("2d").drawImage(Os,0,0,Vr,Qr,0,0,is,gs),Os=$r.transferToImageBitmap()}return Os},Bh=function(Yr,Zr){Yr=Math.ceil(Yr),Zr=Math.ceil(Zr);const ns=qr(this,vr);if(!ns||ns.width===Yr&&ns.height===Zr)return;ns.width=Yr,ns.height=Zr;const As=qr(this,Cr)?qr(this,fr):ei(this,Sr,Qp).call(this,Yr,Zr),is=ns.getContext("2d");is.filter=this._uiManager.hcmFilter,is.drawImage(As,0,0,As.width,As.height,0,0,Yr,Zr)},Yd=function(Yr){if(Yr){if(qr(this,Cr)){const As=this._uiManager.imageManager.getSvgUrl(qr(this,gr));if(As)return As}const Zr=document.createElement("canvas");return{width:Zr.width,height:Zr.height}=qr(this,fr),Zr.getContext("2d").drawImage(qr(this,fr),0,0),Zr.toDataURL()}if(qr(this,Cr)){const[Zr,ns]=this.pageDimensions,As=Math.round(this.width*Zr*ur.PixelsPerInch.PDF_TO_CSS_UNITS),is=Math.round(this.height*ns*ur.PixelsPerInch.PDF_TO_CSS_UNITS),gs=new OffscreenCanvas(As,is);return gs.getContext("2d").drawImage(qr(this,fr),0,0,qr(this,fr).width,qr(this,fr).height,0,0,As,is),gs.transferToImageBitmap()}return structuredClone(qr(this,fr))},jp=function(){di(this,br,new ResizeObserver(Yr=>{const Zr=Yr[0].contentRect;Zr.width&&Zr.height&&ei(this,Sr,Up).call(this,Zr.width,Zr.height)})),qr(this,br).observe(this.div)},Mo(Ur,"_type","stamp");let hr=Ur;or.StampEditor=hr}],__webpack_module_cache__={};function __w_pdfjs_require__(ar){var or=__webpack_module_cache__[ar];if(or!==void 0)return or.exports;var lr=__webpack_module_cache__[ar]={exports:{}};return __webpack_modules__[ar](lr,lr.exports,__w_pdfjs_require__),lr.exports}var __webpack_exports__={};return(()=>{var ar=__webpack_exports__;Object.defineProperty(ar,"__esModule",{value:!0}),Object.defineProperty(ar,"AbortException",{enumerable:!0,get:function(){return or.AbortException}}),Object.defineProperty(ar,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ur.AnnotationEditorLayer}}),Object.defineProperty(ar,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return or.AnnotationEditorParamsType}}),Object.defineProperty(ar,"AnnotationEditorType",{enumerable:!0,get:function(){return or.AnnotationEditorType}}),Object.defineProperty(ar,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return dr.AnnotationEditorUIManager}}),Object.defineProperty(ar,"AnnotationLayer",{enumerable:!0,get:function(){return hr.AnnotationLayer}}),Object.defineProperty(ar,"AnnotationMode",{enumerable:!0,get:function(){return or.AnnotationMode}}),Object.defineProperty(ar,"CMapCompressionType",{enumerable:!0,get:function(){return or.CMapCompressionType}}),Object.defineProperty(ar,"DOMSVGFactory",{enumerable:!0,get:function(){return Ar.DOMSVGFactory}}),Object.defineProperty(ar,"FeatureTest",{enumerable:!0,get:function(){return or.FeatureTest}}),Object.defineProperty(ar,"GlobalWorkerOptions",{enumerable:!0,get:function(){return fr.GlobalWorkerOptions}}),Object.defineProperty(ar,"ImageKind",{enumerable:!0,get:function(){return or.ImageKind}}),Object.defineProperty(ar,"InvalidPDFException",{enumerable:!0,get:function(){return or.InvalidPDFException}}),Object.defineProperty(ar,"MissingPDFException",{enumerable:!0,get:function(){return or.MissingPDFException}}),Object.defineProperty(ar,"OPS",{enumerable:!0,get:function(){return or.OPS}}),Object.defineProperty(ar,"PDFDataRangeTransport",{enumerable:!0,get:function(){return lr.PDFDataRangeTransport}}),Object.defineProperty(ar,"PDFDateString",{enumerable:!0,get:function(){return Ar.PDFDateString}}),Object.defineProperty(ar,"PDFWorker",{enumerable:!0,get:function(){return lr.PDFWorker}}),Object.defineProperty(ar,"PasswordResponses",{enumerable:!0,get:function(){return or.PasswordResponses}}),Object.defineProperty(ar,"PermissionFlag",{enumerable:!0,get:function(){return or.PermissionFlag}}),Object.defineProperty(ar,"PixelsPerInch",{enumerable:!0,get:function(){return Ar.PixelsPerInch}}),Object.defineProperty(ar,"PromiseCapability",{enumerable:!0,get:function(){return or.PromiseCapability}}),Object.defineProperty(ar,"RenderingCancelledException",{enumerable:!0,get:function(){return Ar.RenderingCancelledException}}),Object.defineProperty(ar,"SVGGraphics",{enumerable:!0,get:function(){return lr.SVGGraphics}}),Object.defineProperty(ar,"UnexpectedResponseException",{enumerable:!0,get:function(){return or.UnexpectedResponseException}}),Object.defineProperty(ar,"Util",{enumerable:!0,get:function(){return or.Util}}),Object.defineProperty(ar,"VerbosityLevel",{enumerable:!0,get:function(){return or.VerbosityLevel}}),Object.defineProperty(ar,"XfaLayer",{enumerable:!0,get:function(){return gr.XfaLayer}}),Object.defineProperty(ar,"build",{enumerable:!0,get:function(){return lr.build}}),Object.defineProperty(ar,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return or.createValidAbsoluteUrl}}),Object.defineProperty(ar,"getDocument",{enumerable:!0,get:function(){return lr.getDocument}}),Object.defineProperty(ar,"getFilenameFromUrl",{enumerable:!0,get:function(){return Ar.getFilenameFromUrl}}),Object.defineProperty(ar,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return Ar.getPdfFilenameFromUrl}}),Object.defineProperty(ar,"getXfaPageViewport",{enumerable:!0,get:function(){return Ar.getXfaPageViewport}}),Object.defineProperty(ar,"isDataScheme",{enumerable:!0,get:function(){return Ar.isDataScheme}}),Object.defineProperty(ar,"isPdfFile",{enumerable:!0,get:function(){return Ar.isPdfFile}}),Object.defineProperty(ar,"loadScript",{enumerable:!0,get:function(){return Ar.loadScript}}),Object.defineProperty(ar,"noContextMenu",{enumerable:!0,get:function(){return Ar.noContextMenu}}),Object.defineProperty(ar,"normalizeUnicode",{enumerable:!0,get:function(){return or.normalizeUnicode}}),Object.defineProperty(ar,"renderTextLayer",{enumerable:!0,get:function(){return cr.renderTextLayer}}),Object.defineProperty(ar,"setLayerDimensions",{enumerable:!0,get:function(){return Ar.setLayerDimensions}}),Object.defineProperty(ar,"shadow",{enumerable:!0,get:function(){return or.shadow}}),Object.defineProperty(ar,"updateTextLayer",{enumerable:!0,get:function(){return cr.updateTextLayer}}),Object.defineProperty(ar,"version",{enumerable:!0,get:function(){return lr.version}});var or=__w_pdfjs_require__(1),lr=__w_pdfjs_require__(2),Ar=__w_pdfjs_require__(6),cr=__w_pdfjs_require__(26),ur=__w_pdfjs_require__(27),dr=__w_pdfjs_require__(5),hr=__w_pdfjs_require__(29),fr=__w_pdfjs_require__(14),gr=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const _hoisted_1$6={class:"flex items-center justify-between mb-6"},_hoisted_2$4={class:"flex items-center"},_hoisted_3$4={key:0,class:"text-2xl font-bold text-gray-900 dark:text-white"},_hoisted_4$3={key:0,class:"text-center py-8"},_hoisted_5$2={key:1,class:"card"},_hoisted_6$2={key:0,class:"mb-3 flex items-center"},_hoisted_7$2={class:"text-sm text-gray-600 dark:text-gray-300"},_hoisted_8$2={class:"flex items-center justify-between mb-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg"},_hoisted_9$2={class:"flex items-center space-x-2"},_hoisted_10$1=["disabled"],_hoisted_11$1={class:"text-sm text-gray-700 dark:text-gray-300"},_hoisted_12$1=["disabled"],_hoisted_13$1={class:"flex items-center space-x-2"},_hoisted_14$1={class:"text-sm text-gray-700 dark:text-gray-300"},_hoisted_15$1={class:"overflow-auto bg-gray-200 dark:bg-gray-900 rounded-lg p-4 flex justify-center"},maxCacheSize=5,zoomStep=.1,preloadPages=2,_sfc_main$6={__name:"PdfViewer",async setup(ar){let or,lr;const Ar=([or,lr]=withAsyncContext(()=>__vitePreload(()=>import("./pdf.worker.entry--OUT5Wab.js").then(ns=>ns.p),[])),or=await or,lr(),or);pdfExports.GlobalWorkerOptions.workerSrc=Ar;const cr=useRoute(),ur=useRouter(),dr=usePdfsStore(),hr=useSubjectsStore(),fr=ref(Number(cr.params.id)),gr=ref(null),pr=ref(null),mr=ref(1),yr=ref(0),vr=ref(!0),br=ref(null),wr=ref(1.5),Cr=ref(new Map),Br=ref([]),Sr=ref(!1),Er=ref(!1),Tr=ref({title:"",message:"",type:"info"});onMounted(async()=>{try{await hr.fetchSubjects(),await Or()}catch(ns){console.error("Error inicializando PDF viewer:",ns),vr.value=!1}}),onBeforeUnmount(()=>{gr.value&&gr.value.destroy(),Cr.value.forEach(ns=>{ns.cleanup()}),Cr.value.clear(),Br.value=[]});const kr=ns=>{Tr.value={title:"Error",message:ns,type:"error"},Er.value=!0},Or=async()=>{var ns;vr.value=!0;try{console.log("Iniciando carga del PDF...");const As=await dr.getPdfById(fr.value);if(!As){console.error("No se encontr el PDF"),ur.push("/pdfs");return}console.log("PDF encontrado:",As),pr.value=As;let is;if(pr.value.file instanceof ArrayBuffer)console.log("PDF es ArrayBuffer"),is=pr.value.file;else if((ns=pr.value.file)!=null&&ns.data)console.log("PDF tiene propiedad data"),is=new Uint8Array(pr.value.file.data).buffer;else throw console.error("Formato de archivo no reconocido:",pr.value.file),new Error("Formato de archivo PDF no soportado");console.log("Tamao del buffer:",is.byteLength);const gs=pdfExports.getDocument({data:is,cMapUrl:"https://unpkg.com/pdfjs-dist@3.11.174/cmaps/",cMapPacked:!0,standardFontDataUrl:"https://unpkg.com/pdfjs-dist@3.11.174/standard_fonts/",disableStream:!0,disableAutoFetch:!0});console.log("Iniciando carga del documento PDF..."),gr.value=await gs.promise,console.log("Documento PDF cargado:",gr.value),yr.value=gr.value.numPages,console.log("Nmero total de pginas:",yr.value),await Hr(mr.value)}catch(As){console.error("Error loading PDF:",As),kr("Error al cargar el PDF: "+As.message)}finally{vr.value=!1}},Rr=async ns=>{const As=[];for(let is=Math.max(1,ns-preloadPages);is<ns;is++)As.push(is);for(let is=ns+1;is<=Math.min(yr.value,ns+preloadPages);is++)As.push(is);As.forEach(is=>{Cr.value.has(is)||Br.value.push(is)}),Lr()},Lr=async()=>{if(!(Sr.value||Br.value.length===0)){Sr.value=!0;try{const ns=Br.value.shift();Cr.value.has(ns)||await _r(ns)}finally{Sr.value=!1,Br.value.length>0&&requestAnimationFrame(Lr)}}},_r=async ns=>{if(gr.value)try{const As=await gr.value.getPage(ns),is=As.getViewport({scale:wr.value}),gs=document.createElement("canvas");gs.width=is.width,gs.height=is.height;const Vr={canvasContext:gs.getContext("2d"),viewport:is};if(await As.render(Vr).promise,Cr.value.size>=maxCacheSize){const Qr=Cr.value.keys().next().value;Cr.value.get(Qr).cleanup(),Cr.value.delete(Qr)}Cr.value.set(ns,{page:As,viewport:is,canvas:gs,cleanup:()=>{As.cleanup()}})}catch(As){console.error("Error al precargar pgina:",As)}},Hr=async ns=>{if(gr.value)try{const As=br.value;if(!As)return;const is=As.getContext("2d");if(is.clearRect(0,0,As.width,As.height),Cr.value.has(ns)){const $r=Cr.value.get(ns),zr=$r.viewport;As.height=zr.height,As.width=zr.width,is.drawImage($r.canvas,0,0),Rr(ns);return}const gs=await gr.value.getPage(ns),Os=gs.getViewport({scale:wr.value});As.height=Os.height,As.width=Os.width;const Vr={canvasContext:is,viewport:Os};if(await gs.render(Vr).promise,Cr.value.size>=maxCacheSize){const $r=Cr.value.keys().next().value;Cr.value.get($r).cleanup(),Cr.value.delete($r)}const Qr=document.createElement("canvas");Qr.width=As.width,Qr.height=As.height,Qr.getContext("2d").drawImage(As,0,0),Cr.value.set(ns,{page:gs,viewport:Os,canvas:Qr,cleanup:()=>{gs.cleanup()}}),Rr(ns)}catch(As){console.error("Error rendering PDF page:",As),kr("Error al renderizar la pgina del PDF: "+As.message)}},Mr=async()=>{wr.value=Math.min(wr.value+zoomStep,3),await Hr(mr.value)},Ur=async()=>{wr.value=Math.max(wr.value-zoomStep,.5),await Hr(mr.value)},Kr=async()=>{mr.value>1&&(mr.value--,await Hr(mr.value))},Xr=async()=>{mr.value<yr.value&&(mr.value++,await Hr(mr.value))},Yr=()=>{if(!pr.value)return;const ns=new Blob([pr.value.file],{type:"application/pdf"}),As=document.createElement("a");As.href=URL.createObjectURL(ns),As.download=`${pr.value.title}.pdf`,As.click(),URL.revokeObjectURL(As.href)},Zr=ns=>hr.subjects.find(As=>As.id===ns)||{name:"Sin materia",color:"#94a3b8"};return(ns,As)=>{const is=resolveComponent("router-link");return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$4,[createVNode(is,{to:"/pdfs",class:"mr-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},{default:withCtx(()=>As[1]||(As[1]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),_:1,__:[1]}),pr.value?(openBlock(),createElementBlock("h1",_hoisted_3$4,toDisplayString(pr.value.title),1)):createCommentVNode("",!0)]),pr.value?(openBlock(),createElementBlock("button",{key:0,onClick:Yr,class:"btn btn-primary flex items-center"},As[2]||(As[2]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),createTextVNode(" Descargar ")]))):createCommentVNode("",!0)]),vr.value?(openBlock(),createElementBlock("div",_hoisted_4$3,As[3]||(As[3]=[createBaseVNode("p",{class:"text-gray-500 dark:text-gray-400"},"Cargando documento...",-1)]))):pr.value?(openBlock(),createElementBlock("div",_hoisted_5$2,[pr.value.subjectId?(openBlock(),createElementBlock("div",_hoisted_6$2,[createBaseVNode("span",{class:"inline-block w-3 h-3 rounded-full mr-2",style:normalizeStyle({backgroundColor:Zr(pr.value.subjectId).color})},null,4),createBaseVNode("span",_hoisted_7$2,toDisplayString(Zr(pr.value.subjectId).name),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$2,[createBaseVNode("div",_hoisted_9$2,[createBaseVNode("button",{onClick:Kr,class:"p-2 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600 disabled:opacity-50",disabled:mr.value===1},As[4]||(As[4]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,_hoisted_10$1),createBaseVNode("span",_hoisted_11$1," Pgina "+toDisplayString(mr.value)+" de "+toDisplayString(yr.value),1),createBaseVNode("button",{onClick:Xr,class:"p-2 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600 disabled:opacity-50",disabled:mr.value===yr.value},As[5]||(As[5]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,_hoisted_12$1)]),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("button",{onClick:Ur,class:"p-2 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"},As[6]||(As[6]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})],-1)])),createBaseVNode("span",_hoisted_14$1,toDisplayString(Math.round(wr.value*100))+"% ",1),createBaseVNode("button",{onClick:Mr,class:"p-2 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-slate-600"},As[7]||(As[7]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})],-1)]))])]),createBaseVNode("div",_hoisted_15$1,[createBaseVNode("canvas",{ref_key:"canvasRef",ref:br},null,512)])])):createCommentVNode("",!0),createVNode(_sfc_main$d,{show:Er.value,title:Tr.value.title,message:Tr.value.message,type:Tr.value.type,onClose:As[0]||(As[0]=gs=>Er.value=!1)},null,8,["show","title","message","type"])])}}},useThemeStore=defineStore("theme",()=>{const ar=()=>typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1,or=localStorage.getItem("theme"),lr=ref(or?or==="dark":ar()),Ar=dr=>{dr?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};Ar(lr.value);function cr(dr){lr.value=dr,localStorage.setItem("theme",dr?"dark":"light"),Ar(dr)}function ur(){cr(!lr.value)}return typeof window<"u"&&window.matchMedia&&!or&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",dr=>{localStorage.getItem("theme")||cr(dr.matches)}),{isDark:lr,setDarkMode:cr,toggleDarkMode:ur}}),useSettingsStore=defineStore("settings",()=>{const ar=ref({notifications:!0,darkMode:!1,language:"es",autoUpdate:!0});function or(Ar){ar.value={...ar.value,...Ar},localStorage.setItem("appSettings",JSON.stringify(ar.value))}function lr(){const Ar=localStorage.getItem("appSettings");Ar&&(ar.value=JSON.parse(Ar))}return lr(),{settings:ar,updateSettings:or,loadSettings:lr}}),_hoisted_1$5={class:"space-y-6"},_hoisted_2$3={class:"card"},_hoisted_3$3={class:"flex items-center justify-between"},_hoisted_4$2={class:"card"},_hoisted_5$1={class:"space-y-4"},_hoisted_6$1={class:"flex items-center justify-between"},_hoisted_7$1={class:"card"},_hoisted_8$1={key:0,class:"text-gray-500 dark:text-gray-400"},_hoisted_9$1={key:1,class:"space-y-4"},_hoisted_10={class:"flex items-center justify-between"},_hoisted_11=["disabled"],_hoisted_12={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},_hoisted_13={class:"card"},_hoisted_14={class:"space-y-2"},_hoisted_15={class:"flex items-center space-x-3"},_hoisted_16=["onUpdate:modelValue","onChange"],_hoisted_17=["onUpdate:modelValue","onChange"],_hoisted_18=["onClick"],_hoisted_19={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6"},_hoisted_20={class:"space-y-4"},_hoisted_21={class:"flex justify-end space-x-3 mt-6"},_hoisted_22=["disabled"],_hoisted_23={class:"card"},_hoisted_24={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_25=["disabled"],_hoisted_26=["disabled"],_hoisted_27={class:"card"},_hoisted_28={class:"text-gray-700 dark:text-gray-300 space-y-2"},_hoisted_29={class:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700"},_hoisted_30={class:"text-center text-sm text-gray-500 dark:text-gray-400 mt-2"},_sfc_main$5={__name:"SettingsPage",setup(ar){const or=useThemeStore(),lr=useSubjectsStore();useNotesStore();const Ar=useTasksStore();usePlannerStore(),useGradesStore(),usePdfsStore();const cr=useSettingsStore(),ur=ref(!1),dr=ref(!1),hr=ref(!1),fr=ref(null),gr=ref(!1),pr=ref({title:"",message:"",type:"info"}),mr=ref(!1),yr=ref(!0),vr=ref(!1),br=ref(""),wr=ref("#3b82f6");onMounted(async()=>{await lr.fetchSubjects(),Hr(),yr.value&&setInterval(Hr,36e5)});const Cr=Xr=>{pr.value={title:"Error",message:Xr,type:"error"},gr.value=!0},Br=Xr=>{pr.value={title:"xito",message:Xr,type:"success"},gr.value=!0},Sr=async()=>{try{await cr.exportData()}catch(Xr){console.error("Error exporting data:",Xr),Cr("Error al exportar los datos")}},Er=()=>{fr.value&&fr.value.click()},Tr=async Xr=>{try{const Yr=Xr.target.files[0];if(!Yr)return;const Zr=new FileReader;Zr.onload=async ns=>{try{const As=JSON.parse(ns.target.result);await cr.importData(As),Br("Datos importados correctamente")}catch(As){console.error("Error importing data:",As),Cr("Error al importar los datos: formato de archivo invlido")}},Zr.readAsText(Yr)}catch(Yr){console.error("Error importing data:",Yr),Cr("Error al importar los datos")}},kr=()=>{hr.value=!0},Or=()=>{hr.value=!1},Rr=async()=>{try{await cr.clearData(),Br("Todos los datos han sido eliminados correctamente")}catch(Xr){console.error("Error clearing data:",Xr),Cr("Error al eliminar los datos: "+Xr.message)}},Lr=async()=>{await Ar.requestNotificationPermission()},_r=()=>"Notification"in window?Notification.permission:"not-supported",Hr=async()=>{if("serviceWorker"in navigator)try{const Xr=await navigator.serviceWorker.getRegistration();Xr&&Xr.addEventListener("updatefound",()=>{mr.value=!0})}catch(Xr){console.error("Error checking for updates:",Xr)}},Mr=async()=>{if("serviceWorker"in navigator)try{const Xr=await navigator.serviceWorker.getRegistration();Xr&&(await Xr.update(),Br("Actualizacin iniciada. La aplicacin se actualizar en breve."))}catch(Xr){console.error("Error updating app:",Xr),Cr("Error al actualizar la aplicacin")}},Ur=()=>{yr.value=!yr.value,cr.updateSettings({autoUpdate:yr.value})},Kr=async()=>{if(br.value.trim()){const Xr={name:br.value.trim(),color:wr.value};try{await lr.addSubject(Xr),Br("Materia aadida correctamente"),br.value="",wr.value="#3b82f6",vr.value=!1}catch{Cr("Error al aadir la materia")}}};return(Xr,Yr)=>(openBlock(),createElementBlock("div",null,[Yr[30]||(Yr[30]=createBaseVNode("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"Configuracin",-1)),createBaseVNode("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$3,[Yr[8]||(Yr[8]=createBaseVNode("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Apariencia",-1)),createBaseVNode("div",_hoisted_3$3,[Yr[7]||(Yr[7]=createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300"},"Tema Oscuro",-1)),createBaseVNode("button",{onClick:Yr[0]||(Yr[0]=Zr=>unref(or).toggleDarkMode()),class:normalizeClass(["relative inline-flex items-center h-6 rounded-full w-11 transition-colors",unref(or).isDark?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"])},[createBaseVNode("span",{class:normalizeClass(["inline-block w-4 h-4 transform rounded-full bg-white transition-transform",unref(or).isDark?"translate-x-6":"translate-x-1"])},null,2)],2)])]),createBaseVNode("div",_hoisted_4$2,[Yr[12]||(Yr[12]=createBaseVNode("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Actualizaciones",-1)),createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[Yr[9]||(Yr[9]=createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300"},"Actualizacin Automtica",-1)),createBaseVNode("button",{onClick:Ur,class:normalizeClass(["relative inline-flex items-center h-6 rounded-full w-11 transition-colors",yr.value?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"])},[createBaseVNode("span",{class:normalizeClass(["inline-block w-4 h-4 transform rounded-full bg-white transition-transform",yr.value?"translate-x-6":"translate-x-1"])},null,2)],2)]),Yr[11]||(Yr[11]=createBaseVNode("div",{class:"flex items-center justify-between"},[createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300"},"Versin Actual"),createBaseVNode("span",{class:"text-gray-500 dark:text-gray-400"},"1.0.0")],-1)),mr.value?(openBlock(),createElementBlock("button",{key:0,onClick:Mr,class:"btn btn-primary w-full flex items-center justify-center"},Yr[10]||(Yr[10]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),createTextVNode(" Actualizar Ahora ")]))):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_7$1,[Yr[14]||(Yr[14]=createBaseVNode("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Notificaciones",-1)),_r()==="not-supported"?(openBlock(),createElementBlock("div",_hoisted_8$1," Las notificaciones no estn soportadas en este navegador. ")):(openBlock(),createElementBlock("div",_hoisted_9$1,[createBaseVNode("div",_hoisted_10,[Yr[13]||(Yr[13]=createBaseVNode("span",{class:"text-gray-700 dark:text-gray-300"},"Estado",-1)),createBaseVNode("span",{class:normalizeClass(["px-2 py-1 text-xs rounded-full",{"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":_r()==="granted","bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300":_r()==="default","bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":_r()==="denied"}])},toDisplayString(_r()==="granted"?"Habilitadas":_r()==="denied"?"Bloqueadas":"No configuradas"),3)]),_r()!=="granted"?(openBlock(),createElementBlock("button",{key:0,onClick:Lr,class:"btn btn-primary w-full",disabled:_r()==="denied"},toDisplayString(_r()==="denied"?"Notificaciones bloqueadas en el navegador":"Habilitar Notificaciones"),9,_hoisted_11)):createCommentVNode("",!0),_r()==="denied"?(openBlock(),createElementBlock("p",_hoisted_12," Para habilitar las notificaciones, debes cambiar la configuracin en tu navegador. ")):createCommentVNode("",!0)]))]),createBaseVNode("div",_hoisted_13,[Yr[17]||(Yr[17]=createBaseVNode("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Materias",-1)),createBaseVNode("div",_hoisted_14,[(openBlock(!0),createElementBlock(Fragment$1,null,renderList(unref(lr).subjects,Zr=>(openBlock(),createElementBlock("div",{key:Zr.id,class:"flex items-center justify-between p-3 bg-white dark:bg-slate-900 border border-gray-200 dark:border-gray-700 rounded-lg"},[createBaseVNode("div",_hoisted_15,[withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":ns=>Zr.color=ns,class:"w-6 h-6 rounded-full cursor-pointer",onChange:ns=>unref(lr).updateSubject(Zr.id,{color:Zr.color})},null,40,_hoisted_16),[[vModelText,Zr.color]]),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":ns=>Zr.name=ns,class:"bg-transparent border-none focus:ring-0 text-gray-900 dark:text-white",onChange:ns=>unref(lr).updateSubject(Zr.id,{name:Zr.name})},null,40,_hoisted_17),[[vModelText,Zr.name]])]),createBaseVNode("button",{onClick:ns=>unref(lr).deleteSubject(Zr.id),class:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"},Yr[15]||(Yr[15]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,_hoisted_18)]))),128)),createBaseVNode("button",{onClick:Yr[1]||(Yr[1]=Zr=>vr.value=!0),class:"w-full py-2 px-3 text-sm text-gray-600 dark:text-gray-400 border border-dashed border-gray-300 dark:border-gray-700 rounded-lg hover:text-primary-600 dark:hover:text-primary-400 hover:border-primary-500 dark:hover:border-primary-500 transition-colors flex items-center justify-center"},Yr[16]||(Yr[16]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),createTextVNode(" Aadir nueva materia ")]))])]),vr.value?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:Yr[5]||(Yr[5]=withModifiers(Zr=>vr.value=!1,["self"]))},[createBaseVNode("div",_hoisted_19,[Yr[20]||(Yr[20]=createBaseVNode("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Nueva Materia",-1)),createBaseVNode("div",_hoisted_20,[createBaseVNode("div",null,[Yr[18]||(Yr[18]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nombre de la materia ",-1)),withDirectives(createBaseVNode("input",{type:"text","onUpdate:modelValue":Yr[2]||(Yr[2]=Zr=>br.value=Zr),placeholder:"Ej: Matemticas",class:"input"},null,512),[[vModelText,br.value]])]),createBaseVNode("div",null,[Yr[19]||(Yr[19]=createBaseVNode("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Color ",-1)),withDirectives(createBaseVNode("input",{type:"color","onUpdate:modelValue":Yr[3]||(Yr[3]=Zr=>wr.value=Zr),class:"w-full h-10 rounded-lg cursor-pointer"},null,512),[[vModelText,wr.value]])])]),createBaseVNode("div",_hoisted_21,[createBaseVNode("button",{onClick:Yr[4]||(Yr[4]=Zr=>vr.value=!1),class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:Kr,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",disabled:!br.value.trim()}," Guardar ",8,_hoisted_22)])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_23,[Yr[25]||(Yr[25]=createBaseVNode("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Gestin de Datos",-1)),createBaseVNode("div",_hoisted_24,[createBaseVNode("button",{onClick:Sr,class:"btn bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 flex items-center justify-center",disabled:ur.value},[Yr[21]||(Yr[21]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)),createTextVNode(" "+toDisplayString(ur.value?"Exportando...":"Exportar Datos"),1)],8,_hoisted_25),createBaseVNode("button",{onClick:Er,class:"btn bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 flex items-center justify-center",disabled:dr.value},[Yr[22]||(Yr[22]=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1)),createTextVNode(" "+toDisplayString(dr.value?"Importando...":"Importar Datos"),1)],8,_hoisted_26),createBaseVNode("input",{type:"file",ref_key:"fileInputRef",ref:fr,onChange:Tr,accept:"application/json",class:"hidden"},null,544)]),createBaseVNode("div",{class:"card mb-6"},[Yr[23]||(Yr[23]=createBaseVNode("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-4"},"Eliminar Datos",-1)),Yr[24]||(Yr[24]=createBaseVNode("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," Esta accin eliminar todos los datos de la aplicacin, incluyendo materias, notas, tareas, planificador, calificaciones y PDFs. Esta accin no se puede deshacer. ",-1)),createBaseVNode("button",{onClick:kr,class:"btn bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}," Eliminar Todos los Datos ")])]),createBaseVNode("div",_hoisted_27,[Yr[27]||(Yr[27]=createBaseVNode("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"Acerca de",-1)),createBaseVNode("div",_hoisted_28,[createBaseVNode("div",_hoisted_29,[Yr[26]||(Yr[26]=createStaticVNode('<div class="flex items-center justify-center space-x-2"><img src="'+_imports_0+'" alt="Logo" class="w-6 h-6"><p>StudyLoop v1.0.0</p></div><div class="flex items-center justify-center mt-2"><span class="text-sm text-gray-500 dark:text-gray-400"> Desarrollado por <span class="font-semibold"><span class="text-[#1877f2]">UX</span><span class="text-white">ONE</span></span></span></div>',2)),createBaseVNode("p",_hoisted_30,"  "+toDisplayString(new Date().getFullYear()===2025?"2025":`2025-${new Date().getFullYear()}`)+" StudyLoop. Todos los derechos reservados. ",1)])])])]),hr.value?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:withModifiers(Or,["self"])},[createBaseVNode("div",{class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full p-6"},[Yr[28]||(Yr[28]=createBaseVNode("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-4"},"Confirmar Eliminacin",-1)),Yr[29]||(Yr[29]=createBaseVNode("p",{class:"text-gray-600 dark:text-gray-300 mb-6"}," Ests seguro de que deseas eliminar todos los datos de la aplicacin? Esta accin no se puede deshacer. ",-1)),createBaseVNode("div",{class:"flex justify-end space-x-3"},[createBaseVNode("button",{onClick:Or,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Cancelar "),createBaseVNode("button",{onClick:Rr,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Eliminar Todo ")])])])):createCommentVNode("",!0),createVNode(_sfc_main$d,{show:gr.value,title:pr.value.title,message:pr.value.message,type:pr.value.type,onClose:Yr[6]||(Yr[6]=Zr=>gr.value=!1),onConfirm:Xr.handleConfirmDelete},null,8,["show","title","message","type","onConfirm"])]))}},_hoisted_1$4={class:"flex flex-col items-center justify-center py-12"},_sfc_main$4={__name:"NotFoundPage",setup(ar){const or=useRouter(),lr=()=>{or.go(-1)},Ar=()=>{or.push("/")};return(cr,ur)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[ur[0]||(ur[0]=createBaseVNode("h1",{class:"text-6xl font-bold text-primary-600 dark:text-primary-400 mb-4"},"404",-1)),ur[1]||(ur[1]=createBaseVNode("p",{class:"text-xl text-gray-700 dark:text-gray-300 mb-8"},"Pgina no encontrada",-1)),createBaseVNode("div",{class:"flex space-x-4"},[createBaseVNode("button",{onClick:lr,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Volver "),createBaseVNode("button",{onClick:Ar,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"}," Ir al Inicio ")])]))}},routes=[{path:"/",name:"home",component:_sfc_main$h},{path:"/notes",name:"notes",component:_sfc_main$e},{path:"/notes/:id",name:"note-editor",component:_sfc_main$c,props:!0},{path:"/tasks",name:"tasks",component:_sfc_main$b},{path:"/tasks/:id",name:"task-editor",component:_sfc_main$a,props:!0},{path:"/planner",name:"planner",component:_sfc_main$9},{path:"/grades",name:"grades",component:_sfc_main$8},{path:"/pdfs",name:"pdfs",component:_sfc_main$7},{path:"/pdfs/:id",name:"pdf-viewer",component:_sfc_main$6,props:!0},{path:"/settings",name:"settings",component:_sfc_main$5},{path:"/:pathMatch(.*)*",name:"not-found",component:_sfc_main$4}],router=createRouter({history:createWebHistory("/Focus-App/"),routes}),_hoisted_1$3={class:"bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-gray-700 py-2 w-full fixed bottom-0 left-0 z-50 md:relative"},_hoisted_2$2={class:"max-w-lg mx-auto px-4"},_hoisted_3$2={class:"flex justify-around items-center"},_sfc_main$3={__name:"TheNavigation",setup(ar){const or=useRoute();useThemeStore();const lr=computed(()=>or.name);return(Ar,cr)=>{const ur=resolveComponent("router-link");return openBlock(),createElementBlock("nav",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createVNode(ur,{to:"/",class:normalizeClass(["flex flex-col items-center py-1 px-3 text-sm rounded-lg transition-colors",lr.value==="home"?"text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"])},{default:withCtx(()=>cr[0]||(cr[0]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),createBaseVNode("span",null,"Inicio",-1)])),_:1,__:[0]},8,["class"]),createVNode(ur,{to:"/notes",class:normalizeClass(["flex flex-col items-center py-1 px-3 text-sm rounded-lg transition-colors",lr.value==="notes"?"text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"])},{default:withCtx(()=>cr[1]||(cr[1]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),createBaseVNode("span",null,"Apuntes",-1)])),_:1,__:[1]},8,["class"]),createVNode(ur,{to:"/tasks",class:normalizeClass(["flex flex-col items-center py-1 px-3 text-sm rounded-lg transition-colors",lr.value==="tasks"?"text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"])},{default:withCtx(()=>cr[2]||(cr[2]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),createBaseVNode("span",null,"Tareas",-1)])),_:1,__:[2]},8,["class"]),createVNode(ur,{to:"/planner",class:normalizeClass(["flex flex-col items-center py-1 px-3 text-sm rounded-lg transition-colors",lr.value==="planner"?"text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400"])},{default:withCtx(()=>cr[3]||(cr[3]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),createBaseVNode("span",null,"Planner",-1)])),_:1,__:[3]},8,["class"])])])])}}},_hoisted_1$2={class:"w-64 flex-shrink-0 h-screen bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-gray-700"},_hoisted_2$1={class:"flex flex-col h-full"},_hoisted_3$1={class:"flex-1 px-4 py-6 space-y-2 overflow-y-auto"},_hoisted_4$1={class:"p-4 border-t border-gray-200 dark:border-gray-700"},_sfc_main$2={__name:"TheSidebar",setup(ar){const or=useRoute(),lr=computed(()=>or.name);return(Ar,cr)=>{const ur=resolveComponent("router-link");return openBlock(),createElementBlock("aside",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[cr[7]||(cr[7]=createBaseVNode("div",{class:"flex items-center space-x-2 px-4 py-3"},[createBaseVNode("img",{src:_imports_0,alt:"Logo",class:"w-8 h-8"}),createBaseVNode("span",{class:"text-lg font-semibold text-primary-600 dark:text-primary-400"},"StudyLoop")],-1)),createBaseVNode("nav",_hoisted_3$1,[createVNode(ur,{to:"/",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="home"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[0]||(cr[0]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),createBaseVNode("span",null,"Dashboard",-1)])),_:1,__:[0]},8,["class"]),createVNode(ur,{to:"/notes",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="notes"||lr.value==="note-editor"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[1]||(cr[1]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),createBaseVNode("span",null,"Apuntes",-1)])),_:1,__:[1]},8,["class"]),createVNode(ur,{to:"/tasks",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="tasks"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[2]||(cr[2]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),createBaseVNode("span",null,"Tareas",-1)])),_:1,__:[2]},8,["class"]),createVNode(ur,{to:"/planner",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="planner"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[3]||(cr[3]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),createBaseVNode("span",null,"Planificador",-1)])),_:1,__:[3]},8,["class"]),createVNode(ur,{to:"/grades",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="grades"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[4]||(cr[4]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),createBaseVNode("span",null,"Calificaciones",-1)])),_:1,__:[4]},8,["class"]),createVNode(ur,{to:"/pdfs",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="pdfs"||lr.value==="pdf-viewer"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[5]||(cr[5]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),createBaseVNode("span",null,"Documentos",-1)])),_:1,__:[5]},8,["class"])]),createBaseVNode("div",_hoisted_4$1,[createVNode(ur,{to:"/settings",class:normalizeClass(["flex items-center px-4 py-3 rounded-lg transition-colors",lr.value==="settings"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"])},{default:withCtx(()=>cr[6]||(cr[6]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),createBaseVNode("span",null,"Configuracin",-1)])),_:1,__:[6]},8,["class"])])])])}}},_hoisted_1$1={key:0,class:"fixed bottom-20 md:bottom-4 right-4 z-50"},_sfc_main$1={__name:"InstallPrompt",setup(ar){const or=ref(null),lr=ref(!1),Ar=dr=>{dr.preventDefault(),or.value=dr,lr.value=!0},cr=async()=>{or.value&&(or.value.prompt(),await or.value.userChoice,or.value=null,lr.value=!1)},ur=()=>{window.matchMedia("(display-mode: standalone)").matches&&(lr.value=!1)};return onMounted(()=>{window.addEventListener("beforeinstallprompt",Ar),ur()}),onBeforeUnmount(()=>{window.removeEventListener("beforeinstallprompt",Ar)}),(dr,hr)=>lr.value?(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("button",{onClick:cr,class:"bg-accent-500 hover:bg-accent-600 text-white font-semibold rounded-lg shadow-lg px-4 py-3 flex items-center transition-colors duration-200"},hr[0]||(hr[0]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),createTextVNode(" Descargar App ")]))])):createCommentVNode("",!0)}},_hoisted_1={class:"min-h-screen flex flex-col md:flex-row transition-colors duration-300"},_hoisted_2={class:"flex-1 flex flex-col"},_hoisted_3={class:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},_hoisted_4={class:"px-4 py-3 flex items-center justify-between"},_hoisted_5={class:"text-xl font-bold text-gray-900 dark:text-white"},_hoisted_6={class:"flex items-center space-x-2"},_hoisted_7={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_hoisted_8={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_hoisted_9={class:"flex-1 overflow-auto p-4 pb-20 md:pb-4"},_sfc_main={__name:"App",setup(ar){const or=useRoute(),lr=useThemeStore(),Ar=computed(()=>({home:"Dashboard",notes:"Apuntes",tasks:"Tareas",planner:"Planificador",grades:"Calificaciones",pdfs:"Documentos",settings:"Configuracin"})[or.name]||"EstudiaPlan");return watch(()=>lr.isDark,cr=>{cr?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},{immediate:!0}),onMounted(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&lr.setDarkMode(!0)}),(cr,ur)=>{const dr=resolveComponent("router-link"),hr=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(_sfc_main$2,{class:"hidden md:flex"}),createBaseVNode("div",_hoisted_2,[createBaseVNode("header",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("h1",_hoisted_5,toDisplayString(Ar.value),1),createBaseVNode("div",_hoisted_6,[createBaseVNode("button",{class:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",onClick:ur[0]||(ur[0]=fr=>unref(lr).toggleDarkMode())},[unref(lr).isDark?(openBlock(),createElementBlock("svg",_hoisted_7,ur[1]||(ur[1]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(openBlock(),createElementBlock("svg",_hoisted_8,ur[2]||(ur[2]=[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))]),createVNode(dr,{to:"/settings",class:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 md:hidden"},{default:withCtx(()=>ur[3]||(ur[3]=[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700 dark:text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])),_:1,__:[3]})])])]),createBaseVNode("main",_hoisted_9,[createVNode(hr,null,{default:withCtx(({Component:fr})=>[createVNode(Transition,{name:"fade",mode:"out-in"},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(fr)))]),_:2},1024)]),_:1})]),createVNode(_sfc_main$3,{class:"md:hidden"})]),createVNode(_sfc_main$1)])}}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/studyloop/sw.js").then(ar=>{console.log("SW registered: ",ar)}).catch(ar=>{console.log("SW registration failed: ",ar)})});const pinia=createPinia(),app=createApp(_sfc_main);app.use(pinia);app.use(router);app.mount("#app");export{_typeof$1 as _,commonjsGlobal as c,getDefaultExportFromCjs as g,requireHtml2canvas as r};
